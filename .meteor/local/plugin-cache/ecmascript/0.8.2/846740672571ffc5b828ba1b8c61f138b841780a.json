{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/zurb:foundation-sites/vendor/modernizr/test/js/unit-caniuse.js","filenameRelative":"packages/zurb:foundation-sites/vendor/modernizr/test/js/unit-caniuse.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/vendor/modernizr/test/js/unit-caniuse.js.map","sourceFileName":"packages/zurb:foundation-sites/vendor/modernizr/test/js/unit-caniuse.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"unit-caniuse"},"ignored":false,"code":"var myscript = document.createElement('script'),\n    ref = document.getElementsByTagName('script')[0];\nmyscript.src = 'http://caniuse.com/jsonp.php?callback=caniusecb';\nsetTimeout(function () {\n  ref.parentNode.insertBefore(myscript, ref);\n}, 100); // mapping Modernizr terms over to caniuse terms\n\nvar map = {\n  audio: 'audio',\n  borderimage: 'border-image',\n  borderradius: 'border-radius',\n  canvas: 'canvas',\n  canvastext: 'canvas-text',\n  cssanimations: 'css-animation',\n  boxshadow: 'css-boxshadow',\n  cssgradients: 'css-gradients',\n  opacity: 'css-opacity',\n  cssreflections: 'css-reflections',\n  textshadow: 'css-textshadow',\n  csstransitions: 'css-transitions',\n  hsla: 'css3-colors',\n  rgba: 'css3-colors',\n  draganddrop: 'dragndrop',\n  flexbox: 'flexbox',\n  fontface: 'fontface',\n  geolocation: 'geolocation',\n  hashchange: 'hashchange',\n  history: 'history',\n  indexeddb: 'indexeddb',\n  multiplebgs: 'multibackgrounds',\n  csscolumns: 'multicolumn',\n  localstorage: 'namevalue-storage',\n  applicationcache: 'offline-apps',\n  websqldatabase: 'sql-storage',\n  svg: 'svg',\n  touch: 'touch',\n  csstransforms: 'transforms2d',\n  csstransforms3d: 'transforms3d',\n  video: 'video',\n  webgl: 'webgl',\n  websockets: 'websockets',\n  webworkers: 'webworkers',\n  postmessage: 'x-doc-messaging'\n};\n\nwindow.caniusecb = function (scriptdata) {\n  window.doo = scriptdata; // quit if JSONSelect didn't make it.\n\n  if (!window.JSONSelect) return;\n  var testdata = scriptdata.data,\n      // parse the current UA with uaparser\n  ua = uaparse(navigator.userAgent),\n      // match the UA from uaparser into the browser used by caniuse\n  browserKey = JSONSelect.match('.agents .browser', scriptdata).indexOf(ua.family),\n      currBrowser = Object.keys(scriptdata.agents)[browserKey]; // So Phantom doesn't kill the caniuse.com matching exit out as it's useless anyway within PhantomJS\n\n  if (navigator.userAgent.indexOf(\"PhantomJS\") != -1) {\n    return;\n  } // translate 'y' 'n' or 'a' into a boolean that Modernizr uses\n\n\n  function bool(ciuresult) {\n    if (ciuresult == 'y' || ciuresult == 'a') return true; // 'p' is for polyfill\n\n    if (ciuresult == 'n' || ciuresult == 'p') return false;\n    throw 'unknown return value from can i use';\n  }\n\n  function testify(o) {\n    var ciubool = bool(o.ciuresult); // caniuse says audio/video are yes/no, Modernizr has more detail which we'll dumb down.\n\n    if (~TEST.audvid.indexOf(o.feature)) o.result = !!o.result; // if caniuse gave us a 'partial', lets let it pass with a note.\n\n    if (o.ciuresult == 'a') {\n      return ok(true, o.browser + o.version + ': Caniuse reported partial support for ' + o.ciufeature + '. So.. Modernizr\\'s ' + o.result + ' is good enough...');\n    } // change the *documented* false positives\n\n\n    if (o.feature == 'textshadow' && o.browser == 'firefox' && o.version == 3 && ciubool == false) {\n      ciubool = o.fp = true;\n    } // where we actually do most our assertions\n\n\n    equal(o.result, ciubool, o.browser + o.version + ': Caniuse result for ' + o.ciufeature + ' matches Modernizr\\'s ' + (o.fp ? '*false positive*' : 'result') + ' for ' + o.feature);\n  }\n\n  module('caniuse.com data matches', {\n    setup: function () {},\n    teardown: function () {}\n  });\n  test(\"we match caniuse data\", function () {\n    for (var feature in meteorBabelHelpers.sanitizeForInObject(Modernizr)) {\n      var ciufeatname = map[feature];\n      if (ciufeatname === undefined) continue;\n      var ciufeatdata = testdata[ciufeatname];\n      if (ciufeatdata === undefined) throw 'unknown key of caniusedata'; // get results for this feature for all versions of this browser\n\n      var browserResults = ciufeatdata.stats[currBrowser]; // let's get our versions in order..\n\n      var minorver = ua.minor && // caniuse doesn't use two digit minors\n      ua.minor.toString().replace(/(\\d)\\d$/, '$1'),\n          // but opera does.\n      majorminor = (ua.major + '.' + minorver). // opera gets grouped in some cases by caniuse\n      replace(/(9\\.(6|5))/, ua.family == 'opera' ? '9.5-9.6' : \"$1\").replace(/(10\\.(0|1))/, ua.family == 'opera' ? '10.0-10.1' : \"$1\"),\n          mmResult = browserResults[majorminor],\n          mResult = browserResults[ua.major]; // check it against the major.minor: eg. FF 3.6\n\n      if (mmResult && mmResult != 'u') {\n        // 'y' 'n' or 'a'\n        // data ends w/ ` x` if its still prefixed in the imp\n        mmResult = mmResult.replace(' x', ''); // match it against our data.\n\n        testify({\n          feature: feature,\n          ciufeature: ciufeatname,\n          result: Modernizr[feature],\n          ciuresult: mmResult,\n          browser: currBrowser,\n          version: majorminor\n        });\n        continue; // don't check the major version\n      } // check it against just the major version: eg. FF 3\n\n\n      if (mResult) {\n        // unknown support from caniuse... He would probably like to know our data, though!\n        if (mResult == 'u') continue; // data ends w/ ` x` if its still prefixed in the imp\n\n        mResult = mResult.replace(' x', '');\n        testify({\n          feature: feature,\n          ciufeature: ciufeatname,\n          result: Modernizr[feature],\n          ciuresult: mResult,\n          browser: currBrowser,\n          version: ua.major\n        });\n      }\n    } // for in loop\n\n  }); // eo test()\n}; // eo caniusecallback()","map":{"version":3,"sources":["packages/zurb:foundation-sites/vendor/modernizr/test/js/unit-caniuse.js"],"names":["myscript","document","createElement","ref","getElementsByTagName","src","setTimeout","parentNode","insertBefore","map","audio","borderimage","borderradius","canvas","canvastext","cssanimations","boxshadow","cssgradients","opacity","cssreflections","textshadow","csstransitions","hsla","rgba","draganddrop","flexbox","fontface","geolocation","hashchange","history","indexeddb","multiplebgs","csscolumns","localstorage","applicationcache","websqldatabase","svg","touch","csstransforms","csstransforms3d","video","webgl","websockets","webworkers","postmessage","window","caniusecb","scriptdata","doo","JSONSelect","testdata","data","ua","uaparse","navigator","userAgent","browserKey","match","indexOf","family","currBrowser","Object","keys","agents","bool","ciuresult","testify","o","ciubool","TEST","audvid","feature","result","ok","browser","version","ciufeature","fp","equal","module","setup","teardown","test","Modernizr","ciufeatname","undefined","ciufeatdata","browserResults","stats","minorver","minor","toString","replace","majorminor","major","mmResult","mResult"],"mappings":"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","file":"packages/zurb:foundation-sites/vendor/modernizr/test/js/unit-caniuse.js.map","sourcesContent":["\n\nvar myscript = document.createElement('script'),\n    ref = document.getElementsByTagName('script')[0];\n\nmyscript.src = 'http://caniuse.com/jsonp.php?callback=caniusecb';\n\nsetTimeout(function(){\n  ref.parentNode.insertBefore(myscript, ref);\n}, 100);\n\n// mapping Modernizr terms over to caniuse terms\nvar map = {\n  audio : 'audio',\n  borderimage : 'border-image',\n  borderradius : 'border-radius',\n  canvas : 'canvas',\n  canvastext : 'canvas-text',\n  cssanimations : 'css-animation',\n  boxshadow : 'css-boxshadow',\n  cssgradients : 'css-gradients',\n  opacity : 'css-opacity',\n  cssreflections : 'css-reflections',\n  textshadow : 'css-textshadow',\n  csstransitions : 'css-transitions',\n  hsla : 'css3-colors',\n  rgba : 'css3-colors',\n  draganddrop : 'dragndrop',\n  flexbox : 'flexbox',\n  fontface : 'fontface',\n  geolocation : 'geolocation',\n  hashchange : 'hashchange',\n  history : 'history',\n  indexeddb : 'indexeddb',\n  multiplebgs : 'multibackgrounds',\n  csscolumns : 'multicolumn',\n  localstorage : 'namevalue-storage',\n  applicationcache : 'offline-apps',\n  websqldatabase : 'sql-storage',\n  svg : 'svg',\n  touch : 'touch',\n  csstransforms : 'transforms2d',\n  csstransforms3d : 'transforms3d',\n  video: 'video',\n  webgl: 'webgl',\n  websockets : 'websockets',\n  webworkers : 'webworkers',\n  postmessage : 'x-doc-messaging'\n};\n\nwindow.caniusecb = function(scriptdata) {\n\n  window.doo = scriptdata;\n\n  // quit if JSONSelect didn't make it.\n  if (!window.JSONSelect) return;\n\n  var testdata     = scriptdata.data,\n\n      // parse the current UA with uaparser\n      ua           = uaparse(navigator.userAgent),\n\n      // match the UA from uaparser into the browser used by caniuse\n      browserKey   = JSONSelect.match('.agents .browser', scriptdata).indexOf(ua.family),\n      currBrowser  = Object.keys(scriptdata.agents)[browserKey];\n\n  // So Phantom doesn't kill the caniuse.com matching exit out as it's useless anyway within PhantomJS\n  if(navigator.userAgent.indexOf(\"PhantomJS\") != -1) {\n    return;\n  }\n\n  // translate 'y' 'n' or 'a' into a boolean that Modernizr uses\n  function bool(ciuresult){\n    if (ciuresult == 'y' || ciuresult == 'a') return true;\n    // 'p' is for polyfill\n    if (ciuresult == 'n' || ciuresult == 'p') return false;\n    throw 'unknown return value from can i use';\n  }\n\n  function testify(o){\n\n    var ciubool = bool(o.ciuresult);\n\n    // caniuse says audio/video are yes/no, Modernizr has more detail which we'll dumb down.\n    if (~TEST.audvid.indexOf(o.feature))\n      o.result = !!o.result;\n\n    // if caniuse gave us a 'partial', lets let it pass with a note.\n    if (o.ciuresult == 'a'){\n      return ok(true,\n        o.browser + o.version + ': Caniuse reported partial support for ' + o.ciufeature +\n        '. So.. Modernizr\\'s ' + o.result + ' is good enough...'\n      );\n    }\n\n\n    // change the *documented* false positives\n    if ((o.feature == 'textshadow' && o.browser == 'firefox' && o.version == 3)\n        && ciubool == false\n    ) {\n      ciubool = o.fp = true;\n    }\n\n    // where we actually do most our assertions\n    equal(o.result, ciubool,\n      o.browser + o.version + ': Caniuse result for ' + o.ciufeature +\n      ' matches Modernizr\\'s ' + (o.fp ? '*false positive*' : 'result') + ' for ' + o.feature\n    );\n  }\n\n\n  module('caniuse.com data matches', {\n      setup:function() {\n      },\n      teardown:function() {\n      }\n  });\n\n\n  test(\"we match caniuse data\", function() {\n\n    for (var feature in Modernizr){\n\n      var ciufeatname = map[feature];\n\n      if (ciufeatname === undefined) continue;\n\n      var ciufeatdata = testdata[ciufeatname];\n\n      if (ciufeatdata === undefined) throw 'unknown key of caniusedata';\n\n      // get results for this feature for all versions of this browser\n      var browserResults = ciufeatdata.stats[currBrowser];\n\n      // let's get our versions in order..\n      var minorver   = ua.minor &&                                  // caniuse doesn't use two digit minors\n                       ua.minor.toString().replace(/(\\d)\\d$/,'$1'), // but opera does.\n\n          majorminor = (ua.major + '.' + minorver)\n                          // opera gets grouped in some cases by caniuse\n                          .replace(/(9\\.(6|5))/ , ua.family == 'opera' ? '9.5-9.6'   : \"$1\")\n                          .replace(/(10\\.(0|1))/, ua.family == 'opera' ? '10.0-10.1' : \"$1\"),\n\n          mmResult   = browserResults[majorminor],\n          mResult    = browserResults[ua.major];\n\n\n      // check it against the major.minor: eg. FF 3.6\n      if (mmResult && mmResult != 'u'){ // 'y' 'n' or 'a'\n\n        // data ends w/ ` x` if its still prefixed in the imp\n        mmResult = mmResult.replace(' x','');\n\n        // match it against our data.\n        testify({ feature     : feature\n                , ciufeature  : ciufeatname\n                , result      : Modernizr[feature]\n                , ciuresult   : mmResult\n                , browser     : currBrowser\n                , version     : majorminor\n        });\n\n        continue; // don't check the major version\n      }\n\n      // check it against just the major version: eg. FF 3\n      if (mResult){\n\n        // unknown support from caniuse... He would probably like to know our data, though!\n        if (mResult == 'u') continue;\n\n        // data ends w/ ` x` if its still prefixed in the imp\n        mResult = mResult.replace(' x','');\n\n        testify({ feature     : feature\n                , ciufeature  : ciufeatname\n                , result      : Modernizr[feature]\n                , ciuresult   : mResult\n                , browser     : currBrowser\n                , version     : ua.major\n        });\n\n\n      }\n\n    } // for in loop\n\n  }); // eo test()\n\n\n}; // eo caniusecallback()\n"]},"hash":"846740672571ffc5b828ba1b8c61f138b841780a"}
