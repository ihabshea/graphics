{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/zurb:foundation-sites/test/javascript/components/magellan.js","filenameRelative":"packages/zurb:foundation-sites/test/javascript/components/magellan.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/test/javascript/components/magellan.js.map","sourceFileName":"packages/zurb:foundation-sites/test/javascript/components/magellan.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"magellan"},"ignored":false,"code":"describe('Magellan', function () {\n  var plugin;\n  var $html, $content;\n\n  var generateUl = function (count) {\n    var html = '';\n    html += '<ul class=\"vertical-menu\">';\n\n    for (var c = 0; c < count; c++) {\n      html += '<li><a href=\"#target-' + c + '\">Section ' + c + '</a></li>';\n    }\n\n    html += '</ul>';\n    return html;\n  };\n\n  var generateContent = function (count) {\n    var html = '';\n    html += '<div>';\n\n    for (var c = 0; c < count; c++) {\n      html += '<div id=\"target-' + c + '\" style=\"height: 1000px\";>Section ' + c + '</div>';\n    }\n\n    html += '</div>';\n    return html;\n  };\n\n  afterEach(function () {\n    plugin.destroy();\n    $html.remove();\n    $content.remove();\n  }); // afterEach(function() {\n  // \tplugin.destroy();\n  // \t$html.remove();\n  // });\n\n  describe('constructor()', function () {// it('', function() {\n    // \t$html = $('').appendTo('body');\n    // \tplugin = new Foundation.Magellan($html, {});\n    // \tplugin.$element.should.be.an('object');\n    // \tplugin.options.should.be.an('object');\n    // });\n  });\n  describe('scrollToLoc()', function () {\n    it('scrolls the selected element into viewport', function (done) {\n      var count = 5,\n          duration = 200;\n      $html = $(generateUl(count)).appendTo('body');\n      $content = $(generateContent(count)).appendTo('body');\n      plugin = new Foundation.Magellan($html, {\n        animationDuration: duration\n      }); // Jump to last section\n\n      var target = $html.find('a').eq(-1).attr('href');\n      plugin.scrollToLoc(target); // The `update` event doesn't work properly because it fires too often\n\n      setTimeout(function () {\n        var isInViewport = false;\n\n        if ($content.find('div').eq(-1).offset().top > $('body').scrollTop() && $content.offset().top < $('body').scrollTop() + $('body').innerHeight()) {\n          isInViewport = true;\n        }\n\n        isInViewport.should.equal(true);\n        done();\n      }, duration);\n    });\n    it('fails gracefully when target does not exist', function () {\n      var count = 5,\n          duration = 200;\n      $html = $(generateUl(count)).appendTo('body');\n      $content = $(generateContent(count - 1)).appendTo('body');\n      plugin = new Foundation.Magellan($html, {\n        animationDuration: duration\n      });\n      var hasError = false;\n\n      try {\n        var target = $html.find('a').eq(-1).attr('href');\n        plugin.scrollToLoc(target);\n      } catch (err) {\n        hasError = true;\n      }\n\n      hasError.should.equal(false);\n    });\n  });\n});","map":{"version":3,"sources":["packages/zurb:foundation-sites/test/javascript/components/magellan.js"],"names":["describe","plugin","$html","$content","generateUl","count","html","c","generateContent","afterEach","destroy","remove","it","done","duration","$","appendTo","Foundation","Magellan","animationDuration","target","find","eq","attr","scrollToLoc","setTimeout","isInViewport","offset","top","scrollTop","innerHeight","should","equal","hasError","err"],"mappings":"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","file":"packages/zurb:foundation-sites/test/javascript/components/magellan.js.map","sourcesContent":["describe('Magellan', function() {\n\tvar plugin;\n\tvar $html, $content; \t\n\n  var generateUl = function(count) {\n  \tvar html = '';\n  \thtml += '<ul class=\"vertical-menu\">';\n  \tfor (var c = 0; c < count; c++) {\n  \t\thtml += '<li><a href=\"#target-' + c + '\">Section ' + c + '</a></li>';\n  \t}\n  \thtml += '</ul>';\n  \treturn html;\n  };\n  var generateContent = function(count) {\n  \tvar html = '';\n  \thtml += '<div>';\n  \tfor (var c = 0; c < count; c++) {\n  \t\thtml += '<div id=\"target-' + c + '\" style=\"height: 1000px\";>Section ' + c + '</div>';\n  \t}\n  \thtml += '</div>';\n  \treturn html;\n  };\n\n  afterEach(function() {\n    plugin.destroy();\n    $html.remove();\n    $content.remove();\n  });\n\n\t// afterEach(function() {\n\t// \tplugin.destroy();\n\t// \t$html.remove();\n\t// });\n\n\tdescribe('constructor()', function() {\n\t\t// it('', function() {\n\t\t// \t$html = $('').appendTo('body');\n\t\t// \tplugin = new Foundation.Magellan($html, {});\n\n\t\t// \tplugin.$element.should.be.an('object');\n\t\t// \tplugin.options.should.be.an('object');\n\t\t// });\n\t});\n\n\n\tdescribe('scrollToLoc()', function() {\n    it('scrolls the selected element into viewport', function(done) {\n    \tvar count = 5, duration = 200;\n      $html = $(generateUl(count)).appendTo('body');\n      $content = $(generateContent(count)).appendTo('body');\n      plugin = new Foundation.Magellan($html, {\n      \tanimationDuration: duration\n      });\n\n\n\n      // Jump to last section\n      var target = $html.find('a').eq(-1).attr('href');\n      plugin.scrollToLoc(target);      \n\n      // The `update` event doesn't work properly because it fires too often\n      setTimeout(function() {\n      \tvar isInViewport = false;\n      \tif ($content.find('div').eq(-1).offset().top > $('body').scrollTop() && $content.offset().top < $('body').scrollTop() + $('body').innerHeight()) {\n      \t\tisInViewport = true;\n      \t}\n      \tisInViewport.should.equal(true);\n      \tdone();\n      }, duration);\n\n    });\n\n\n    it('fails gracefully when target does not exist', function() {\n    \tvar count = 5, duration = 200;\n      $html = $(generateUl(count)).appendTo('body');\n      $content = $(generateContent(count - 1)).appendTo('body');\n      plugin = new Foundation.Magellan($html, {\n      \tanimationDuration: duration\n      });\n\n      var hasError = false;\n      try {\n\t\t\t\tvar target = $html.find('a').eq(-1).attr('href');\n\t      plugin.scrollToLoc(target); \n      } catch (err) {\n      \thasError = true;\n      }\n      hasError.should.equal(false);\n      \n    });\n\n  });\n\n});"]},"hash":"2cc2ec00f3ccb99f8e5bb2d587d947f223f58019"}
