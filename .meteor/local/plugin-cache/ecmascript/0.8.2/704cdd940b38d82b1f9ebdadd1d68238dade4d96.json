{"metadata":{"usedHelpers":["typeof","interopRequireDefault"],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/zurb:foundation-sites/vendor/modernizr/test/qunit/qunit.js","filenameRelative":"packages/zurb:foundation-sites/vendor/modernizr/test/qunit/qunit.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/vendor/modernizr/test/qunit/qunit.js.map","sourceFileName":"packages/zurb:foundation-sites/vendor/modernizr/test/qunit/qunit.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"qunit"},"ignored":false,"code":"var _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * QUnit v1.9.0 - A JavaScript Unit Testing Framework\n *\n * http://docs.jquery.com/QUnit\n *\n * Copyright (c) 2012 John Resig, Jörn Zaefferer\n * Dual licensed under the MIT (MIT-LICENSE.txt)\n * or GPL (GPL-LICENSE.txt) licenses.\n */(function (window) {\n\tvar QUnit,\n\t    config,\n\t    onErrorFnPrev,\n\t    testId = 0,\n\t    fileName = (sourceFromStacktrace(0) || \"\").replace(/(:\\d+)+\\)?/, \"\").replace(/.+\\//, \"\"),\n\t    toString = Object.prototype.toString,\n\t    hasOwn = Object.prototype.hasOwnProperty,\n\t    defined = {\n\t\tsetTimeout: typeof window.setTimeout !== \"undefined\",\n\t\tsessionStorage: function () {\n\t\t\tvar x = \"qunit-test-string\";\n\n\t\t\ttry {\n\t\t\t\tsessionStorage.setItem(x, x);\n\t\t\t\tsessionStorage.removeItem(x);\n\t\t\t\treturn true;\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}()\n\t};\n\n\tfunction Test(settings) {\n\t\textend(this, settings);\n\t\tthis.assertions = [];\n\t\tthis.testNumber = ++Test.count;\n\t}\n\n\tTest.count = 0;\n\tTest.prototype = {\n\t\tinit: function () {\n\t\t\tvar a,\n\t\t\t    b,\n\t\t\t    li,\n\t\t\t    tests = id(\"qunit-tests\");\n\n\t\t\tif (tests) {\n\t\t\t\tb = document.createElement(\"strong\");\n\t\t\t\tb.innerHTML = this.name; // `a` initialized at top of scope\n\n\t\t\t\ta = document.createElement(\"a\");\n\t\t\t\ta.innerHTML = \"Rerun\";\n\t\t\t\ta.href = QUnit.url({\n\t\t\t\t\ttestNumber: this.testNumber\n\t\t\t\t});\n\t\t\t\tli = document.createElement(\"li\");\n\t\t\t\tli.appendChild(b);\n\t\t\t\tli.appendChild(a);\n\t\t\t\tli.className = \"running\";\n\t\t\t\tli.id = this.id = \"qunit-test-output\" + testId++;\n\t\t\t\ttests.appendChild(li);\n\t\t\t}\n\t\t},\n\t\tsetup: function () {\n\t\t\tif (this.module !== config.previousModule) {\n\t\t\t\tif (config.previousModule) {\n\t\t\t\t\trunLoggingCallbacks(\"moduleDone\", QUnit, {\n\t\t\t\t\t\tname: config.previousModule,\n\t\t\t\t\t\tfailed: config.moduleStats.bad,\n\t\t\t\t\t\tpassed: config.moduleStats.all - config.moduleStats.bad,\n\t\t\t\t\t\ttotal: config.moduleStats.all\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tconfig.previousModule = this.module;\n\t\t\t\tconfig.moduleStats = {\n\t\t\t\t\tall: 0,\n\t\t\t\t\tbad: 0\n\t\t\t\t};\n\t\t\t\trunLoggingCallbacks(\"moduleStart\", QUnit, {\n\t\t\t\t\tname: this.module\n\t\t\t\t});\n\t\t\t} else if (config.autorun) {\n\t\t\t\trunLoggingCallbacks(\"moduleStart\", QUnit, {\n\t\t\t\t\tname: this.module\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconfig.current = this;\n\t\t\tthis.testEnvironment = extend({\n\t\t\t\tsetup: function () {},\n\t\t\t\tteardown: function () {}\n\t\t\t}, this.moduleTestEnvironment);\n\t\t\trunLoggingCallbacks(\"testStart\", QUnit, {\n\t\t\t\tname: this.testName,\n\t\t\t\tmodule: this.module\n\t\t\t}); // allow utility functions to access the current test environment\n\t\t\t// TODO why??\n\n\t\t\tQUnit.current_testEnvironment = this.testEnvironment;\n\n\t\t\tif (!config.pollution) {\n\t\t\t\tsaveGlobal();\n\t\t\t}\n\n\t\t\tif (config.notrycatch) {\n\t\t\t\tthis.testEnvironment.setup.call(this.testEnvironment);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tthis.testEnvironment.setup.call(this.testEnvironment);\n\t\t\t} catch (e) {\n\t\t\t\tQUnit.pushFailure(\"Setup failed on \" + this.testName + \": \" + e.message, extractStacktrace(e, 1));\n\t\t\t}\n\t\t},\n\t\trun: function () {\n\t\t\tconfig.current = this;\n\t\t\tvar running = id(\"qunit-testresult\");\n\n\t\t\tif (running) {\n\t\t\t\trunning.innerHTML = \"Running: <br/>\" + this.name;\n\t\t\t}\n\n\t\t\tif (this.async) {\n\t\t\t\tQUnit.stop();\n\t\t\t}\n\n\t\t\tif (config.notrycatch) {\n\t\t\t\tthis.callback.call(this.testEnvironment, QUnit.assert);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tthis.callback.call(this.testEnvironment, QUnit.assert);\n\t\t\t} catch (e) {\n\t\t\t\tQUnit.pushFailure(\"Died on test #\" + (this.assertions.length + 1) + \" \" + this.stack + \": \" + e.message, extractStacktrace(e, 0)); // else next test will carry the responsibility\n\n\t\t\t\tsaveGlobal(); // Restart the tests if they're blocking\n\n\t\t\t\tif (config.blocking) {\n\t\t\t\t\tQUnit.start();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tteardown: function () {\n\t\t\tconfig.current = this;\n\n\t\t\tif (config.notrycatch) {\n\t\t\t\tthis.testEnvironment.teardown.call(this.testEnvironment);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tthis.testEnvironment.teardown.call(this.testEnvironment);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tQUnit.pushFailure(\"Teardown failed on \" + this.testName + \": \" + e.message, extractStacktrace(e, 1));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcheckPollution();\n\t\t},\n\t\tfinish: function () {\n\t\t\tconfig.current = this;\n\n\t\t\tif (config.requireExpects && this.expected == null) {\n\t\t\t\tQUnit.pushFailure(\"Expected number of assertions to be defined, but expect() was not called.\", this.stack);\n\t\t\t} else if (this.expected != null && this.expected != this.assertions.length) {\n\t\t\t\tQUnit.pushFailure(\"Expected \" + this.expected + \" assertions, but \" + this.assertions.length + \" were run\", this.stack);\n\t\t\t} else if (this.expected == null && !this.assertions.length) {\n\t\t\t\tQUnit.pushFailure(\"Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.\", this.stack);\n\t\t\t}\n\n\t\t\tvar assertion,\n\t\t\t    a,\n\t\t\t    b,\n\t\t\t    i,\n\t\t\t    li,\n\t\t\t    ol,\n\t\t\t    test = this,\n\t\t\t    good = 0,\n\t\t\t    bad = 0,\n\t\t\t    tests = id(\"qunit-tests\");\n\t\t\tconfig.stats.all += this.assertions.length;\n\t\t\tconfig.moduleStats.all += this.assertions.length;\n\n\t\t\tif (tests) {\n\t\t\t\tol = document.createElement(\"ol\");\n\n\t\t\t\tfor (i = 0; i < this.assertions.length; i++) {\n\t\t\t\t\tassertion = this.assertions[i];\n\t\t\t\t\tli = document.createElement(\"li\");\n\t\t\t\t\tli.className = assertion.result ? \"pass\" : \"fail\";\n\t\t\t\t\tli.innerHTML = assertion.message || (assertion.result ? \"okay\" : \"failed\");\n\t\t\t\t\tol.appendChild(li);\n\n\t\t\t\t\tif (assertion.result) {\n\t\t\t\t\t\tgood++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbad++;\n\t\t\t\t\t\tconfig.stats.bad++;\n\t\t\t\t\t\tconfig.moduleStats.bad++;\n\t\t\t\t\t}\n\t\t\t\t} // store result when possible\n\n\n\t\t\t\tif (QUnit.config.reorder && defined.sessionStorage) {\n\t\t\t\t\tif (bad) {\n\t\t\t\t\t\tsessionStorage.setItem(\"qunit-test-\" + this.module + \"-\" + this.testName, bad);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsessionStorage.removeItem(\"qunit-test-\" + this.module + \"-\" + this.testName);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (bad === 0) {\n\t\t\t\t\tol.style.display = \"none\";\n\t\t\t\t} // `b` initialized at top of scope\n\n\n\t\t\t\tb = document.createElement(\"strong\");\n\t\t\t\tb.innerHTML = this.name + \" <b class='counts'>(<b class='failed'>\" + bad + \"</b>, <b class='passed'>\" + good + \"</b>, \" + this.assertions.length + \")</b>\";\n\t\t\t\taddEvent(b, \"click\", function () {\n\t\t\t\t\tvar next = b.nextSibling.nextSibling,\n\t\t\t\t\t    display = next.style.display;\n\t\t\t\t\tnext.style.display = display === \"none\" ? \"block\" : \"none\";\n\t\t\t\t});\n\t\t\t\taddEvent(b, \"dblclick\", function (e) {\n\t\t\t\t\tvar target = e && e.target ? e.target : window.event.srcElement;\n\n\t\t\t\t\tif (target.nodeName.toLowerCase() == \"span\" || target.nodeName.toLowerCase() == \"b\") {\n\t\t\t\t\t\ttarget = target.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (window.location && target.nodeName.toLowerCase() === \"strong\") {\n\t\t\t\t\t\twindow.location = QUnit.url({\n\t\t\t\t\t\t\ttestNumber: test.testNumber\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}); // `li` initialized at top of scope\n\n\t\t\t\tli = id(this.id);\n\t\t\t\tli.className = bad ? \"fail\" : \"pass\";\n\t\t\t\tli.removeChild(li.firstChild);\n\t\t\t\ta = li.firstChild;\n\t\t\t\tli.appendChild(b);\n\t\t\t\tli.appendChild(a);\n\t\t\t\tli.appendChild(ol);\n\t\t\t} else {\n\t\t\t\tfor (i = 0; i < this.assertions.length; i++) {\n\t\t\t\t\tif (!this.assertions[i].result) {\n\t\t\t\t\t\tbad++;\n\t\t\t\t\t\tconfig.stats.bad++;\n\t\t\t\t\t\tconfig.moduleStats.bad++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trunLoggingCallbacks(\"testDone\", QUnit, {\n\t\t\t\tname: this.testName,\n\t\t\t\tmodule: this.module,\n\t\t\t\tfailed: bad,\n\t\t\t\tpassed: this.assertions.length - bad,\n\t\t\t\ttotal: this.assertions.length\n\t\t\t});\n\t\t\tQUnit.reset();\n\t\t\tconfig.current = undefined;\n\t\t},\n\t\tqueue: function () {\n\t\t\tvar bad,\n\t\t\t    test = this;\n\t\t\tsynchronize(function () {\n\t\t\t\ttest.init();\n\t\t\t});\n\n\t\t\tfunction run() {\n\t\t\t\t// each of these can by async\n\t\t\t\tsynchronize(function () {\n\t\t\t\t\ttest.setup();\n\t\t\t\t});\n\t\t\t\tsynchronize(function () {\n\t\t\t\t\ttest.run();\n\t\t\t\t});\n\t\t\t\tsynchronize(function () {\n\t\t\t\t\ttest.teardown();\n\t\t\t\t});\n\t\t\t\tsynchronize(function () {\n\t\t\t\t\ttest.finish();\n\t\t\t\t});\n\t\t\t} // `bad` initialized at top of scope\n\t\t\t// defer when previous test run passed, if storage is available\n\n\n\t\t\tbad = QUnit.config.reorder && defined.sessionStorage && +sessionStorage.getItem(\"qunit-test-\" + this.module + \"-\" + this.testName);\n\n\t\t\tif (bad) {\n\t\t\t\trun();\n\t\t\t} else {\n\t\t\t\tsynchronize(run, true);\n\t\t\t}\n\t\t}\n\t}; // Root QUnit object.\n\t// `QUnit` initialized at top of scope\n\n\tQUnit = {\n\t\t// call on start of module test to prepend name to all tests\n\t\tmodule: function (name, testEnvironment) {\n\t\t\tconfig.currentModule = name;\n\t\t\tconfig.currentModuleTestEnviroment = testEnvironment;\n\t\t},\n\t\tasyncTest: function (testName, expected, callback) {\n\t\t\tif (arguments.length === 2) {\n\t\t\t\tcallback = expected;\n\t\t\t\texpected = null;\n\t\t\t}\n\n\t\t\tQUnit.test(testName, expected, callback, true);\n\t\t},\n\t\ttest: function (testName, expected, callback, async) {\n\t\t\tvar test,\n\t\t\t    name = \"<span class='test-name'>\" + escapeInnerText(testName) + \"</span>\";\n\n\t\t\tif (arguments.length === 2) {\n\t\t\t\tcallback = expected;\n\t\t\t\texpected = null;\n\t\t\t}\n\n\t\t\tif (config.currentModule) {\n\t\t\t\tname = \"<span class='module-name'>\" + config.currentModule + \"</span>: \" + name;\n\t\t\t}\n\n\t\t\ttest = new Test({\n\t\t\t\tname: name,\n\t\t\t\ttestName: testName,\n\t\t\t\texpected: expected,\n\t\t\t\tasync: async,\n\t\t\t\tcallback: callback,\n\t\t\t\tmodule: config.currentModule,\n\t\t\t\tmoduleTestEnvironment: config.currentModuleTestEnviroment,\n\t\t\t\tstack: sourceFromStacktrace(2)\n\t\t\t});\n\n\t\t\tif (!validTest(test)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttest.queue();\n\t\t},\n\t\t// Specify the number of expected assertions to gurantee that failed test (no assertions are run at all) don't slip through.\n\t\texpect: function (asserts) {\n\t\t\tconfig.current.expected = asserts;\n\t\t},\n\t\tstart: function (count) {\n\t\t\tconfig.semaphore -= count || 1; // don't start until equal number of stop-calls\n\n\t\t\tif (config.semaphore > 0) {\n\t\t\t\treturn;\n\t\t\t} // ignore if start is called more often then stop\n\n\n\t\t\tif (config.semaphore < 0) {\n\t\t\t\tconfig.semaphore = 0;\n\t\t\t} // A slight delay, to avoid any current callbacks\n\n\n\t\t\tif (defined.setTimeout) {\n\t\t\t\twindow.setTimeout(function () {\n\t\t\t\t\tif (config.semaphore > 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (config.timeout) {\n\t\t\t\t\t\tclearTimeout(config.timeout);\n\t\t\t\t\t}\n\n\t\t\t\t\tconfig.blocking = false;\n\t\t\t\t\tprocess(true);\n\t\t\t\t}, 13);\n\t\t\t} else {\n\t\t\t\tconfig.blocking = false;\n\t\t\t\tprocess(true);\n\t\t\t}\n\t\t},\n\t\tstop: function (count) {\n\t\t\tconfig.semaphore += count || 1;\n\t\t\tconfig.blocking = true;\n\n\t\t\tif (config.testTimeout && defined.setTimeout) {\n\t\t\t\tclearTimeout(config.timeout);\n\t\t\t\tconfig.timeout = window.setTimeout(function () {\n\t\t\t\t\tQUnit.ok(false, \"Test timed out\");\n\t\t\t\t\tconfig.semaphore = 1;\n\t\t\t\t\tQUnit.start();\n\t\t\t\t}, config.testTimeout);\n\t\t\t}\n\t\t}\n\t}; // Asssert helpers\n\t// All of these must call either QUnit.push() or manually do:\n\t// - runLoggingCallbacks( \"log\", .. );\n\t// - config.current.assertions.push({ .. });\n\n\tQUnit.assert = {\n\t\t/**\n   * Asserts rough true-ish result.\n   * @name ok\n   * @function\n   * @example ok( \"asdfasdf\".length > 5, \"There must be at least 5 chars\" );\n   */ok: function (result, msg) {\n\t\t\tif (!config.current) {\n\t\t\t\tthrow new Error(\"ok() assertion outside test context, was \" + sourceFromStacktrace(2));\n\t\t\t}\n\n\t\t\tresult = !!result;\n\t\t\tvar source,\n\t\t\t    details = {\n\t\t\t\tresult: result,\n\t\t\t\tmessage: msg\n\t\t\t};\n\t\t\tmsg = escapeInnerText(msg || (result ? \"okay\" : \"failed\"));\n\t\t\tmsg = \"<span class='test-message'>\" + msg + \"</span>\";\n\n\t\t\tif (!result) {\n\t\t\t\tsource = sourceFromStacktrace(2);\n\n\t\t\t\tif (source) {\n\t\t\t\t\tdetails.source = source;\n\t\t\t\t\tmsg += \"<table><tr class='test-source'><th>Source: </th><td><pre>\" + escapeInnerText(source) + \"</pre></td></tr></table>\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trunLoggingCallbacks(\"log\", QUnit, details);\n\t\t\tconfig.current.assertions.push({\n\t\t\t\tresult: result,\n\t\t\t\tmessage: msg\n\t\t\t});\n\t\t},\n\t\t/**\n   * Assert that the first two arguments are equal, with an optional message.\n   * Prints out both actual and expected values.\n   * @name equal\n   * @function\n   * @example equal( format( \"Received {0} bytes.\", 2), \"Received 2 bytes.\", \"format() replaces {0} with next argument\" );\n   */equal: function (actual, expected, message) {\n\t\t\tQUnit.push(expected == actual, actual, expected, message);\n\t\t},\n\t\t/**\n   * @name notEqual\n   * @function\n   */notEqual: function (actual, expected, message) {\n\t\t\tQUnit.push(expected != actual, actual, expected, message);\n\t\t},\n\t\t/**\n   * @name deepEqual\n   * @function\n   */deepEqual: function (actual, expected, message) {\n\t\t\tQUnit.push(QUnit.equiv(actual, expected), actual, expected, message);\n\t\t},\n\t\t/**\n   * @name notDeepEqual\n   * @function\n   */notDeepEqual: function (actual, expected, message) {\n\t\t\tQUnit.push(!QUnit.equiv(actual, expected), actual, expected, message);\n\t\t},\n\t\t/**\n   * @name strictEqual\n   * @function\n   */strictEqual: function (actual, expected, message) {\n\t\t\tQUnit.push(expected === actual, actual, expected, message);\n\t\t},\n\t\t/**\n   * @name notStrictEqual\n   * @function\n   */notStrictEqual: function (actual, expected, message) {\n\t\t\tQUnit.push(expected !== actual, actual, expected, message);\n\t\t},\n\t\tthrows: function (block, expected, message) {\n\t\t\tvar actual,\n\t\t\t    ok = false; // 'expected' is optional\n\n\t\t\tif (typeof expected === \"string\") {\n\t\t\t\tmessage = expected;\n\t\t\t\texpected = null;\n\t\t\t}\n\n\t\t\tconfig.current.ignoreGlobalErrors = true;\n\n\t\t\ttry {\n\t\t\t\tblock.call(config.current.testEnvironment);\n\t\t\t} catch (e) {\n\t\t\t\tactual = e;\n\t\t\t}\n\n\t\t\tconfig.current.ignoreGlobalErrors = false;\n\n\t\t\tif (actual) {\n\t\t\t\t// we don't want to validate thrown error\n\t\t\t\tif (!expected) {\n\t\t\t\t\tok = true; // expected is a regexp\n\t\t\t\t} else if (QUnit.objectType(expected) === \"regexp\") {\n\t\t\t\t\tok = expected.test(actual); // expected is a constructor\n\t\t\t\t} else if (actual instanceof expected) {\n\t\t\t\t\tok = true; // expected is a validation function which returns true is validation passed\n\t\t\t\t} else if (expected.call({}, actual) === true) {\n\t\t\t\t\tok = true;\n\t\t\t\t}\n\n\t\t\t\tQUnit.push(ok, actual, null, message);\n\t\t\t} else {\n\t\t\t\tQUnit.pushFailure(message, null, 'No exception was thrown.');\n\t\t\t}\n\t\t}\n\t}; /**\n     * @deprecate since 1.8.0\n     * Kept assertion helpers in root for backwards compatibility\n     */\n\textend(QUnit, QUnit.assert); /**\n                               * @deprecated since 1.9.0\n                               * Kept global \"raises()\" for backwards compatibility\n                               */\n\tQUnit.raises = QUnit.assert.throws; /**\n                                      * @deprecated since 1.0.0, replaced with error pushes since 1.3.0\n                                      * Kept to avoid TypeErrors for undefined methods.\n                                      */\n\n\tQUnit.equals = function () {\n\t\tQUnit.push(false, false, false, \"QUnit.equals has been deprecated since 2009 (e88049a0), use QUnit.equal instead\");\n\t};\n\n\tQUnit.same = function () {\n\t\tQUnit.push(false, false, false, \"QUnit.same has been deprecated since 2009 (e88049a0), use QUnit.deepEqual instead\");\n\t}; // We want access to the constructor's prototype\n\n\n\t(function () {\n\t\tfunction F() {}\n\n\t\tF.prototype = QUnit;\n\t\tQUnit = new F(); // Make F QUnit's constructor so that we can add to the prototype later\n\n\t\tQUnit.constructor = F;\n\t})(); /**\n        * Config object: Maintain internal state\n        * Later exposed as QUnit.config\n        * `config` initialized at top of scope\n        */\n\n\tconfig = {\n\t\t// The queue of tests to run\n\t\tqueue: [],\n\t\t// block until document ready\n\t\tblocking: true,\n\t\t// when enabled, show only failing tests\n\t\t// gets persisted through sessionStorage and can be changed in UI via checkbox\n\t\thidepassed: false,\n\t\t// by default, run previously failed tests first\n\t\t// very useful in combination with \"Hide passed tests\" checked\n\t\treorder: true,\n\t\t// by default, modify document.title when suite is done\n\t\taltertitle: true,\n\t\t// when enabled, all tests must call expect()\n\t\trequireExpects: false,\n\t\t// add checkboxes that are persisted in the query-string\n\t\t// when enabled, the id is set to `true` as a `QUnit.config` property\n\t\turlConfig: [{\n\t\t\tid: \"noglobals\",\n\t\t\tlabel: \"Check for Globals\",\n\t\t\ttooltip: \"Enabling this will test if any test introduces new properties on the `window` object. Stored as query-strings.\"\n\t\t}, {\n\t\t\tid: \"notrycatch\",\n\t\t\tlabel: \"No try-catch\",\n\t\t\ttooltip: \"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings.\"\n\t\t}],\n\t\t// logging callback queues\n\t\tbegin: [],\n\t\tdone: [],\n\t\tlog: [],\n\t\ttestStart: [],\n\t\ttestDone: [],\n\t\tmoduleStart: [],\n\t\tmoduleDone: []\n\t}; // Initialize more QUnit.config and QUnit.urlParams\n\n\t(function () {\n\t\tvar i,\n\t\t    location = window.location || {\n\t\t\tsearch: \"\",\n\t\t\tprotocol: \"file:\"\n\t\t},\n\t\t    params = location.search.slice(1).split(\"&\"),\n\t\t    length = params.length,\n\t\t    urlParams = {},\n\t\t    current;\n\n\t\tif (params[0]) {\n\t\t\tfor (i = 0; i < length; i++) {\n\t\t\t\tcurrent = params[i].split(\"=\");\n\t\t\t\tcurrent[0] = decodeURIComponent(current[0]); // allow just a key to turn on a flag, e.g., test.html?noglobals\n\n\t\t\t\tcurrent[1] = current[1] ? decodeURIComponent(current[1]) : true;\n\t\t\t\turlParams[current[0]] = current[1];\n\t\t\t}\n\t\t}\n\n\t\tQUnit.urlParams = urlParams; // String search anywhere in moduleName+testName\n\n\t\tconfig.filter = urlParams.filter; // Exact match of the module name\n\n\t\tconfig.module = urlParams.module;\n\t\tconfig.testNumber = parseInt(urlParams.testNumber, 10) || null; // Figure out if we're running the tests from a server or not\n\n\t\tQUnit.isLocal = location.protocol === \"file:\";\n\t})(); // Export global variables, unless an 'exports' object exists,\n\t// in that case we assume we're in CommonJS (dealt with on the bottom of the script)\n\n\n\tif (typeof exports === \"undefined\") {\n\t\textend(window, QUnit); // Expose QUnit object\n\n\t\twindow.QUnit = QUnit;\n\t} // Extend QUnit object,\n\t// these after set here because they should not be exposed as global functions\n\n\n\textend(QUnit, {\n\t\tconfig: config,\n\t\t// Initialize the configuration options\n\t\tinit: function () {\n\t\t\textend(config, {\n\t\t\t\tstats: {\n\t\t\t\t\tall: 0,\n\t\t\t\t\tbad: 0\n\t\t\t\t},\n\t\t\t\tmoduleStats: {\n\t\t\t\t\tall: 0,\n\t\t\t\t\tbad: 0\n\t\t\t\t},\n\t\t\t\tstarted: +new Date(),\n\t\t\t\tupdateRate: 1000,\n\t\t\t\tblocking: false,\n\t\t\t\tautostart: true,\n\t\t\t\tautorun: false,\n\t\t\t\tfilter: \"\",\n\t\t\t\tqueue: [],\n\t\t\t\tsemaphore: 0\n\t\t\t});\n\t\t\tvar tests,\n\t\t\t    banner,\n\t\t\t    result,\n\t\t\t    qunit = id(\"qunit\");\n\n\t\t\tif (qunit) {\n\t\t\t\tqunit.innerHTML = \"<h1 id='qunit-header'>\" + escapeInnerText(document.title) + \"</h1>\" + \"<h2 id='qunit-banner'></h2>\" + \"<div id='qunit-testrunner-toolbar'></div>\" + \"<h2 id='qunit-userAgent'></h2>\" + \"<ol id='qunit-tests'></ol>\";\n\t\t\t}\n\n\t\t\ttests = id(\"qunit-tests\");\n\t\t\tbanner = id(\"qunit-banner\");\n\t\t\tresult = id(\"qunit-testresult\");\n\n\t\t\tif (tests) {\n\t\t\t\ttests.innerHTML = \"\";\n\t\t\t}\n\n\t\t\tif (banner) {\n\t\t\t\tbanner.className = \"\";\n\t\t\t}\n\n\t\t\tif (result) {\n\t\t\t\tresult.parentNode.removeChild(result);\n\t\t\t}\n\n\t\t\tif (tests) {\n\t\t\t\tresult = document.createElement(\"p\");\n\t\t\t\tresult.id = \"qunit-testresult\";\n\t\t\t\tresult.className = \"result\";\n\t\t\t\ttests.parentNode.insertBefore(result, tests);\n\t\t\t\tresult.innerHTML = \"Running...<br/>&nbsp;\";\n\t\t\t}\n\t\t},\n\t\t// Resets the test setup. Useful for tests that modify the DOM.\n\t\t// If jQuery is available, uses jQuery's html(), otherwise just innerHTML.\n\t\treset: function () {\n\t\t\tvar fixture;\n\n\t\t\tif (window.jQuery) {\n\t\t\t\tjQuery(\"#qunit-fixture\").html(config.fixture);\n\t\t\t} else {\n\t\t\t\tfixture = id(\"qunit-fixture\");\n\n\t\t\t\tif (fixture) {\n\t\t\t\t\tfixture.innerHTML = config.fixture;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// Trigger an event on an element.\n\t\t// @example triggerEvent( document.body, \"click\" );\n\t\ttriggerEvent: function (elem, type, event) {\n\t\t\tif (document.createEvent) {\n\t\t\t\tevent = document.createEvent(\"MouseEvents\");\n\t\t\t\tevent.initMouseEvent(type, true, true, elem.ownerDocument.defaultView, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\t\t\t\telem.dispatchEvent(event);\n\t\t\t} else if (elem.fireEvent) {\n\t\t\t\telem.fireEvent(\"on\" + type);\n\t\t\t}\n\t\t},\n\t\t// Safe object type checking\n\t\tis: function (type, obj) {\n\t\t\treturn QUnit.objectType(obj) == type;\n\t\t},\n\t\tobjectType: function (obj) {\n\t\t\tif (typeof obj === \"undefined\") {\n\t\t\t\treturn \"undefined\"; // consider: typeof null === object\n\t\t\t}\n\n\t\t\tif (obj === null) {\n\t\t\t\treturn \"null\";\n\t\t\t}\n\n\t\t\tvar type = toString.call(obj).match(/^\\[object\\s(.*)\\]$/)[1] || \"\";\n\n\t\t\tswitch (type) {\n\t\t\t\tcase \"Number\":\n\t\t\t\t\tif (isNaN(obj)) {\n\t\t\t\t\t\treturn \"nan\";\n\t\t\t\t\t}\n\n\t\t\t\t\treturn \"number\";\n\n\t\t\t\tcase \"String\":\n\t\t\t\tcase \"Boolean\":\n\t\t\t\tcase \"Array\":\n\t\t\t\tcase \"Date\":\n\t\t\t\tcase \"RegExp\":\n\t\t\t\tcase \"Function\":\n\t\t\t\t\treturn type.toLowerCase();\n\t\t\t}\n\n\t\t\tif ((typeof obj === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(obj)) === \"object\") {\n\t\t\t\treturn \"object\";\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t},\n\t\tpush: function (result, actual, expected, message) {\n\t\t\tif (!config.current) {\n\t\t\t\tthrow new Error(\"assertion outside test context, was \" + sourceFromStacktrace());\n\t\t\t}\n\n\t\t\tvar output,\n\t\t\t    source,\n\t\t\t    details = {\n\t\t\t\tresult: result,\n\t\t\t\tmessage: message,\n\t\t\t\tactual: actual,\n\t\t\t\texpected: expected\n\t\t\t};\n\t\t\tmessage = escapeInnerText(message) || (result ? \"okay\" : \"failed\");\n\t\t\tmessage = \"<span class='test-message'>\" + message + \"</span>\";\n\t\t\toutput = message;\n\n\t\t\tif (!result) {\n\t\t\t\texpected = escapeInnerText(QUnit.jsDump.parse(expected));\n\t\t\t\tactual = escapeInnerText(QUnit.jsDump.parse(actual));\n\t\t\t\toutput += \"<table><tr class='test-expected'><th>Expected: </th><td><pre>\" + expected + \"</pre></td></tr>\";\n\n\t\t\t\tif (actual != expected) {\n\t\t\t\t\toutput += \"<tr class='test-actual'><th>Result: </th><td><pre>\" + actual + \"</pre></td></tr>\";\n\t\t\t\t\toutput += \"<tr class='test-diff'><th>Diff: </th><td><pre>\" + QUnit.diff(expected, actual) + \"</pre></td></tr>\";\n\t\t\t\t}\n\n\t\t\t\tsource = sourceFromStacktrace();\n\n\t\t\t\tif (source) {\n\t\t\t\t\tdetails.source = source;\n\t\t\t\t\toutput += \"<tr class='test-source'><th>Source: </th><td><pre>\" + escapeInnerText(source) + \"</pre></td></tr>\";\n\t\t\t\t}\n\n\t\t\t\toutput += \"</table>\";\n\t\t\t}\n\n\t\t\trunLoggingCallbacks(\"log\", QUnit, details);\n\t\t\tconfig.current.assertions.push({\n\t\t\t\tresult: !!result,\n\t\t\t\tmessage: output\n\t\t\t});\n\t\t},\n\t\tpushFailure: function (message, source, actual) {\n\t\t\tif (!config.current) {\n\t\t\t\tthrow new Error(\"pushFailure() assertion outside test context, was \" + sourceFromStacktrace(2));\n\t\t\t}\n\n\t\t\tvar output,\n\t\t\t    details = {\n\t\t\t\tresult: false,\n\t\t\t\tmessage: message\n\t\t\t};\n\t\t\tmessage = escapeInnerText(message) || \"error\";\n\t\t\tmessage = \"<span class='test-message'>\" + message + \"</span>\";\n\t\t\toutput = message;\n\t\t\toutput += \"<table>\";\n\n\t\t\tif (actual) {\n\t\t\t\toutput += \"<tr class='test-actual'><th>Result: </th><td><pre>\" + escapeInnerText(actual) + \"</pre></td></tr>\";\n\t\t\t}\n\n\t\t\tif (source) {\n\t\t\t\tdetails.source = source;\n\t\t\t\toutput += \"<tr class='test-source'><th>Source: </th><td><pre>\" + escapeInnerText(source) + \"</pre></td></tr>\";\n\t\t\t}\n\n\t\t\toutput += \"</table>\";\n\t\t\trunLoggingCallbacks(\"log\", QUnit, details);\n\t\t\tconfig.current.assertions.push({\n\t\t\t\tresult: false,\n\t\t\t\tmessage: output\n\t\t\t});\n\t\t},\n\t\turl: function (params) {\n\t\t\tparams = extend(extend({}, QUnit.urlParams), params);\n\t\t\tvar key,\n\t\t\t    querystring = \"?\";\n\n\t\t\tfor (key in meteorBabelHelpers.sanitizeForInObject(params)) {\n\t\t\t\tif (!hasOwn.call(params, key)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tquerystring += encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]) + \"&\";\n\t\t\t}\n\n\t\t\treturn window.location.pathname + querystring.slice(0, -1);\n\t\t},\n\t\textend: extend,\n\t\tid: id,\n\t\taddEvent: addEvent // load, equiv, jsDump, diff: Attached later\n\n\t}); /**\n      * @deprecated: Created for backwards compatibility with test runner that set the hook function\n      * into QUnit.{hook}, instead of invoking it and passing the hook function.\n      * QUnit.constructor is set to the empty F() above so that we can add to it's prototype here.\n      * Doing this allows us to tell if the following methods have been overwritten on the actual\n      * QUnit object.\n      */\n\textend(QUnit.constructor.prototype, {\n\t\t// Logging callbacks; all receive a single argument with the listed properties\n\t\t// run test/logs.html for any related changes\n\t\tbegin: registerLoggingCallback(\"begin\"),\n\t\t// done: { failed, passed, total, runtime }\n\t\tdone: registerLoggingCallback(\"done\"),\n\t\t// log: { result, actual, expected, message }\n\t\tlog: registerLoggingCallback(\"log\"),\n\t\t// testStart: { name }\n\t\ttestStart: registerLoggingCallback(\"testStart\"),\n\t\t// testDone: { name, failed, passed, total }\n\t\ttestDone: registerLoggingCallback(\"testDone\"),\n\t\t// moduleStart: { name }\n\t\tmoduleStart: registerLoggingCallback(\"moduleStart\"),\n\t\t// moduleDone: { name, failed, passed, total }\n\t\tmoduleDone: registerLoggingCallback(\"moduleDone\")\n\t});\n\n\tif (typeof document === \"undefined\" || document.readyState === \"complete\") {\n\t\tconfig.autorun = true;\n\t}\n\n\tQUnit.load = function () {\n\t\trunLoggingCallbacks(\"begin\", QUnit, {}); // Initialize the config, saving the execution queue\n\n\t\tvar banner,\n\t\t    filter,\n\t\t    i,\n\t\t    label,\n\t\t    len,\n\t\t    main,\n\t\t    ol,\n\t\t    toolbar,\n\t\t    userAgent,\n\t\t    val,\n\t\t    urlConfigCheckboxes,\n\t\t    urlConfigHtml = \"\",\n\t\t    oldconfig = extend({}, config);\n\t\tQUnit.init();\n\t\textend(config, oldconfig);\n\t\tconfig.blocking = false;\n\t\tlen = config.urlConfig.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tval = config.urlConfig[i];\n\n\t\t\tif (typeof val === \"string\") {\n\t\t\t\tval = {\n\t\t\t\t\tid: val,\n\t\t\t\t\tlabel: val,\n\t\t\t\t\ttooltip: \"[no tooltip available]\"\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconfig[val.id] = QUnit.urlParams[val.id];\n\t\t\turlConfigHtml += \"<input id='qunit-urlconfig-\" + val.id + \"' name='\" + val.id + \"' type='checkbox'\" + (config[val.id] ? \" checked='checked'\" : \"\") + \" title='\" + val.tooltip + \"'><label for='qunit-urlconfig-\" + val.id + \"' title='\" + val.tooltip + \"'>\" + val.label + \"</label>\";\n\t\t} // `userAgent` initialized at top of scope\n\n\n\t\tuserAgent = id(\"qunit-userAgent\");\n\n\t\tif (userAgent) {\n\t\t\tuserAgent.innerHTML = navigator.userAgent;\n\t\t} // `banner` initialized at top of scope\n\n\n\t\tbanner = id(\"qunit-header\");\n\n\t\tif (banner) {\n\t\t\tbanner.innerHTML = \"<a href='\" + QUnit.url({\n\t\t\t\tfilter: undefined,\n\t\t\t\tmodule: undefined,\n\t\t\t\ttestNumber: undefined\n\t\t\t}) + \"'>\" + banner.innerHTML + \"</a> \";\n\t\t} // `toolbar` initialized at top of scope\n\n\n\t\ttoolbar = id(\"qunit-testrunner-toolbar\");\n\n\t\tif (toolbar) {\n\t\t\t// `filter` initialized at top of scope\n\t\t\tfilter = document.createElement(\"input\");\n\t\t\tfilter.type = \"checkbox\";\n\t\t\tfilter.id = \"qunit-filter-pass\";\n\t\t\taddEvent(filter, \"click\", function () {\n\t\t\t\tvar tmp,\n\t\t\t\t    ol = document.getElementById(\"qunit-tests\");\n\n\t\t\t\tif (filter.checked) {\n\t\t\t\t\tol.className = ol.className + \" hidepass\";\n\t\t\t\t} else {\n\t\t\t\t\ttmp = \" \" + ol.className.replace(/[\\n\\t\\r]/g, \" \") + \" \";\n\t\t\t\t\tol.className = tmp.replace(/ hidepass /, \" \");\n\t\t\t\t}\n\n\t\t\t\tif (defined.sessionStorage) {\n\t\t\t\t\tif (filter.checked) {\n\t\t\t\t\t\tsessionStorage.setItem(\"qunit-filter-passed-tests\", \"true\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsessionStorage.removeItem(\"qunit-filter-passed-tests\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (config.hidepassed || defined.sessionStorage && sessionStorage.getItem(\"qunit-filter-passed-tests\")) {\n\t\t\t\tfilter.checked = true; // `ol` initialized at top of scope\n\n\t\t\t\tol = document.getElementById(\"qunit-tests\");\n\t\t\t\tol.className = ol.className + \" hidepass\";\n\t\t\t}\n\n\t\t\ttoolbar.appendChild(filter); // `label` initialized at top of scope\n\n\t\t\tlabel = document.createElement(\"label\");\n\t\t\tlabel.setAttribute(\"for\", \"qunit-filter-pass\");\n\t\t\tlabel.setAttribute(\"title\", \"Only show tests and assertons that fail. Stored in sessionStorage.\");\n\t\t\tlabel.innerHTML = \"Hide passed tests\";\n\t\t\ttoolbar.appendChild(label);\n\t\t\turlConfigCheckboxes = document.createElement('span');\n\t\t\turlConfigCheckboxes.innerHTML = urlConfigHtml;\n\t\t\taddEvent(urlConfigCheckboxes, \"change\", function (event) {\n\t\t\t\tvar params = {};\n\t\t\t\tparams[event.target.name] = event.target.checked ? true : undefined;\n\t\t\t\twindow.location = QUnit.url(params);\n\t\t\t});\n\t\t\ttoolbar.appendChild(urlConfigCheckboxes);\n\t\t} // `main` initialized at top of scope\n\n\n\t\tmain = id(\"qunit-fixture\");\n\n\t\tif (main) {\n\t\t\tconfig.fixture = main.innerHTML;\n\t\t}\n\n\t\tif (config.autostart) {\n\t\t\tQUnit.start();\n\t\t}\n\t};\n\n\taddEvent(window, \"load\", QUnit.load); // `onErrorFnPrev` initialized at top of scope\n\t// Preserve other handlers\n\n\tonErrorFnPrev = window.onerror; // Cover uncaught exceptions\n\t// Returning true will surpress the default browser handler,\n\t// returning false will let it run.\n\n\twindow.onerror = function (error, filePath, linerNr) {\n\t\tvar ret = false;\n\n\t\tif (onErrorFnPrev) {\n\t\t\tret = onErrorFnPrev(error, filePath, linerNr);\n\t\t} // Treat return value as window.onerror itself does,\n\t\t// Only do our handling if not surpressed.\n\n\n\t\tif (ret !== true) {\n\t\t\tif (QUnit.config.current) {\n\t\t\t\tif (QUnit.config.current.ignoreGlobalErrors) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tQUnit.pushFailure(error, filePath + \":\" + linerNr);\n\t\t\t} else {\n\t\t\t\tQUnit.test(\"global failure\", function () {\n\t\t\t\t\tQUnit.pushFailure(error, filePath + \":\" + linerNr);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn ret;\n\t};\n\n\tfunction done() {\n\t\tconfig.autorun = true; // Log the last module results\n\n\t\tif (config.currentModule) {\n\t\t\trunLoggingCallbacks(\"moduleDone\", QUnit, {\n\t\t\t\tname: config.currentModule,\n\t\t\t\tfailed: config.moduleStats.bad,\n\t\t\t\tpassed: config.moduleStats.all - config.moduleStats.bad,\n\t\t\t\ttotal: config.moduleStats.all\n\t\t\t});\n\t\t}\n\n\t\tvar i,\n\t\t    key,\n\t\t    banner = id(\"qunit-banner\"),\n\t\t    tests = id(\"qunit-tests\"),\n\t\t    runtime = +new Date() - config.started,\n\t\t    passed = config.stats.all - config.stats.bad,\n\t\t    html = [\"Tests completed in \", runtime, \" milliseconds.<br/>\", \"<span class='passed'>\", passed, \"</span> tests of <span class='total'>\", config.stats.all, \"</span> passed, <span class='failed'>\", config.stats.bad, \"</span> failed.\"].join(\"\");\n\n\t\tif (banner) {\n\t\t\tbanner.className = config.stats.bad ? \"qunit-fail\" : \"qunit-pass\";\n\t\t}\n\n\t\tif (tests) {\n\t\t\tid(\"qunit-testresult\").innerHTML = html;\n\t\t}\n\n\t\tif (config.altertitle && typeof document !== \"undefined\" && document.title) {\n\t\t\t// show ✖ for good, ✔ for bad suite result in title\n\t\t\t// use escape sequences in case file gets loaded with non-utf-8-charset\n\t\t\tdocument.title = [config.stats.bad ? \"\\u2716\" : \"\\u2714\", document.title.replace(/^[\\u2714\\u2716] /i, \"\")].join(\" \");\n\t\t} // clear own sessionStorage items if all tests passed\n\n\n\t\tif (config.reorder && defined.sessionStorage && config.stats.bad === 0) {\n\t\t\t// `key` & `i` initialized at top of scope\n\t\t\tfor (i = 0; i < sessionStorage.length; i++) {\n\t\t\t\tkey = sessionStorage.key(i++);\n\n\t\t\t\tif (key.indexOf(\"qunit-test-\") === 0) {\n\t\t\t\t\tsessionStorage.removeItem(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trunLoggingCallbacks(\"done\", QUnit, {\n\t\t\tfailed: config.stats.bad,\n\t\t\tpassed: passed,\n\t\t\ttotal: config.stats.all,\n\t\t\truntime: runtime\n\t\t});\n\t} /** @return Boolean: true if this test should be ran */\n\n\tfunction validTest(test) {\n\t\tvar include,\n\t\t    filter = config.filter && config.filter.toLowerCase(),\n\t\t    module = config.module && config.module.toLowerCase(),\n\t\t    fullName = (test.module + \": \" + test.testName).toLowerCase();\n\n\t\tif (config.testNumber) {\n\t\t\treturn test.testNumber === config.testNumber;\n\t\t}\n\n\t\tif (module && (!test.module || test.module.toLowerCase() !== module)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!filter) {\n\t\t\treturn true;\n\t\t}\n\n\t\tinclude = filter.charAt(0) !== \"!\";\n\n\t\tif (!include) {\n\t\t\tfilter = filter.slice(1);\n\t\t} // If the filter matches, we need to honour include\n\n\n\t\tif (fullName.indexOf(filter) !== -1) {\n\t\t\treturn include;\n\t\t} // Otherwise, do the opposite\n\n\n\t\treturn !include;\n\t} // so far supports only Firefox, Chrome and Opera (buggy), Safari (for real exceptions)\n\t// Later Safari and IE10 are supposed to support error.stack as well\n\t// See also https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error/Stack\n\n\n\tfunction extractStacktrace(e, offset) {\n\t\toffset = offset === undefined ? 3 : offset;\n\t\tvar stack, include, i, regex;\n\n\t\tif (e.stacktrace) {\n\t\t\t// Opera\n\t\t\treturn e.stacktrace.split(\"\\n\")[offset + 3];\n\t\t} else if (e.stack) {\n\t\t\t// Firefox, Chrome\n\t\t\tstack = e.stack.split(\"\\n\");\n\n\t\t\tif (/^error$/i.test(stack[0])) {\n\t\t\t\tstack.shift();\n\t\t\t}\n\n\t\t\tif (fileName) {\n\t\t\t\tinclude = [];\n\n\t\t\t\tfor (i = offset; i < stack.length; i++) {\n\t\t\t\t\tif (stack[i].indexOf(fileName) != -1) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tinclude.push(stack[i]);\n\t\t\t\t}\n\n\t\t\t\tif (include.length) {\n\t\t\t\t\treturn include.join(\"\\n\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn stack[offset];\n\t\t} else if (e.sourceURL) {\n\t\t\t// Safari, PhantomJS\n\t\t\t// hopefully one day Safari provides actual stacktraces\n\t\t\t// exclude useless self-reference for generated Error objects\n\t\t\tif (/qunit.js$/.test(e.sourceURL)) {\n\t\t\t\treturn;\n\t\t\t} // for actual exceptions, this is useful\n\n\n\t\t\treturn e.sourceURL + \":\" + e.line;\n\t\t}\n\t}\n\n\tfunction sourceFromStacktrace(offset) {\n\t\ttry {\n\t\t\tthrow new Error();\n\t\t} catch (e) {\n\t\t\treturn extractStacktrace(e, offset);\n\t\t}\n\t}\n\n\tfunction escapeInnerText(s) {\n\t\tif (!s) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\ts = s + \"\";\n\t\treturn s.replace(/[\\&<>]/g, function (s) {\n\t\t\tswitch (s) {\n\t\t\t\tcase \"&\":\n\t\t\t\t\treturn \"&amp;\";\n\n\t\t\t\tcase \"<\":\n\t\t\t\t\treturn \"&lt;\";\n\n\t\t\t\tcase \">\":\n\t\t\t\t\treturn \"&gt;\";\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn s;\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction synchronize(callback, last) {\n\t\tconfig.queue.push(callback);\n\n\t\tif (config.autorun && !config.blocking) {\n\t\t\tprocess(last);\n\t\t}\n\t}\n\n\tfunction process(last) {\n\t\tfunction next() {\n\t\t\tprocess(last);\n\t\t}\n\n\t\tvar start = new Date().getTime();\n\t\tconfig.depth = config.depth ? config.depth + 1 : 1;\n\n\t\twhile (config.queue.length && !config.blocking) {\n\t\t\tif (!defined.setTimeout || config.updateRate <= 0 || new Date().getTime() - start < config.updateRate) {\n\t\t\t\tconfig.queue.shift()();\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(next, 13);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tconfig.depth--;\n\n\t\tif (last && !config.blocking && !config.queue.length && config.depth === 0) {\n\t\t\tdone();\n\t\t}\n\t}\n\n\tfunction saveGlobal() {\n\t\tconfig.pollution = [];\n\n\t\tif (config.noglobals) {\n\t\t\tfor (var key in meteorBabelHelpers.sanitizeForInObject(window)) {\n\t\t\t\t// in Opera sometimes DOM element ids show up here, ignore them\n\t\t\t\tif (!hasOwn.call(window, key) || /^qunit-test-output/.test(key)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconfig.pollution.push(key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction checkPollution(name) {\n\t\tvar newGlobals,\n\t\t    deletedGlobals,\n\t\t    old = config.pollution;\n\t\tsaveGlobal();\n\t\tnewGlobals = diff(config.pollution, old);\n\n\t\tif (newGlobals.length > 0) {\n\t\t\tQUnit.pushFailure(\"Introduced global variable(s): \" + newGlobals.join(\", \"));\n\t\t}\n\n\t\tdeletedGlobals = diff(old, config.pollution);\n\n\t\tif (deletedGlobals.length > 0) {\n\t\t\tQUnit.pushFailure(\"Deleted global variable(s): \" + deletedGlobals.join(\", \"));\n\t\t}\n\t} // returns a new Array with the elements that are in a but not in b\n\n\n\tfunction diff(a, b) {\n\t\tvar i,\n\t\t    j,\n\t\t    result = a.slice();\n\n\t\tfor (i = 0; i < result.length; i++) {\n\t\t\tfor (j = 0; j < b.length; j++) {\n\t\t\t\tif (result[i] === b[j]) {\n\t\t\t\t\tresult.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tfunction extend(a, b) {\n\t\tfor (var prop in meteorBabelHelpers.sanitizeForInObject(b)) {\n\t\t\tif (b[prop] === undefined) {\n\t\t\t\tdelete a[prop]; // Avoid \"Member not found\" error in IE8 caused by setting window.constructor\n\t\t\t} else if (prop !== \"constructor\" || a !== window) {\n\t\t\t\ta[prop] = b[prop];\n\t\t\t}\n\t\t}\n\n\t\treturn a;\n\t}\n\n\tfunction addEvent(elem, type, fn) {\n\t\tif (elem.addEventListener) {\n\t\t\telem.addEventListener(type, fn, false);\n\t\t} else if (elem.attachEvent) {\n\t\t\telem.attachEvent(\"on\" + type, fn);\n\t\t} else {\n\t\t\tfn();\n\t\t}\n\t}\n\n\tfunction id(name) {\n\t\treturn !!(typeof document !== \"undefined\" && document && document.getElementById) && document.getElementById(name);\n\t}\n\n\tfunction registerLoggingCallback(key) {\n\t\treturn function (callback) {\n\t\t\tconfig[key].push(callback);\n\t\t};\n\t} // Supports deprecated method of completely overwriting logging callbacks\n\n\n\tfunction runLoggingCallbacks(key, scope, args) {\n\t\t//debugger;\n\t\tvar i, callbacks;\n\n\t\tif (QUnit.hasOwnProperty(key)) {\n\t\t\tQUnit[key].call(scope, args);\n\t\t} else {\n\t\t\tcallbacks = config[key];\n\n\t\t\tfor (i = 0; i < callbacks.length; i++) {\n\t\t\t\tcallbacks[i].call(scope, args);\n\t\t\t}\n\t\t}\n\t} // Test for equality any JavaScript type.\n\t// Author: Philippe Rathé <prathe@gmail.com>\n\n\n\tQUnit.equiv = function () {\n\t\t// Call the o related callback with the given arguments.\n\t\tfunction bindCallbacks(o, callbacks, args) {\n\t\t\tvar prop = QUnit.objectType(o);\n\n\t\t\tif (prop) {\n\t\t\t\tif (QUnit.objectType(callbacks[prop]) === \"function\") {\n\t\t\t\t\treturn callbacks[prop].apply(callbacks, args);\n\t\t\t\t} else {\n\t\t\t\t\treturn callbacks[prop]; // or undefined\n\t\t\t\t}\n\t\t\t}\n\t\t} // the real equiv function\n\n\n\t\tvar innerEquiv,\n\t\t    // stack to decide between skip/abort functions\n\t\tcallers = [],\n\t\t    // stack to avoiding loops from circular referencing\n\t\tparents = [],\n\t\t    getProto = Object.getPrototypeOf || function (obj) {\n\t\t\treturn obj.__proto__;\n\t\t},\n\t\t    callbacks = function () {\n\t\t\t// for string, boolean, number and null\n\t\t\tfunction useStrictEquality(b, a) {\n\t\t\t\tif (b instanceof a.constructor || a instanceof b.constructor) {\n\t\t\t\t\t// to catch short annotaion VS 'new' annotation of a\n\t\t\t\t\t// declaration\n\t\t\t\t\t// e.g. var i = 1;\n\t\t\t\t\t// var j = new Number(1);\n\t\t\t\t\treturn a == b;\n\t\t\t\t} else {\n\t\t\t\t\treturn a === b;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t\"string\": useStrictEquality,\n\t\t\t\t\"boolean\": useStrictEquality,\n\t\t\t\t\"number\": useStrictEquality,\n\t\t\t\t\"null\": useStrictEquality,\n\t\t\t\t\"undefined\": useStrictEquality,\n\t\t\t\t\"nan\": function (b) {\n\t\t\t\t\treturn isNaN(b);\n\t\t\t\t},\n\t\t\t\t\"date\": function (b, a) {\n\t\t\t\t\treturn QUnit.objectType(b) === \"date\" && a.valueOf() === b.valueOf();\n\t\t\t\t},\n\t\t\t\t\"regexp\": function (b, a) {\n\t\t\t\t\treturn QUnit.objectType(b) === \"regexp\" && // the regex itself\n\t\t\t\t\ta.source === b.source && // and its modifers\n\t\t\t\t\ta.global === b.global && // (gmi) ...\n\t\t\t\t\ta.ignoreCase === b.ignoreCase && a.multiline === b.multiline;\n\t\t\t\t},\n\t\t\t\t// - skip when the property is a method of an instance (OOP)\n\t\t\t\t// - abort otherwise,\n\t\t\t\t// initial === would have catch identical references anyway\n\t\t\t\t\"function\": function () {\n\t\t\t\t\tvar caller = callers[callers.length - 1];\n\t\t\t\t\treturn caller !== Object && typeof caller !== \"undefined\";\n\t\t\t\t},\n\t\t\t\t\"array\": function (b, a) {\n\t\t\t\t\tvar i, j, len, loop; // b could be an object literal here\n\n\t\t\t\t\tif (QUnit.objectType(b) !== \"array\") {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlen = a.length;\n\n\t\t\t\t\tif (len !== b.length) {\n\t\t\t\t\t\t// safe and faster\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} // track reference to avoid circular references\n\n\n\t\t\t\t\tparents.push(a);\n\n\t\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\t\tloop = false;\n\n\t\t\t\t\t\tfor (j = 0; j < parents.length; j++) {\n\t\t\t\t\t\t\tif (parents[j] === a[i]) {\n\t\t\t\t\t\t\t\tloop = true; // dont rewalk array\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!loop && !innerEquiv(a[i], b[i])) {\n\t\t\t\t\t\t\tparents.pop();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tparents.pop();\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\t\"object\": function (b, a) {\n\t\t\t\t\tvar i,\n\t\t\t\t\t    j,\n\t\t\t\t\t    loop,\n\t\t\t\t\t    // Default to true\n\t\t\t\t\teq = true,\n\t\t\t\t\t    aProperties = [],\n\t\t\t\t\t    bProperties = []; // comparing constructors is more strict than using\n\t\t\t\t\t// instanceof\n\n\t\t\t\t\tif (a.constructor !== b.constructor) {\n\t\t\t\t\t\t// Allow objects with no prototype to be equivalent to\n\t\t\t\t\t\t// objects with Object as their constructor.\n\t\t\t\t\t\tif (!(getProto(a) === null && getProto(b) === Object.prototype || getProto(b) === null && getProto(a) === Object.prototype)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} // stack constructor before traversing properties\n\n\n\t\t\t\t\tcallers.push(a.constructor); // track reference to avoid circular references\n\n\t\t\t\t\tparents.push(a);\n\n\t\t\t\t\tfor (i in meteorBabelHelpers.sanitizeForInObject(a)) {\n\t\t\t\t\t\t// be strict: don't ensures hasOwnProperty\n\t\t\t\t\t\t// and go deep\n\t\t\t\t\t\tloop = false;\n\n\t\t\t\t\t\tfor (j = 0; j < parents.length; j++) {\n\t\t\t\t\t\t\tif (parents[j] === a[i]) {\n\t\t\t\t\t\t\t\t// don't go down the same path twice\n\t\t\t\t\t\t\t\tloop = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\taProperties.push(i); // collect a's properties\n\n\t\t\t\t\t\tif (!loop && !innerEquiv(a[i], b[i])) {\n\t\t\t\t\t\t\teq = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcallers.pop(); // unstack, we are done\n\n\t\t\t\t\tparents.pop();\n\n\t\t\t\t\tfor (i in meteorBabelHelpers.sanitizeForInObject(b)) {\n\t\t\t\t\t\tbProperties.push(i); // collect b's properties\n\t\t\t\t\t} // Ensures identical properties name\n\n\n\t\t\t\t\treturn eq && innerEquiv(aProperties.sort(), bProperties.sort());\n\t\t\t\t}\n\t\t\t};\n\t\t}();\n\n\t\tinnerEquiv = function () {\n\t\t\t// can take multiple arguments\n\t\t\tvar args = [].slice.apply(arguments);\n\n\t\t\tif (args.length < 2) {\n\t\t\t\treturn true; // end transition\n\t\t\t}\n\n\t\t\treturn function (a, b) {\n\t\t\t\tif (a === b) {\n\t\t\t\t\treturn true; // catch the most you can\n\t\t\t\t} else if (a === null || b === null || typeof a === \"undefined\" || typeof b === \"undefined\" || QUnit.objectType(a) !== QUnit.objectType(b)) {\n\t\t\t\t\treturn false; // don't lose time with error prone cases\n\t\t\t\t} else {\n\t\t\t\t\treturn bindCallbacks(a, callbacks, [b, a]);\n\t\t\t\t} // apply transition with (1..n) arguments\n\n\t\t\t}(args[0], args[1]) && arguments.callee.apply(this, args.splice(1, args.length - 1));\n\t\t};\n\n\t\treturn innerEquiv;\n\t}(); /**\n       * jsDump Copyright (c) 2008 Ariel Flesler - aflesler(at)gmail(dot)com |\n       * http://flesler.blogspot.com Licensed under BSD\n       * (http://www.opensource.org/licenses/bsd-license.php) Date: 5/15/2008\n       *\n       * @projectDescription Advanced and extensible data dumping for Javascript.\n       * @version 1.0.0\n       * @author Ariel Flesler\n       * @link {http://flesler.blogspot.com/2008/05/jsdump-pretty-dump-of-any-javascript.html}\n       */\n\n\tQUnit.jsDump = function () {\n\t\tfunction quote(str) {\n\t\t\treturn '\"' + str.toString().replace(/\"/g, '\\\\\"') + '\"';\n\t\t}\n\n\t\tfunction literal(o) {\n\t\t\treturn o + \"\";\n\t\t}\n\n\t\tfunction join(pre, arr, post) {\n\t\t\tvar s = jsDump.separator(),\n\t\t\t    base = jsDump.indent(),\n\t\t\t    inner = jsDump.indent(1);\n\n\t\t\tif (arr.join) {\n\t\t\t\tarr = arr.join(\",\" + s + inner);\n\t\t\t}\n\n\t\t\tif (!arr) {\n\t\t\t\treturn pre + post;\n\t\t\t}\n\n\t\t\treturn [pre, inner + arr, base + post].join(s);\n\t\t}\n\n\t\tfunction array(arr, stack) {\n\t\t\tvar i = arr.length,\n\t\t\t    ret = new Array(i);\n\t\t\tthis.up();\n\n\t\t\twhile (i--) {\n\t\t\t\tret[i] = this.parse(arr[i], undefined, stack);\n\t\t\t}\n\n\t\t\tthis.down();\n\t\t\treturn join(\"[\", ret, \"]\");\n\t\t}\n\n\t\tvar reName = /^function (\\w+)/,\n\t\t    jsDump = {\n\t\t\tparse: function (obj, type, stack) {\n\t\t\t\t//type is used mostly internally, you can fix a (custom)type in advance\n\t\t\t\tstack = stack || [];\n\t\t\t\tvar inStack,\n\t\t\t\t    res,\n\t\t\t\t    parser = this.parsers[type || this.typeOf(obj)];\n\t\t\t\ttype = typeof parser === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(parser);\n\t\t\t\tinStack = inArray(obj, stack);\n\n\t\t\t\tif (inStack != -1) {\n\t\t\t\t\treturn \"recursion(\" + (inStack - stack.length) + \")\";\n\t\t\t\t} //else\n\n\n\t\t\t\tif (type == \"function\") {\n\t\t\t\t\tstack.push(obj);\n\t\t\t\t\tres = parser.call(this, obj, stack);\n\t\t\t\t\tstack.pop();\n\t\t\t\t\treturn res;\n\t\t\t\t} // else\n\n\n\t\t\t\treturn type == \"string\" ? parser : this.parsers.error;\n\t\t\t},\n\t\t\ttypeOf: function (obj) {\n\t\t\t\tvar type;\n\n\t\t\t\tif (obj === null) {\n\t\t\t\t\ttype = \"null\";\n\t\t\t\t} else if (typeof obj === \"undefined\") {\n\t\t\t\t\ttype = \"undefined\";\n\t\t\t\t} else if (QUnit.is(\"regexp\", obj)) {\n\t\t\t\t\ttype = \"regexp\";\n\t\t\t\t} else if (QUnit.is(\"date\", obj)) {\n\t\t\t\t\ttype = \"date\";\n\t\t\t\t} else if (QUnit.is(\"function\", obj)) {\n\t\t\t\t\ttype = \"function\";\n\t\t\t\t} else if ((0, _typeof3.default)(obj.setInterval) !== undefined && typeof obj.document !== \"undefined\" && typeof obj.nodeType === \"undefined\") {\n\t\t\t\t\ttype = \"window\";\n\t\t\t\t} else if (obj.nodeType === 9) {\n\t\t\t\t\ttype = \"document\";\n\t\t\t\t} else if (obj.nodeType) {\n\t\t\t\t\ttype = \"node\";\n\t\t\t\t} else if ( // native arrays\n\t\t\t\ttoString.call(obj) === \"[object Array]\" || // NodeList objects\n\t\t\t\ttypeof obj.length === \"number\" && typeof obj.item !== \"undefined\" && (obj.length ? obj.item(0) === obj[0] : obj.item(0) === null && typeof obj[0] === \"undefined\")) {\n\t\t\t\t\ttype = \"array\";\n\t\t\t\t} else {\n\t\t\t\t\ttype = typeof obj === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(obj);\n\t\t\t\t}\n\n\t\t\t\treturn type;\n\t\t\t},\n\t\t\tseparator: function () {\n\t\t\t\treturn this.multiline ? this.HTML ? \"<br />\" : \"\\n\" : this.HTML ? \"&nbsp;\" : \" \";\n\t\t\t},\n\t\t\tindent: function (extra) {\n\t\t\t\t// extra can be a number, shortcut for increasing-calling-decreasing\n\t\t\t\tif (!this.multiline) {\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\n\t\t\t\tvar chr = this.indentChar;\n\n\t\t\t\tif (this.HTML) {\n\t\t\t\t\tchr = chr.replace(/\\t/g, \"   \").replace(/ /g, \"&nbsp;\");\n\t\t\t\t}\n\n\t\t\t\treturn new Array(this._depth_ + (extra || 0)).join(chr);\n\t\t\t},\n\t\t\tup: function (a) {\n\t\t\t\tthis._depth_ += a || 1;\n\t\t\t},\n\t\t\tdown: function (a) {\n\t\t\t\tthis._depth_ -= a || 1;\n\t\t\t},\n\t\t\tsetParser: function (name, parser) {\n\t\t\t\tthis.parsers[name] = parser;\n\t\t\t},\n\t\t\t// The next 3 are exposed so you can use them\n\t\t\tquote: quote,\n\t\t\tliteral: literal,\n\t\t\tjoin: join,\n\t\t\t//\n\t\t\t_depth_: 1,\n\t\t\t// This is the list of parsers, to modify them, use jsDump.setParser\n\t\t\tparsers: {\n\t\t\t\twindow: \"[Window]\",\n\t\t\t\tdocument: \"[Document]\",\n\t\t\t\terror: \"[ERROR]\",\n\t\t\t\t//when no parser is found, shouldn\"t happen\n\t\t\t\tunknown: \"[Unknown]\",\n\t\t\t\t\"null\": \"null\",\n\t\t\t\t\"undefined\": \"undefined\",\n\t\t\t\t\"function\": function (fn) {\n\t\t\t\t\tvar ret = \"function\",\n\t\t\t\t\t    name = \"name\" in fn ? fn.name : (reName.exec(fn) || [])[1]; //functions never have name in IE\n\n\t\t\t\t\tif (name) {\n\t\t\t\t\t\tret += \" \" + name;\n\t\t\t\t\t}\n\n\t\t\t\t\tret += \"( \";\n\t\t\t\t\tret = [ret, QUnit.jsDump.parse(fn, \"functionArgs\"), \"){\"].join(\"\");\n\t\t\t\t\treturn join(ret, QUnit.jsDump.parse(fn, \"functionCode\"), \"}\");\n\t\t\t\t},\n\t\t\t\tarray: array,\n\t\t\t\tnodelist: array,\n\t\t\t\t\"arguments\": array,\n\t\t\t\tobject: function (map, stack) {\n\t\t\t\t\tvar ret = [],\n\t\t\t\t\t    keys,\n\t\t\t\t\t    key,\n\t\t\t\t\t    val,\n\t\t\t\t\t    i;\n\t\t\t\t\tQUnit.jsDump.up();\n\n\t\t\t\t\tif (Object.keys) {\n\t\t\t\t\t\tkeys = Object.keys(map);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkeys = [];\n\n\t\t\t\t\t\tfor (key in meteorBabelHelpers.sanitizeForInObject(map)) {\n\t\t\t\t\t\t\tkeys.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tkeys.sort();\n\n\t\t\t\t\tfor (i = 0; i < keys.length; i++) {\n\t\t\t\t\t\tkey = keys[i];\n\t\t\t\t\t\tval = map[key];\n\t\t\t\t\t\tret.push(QUnit.jsDump.parse(key, \"key\") + \": \" + QUnit.jsDump.parse(val, undefined, stack));\n\t\t\t\t\t}\n\n\t\t\t\t\tQUnit.jsDump.down();\n\t\t\t\t\treturn join(\"{\", ret, \"}\");\n\t\t\t\t},\n\t\t\t\tnode: function (node) {\n\t\t\t\t\tvar a,\n\t\t\t\t\t    val,\n\t\t\t\t\t    open = QUnit.jsDump.HTML ? \"&lt;\" : \"<\",\n\t\t\t\t\t    close = QUnit.jsDump.HTML ? \"&gt;\" : \">\",\n\t\t\t\t\t    tag = node.nodeName.toLowerCase(),\n\t\t\t\t\t    ret = open + tag;\n\n\t\t\t\t\tfor (a in meteorBabelHelpers.sanitizeForInObject(QUnit.jsDump.DOMAttrs)) {\n\t\t\t\t\t\tval = node[QUnit.jsDump.DOMAttrs[a]];\n\n\t\t\t\t\t\tif (val) {\n\t\t\t\t\t\t\tret += \" \" + a + \"=\" + QUnit.jsDump.parse(val, \"attribute\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ret + close + open + \"/\" + tag + close;\n\t\t\t\t},\n\t\t\t\tfunctionArgs: function (fn) {\n\t\t\t\t\t//function calls it internally, it's the arguments part of the function\n\t\t\t\t\tvar args,\n\t\t\t\t\t    l = fn.length;\n\n\t\t\t\t\tif (!l) {\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t}\n\n\t\t\t\t\targs = new Array(l);\n\n\t\t\t\t\twhile (l--) {\n\t\t\t\t\t\targs[l] = String.fromCharCode(97 + l); //97 is 'a'\n\t\t\t\t\t}\n\n\t\t\t\t\treturn \" \" + args.join(\", \") + \" \";\n\t\t\t\t},\n\t\t\t\tkey: quote,\n\t\t\t\t//object calls it internally, the key part of an item in a map\n\t\t\t\tfunctionCode: \"[code]\",\n\t\t\t\t//function calls it internally, it's the content of the function\n\t\t\t\tattribute: quote,\n\t\t\t\t//node calls it internally, it's an html attribute value\n\t\t\t\tstring: quote,\n\t\t\t\tdate: quote,\n\t\t\t\tregexp: literal,\n\t\t\t\t//regex\n\t\t\t\tnumber: literal,\n\t\t\t\t\"boolean\": literal\n\t\t\t},\n\t\t\tDOMAttrs: {\n\t\t\t\t//attributes to dump from nodes, name=>realName\n\t\t\t\tid: \"id\",\n\t\t\t\tname: \"name\",\n\t\t\t\t\"class\": \"className\"\n\t\t\t},\n\t\t\tHTML: false,\n\t\t\t//if true, entities are escaped ( <, >, \\t, space and \\n )\n\t\t\tindentChar: \"  \",\n\t\t\t//indentation unit\n\t\t\tmultiline: true //if true, items in a collection, are separated by a \\n, else just a space.\n\n\t\t};\n\t\treturn jsDump;\n\t}(); // from Sizzle.js\n\n\n\tfunction getText(elems) {\n\t\tvar i,\n\t\t    elem,\n\t\t    ret = \"\";\n\n\t\tfor (i = 0; elems[i]; i++) {\n\t\t\telem = elems[i]; // Get the text from text nodes and CDATA nodes\n\n\t\t\tif (elem.nodeType === 3 || elem.nodeType === 4) {\n\t\t\t\tret += elem.nodeValue; // Traverse everything else, except comment nodes\n\t\t\t} else if (elem.nodeType !== 8) {\n\t\t\t\tret += getText(elem.childNodes);\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t} // from jquery.js\n\n\n\tfunction inArray(elem, array) {\n\t\tif (array.indexOf) {\n\t\t\treturn array.indexOf(elem);\n\t\t}\n\n\t\tfor (var i = 0, length = array.length; i < length; i++) {\n\t\t\tif (array[i] === elem) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t} /*\n    * Javascript Diff Algorithm\n    *  By John Resig (http://ejohn.org/)\n    *  Modified by Chu Alan \"sprite\"\n    *\n    * Released under the MIT license.\n    *\n    * More Info:\n    *  http://ejohn.org/projects/javascript-diff-algorithm/\n    *\n    * Usage: QUnit.diff(expected, actual)\n    *\n    * QUnit.diff( \"the quick brown fox jumped over\", \"the quick fox jumps over\" ) == \"the  quick <del>brown </del> fox <del>jumped </del><ins>jumps </ins> over\"\n    */\n\n\tQUnit.diff = function () {\n\t\tfunction diff(o, n) {\n\t\t\tvar i,\n\t\t\t    ns = {},\n\t\t\t    os = {};\n\n\t\t\tfor (i = 0; i < n.length; i++) {\n\t\t\t\tif (ns[n[i]] == null) {\n\t\t\t\t\tns[n[i]] = {\n\t\t\t\t\t\trows: [],\n\t\t\t\t\t\to: null\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tns[n[i]].rows.push(i);\n\t\t\t}\n\n\t\t\tfor (i = 0; i < o.length; i++) {\n\t\t\t\tif (os[o[i]] == null) {\n\t\t\t\t\tos[o[i]] = {\n\t\t\t\t\t\trows: [],\n\t\t\t\t\t\tn: null\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tos[o[i]].rows.push(i);\n\t\t\t}\n\n\t\t\tfor (i in meteorBabelHelpers.sanitizeForInObject(ns)) {\n\t\t\t\tif (!hasOwn.call(ns, i)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (ns[i].rows.length == 1 && typeof os[i] != \"undefined\" && os[i].rows.length == 1) {\n\t\t\t\t\tn[ns[i].rows[0]] = {\n\t\t\t\t\t\ttext: n[ns[i].rows[0]],\n\t\t\t\t\t\trow: os[i].rows[0]\n\t\t\t\t\t};\n\t\t\t\t\to[os[i].rows[0]] = {\n\t\t\t\t\t\ttext: o[os[i].rows[0]],\n\t\t\t\t\t\trow: ns[i].rows[0]\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (i = 0; i < n.length - 1; i++) {\n\t\t\t\tif (n[i].text != null && n[i + 1].text == null && n[i].row + 1 < o.length && o[n[i].row + 1].text == null && n[i + 1] == o[n[i].row + 1]) {\n\t\t\t\t\tn[i + 1] = {\n\t\t\t\t\t\ttext: n[i + 1],\n\t\t\t\t\t\trow: n[i].row + 1\n\t\t\t\t\t};\n\t\t\t\t\to[n[i].row + 1] = {\n\t\t\t\t\t\ttext: o[n[i].row + 1],\n\t\t\t\t\t\trow: i + 1\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (i = n.length - 1; i > 0; i--) {\n\t\t\t\tif (n[i].text != null && n[i - 1].text == null && n[i].row > 0 && o[n[i].row - 1].text == null && n[i - 1] == o[n[i].row - 1]) {\n\t\t\t\t\tn[i - 1] = {\n\t\t\t\t\t\ttext: n[i - 1],\n\t\t\t\t\t\trow: n[i].row - 1\n\t\t\t\t\t};\n\t\t\t\t\to[n[i].row - 1] = {\n\t\t\t\t\t\ttext: o[n[i].row - 1],\n\t\t\t\t\t\trow: i - 1\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\to: o,\n\t\t\t\tn: n\n\t\t\t};\n\t\t}\n\n\t\treturn function (o, n) {\n\t\t\to = o.replace(/\\s+$/, \"\");\n\t\t\tn = n.replace(/\\s+$/, \"\");\n\t\t\tvar i,\n\t\t\t    pre,\n\t\t\t    str = \"\",\n\t\t\t    out = diff(o === \"\" ? [] : o.split(/\\s+/), n === \"\" ? [] : n.split(/\\s+/)),\n\t\t\t    oSpace = o.match(/\\s+/g),\n\t\t\t    nSpace = n.match(/\\s+/g);\n\n\t\t\tif (oSpace == null) {\n\t\t\t\toSpace = [\" \"];\n\t\t\t} else {\n\t\t\t\toSpace.push(\" \");\n\t\t\t}\n\n\t\t\tif (nSpace == null) {\n\t\t\t\tnSpace = [\" \"];\n\t\t\t} else {\n\t\t\t\tnSpace.push(\" \");\n\t\t\t}\n\n\t\t\tif (out.n.length === 0) {\n\t\t\t\tfor (i = 0; i < out.o.length; i++) {\n\t\t\t\t\tstr += \"<del>\" + out.o[i] + oSpace[i] + \"</del>\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (out.n[0].text == null) {\n\t\t\t\t\tfor (n = 0; n < out.o.length && out.o[n].text == null; n++) {\n\t\t\t\t\t\tstr += \"<del>\" + out.o[n] + oSpace[n] + \"</del>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (i = 0; i < out.n.length; i++) {\n\t\t\t\t\tif (out.n[i].text == null) {\n\t\t\t\t\t\tstr += \"<ins>\" + out.n[i] + nSpace[i] + \"</ins>\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// `pre` initialized at top of scope\n\t\t\t\t\t\tpre = \"\";\n\n\t\t\t\t\t\tfor (n = out.n[i].row + 1; n < out.o.length && out.o[n].text == null; n++) {\n\t\t\t\t\t\t\tpre += \"<del>\" + out.o[n] + oSpace[n] + \"</del>\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstr += \" \" + out.n[i].text + nSpace[i] + pre;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn str;\n\t\t};\n\t}(); // for CommonJS enviroments, export everything\n\n\n\tif (typeof exports !== \"undefined\") {\n\t\textend(exports, QUnit);\n\t} // get at whatever the global object is, like window in browsers\n\n})(function () {\n\treturn this;\n}.call());","map":{"version":3,"sources":["packages/zurb:foundation-sites/vendor/modernizr/test/qunit/qunit.js"],"names":["window","QUnit","config","onErrorFnPrev","testId","fileName","sourceFromStacktrace","replace","toString","Object","prototype","hasOwn","hasOwnProperty","defined","setTimeout","sessionStorage","x","setItem","removeItem","e","Test","settings","extend","assertions","testNumber","count","init","a","b","li","tests","id","document","createElement","innerHTML","name","href","url","appendChild","className","setup","module","previousModule","runLoggingCallbacks","failed","moduleStats","bad","passed","all","total","autorun","current","testEnvironment","teardown","moduleTestEnvironment","testName","current_testEnvironment","pollution","saveGlobal","notrycatch","call","pushFailure","message","extractStacktrace","run","running","async","stop","callback","assert","length","stack","blocking","start","checkPollution","finish","requireExpects","expected","assertion","i","ol","test","good","stats","result","reorder","style","display","addEvent","next","nextSibling","target","event","srcElement","nodeName","toLowerCase","parentNode","location","removeChild","firstChild","reset","undefined","queue","synchronize","getItem","currentModule","currentModuleTestEnviroment","asyncTest","arguments","escapeInnerText","validTest","expect","asserts","semaphore","timeout","clearTimeout","process","testTimeout","ok","msg","Error","source","details","push","equal","actual","notEqual","deepEqual","equiv","notDeepEqual","strictEqual","notStrictEqual","throws","block","ignoreGlobalErrors","objectType","raises","equals","same","F","constructor","hidepassed","altertitle","urlConfig","label","tooltip","begin","done","log","testStart","testDone","moduleStart","moduleDone","search","protocol","params","slice","split","urlParams","decodeURIComponent","filter","parseInt","isLocal","exports","started","Date","updateRate","autostart","banner","qunit","title","insertBefore","fixture","jQuery","html","triggerEvent","elem","type","createEvent","initMouseEvent","ownerDocument","defaultView","dispatchEvent","fireEvent","is","obj","match","isNaN","output","jsDump","parse","diff","key","querystring","encodeURIComponent","pathname","registerLoggingCallback","readyState","load","len","main","toolbar","userAgent","val","urlConfigCheckboxes","urlConfigHtml","oldconfig","navigator","tmp","getElementById","checked","setAttribute","onerror","error","filePath","linerNr","ret","runtime","join","indexOf","include","fullName","charAt","offset","regex","stacktrace","shift","sourceURL","line","s","last","getTime","depth","noglobals","newGlobals","deletedGlobals","old","j","splice","prop","fn","addEventListener","attachEvent","scope","args","callbacks","bindCallbacks","o","apply","innerEquiv","callers","parents","getProto","getPrototypeOf","__proto__","useStrictEquality","valueOf","global","ignoreCase","multiline","caller","loop","pop","eq","aProperties","bProperties","sort","callee","quote","str","literal","pre","arr","post","separator","base","indent","inner","array","Array","up","down","reName","inStack","res","parser","parsers","typeOf","inArray","setInterval","nodeType","item","HTML","extra","chr","indentChar","_depth_","setParser","unknown","exec","nodelist","object","map","keys","node","open","close","tag","DOMAttrs","functionArgs","l","String","fromCharCode","functionCode","attribute","string","date","regexp","number","getText","elems","nodeValue","childNodes","n","ns","os","rows","text","row","out","oSpace","nSpace"],"mappings":"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","file":"packages/zurb:foundation-sites/vendor/modernizr/test/qunit/qunit.js.map","sourcesContent":["/**\n * QUnit v1.9.0 - A JavaScript Unit Testing Framework\n *\n * http://docs.jquery.com/QUnit\n *\n * Copyright (c) 2012 John Resig, Jörn Zaefferer\n * Dual licensed under the MIT (MIT-LICENSE.txt)\n * or GPL (GPL-LICENSE.txt) licenses.\n */\n\n(function( window ) {\n\nvar QUnit,\n\tconfig,\n\tonErrorFnPrev,\n\ttestId = 0,\n\tfileName = (sourceFromStacktrace( 0 ) || \"\" ).replace(/(:\\d+)+\\)?/, \"\").replace(/.+\\//, \"\"),\n\ttoString = Object.prototype.toString,\n\thasOwn = Object.prototype.hasOwnProperty,\n\tdefined = {\n\tsetTimeout: typeof window.setTimeout !== \"undefined\",\n\tsessionStorage: (function() {\n\t\tvar x = \"qunit-test-string\";\n\t\ttry {\n\t\t\tsessionStorage.setItem( x, x );\n\t\t\tsessionStorage.removeItem( x );\n\t\t\treturn true;\n\t\t} catch( e ) {\n\t\t\treturn false;\n\t\t}\n\t}())\n};\n\nfunction Test( settings ) {\n\textend( this, settings );\n\tthis.assertions = [];\n\tthis.testNumber = ++Test.count;\n}\n\nTest.count = 0;\n\nTest.prototype = {\n\tinit: function() {\n\t\tvar a, b, li,\n        tests = id( \"qunit-tests\" );\n\n\t\tif ( tests ) {\n\t\t\tb = document.createElement( \"strong\" );\n\t\t\tb.innerHTML = this.name;\n\n\t\t\t// `a` initialized at top of scope\n\t\t\ta = document.createElement( \"a\" );\n\t\t\ta.innerHTML = \"Rerun\";\n\t\t\ta.href = QUnit.url({ testNumber: this.testNumber });\n\n\t\t\tli = document.createElement( \"li\" );\n\t\t\tli.appendChild( b );\n\t\t\tli.appendChild( a );\n\t\t\tli.className = \"running\";\n\t\t\tli.id = this.id = \"qunit-test-output\" + testId++;\n\n\t\t\ttests.appendChild( li );\n\t\t}\n\t},\n\tsetup: function() {\n\t\tif ( this.module !== config.previousModule ) {\n\t\t\tif ( config.previousModule ) {\n\t\t\t\trunLoggingCallbacks( \"moduleDone\", QUnit, {\n\t\t\t\t\tname: config.previousModule,\n\t\t\t\t\tfailed: config.moduleStats.bad,\n\t\t\t\t\tpassed: config.moduleStats.all - config.moduleStats.bad,\n\t\t\t\t\ttotal: config.moduleStats.all\n\t\t\t\t});\n\t\t\t}\n\t\t\tconfig.previousModule = this.module;\n\t\t\tconfig.moduleStats = { all: 0, bad: 0 };\n\t\t\trunLoggingCallbacks( \"moduleStart\", QUnit, {\n\t\t\t\tname: this.module\n\t\t\t});\n\t\t} else if ( config.autorun ) {\n\t\t\trunLoggingCallbacks( \"moduleStart\", QUnit, {\n\t\t\t\tname: this.module\n\t\t\t});\n\t\t}\n\n\t\tconfig.current = this;\n\n\t\tthis.testEnvironment = extend({\n\t\t\tsetup: function() {},\n\t\t\tteardown: function() {}\n\t\t}, this.moduleTestEnvironment );\n\n\t\trunLoggingCallbacks( \"testStart\", QUnit, {\n\t\t\tname: this.testName,\n\t\t\tmodule: this.module\n\t\t});\n\n\t\t// allow utility functions to access the current test environment\n\t\t// TODO why??\n\t\tQUnit.current_testEnvironment = this.testEnvironment;\n\n\t\tif ( !config.pollution ) {\n\t\t\tsaveGlobal();\n\t\t}\n\t\tif ( config.notrycatch ) {\n\t\t\tthis.testEnvironment.setup.call( this.testEnvironment );\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tthis.testEnvironment.setup.call( this.testEnvironment );\n\t\t} catch( e ) {\n\t\t\tQUnit.pushFailure( \"Setup failed on \" + this.testName + \": \" + e.message, extractStacktrace( e, 1 ) );\n\t\t}\n\t},\n\trun: function() {\n\t\tconfig.current = this;\n\n\t\tvar running = id( \"qunit-testresult\" );\n\n\t\tif ( running ) {\n\t\t\trunning.innerHTML = \"Running: <br/>\" + this.name;\n\t\t}\n\n\t\tif ( this.async ) {\n\t\t\tQUnit.stop();\n\t\t}\n\n\t\tif ( config.notrycatch ) {\n\t\t\tthis.callback.call( this.testEnvironment, QUnit.assert );\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tthis.callback.call( this.testEnvironment, QUnit.assert );\n\t\t} catch( e ) {\n\t\t\tQUnit.pushFailure( \"Died on test #\" + (this.assertions.length + 1) + \" \" + this.stack + \": \" + e.message, extractStacktrace( e, 0 ) );\n\t\t\t// else next test will carry the responsibility\n\t\t\tsaveGlobal();\n\n\t\t\t// Restart the tests if they're blocking\n\t\t\tif ( config.blocking ) {\n\t\t\t\tQUnit.start();\n\t\t\t}\n\t\t}\n\t},\n\tteardown: function() {\n\t\tconfig.current = this;\n\t\tif ( config.notrycatch ) {\n\t\t\tthis.testEnvironment.teardown.call( this.testEnvironment );\n\t\t\treturn;\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tthis.testEnvironment.teardown.call( this.testEnvironment );\n\t\t\t} catch( e ) {\n\t\t\t\tQUnit.pushFailure( \"Teardown failed on \" + this.testName + \": \" + e.message, extractStacktrace( e, 1 ) );\n\t\t\t}\n\t\t}\n\t\tcheckPollution();\n\t},\n\tfinish: function() {\n\t\tconfig.current = this;\n\t\tif ( config.requireExpects && this.expected == null ) {\n\t\t\tQUnit.pushFailure( \"Expected number of assertions to be defined, but expect() was not called.\", this.stack );\n\t\t} else if ( this.expected != null && this.expected != this.assertions.length ) {\n\t\t\tQUnit.pushFailure( \"Expected \" + this.expected + \" assertions, but \" + this.assertions.length + \" were run\", this.stack );\n\t\t} else if ( this.expected == null && !this.assertions.length ) {\n\t\t\tQUnit.pushFailure( \"Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.\", this.stack );\n\t\t}\n\n\t\tvar assertion, a, b, i, li, ol,\n\t\t\ttest = this,\n\t\t\tgood = 0,\n\t\t\tbad = 0,\n\t\t\ttests = id( \"qunit-tests\" );\n\n\t\tconfig.stats.all += this.assertions.length;\n\t\tconfig.moduleStats.all += this.assertions.length;\n\n\t\tif ( tests ) {\n\t\t\tol = document.createElement( \"ol\" );\n\n\t\t\tfor ( i = 0; i < this.assertions.length; i++ ) {\n\t\t\t\tassertion = this.assertions[i];\n\n\t\t\t\tli = document.createElement( \"li\" );\n\t\t\t\tli.className = assertion.result ? \"pass\" : \"fail\";\n\t\t\t\tli.innerHTML = assertion.message || ( assertion.result ? \"okay\" : \"failed\" );\n\t\t\t\tol.appendChild( li );\n\n\t\t\t\tif ( assertion.result ) {\n\t\t\t\t\tgood++;\n\t\t\t\t} else {\n\t\t\t\t\tbad++;\n\t\t\t\t\tconfig.stats.bad++;\n\t\t\t\t\tconfig.moduleStats.bad++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// store result when possible\n\t\t\tif ( QUnit.config.reorder && defined.sessionStorage ) {\n\t\t\t\tif ( bad ) {\n\t\t\t\t\tsessionStorage.setItem( \"qunit-test-\" + this.module + \"-\" + this.testName, bad );\n\t\t\t\t} else {\n\t\t\t\t\tsessionStorage.removeItem( \"qunit-test-\" + this.module + \"-\" + this.testName );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( bad === 0 ) {\n\t\t\t\tol.style.display = \"none\";\n\t\t\t}\n\n\t\t\t// `b` initialized at top of scope\n\t\t\tb = document.createElement( \"strong\" );\n\t\t\tb.innerHTML = this.name + \" <b class='counts'>(<b class='failed'>\" + bad + \"</b>, <b class='passed'>\" + good + \"</b>, \" + this.assertions.length + \")</b>\";\n\n\t\t\taddEvent(b, \"click\", function() {\n\t\t\t\tvar next = b.nextSibling.nextSibling,\n\t\t\t\t\tdisplay = next.style.display;\n\t\t\t\tnext.style.display = display === \"none\" ? \"block\" : \"none\";\n\t\t\t});\n\n\t\t\taddEvent(b, \"dblclick\", function( e ) {\n\t\t\t\tvar target = e && e.target ? e.target : window.event.srcElement;\n\t\t\t\tif ( target.nodeName.toLowerCase() == \"span\" || target.nodeName.toLowerCase() == \"b\" ) {\n\t\t\t\t\ttarget = target.parentNode;\n\t\t\t\t}\n\t\t\t\tif ( window.location && target.nodeName.toLowerCase() === \"strong\" ) {\n\t\t\t\t\twindow.location = QUnit.url({ testNumber: test.testNumber });\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// `li` initialized at top of scope\n\t\t\tli = id( this.id );\n\t\t\tli.className = bad ? \"fail\" : \"pass\";\n\t\t\tli.removeChild( li.firstChild );\n\t\t\ta = li.firstChild;\n\t\t\tli.appendChild( b );\n\t\t\tli.appendChild ( a );\n\t\t\tli.appendChild( ol );\n\n\t\t} else {\n\t\t\tfor ( i = 0; i < this.assertions.length; i++ ) {\n\t\t\t\tif ( !this.assertions[i].result ) {\n\t\t\t\t\tbad++;\n\t\t\t\t\tconfig.stats.bad++;\n\t\t\t\t\tconfig.moduleStats.bad++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trunLoggingCallbacks( \"testDone\", QUnit, {\n\t\t\tname: this.testName,\n\t\t\tmodule: this.module,\n\t\t\tfailed: bad,\n\t\t\tpassed: this.assertions.length - bad,\n\t\t\ttotal: this.assertions.length\n\t\t});\n\n\t\tQUnit.reset();\n\n\t\tconfig.current = undefined;\n\t},\n\n\tqueue: function() {\n\t\tvar bad,\n\t\t\ttest = this;\n\n\t\tsynchronize(function() {\n\t\t\ttest.init();\n\t\t});\n\t\tfunction run() {\n\t\t\t// each of these can by async\n\t\t\tsynchronize(function() {\n\t\t\t\ttest.setup();\n\t\t\t});\n\t\t\tsynchronize(function() {\n\t\t\t\ttest.run();\n\t\t\t});\n\t\t\tsynchronize(function() {\n\t\t\t\ttest.teardown();\n\t\t\t});\n\t\t\tsynchronize(function() {\n\t\t\t\ttest.finish();\n\t\t\t});\n\t\t}\n\n\t\t// `bad` initialized at top of scope\n\t\t// defer when previous test run passed, if storage is available\n\t\tbad = QUnit.config.reorder && defined.sessionStorage &&\n\t\t\t\t\t\t+sessionStorage.getItem( \"qunit-test-\" + this.module + \"-\" + this.testName );\n\n\t\tif ( bad ) {\n\t\t\trun();\n\t\t} else {\n\t\t\tsynchronize( run, true );\n\t\t}\n\t}\n};\n\n// Root QUnit object.\n// `QUnit` initialized at top of scope\nQUnit = {\n\n\t// call on start of module test to prepend name to all tests\n\tmodule: function( name, testEnvironment ) {\n\t\tconfig.currentModule = name;\n\t\tconfig.currentModuleTestEnviroment = testEnvironment;\n\t},\n\n\tasyncTest: function( testName, expected, callback ) {\n\t\tif ( arguments.length === 2 ) {\n\t\t\tcallback = expected;\n\t\t\texpected = null;\n\t\t}\n\n\t\tQUnit.test( testName, expected, callback, true );\n\t},\n\n\ttest: function( testName, expected, callback, async ) {\n\t\tvar test,\n\t\t\tname = \"<span class='test-name'>\" + escapeInnerText( testName ) + \"</span>\";\n\n\t\tif ( arguments.length === 2 ) {\n\t\t\tcallback = expected;\n\t\t\texpected = null;\n\t\t}\n\n\t\tif ( config.currentModule ) {\n\t\t\tname = \"<span class='module-name'>\" + config.currentModule + \"</span>: \" + name;\n\t\t}\n\n\t\ttest = new Test({\n\t\t\tname: name,\n\t\t\ttestName: testName,\n\t\t\texpected: expected,\n\t\t\tasync: async,\n\t\t\tcallback: callback,\n\t\t\tmodule: config.currentModule,\n\t\t\tmoduleTestEnvironment: config.currentModuleTestEnviroment,\n\t\t\tstack: sourceFromStacktrace( 2 )\n\t\t});\n\n\t\tif ( !validTest( test ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttest.queue();\n\t},\n\n\t// Specify the number of expected assertions to gurantee that failed test (no assertions are run at all) don't slip through.\n\texpect: function( asserts ) {\n\t\tconfig.current.expected = asserts;\n\t},\n\n\tstart: function( count ) {\n\t\tconfig.semaphore -= count || 1;\n\t\t// don't start until equal number of stop-calls\n\t\tif ( config.semaphore > 0 ) {\n\t\t\treturn;\n\t\t}\n\t\t// ignore if start is called more often then stop\n\t\tif ( config.semaphore < 0 ) {\n\t\t\tconfig.semaphore = 0;\n\t\t}\n\t\t// A slight delay, to avoid any current callbacks\n\t\tif ( defined.setTimeout ) {\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tif ( config.semaphore > 0 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( config.timeout ) {\n\t\t\t\t\tclearTimeout( config.timeout );\n\t\t\t\t}\n\n\t\t\t\tconfig.blocking = false;\n\t\t\t\tprocess( true );\n\t\t\t}, 13);\n\t\t} else {\n\t\t\tconfig.blocking = false;\n\t\t\tprocess( true );\n\t\t}\n\t},\n\n\tstop: function( count ) {\n\t\tconfig.semaphore += count || 1;\n\t\tconfig.blocking = true;\n\n\t\tif ( config.testTimeout && defined.setTimeout ) {\n\t\t\tclearTimeout( config.timeout );\n\t\t\tconfig.timeout = window.setTimeout(function() {\n\t\t\t\tQUnit.ok( false, \"Test timed out\" );\n\t\t\t\tconfig.semaphore = 1;\n\t\t\t\tQUnit.start();\n\t\t\t}, config.testTimeout );\n\t\t}\n\t}\n};\n\n// Asssert helpers\n// All of these must call either QUnit.push() or manually do:\n// - runLoggingCallbacks( \"log\", .. );\n// - config.current.assertions.push({ .. });\nQUnit.assert = {\n\t/**\n\t * Asserts rough true-ish result.\n\t * @name ok\n\t * @function\n\t * @example ok( \"asdfasdf\".length > 5, \"There must be at least 5 chars\" );\n\t */\n\tok: function( result, msg ) {\n\t\tif ( !config.current ) {\n\t\t\tthrow new Error( \"ok() assertion outside test context, was \" + sourceFromStacktrace(2) );\n\t\t}\n\t\tresult = !!result;\n\n\t\tvar source,\n\t\t\tdetails = {\n\t\t\t\tresult: result,\n\t\t\t\tmessage: msg\n\t\t\t};\n\n\t\tmsg = escapeInnerText( msg || (result ? \"okay\" : \"failed\" ) );\n\t\tmsg = \"<span class='test-message'>\" + msg + \"</span>\";\n\n\t\tif ( !result ) {\n\t\t\tsource = sourceFromStacktrace( 2 );\n\t\t\tif ( source ) {\n\t\t\t\tdetails.source = source;\n\t\t\t\tmsg += \"<table><tr class='test-source'><th>Source: </th><td><pre>\" + escapeInnerText( source ) + \"</pre></td></tr></table>\";\n\t\t\t}\n\t\t}\n\t\trunLoggingCallbacks( \"log\", QUnit, details );\n\t\tconfig.current.assertions.push({\n\t\t\tresult: result,\n\t\t\tmessage: msg\n\t\t});\n\t},\n\n\t/**\n\t * Assert that the first two arguments are equal, with an optional message.\n\t * Prints out both actual and expected values.\n\t * @name equal\n\t * @function\n\t * @example equal( format( \"Received {0} bytes.\", 2), \"Received 2 bytes.\", \"format() replaces {0} with next argument\" );\n\t */\n\tequal: function( actual, expected, message ) {\n\t\tQUnit.push( expected == actual, actual, expected, message );\n\t},\n\n\t/**\n\t * @name notEqual\n\t * @function\n\t */\n\tnotEqual: function( actual, expected, message ) {\n\t\tQUnit.push( expected != actual, actual, expected, message );\n\t},\n\n\t/**\n\t * @name deepEqual\n\t * @function\n\t */\n\tdeepEqual: function( actual, expected, message ) {\n\t\tQUnit.push( QUnit.equiv(actual, expected), actual, expected, message );\n\t},\n\n\t/**\n\t * @name notDeepEqual\n\t * @function\n\t */\n\tnotDeepEqual: function( actual, expected, message ) {\n\t\tQUnit.push( !QUnit.equiv(actual, expected), actual, expected, message );\n\t},\n\n\t/**\n\t * @name strictEqual\n\t * @function\n\t */\n\tstrictEqual: function( actual, expected, message ) {\n\t\tQUnit.push( expected === actual, actual, expected, message );\n\t},\n\n\t/**\n\t * @name notStrictEqual\n\t * @function\n\t */\n\tnotStrictEqual: function( actual, expected, message ) {\n\t\tQUnit.push( expected !== actual, actual, expected, message );\n\t},\n\n\tthrows: function( block, expected, message ) {\n\t\tvar actual,\n\t\t\tok = false;\n\n\t\t// 'expected' is optional\n\t\tif ( typeof expected === \"string\" ) {\n\t\t\tmessage = expected;\n\t\t\texpected = null;\n\t\t}\n\n\t\tconfig.current.ignoreGlobalErrors = true;\n\t\ttry {\n\t\t\tblock.call( config.current.testEnvironment );\n\t\t} catch (e) {\n\t\t\tactual = e;\n\t\t}\n\t\tconfig.current.ignoreGlobalErrors = false;\n\n\t\tif ( actual ) {\n\t\t\t// we don't want to validate thrown error\n\t\t\tif ( !expected ) {\n\t\t\t\tok = true;\n\t\t\t// expected is a regexp\n\t\t\t} else if ( QUnit.objectType( expected ) === \"regexp\" ) {\n\t\t\t\tok = expected.test( actual );\n\t\t\t// expected is a constructor\n\t\t\t} else if ( actual instanceof expected ) {\n\t\t\t\tok = true;\n\t\t\t// expected is a validation function which returns true is validation passed\n\t\t\t} else if ( expected.call( {}, actual ) === true ) {\n\t\t\t\tok = true;\n\t\t\t}\n\n\t\t\tQUnit.push( ok, actual, null, message );\n\t\t} else {\n\t\t\tQUnit.pushFailure( message, null, 'No exception was thrown.' );\n\t\t}\n\t}\n};\n\n/**\n * @deprecate since 1.8.0\n * Kept assertion helpers in root for backwards compatibility\n */\nextend( QUnit, QUnit.assert );\n\n/**\n * @deprecated since 1.9.0\n * Kept global \"raises()\" for backwards compatibility\n */\nQUnit.raises = QUnit.assert.throws;\n\n/**\n * @deprecated since 1.0.0, replaced with error pushes since 1.3.0\n * Kept to avoid TypeErrors for undefined methods.\n */\nQUnit.equals = function() {\n\tQUnit.push( false, false, false, \"QUnit.equals has been deprecated since 2009 (e88049a0), use QUnit.equal instead\" );\n};\nQUnit.same = function() {\n\tQUnit.push( false, false, false, \"QUnit.same has been deprecated since 2009 (e88049a0), use QUnit.deepEqual instead\" );\n};\n\n// We want access to the constructor's prototype\n(function() {\n\tfunction F() {}\n\tF.prototype = QUnit;\n\tQUnit = new F();\n\t// Make F QUnit's constructor so that we can add to the prototype later\n\tQUnit.constructor = F;\n}());\n\n/**\n * Config object: Maintain internal state\n * Later exposed as QUnit.config\n * `config` initialized at top of scope\n */\nconfig = {\n\t// The queue of tests to run\n\tqueue: [],\n\n\t// block until document ready\n\tblocking: true,\n\n\t// when enabled, show only failing tests\n\t// gets persisted through sessionStorage and can be changed in UI via checkbox\n\thidepassed: false,\n\n\t// by default, run previously failed tests first\n\t// very useful in combination with \"Hide passed tests\" checked\n\treorder: true,\n\n\t// by default, modify document.title when suite is done\n\taltertitle: true,\n\n\t// when enabled, all tests must call expect()\n\trequireExpects: false,\n\n\t// add checkboxes that are persisted in the query-string\n\t// when enabled, the id is set to `true` as a `QUnit.config` property\n\turlConfig: [\n\t\t{\n\t\t\tid: \"noglobals\",\n\t\t\tlabel: \"Check for Globals\",\n\t\t\ttooltip: \"Enabling this will test if any test introduces new properties on the `window` object. Stored as query-strings.\"\n\t\t},\n\t\t{\n\t\t\tid: \"notrycatch\",\n\t\t\tlabel: \"No try-catch\",\n\t\t\ttooltip: \"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings.\"\n\t\t}\n\t],\n\n\t// logging callback queues\n\tbegin: [],\n\tdone: [],\n\tlog: [],\n\ttestStart: [],\n\ttestDone: [],\n\tmoduleStart: [],\n\tmoduleDone: []\n};\n\n// Initialize more QUnit.config and QUnit.urlParams\n(function() {\n\tvar i,\n\t\tlocation = window.location || { search: \"\", protocol: \"file:\" },\n\t\tparams = location.search.slice( 1 ).split( \"&\" ),\n\t\tlength = params.length,\n\t\turlParams = {},\n\t\tcurrent;\n\n\tif ( params[ 0 ] ) {\n\t\tfor ( i = 0; i < length; i++ ) {\n\t\t\tcurrent = params[ i ].split( \"=\" );\n\t\t\tcurrent[ 0 ] = decodeURIComponent( current[ 0 ] );\n\t\t\t// allow just a key to turn on a flag, e.g., test.html?noglobals\n\t\t\tcurrent[ 1 ] = current[ 1 ] ? decodeURIComponent( current[ 1 ] ) : true;\n\t\t\turlParams[ current[ 0 ] ] = current[ 1 ];\n\t\t}\n\t}\n\n\tQUnit.urlParams = urlParams;\n\n\t// String search anywhere in moduleName+testName\n\tconfig.filter = urlParams.filter;\n\n\t// Exact match of the module name\n\tconfig.module = urlParams.module;\n\n\tconfig.testNumber = parseInt( urlParams.testNumber, 10 ) || null;\n\n\t// Figure out if we're running the tests from a server or not\n\tQUnit.isLocal = location.protocol === \"file:\";\n}());\n\n// Export global variables, unless an 'exports' object exists,\n// in that case we assume we're in CommonJS (dealt with on the bottom of the script)\nif ( typeof exports === \"undefined\" ) {\n\textend( window, QUnit );\n\n\t// Expose QUnit object\n\twindow.QUnit = QUnit;\n}\n\n// Extend QUnit object,\n// these after set here because they should not be exposed as global functions\nextend( QUnit, {\n\tconfig: config,\n\n\t// Initialize the configuration options\n\tinit: function() {\n\t\textend( config, {\n\t\t\tstats: { all: 0, bad: 0 },\n\t\t\tmoduleStats: { all: 0, bad: 0 },\n\t\t\tstarted: +new Date(),\n\t\t\tupdateRate: 1000,\n\t\t\tblocking: false,\n\t\t\tautostart: true,\n\t\t\tautorun: false,\n\t\t\tfilter: \"\",\n\t\t\tqueue: [],\n\t\t\tsemaphore: 0\n\t\t});\n\n\t\tvar tests, banner, result,\n\t\t\tqunit = id( \"qunit\" );\n\n\t\tif ( qunit ) {\n\t\t\tqunit.innerHTML =\n\t\t\t\t\"<h1 id='qunit-header'>\" + escapeInnerText( document.title ) + \"</h1>\" +\n\t\t\t\t\"<h2 id='qunit-banner'></h2>\" +\n\t\t\t\t\"<div id='qunit-testrunner-toolbar'></div>\" +\n\t\t\t\t\"<h2 id='qunit-userAgent'></h2>\" +\n\t\t\t\t\"<ol id='qunit-tests'></ol>\";\n\t\t}\n\n\t\ttests = id( \"qunit-tests\" );\n\t\tbanner = id( \"qunit-banner\" );\n\t\tresult = id( \"qunit-testresult\" );\n\n\t\tif ( tests ) {\n\t\t\ttests.innerHTML = \"\";\n\t\t}\n\n\t\tif ( banner ) {\n\t\t\tbanner.className = \"\";\n\t\t}\n\n\t\tif ( result ) {\n\t\t\tresult.parentNode.removeChild( result );\n\t\t}\n\n\t\tif ( tests ) {\n\t\t\tresult = document.createElement( \"p\" );\n\t\t\tresult.id = \"qunit-testresult\";\n\t\t\tresult.className = \"result\";\n\t\t\ttests.parentNode.insertBefore( result, tests );\n\t\t\tresult.innerHTML = \"Running...<br/>&nbsp;\";\n\t\t}\n\t},\n\n\t// Resets the test setup. Useful for tests that modify the DOM.\n\t// If jQuery is available, uses jQuery's html(), otherwise just innerHTML.\n\treset: function() {\n\t\tvar fixture;\n\n\t\tif ( window.jQuery ) {\n\t\t\tjQuery( \"#qunit-fixture\" ).html( config.fixture );\n\t\t} else {\n\t\t\tfixture = id( \"qunit-fixture\" );\n\t\t\tif ( fixture ) {\n\t\t\t\tfixture.innerHTML = config.fixture;\n\t\t\t}\n\t\t}\n\t},\n\n\t// Trigger an event on an element.\n\t// @example triggerEvent( document.body, \"click\" );\n\ttriggerEvent: function( elem, type, event ) {\n\t\tif ( document.createEvent ) {\n\t\t\tevent = document.createEvent( \"MouseEvents\" );\n\t\t\tevent.initMouseEvent(type, true, true, elem.ownerDocument.defaultView,\n\t\t\t\t0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n\t\t\telem.dispatchEvent( event );\n\t\t} else if ( elem.fireEvent ) {\n\t\t\telem.fireEvent( \"on\" + type );\n\t\t}\n\t},\n\n\t// Safe object type checking\n\tis: function( type, obj ) {\n\t\treturn QUnit.objectType( obj ) == type;\n\t},\n\n\tobjectType: function( obj ) {\n\t\tif ( typeof obj === \"undefined\" ) {\n\t\t\t\treturn \"undefined\";\n\t\t// consider: typeof null === object\n\t\t}\n\t\tif ( obj === null ) {\n\t\t\t\treturn \"null\";\n\t\t}\n\n\t\tvar type = toString.call( obj ).match(/^\\[object\\s(.*)\\]$/)[1] || \"\";\n\n\t\tswitch ( type ) {\n\t\t\tcase \"Number\":\n\t\t\t\tif ( isNaN(obj) ) {\n\t\t\t\t\treturn \"nan\";\n\t\t\t\t}\n\t\t\t\treturn \"number\";\n\t\t\tcase \"String\":\n\t\t\tcase \"Boolean\":\n\t\t\tcase \"Array\":\n\t\t\tcase \"Date\":\n\t\t\tcase \"RegExp\":\n\t\t\tcase \"Function\":\n\t\t\t\treturn type.toLowerCase();\n\t\t}\n\t\tif ( typeof obj === \"object\" ) {\n\t\t\treturn \"object\";\n\t\t}\n\t\treturn undefined;\n\t},\n\n\tpush: function( result, actual, expected, message ) {\n\t\tif ( !config.current ) {\n\t\t\tthrow new Error( \"assertion outside test context, was \" + sourceFromStacktrace() );\n\t\t}\n\n\t\tvar output, source,\n\t\t\tdetails = {\n\t\t\t\tresult: result,\n\t\t\t\tmessage: message,\n\t\t\t\tactual: actual,\n\t\t\t\texpected: expected\n\t\t\t};\n\n\t\tmessage = escapeInnerText( message ) || ( result ? \"okay\" : \"failed\" );\n\t\tmessage = \"<span class='test-message'>\" + message + \"</span>\";\n\t\toutput = message;\n\n\t\tif ( !result ) {\n\t\t\texpected = escapeInnerText( QUnit.jsDump.parse(expected) );\n\t\t\tactual = escapeInnerText( QUnit.jsDump.parse(actual) );\n\t\t\toutput += \"<table><tr class='test-expected'><th>Expected: </th><td><pre>\" + expected + \"</pre></td></tr>\";\n\n\t\t\tif ( actual != expected ) {\n\t\t\t\toutput += \"<tr class='test-actual'><th>Result: </th><td><pre>\" + actual + \"</pre></td></tr>\";\n\t\t\t\toutput += \"<tr class='test-diff'><th>Diff: </th><td><pre>\" + QUnit.diff( expected, actual ) + \"</pre></td></tr>\";\n\t\t\t}\n\n\t\t\tsource = sourceFromStacktrace();\n\n\t\t\tif ( source ) {\n\t\t\t\tdetails.source = source;\n\t\t\t\toutput += \"<tr class='test-source'><th>Source: </th><td><pre>\" + escapeInnerText( source ) + \"</pre></td></tr>\";\n\t\t\t}\n\n\t\t\toutput += \"</table>\";\n\t\t}\n\n\t\trunLoggingCallbacks( \"log\", QUnit, details );\n\n\t\tconfig.current.assertions.push({\n\t\t\tresult: !!result,\n\t\t\tmessage: output\n\t\t});\n\t},\n\n\tpushFailure: function( message, source, actual ) {\n\t\tif ( !config.current ) {\n\t\t\tthrow new Error( \"pushFailure() assertion outside test context, was \" + sourceFromStacktrace(2) );\n\t\t}\n\n\t\tvar output,\n\t\t\tdetails = {\n\t\t\t\tresult: false,\n\t\t\t\tmessage: message\n\t\t\t};\n\n\t\tmessage = escapeInnerText( message ) || \"error\";\n\t\tmessage = \"<span class='test-message'>\" + message + \"</span>\";\n\t\toutput = message;\n\n\t\toutput += \"<table>\";\n\n\t\tif ( actual ) {\n\t\t\toutput += \"<tr class='test-actual'><th>Result: </th><td><pre>\" + escapeInnerText( actual ) + \"</pre></td></tr>\";\n\t\t}\n\n\t\tif ( source ) {\n\t\t\tdetails.source = source;\n\t\t\toutput += \"<tr class='test-source'><th>Source: </th><td><pre>\" + escapeInnerText( source ) + \"</pre></td></tr>\";\n\t\t}\n\n\t\toutput += \"</table>\";\n\n\t\trunLoggingCallbacks( \"log\", QUnit, details );\n\n\t\tconfig.current.assertions.push({\n\t\t\tresult: false,\n\t\t\tmessage: output\n\t\t});\n\t},\n\n\turl: function( params ) {\n\t\tparams = extend( extend( {}, QUnit.urlParams ), params );\n\t\tvar key,\n\t\t\tquerystring = \"?\";\n\n\t\tfor ( key in params ) {\n\t\t\tif ( !hasOwn.call( params, key ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tquerystring += encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( params[ key ] ) + \"&\";\n\t\t}\n\t\treturn window.location.pathname + querystring.slice( 0, -1 );\n\t},\n\n\textend: extend,\n\tid: id,\n\taddEvent: addEvent\n\t// load, equiv, jsDump, diff: Attached later\n});\n\n/**\n * @deprecated: Created for backwards compatibility with test runner that set the hook function\n * into QUnit.{hook}, instead of invoking it and passing the hook function.\n * QUnit.constructor is set to the empty F() above so that we can add to it's prototype here.\n * Doing this allows us to tell if the following methods have been overwritten on the actual\n * QUnit object.\n */\nextend( QUnit.constructor.prototype, {\n\n\t// Logging callbacks; all receive a single argument with the listed properties\n\t// run test/logs.html for any related changes\n\tbegin: registerLoggingCallback( \"begin\" ),\n\n\t// done: { failed, passed, total, runtime }\n\tdone: registerLoggingCallback( \"done\" ),\n\n\t// log: { result, actual, expected, message }\n\tlog: registerLoggingCallback( \"log\" ),\n\n\t// testStart: { name }\n\ttestStart: registerLoggingCallback( \"testStart\" ),\n\n\t// testDone: { name, failed, passed, total }\n\ttestDone: registerLoggingCallback( \"testDone\" ),\n\n\t// moduleStart: { name }\n\tmoduleStart: registerLoggingCallback( \"moduleStart\" ),\n\n\t// moduleDone: { name, failed, passed, total }\n\tmoduleDone: registerLoggingCallback( \"moduleDone\" )\n});\n\nif ( typeof document === \"undefined\" || document.readyState === \"complete\" ) {\n\tconfig.autorun = true;\n}\n\nQUnit.load = function() {\n\trunLoggingCallbacks( \"begin\", QUnit, {} );\n\n\t// Initialize the config, saving the execution queue\n\tvar banner, filter, i, label, len, main, ol, toolbar, userAgent, val, urlConfigCheckboxes,\n\t\turlConfigHtml = \"\",\n\t\toldconfig = extend( {}, config );\n\n\tQUnit.init();\n\textend(config, oldconfig);\n\n\tconfig.blocking = false;\n\n\tlen = config.urlConfig.length;\n\n\tfor ( i = 0; i < len; i++ ) {\n\t\tval = config.urlConfig[i];\n\t\tif ( typeof val === \"string\" ) {\n\t\t\tval = {\n\t\t\t\tid: val,\n\t\t\t\tlabel: val,\n\t\t\t\ttooltip: \"[no tooltip available]\"\n\t\t\t};\n\t\t}\n\t\tconfig[ val.id ] = QUnit.urlParams[ val.id ];\n\t\turlConfigHtml += \"<input id='qunit-urlconfig-\" + val.id + \"' name='\" + val.id + \"' type='checkbox'\" + ( config[ val.id ] ? \" checked='checked'\" : \"\" ) + \" title='\" + val.tooltip + \"'><label for='qunit-urlconfig-\" + val.id + \"' title='\" + val.tooltip + \"'>\" + val.label + \"</label>\";\n\t}\n\n\t// `userAgent` initialized at top of scope\n\tuserAgent = id( \"qunit-userAgent\" );\n\tif ( userAgent ) {\n\t\tuserAgent.innerHTML = navigator.userAgent;\n\t}\n\n\t// `banner` initialized at top of scope\n\tbanner = id( \"qunit-header\" );\n\tif ( banner ) {\n\t\tbanner.innerHTML = \"<a href='\" + QUnit.url({ filter: undefined, module: undefined, testNumber: undefined }) + \"'>\" + banner.innerHTML + \"</a> \";\n\t}\n\n\t// `toolbar` initialized at top of scope\n\ttoolbar = id( \"qunit-testrunner-toolbar\" );\n\tif ( toolbar ) {\n\t\t// `filter` initialized at top of scope\n\t\tfilter = document.createElement( \"input\" );\n\t\tfilter.type = \"checkbox\";\n\t\tfilter.id = \"qunit-filter-pass\";\n\n\t\taddEvent( filter, \"click\", function() {\n\t\t\tvar tmp,\n\t\t\t\tol = document.getElementById( \"qunit-tests\" );\n\n\t\t\tif ( filter.checked ) {\n\t\t\t\tol.className = ol.className + \" hidepass\";\n\t\t\t} else {\n\t\t\t\ttmp = \" \" + ol.className.replace( /[\\n\\t\\r]/g, \" \" ) + \" \";\n\t\t\t\tol.className = tmp.replace( / hidepass /, \" \" );\n\t\t\t}\n\t\t\tif ( defined.sessionStorage ) {\n\t\t\t\tif (filter.checked) {\n\t\t\t\t\tsessionStorage.setItem( \"qunit-filter-passed-tests\", \"true\" );\n\t\t\t\t} else {\n\t\t\t\t\tsessionStorage.removeItem( \"qunit-filter-passed-tests\" );\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif ( config.hidepassed || defined.sessionStorage && sessionStorage.getItem( \"qunit-filter-passed-tests\" ) ) {\n\t\t\tfilter.checked = true;\n\t\t\t// `ol` initialized at top of scope\n\t\t\tol = document.getElementById( \"qunit-tests\" );\n\t\t\tol.className = ol.className + \" hidepass\";\n\t\t}\n\t\ttoolbar.appendChild( filter );\n\n\t\t// `label` initialized at top of scope\n\t\tlabel = document.createElement( \"label\" );\n\t\tlabel.setAttribute( \"for\", \"qunit-filter-pass\" );\n\t\tlabel.setAttribute( \"title\", \"Only show tests and assertons that fail. Stored in sessionStorage.\" );\n\t\tlabel.innerHTML = \"Hide passed tests\";\n\t\ttoolbar.appendChild( label );\n\n\t\turlConfigCheckboxes = document.createElement( 'span' );\n\t\turlConfigCheckboxes.innerHTML = urlConfigHtml;\n\t\taddEvent( urlConfigCheckboxes, \"change\", function( event ) {\n\t\t\tvar params = {};\n\t\t\tparams[ event.target.name ] = event.target.checked ? true : undefined;\n\t\t\twindow.location = QUnit.url( params );\n\t\t});\n\t\ttoolbar.appendChild( urlConfigCheckboxes );\n\t}\n\n\t// `main` initialized at top of scope\n\tmain = id( \"qunit-fixture\" );\n\tif ( main ) {\n\t\tconfig.fixture = main.innerHTML;\n\t}\n\n\tif ( config.autostart ) {\n\t\tQUnit.start();\n\t}\n};\n\naddEvent( window, \"load\", QUnit.load );\n\n// `onErrorFnPrev` initialized at top of scope\n// Preserve other handlers\nonErrorFnPrev = window.onerror;\n\n// Cover uncaught exceptions\n// Returning true will surpress the default browser handler,\n// returning false will let it run.\nwindow.onerror = function ( error, filePath, linerNr ) {\n\tvar ret = false;\n\tif ( onErrorFnPrev ) {\n\t\tret = onErrorFnPrev( error, filePath, linerNr );\n\t}\n\n\t// Treat return value as window.onerror itself does,\n\t// Only do our handling if not surpressed.\n\tif ( ret !== true ) {\n\t\tif ( QUnit.config.current ) {\n\t\t\tif ( QUnit.config.current.ignoreGlobalErrors ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tQUnit.pushFailure( error, filePath + \":\" + linerNr );\n\t\t} else {\n\t\t\tQUnit.test( \"global failure\", function() {\n\t\t\t\tQUnit.pushFailure( error, filePath + \":\" + linerNr );\n\t\t\t});\n\t\t}\n\t\treturn false;\n\t}\n\n\treturn ret;\n};\n\nfunction done() {\n\tconfig.autorun = true;\n\n\t// Log the last module results\n\tif ( config.currentModule ) {\n\t\trunLoggingCallbacks( \"moduleDone\", QUnit, {\n\t\t\tname: config.currentModule,\n\t\t\tfailed: config.moduleStats.bad,\n\t\t\tpassed: config.moduleStats.all - config.moduleStats.bad,\n\t\t\ttotal: config.moduleStats.all\n\t\t});\n\t}\n\n\tvar i, key,\n\t\tbanner = id( \"qunit-banner\" ),\n\t\ttests = id( \"qunit-tests\" ),\n\t\truntime = +new Date() - config.started,\n\t\tpassed = config.stats.all - config.stats.bad,\n\t\thtml = [\n\t\t\t\"Tests completed in \",\n\t\t\truntime,\n\t\t\t\" milliseconds.<br/>\",\n\t\t\t\"<span class='passed'>\",\n\t\t\tpassed,\n\t\t\t\"</span> tests of <span class='total'>\",\n\t\t\tconfig.stats.all,\n\t\t\t\"</span> passed, <span class='failed'>\",\n\t\t\tconfig.stats.bad,\n\t\t\t\"</span> failed.\"\n\t\t].join( \"\" );\n\n\tif ( banner ) {\n\t\tbanner.className = ( config.stats.bad ? \"qunit-fail\" : \"qunit-pass\" );\n\t}\n\n\tif ( tests ) {\n\t\tid( \"qunit-testresult\" ).innerHTML = html;\n\t}\n\n\tif ( config.altertitle && typeof document !== \"undefined\" && document.title ) {\n\t\t// show ✖ for good, ✔ for bad suite result in title\n\t\t// use escape sequences in case file gets loaded with non-utf-8-charset\n\t\tdocument.title = [\n\t\t\t( config.stats.bad ? \"\\u2716\" : \"\\u2714\" ),\n\t\t\tdocument.title.replace( /^[\\u2714\\u2716] /i, \"\" )\n\t\t].join( \" \" );\n\t}\n\n\t// clear own sessionStorage items if all tests passed\n\tif ( config.reorder && defined.sessionStorage && config.stats.bad === 0 ) {\n\t\t// `key` & `i` initialized at top of scope\n\t\tfor ( i = 0; i < sessionStorage.length; i++ ) {\n\t\t\tkey = sessionStorage.key( i++ );\n\t\t\tif ( key.indexOf( \"qunit-test-\" ) === 0 ) {\n\t\t\t\tsessionStorage.removeItem( key );\n\t\t\t}\n\t\t}\n\t}\n\n\trunLoggingCallbacks( \"done\", QUnit, {\n\t\tfailed: config.stats.bad,\n\t\tpassed: passed,\n\t\ttotal: config.stats.all,\n\t\truntime: runtime\n\t});\n}\n\n/** @return Boolean: true if this test should be ran */\nfunction validTest( test ) {\n\tvar include,\n\t\tfilter = config.filter && config.filter.toLowerCase(),\n\t\tmodule = config.module && config.module.toLowerCase(),\n\t\tfullName = (test.module + \": \" + test.testName).toLowerCase();\n\n\tif ( config.testNumber ) {\n\t\treturn test.testNumber === config.testNumber;\n\t}\n\n\tif ( module && ( !test.module || test.module.toLowerCase() !== module ) ) {\n\t\treturn false;\n\t}\n\n\tif ( !filter ) {\n\t\treturn true;\n\t}\n\n\tinclude = filter.charAt( 0 ) !== \"!\";\n\tif ( !include ) {\n\t\tfilter = filter.slice( 1 );\n\t}\n\n\t// If the filter matches, we need to honour include\n\tif ( fullName.indexOf( filter ) !== -1 ) {\n\t\treturn include;\n\t}\n\n\t// Otherwise, do the opposite\n\treturn !include;\n}\n\n// so far supports only Firefox, Chrome and Opera (buggy), Safari (for real exceptions)\n// Later Safari and IE10 are supposed to support error.stack as well\n// See also https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error/Stack\nfunction extractStacktrace( e, offset ) {\n\toffset = offset === undefined ? 3 : offset;\n\n\tvar stack, include, i, regex;\n\n\tif ( e.stacktrace ) {\n\t\t// Opera\n\t\treturn e.stacktrace.split( \"\\n\" )[ offset + 3 ];\n\t} else if ( e.stack ) {\n\t\t// Firefox, Chrome\n\t\tstack = e.stack.split( \"\\n\" );\n\t\tif (/^error$/i.test( stack[0] ) ) {\n\t\t\tstack.shift();\n\t\t}\n\t\tif ( fileName ) {\n\t\t\tinclude = [];\n\t\t\tfor ( i = offset; i < stack.length; i++ ) {\n\t\t\t\tif ( stack[ i ].indexOf( fileName ) != -1 ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tinclude.push( stack[ i ] );\n\t\t\t}\n\t\t\tif ( include.length ) {\n\t\t\t\treturn include.join( \"\\n\" );\n\t\t\t}\n\t\t}\n\t\treturn stack[ offset ];\n\t} else if ( e.sourceURL ) {\n\t\t// Safari, PhantomJS\n\t\t// hopefully one day Safari provides actual stacktraces\n\t\t// exclude useless self-reference for generated Error objects\n\t\tif ( /qunit.js$/.test( e.sourceURL ) ) {\n\t\t\treturn;\n\t\t}\n\t\t// for actual exceptions, this is useful\n\t\treturn e.sourceURL + \":\" + e.line;\n\t}\n}\nfunction sourceFromStacktrace( offset ) {\n\ttry {\n\t\tthrow new Error();\n\t} catch ( e ) {\n\t\treturn extractStacktrace( e, offset );\n\t}\n}\n\nfunction escapeInnerText( s ) {\n\tif ( !s ) {\n\t\treturn \"\";\n\t}\n\ts = s + \"\";\n\treturn s.replace( /[\\&<>]/g, function( s ) {\n\t\tswitch( s ) {\n\t\t\tcase \"&\": return \"&amp;\";\n\t\t\tcase \"<\": return \"&lt;\";\n\t\t\tcase \">\": return \"&gt;\";\n\t\t\tdefault: return s;\n\t\t}\n\t});\n}\n\nfunction synchronize( callback, last ) {\n\tconfig.queue.push( callback );\n\n\tif ( config.autorun && !config.blocking ) {\n\t\tprocess( last );\n\t}\n}\n\nfunction process( last ) {\n\tfunction next() {\n\t\tprocess( last );\n\t}\n\tvar start = new Date().getTime();\n\tconfig.depth = config.depth ? config.depth + 1 : 1;\n\n\twhile ( config.queue.length && !config.blocking ) {\n\t\tif ( !defined.setTimeout || config.updateRate <= 0 || ( ( new Date().getTime() - start ) < config.updateRate ) ) {\n\t\t\tconfig.queue.shift()();\n\t\t} else {\n\t\t\twindow.setTimeout( next, 13 );\n\t\t\tbreak;\n\t\t}\n\t}\n\tconfig.depth--;\n\tif ( last && !config.blocking && !config.queue.length && config.depth === 0 ) {\n\t\tdone();\n\t}\n}\n\nfunction saveGlobal() {\n\tconfig.pollution = [];\n\n\tif ( config.noglobals ) {\n\t\tfor ( var key in window ) {\n\t\t\t// in Opera sometimes DOM element ids show up here, ignore them\n\t\t\tif ( !hasOwn.call( window, key ) || /^qunit-test-output/.test( key ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconfig.pollution.push( key );\n\t\t}\n\t}\n}\n\nfunction checkPollution( name ) {\n\tvar newGlobals,\n\t\tdeletedGlobals,\n\t\told = config.pollution;\n\n\tsaveGlobal();\n\n\tnewGlobals = diff( config.pollution, old );\n\tif ( newGlobals.length > 0 ) {\n\t\tQUnit.pushFailure( \"Introduced global variable(s): \" + newGlobals.join(\", \") );\n\t}\n\n\tdeletedGlobals = diff( old, config.pollution );\n\tif ( deletedGlobals.length > 0 ) {\n\t\tQUnit.pushFailure( \"Deleted global variable(s): \" + deletedGlobals.join(\", \") );\n\t}\n}\n\n// returns a new Array with the elements that are in a but not in b\nfunction diff( a, b ) {\n\tvar i, j,\n\t\tresult = a.slice();\n\n\tfor ( i = 0; i < result.length; i++ ) {\n\t\tfor ( j = 0; j < b.length; j++ ) {\n\t\t\tif ( result[i] === b[j] ) {\n\t\t\t\tresult.splice( i, 1 );\n\t\t\t\ti--;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction extend( a, b ) {\n\tfor ( var prop in b ) {\n\t\tif ( b[ prop ] === undefined ) {\n\t\t\tdelete a[ prop ];\n\n\t\t// Avoid \"Member not found\" error in IE8 caused by setting window.constructor\n\t\t} else if ( prop !== \"constructor\" || a !== window ) {\n\t\t\ta[ prop ] = b[ prop ];\n\t\t}\n\t}\n\n\treturn a;\n}\n\nfunction addEvent( elem, type, fn ) {\n\tif ( elem.addEventListener ) {\n\t\telem.addEventListener( type, fn, false );\n\t} else if ( elem.attachEvent ) {\n\t\telem.attachEvent( \"on\" + type, fn );\n\t} else {\n\t\tfn();\n\t}\n}\n\nfunction id( name ) {\n\treturn !!( typeof document !== \"undefined\" && document && document.getElementById ) &&\n\t\tdocument.getElementById( name );\n}\n\nfunction registerLoggingCallback( key ) {\n\treturn function( callback ) {\n\t\tconfig[key].push( callback );\n\t};\n}\n\n// Supports deprecated method of completely overwriting logging callbacks\nfunction runLoggingCallbacks( key, scope, args ) {\n\t//debugger;\n\tvar i, callbacks;\n\tif ( QUnit.hasOwnProperty( key ) ) {\n\t\tQUnit[ key ].call(scope, args );\n\t} else {\n\t\tcallbacks = config[ key ];\n\t\tfor ( i = 0; i < callbacks.length; i++ ) {\n\t\t\tcallbacks[ i ].call( scope, args );\n\t\t}\n\t}\n}\n\n// Test for equality any JavaScript type.\n// Author: Philippe Rathé <prathe@gmail.com>\nQUnit.equiv = (function() {\n\n\t// Call the o related callback with the given arguments.\n\tfunction bindCallbacks( o, callbacks, args ) {\n\t\tvar prop = QUnit.objectType( o );\n\t\tif ( prop ) {\n\t\t\tif ( QUnit.objectType( callbacks[ prop ] ) === \"function\" ) {\n\t\t\t\treturn callbacks[ prop ].apply( callbacks, args );\n\t\t\t} else {\n\t\t\t\treturn callbacks[ prop ]; // or undefined\n\t\t\t}\n\t\t}\n\t}\n\n\t// the real equiv function\n\tvar innerEquiv,\n\t\t// stack to decide between skip/abort functions\n\t\tcallers = [],\n\t\t// stack to avoiding loops from circular referencing\n\t\tparents = [],\n\n\t\tgetProto = Object.getPrototypeOf || function ( obj ) {\n\t\t\treturn obj.__proto__;\n\t\t},\n\t\tcallbacks = (function () {\n\n\t\t\t// for string, boolean, number and null\n\t\t\tfunction useStrictEquality( b, a ) {\n\t\t\t\tif ( b instanceof a.constructor || a instanceof b.constructor ) {\n\t\t\t\t\t// to catch short annotaion VS 'new' annotation of a\n\t\t\t\t\t// declaration\n\t\t\t\t\t// e.g. var i = 1;\n\t\t\t\t\t// var j = new Number(1);\n\t\t\t\t\treturn a == b;\n\t\t\t\t} else {\n\t\t\t\t\treturn a === b;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t\"string\": useStrictEquality,\n\t\t\t\t\"boolean\": useStrictEquality,\n\t\t\t\t\"number\": useStrictEquality,\n\t\t\t\t\"null\": useStrictEquality,\n\t\t\t\t\"undefined\": useStrictEquality,\n\n\t\t\t\t\"nan\": function( b ) {\n\t\t\t\t\treturn isNaN( b );\n\t\t\t\t},\n\n\t\t\t\t\"date\": function( b, a ) {\n\t\t\t\t\treturn QUnit.objectType( b ) === \"date\" && a.valueOf() === b.valueOf();\n\t\t\t\t},\n\n\t\t\t\t\"regexp\": function( b, a ) {\n\t\t\t\t\treturn QUnit.objectType( b ) === \"regexp\" &&\n\t\t\t\t\t\t// the regex itself\n\t\t\t\t\t\ta.source === b.source &&\n\t\t\t\t\t\t// and its modifers\n\t\t\t\t\t\ta.global === b.global &&\n\t\t\t\t\t\t// (gmi) ...\n\t\t\t\t\t\ta.ignoreCase === b.ignoreCase &&\n\t\t\t\t\t\ta.multiline === b.multiline;\n\t\t\t\t},\n\n\t\t\t\t// - skip when the property is a method of an instance (OOP)\n\t\t\t\t// - abort otherwise,\n\t\t\t\t// initial === would have catch identical references anyway\n\t\t\t\t\"function\": function() {\n\t\t\t\t\tvar caller = callers[callers.length - 1];\n\t\t\t\t\treturn caller !== Object && typeof caller !== \"undefined\";\n\t\t\t\t},\n\n\t\t\t\t\"array\": function( b, a ) {\n\t\t\t\t\tvar i, j, len, loop;\n\n\t\t\t\t\t// b could be an object literal here\n\t\t\t\t\tif ( QUnit.objectType( b ) !== \"array\" ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlen = a.length;\n\t\t\t\t\tif ( len !== b.length ) {\n\t\t\t\t\t\t// safe and faster\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// track reference to avoid circular references\n\t\t\t\t\tparents.push( a );\n\t\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\t\tloop = false;\n\t\t\t\t\t\tfor ( j = 0; j < parents.length; j++ ) {\n\t\t\t\t\t\t\tif ( parents[j] === a[i] ) {\n\t\t\t\t\t\t\t\tloop = true;// dont rewalk array\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( !loop && !innerEquiv(a[i], b[i]) ) {\n\t\t\t\t\t\t\tparents.pop();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tparents.pop();\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\n\t\t\t\t\"object\": function( b, a ) {\n\t\t\t\t\tvar i, j, loop,\n\t\t\t\t\t\t// Default to true\n\t\t\t\t\t\teq = true,\n\t\t\t\t\t\taProperties = [],\n\t\t\t\t\t\tbProperties = [];\n\n\t\t\t\t\t// comparing constructors is more strict than using\n\t\t\t\t\t// instanceof\n\t\t\t\t\tif ( a.constructor !== b.constructor ) {\n\t\t\t\t\t\t// Allow objects with no prototype to be equivalent to\n\t\t\t\t\t\t// objects with Object as their constructor.\n\t\t\t\t\t\tif ( !(( getProto(a) === null && getProto(b) === Object.prototype ) ||\n\t\t\t\t\t\t\t( getProto(b) === null && getProto(a) === Object.prototype ) ) ) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// stack constructor before traversing properties\n\t\t\t\t\tcallers.push( a.constructor );\n\t\t\t\t\t// track reference to avoid circular references\n\t\t\t\t\tparents.push( a );\n\n\t\t\t\t\tfor ( i in a ) { // be strict: don't ensures hasOwnProperty\n\t\t\t\t\t\t\t\t\t// and go deep\n\t\t\t\t\t\tloop = false;\n\t\t\t\t\t\tfor ( j = 0; j < parents.length; j++ ) {\n\t\t\t\t\t\t\tif ( parents[j] === a[i] ) {\n\t\t\t\t\t\t\t\t// don't go down the same path twice\n\t\t\t\t\t\t\t\tloop = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\taProperties.push(i); // collect a's properties\n\n\t\t\t\t\t\tif (!loop && !innerEquiv( a[i], b[i] ) ) {\n\t\t\t\t\t\t\teq = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcallers.pop(); // unstack, we are done\n\t\t\t\t\tparents.pop();\n\n\t\t\t\t\tfor ( i in b ) {\n\t\t\t\t\t\tbProperties.push( i ); // collect b's properties\n\t\t\t\t\t}\n\n\t\t\t\t\t// Ensures identical properties name\n\t\t\t\t\treturn eq && innerEquiv( aProperties.sort(), bProperties.sort() );\n\t\t\t\t}\n\t\t\t};\n\t\t}());\n\n\tinnerEquiv = function() { // can take multiple arguments\n\t\tvar args = [].slice.apply( arguments );\n\t\tif ( args.length < 2 ) {\n\t\t\treturn true; // end transition\n\t\t}\n\n\t\treturn (function( a, b ) {\n\t\t\tif ( a === b ) {\n\t\t\t\treturn true; // catch the most you can\n\t\t\t} else if ( a === null || b === null || typeof a === \"undefined\" ||\n\t\t\t\t\ttypeof b === \"undefined\" ||\n\t\t\t\t\tQUnit.objectType(a) !== QUnit.objectType(b) ) {\n\t\t\t\treturn false; // don't lose time with error prone cases\n\t\t\t} else {\n\t\t\t\treturn bindCallbacks(a, callbacks, [ b, a ]);\n\t\t\t}\n\n\t\t\t// apply transition with (1..n) arguments\n\t\t}( args[0], args[1] ) && arguments.callee.apply( this, args.splice(1, args.length - 1 )) );\n\t};\n\n\treturn innerEquiv;\n}());\n\n/**\n * jsDump Copyright (c) 2008 Ariel Flesler - aflesler(at)gmail(dot)com |\n * http://flesler.blogspot.com Licensed under BSD\n * (http://www.opensource.org/licenses/bsd-license.php) Date: 5/15/2008\n *\n * @projectDescription Advanced and extensible data dumping for Javascript.\n * @version 1.0.0\n * @author Ariel Flesler\n * @link {http://flesler.blogspot.com/2008/05/jsdump-pretty-dump-of-any-javascript.html}\n */\nQUnit.jsDump = (function() {\n\tfunction quote( str ) {\n\t\treturn '\"' + str.toString().replace( /\"/g, '\\\\\"' ) + '\"';\n\t}\n\tfunction literal( o ) {\n\t\treturn o + \"\";\n\t}\n\tfunction join( pre, arr, post ) {\n\t\tvar s = jsDump.separator(),\n\t\t\tbase = jsDump.indent(),\n\t\t\tinner = jsDump.indent(1);\n\t\tif ( arr.join ) {\n\t\t\tarr = arr.join( \",\" + s + inner );\n\t\t}\n\t\tif ( !arr ) {\n\t\t\treturn pre + post;\n\t\t}\n\t\treturn [ pre, inner + arr, base + post ].join(s);\n\t}\n\tfunction array( arr, stack ) {\n\t\tvar i = arr.length, ret = new Array(i);\n\t\tthis.up();\n\t\twhile ( i-- ) {\n\t\t\tret[i] = this.parse( arr[i] , undefined , stack);\n\t\t}\n\t\tthis.down();\n\t\treturn join( \"[\", ret, \"]\" );\n\t}\n\n\tvar reName = /^function (\\w+)/,\n\t\tjsDump = {\n\t\t\tparse: function( obj, type, stack ) { //type is used mostly internally, you can fix a (custom)type in advance\n\t\t\t\tstack = stack || [ ];\n\t\t\t\tvar inStack, res,\n\t\t\t\t\tparser = this.parsers[ type || this.typeOf(obj) ];\n\n\t\t\t\ttype = typeof parser;\n\t\t\t\tinStack = inArray( obj, stack );\n\n\t\t\t\tif ( inStack != -1 ) {\n\t\t\t\t\treturn \"recursion(\" + (inStack - stack.length) + \")\";\n\t\t\t\t}\n\t\t\t\t//else\n\t\t\t\tif ( type == \"function\" )  {\n\t\t\t\t\tstack.push( obj );\n\t\t\t\t\tres = parser.call( this, obj, stack );\n\t\t\t\t\tstack.pop();\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t\t// else\n\t\t\t\treturn ( type == \"string\" ) ? parser : this.parsers.error;\n\t\t\t},\n\t\t\ttypeOf: function( obj ) {\n\t\t\t\tvar type;\n\t\t\t\tif ( obj === null ) {\n\t\t\t\t\ttype = \"null\";\n\t\t\t\t} else if ( typeof obj === \"undefined\" ) {\n\t\t\t\t\ttype = \"undefined\";\n\t\t\t\t} else if ( QUnit.is( \"regexp\", obj) ) {\n\t\t\t\t\ttype = \"regexp\";\n\t\t\t\t} else if ( QUnit.is( \"date\", obj) ) {\n\t\t\t\t\ttype = \"date\";\n\t\t\t\t} else if ( QUnit.is( \"function\", obj) ) {\n\t\t\t\t\ttype = \"function\";\n\t\t\t\t} else if ( typeof obj.setInterval !== undefined && typeof obj.document !== \"undefined\" && typeof obj.nodeType === \"undefined\" ) {\n\t\t\t\t\ttype = \"window\";\n\t\t\t\t} else if ( obj.nodeType === 9 ) {\n\t\t\t\t\ttype = \"document\";\n\t\t\t\t} else if ( obj.nodeType ) {\n\t\t\t\t\ttype = \"node\";\n\t\t\t\t} else if (\n\t\t\t\t\t// native arrays\n\t\t\t\t\ttoString.call( obj ) === \"[object Array]\" ||\n\t\t\t\t\t// NodeList objects\n\t\t\t\t\t( typeof obj.length === \"number\" && typeof obj.item !== \"undefined\" && ( obj.length ? obj.item(0) === obj[0] : ( obj.item( 0 ) === null && typeof obj[0] === \"undefined\" ) ) )\n\t\t\t\t) {\n\t\t\t\t\ttype = \"array\";\n\t\t\t\t} else {\n\t\t\t\t\ttype = typeof obj;\n\t\t\t\t}\n\t\t\t\treturn type;\n\t\t\t},\n\t\t\tseparator: function() {\n\t\t\t\treturn this.multiline ?\tthis.HTML ? \"<br />\" : \"\\n\" : this.HTML ? \"&nbsp;\" : \" \";\n\t\t\t},\n\t\t\tindent: function( extra ) {// extra can be a number, shortcut for increasing-calling-decreasing\n\t\t\t\tif ( !this.multiline ) {\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\t\t\t\tvar chr = this.indentChar;\n\t\t\t\tif ( this.HTML ) {\n\t\t\t\t\tchr = chr.replace( /\\t/g, \"   \" ).replace( / /g, \"&nbsp;\" );\n\t\t\t\t}\n\t\t\t\treturn new Array( this._depth_ + (extra||0) ).join(chr);\n\t\t\t},\n\t\t\tup: function( a ) {\n\t\t\t\tthis._depth_ += a || 1;\n\t\t\t},\n\t\t\tdown: function( a ) {\n\t\t\t\tthis._depth_ -= a || 1;\n\t\t\t},\n\t\t\tsetParser: function( name, parser ) {\n\t\t\t\tthis.parsers[name] = parser;\n\t\t\t},\n\t\t\t// The next 3 are exposed so you can use them\n\t\t\tquote: quote,\n\t\t\tliteral: literal,\n\t\t\tjoin: join,\n\t\t\t//\n\t\t\t_depth_: 1,\n\t\t\t// This is the list of parsers, to modify them, use jsDump.setParser\n\t\t\tparsers: {\n\t\t\t\twindow: \"[Window]\",\n\t\t\t\tdocument: \"[Document]\",\n\t\t\t\terror: \"[ERROR]\", //when no parser is found, shouldn\"t happen\n\t\t\t\tunknown: \"[Unknown]\",\n\t\t\t\t\"null\": \"null\",\n\t\t\t\t\"undefined\": \"undefined\",\n\t\t\t\t\"function\": function( fn ) {\n\t\t\t\t\tvar ret = \"function\",\n\t\t\t\t\t\tname = \"name\" in fn ? fn.name : (reName.exec(fn) || [])[1];//functions never have name in IE\n\n\t\t\t\t\tif ( name ) {\n\t\t\t\t\t\tret += \" \" + name;\n\t\t\t\t\t}\n\t\t\t\t\tret += \"( \";\n\n\t\t\t\t\tret = [ ret, QUnit.jsDump.parse( fn, \"functionArgs\" ), \"){\" ].join( \"\" );\n\t\t\t\t\treturn join( ret, QUnit.jsDump.parse(fn,\"functionCode\" ), \"}\" );\n\t\t\t\t},\n\t\t\t\tarray: array,\n\t\t\t\tnodelist: array,\n\t\t\t\t\"arguments\": array,\n\t\t\t\tobject: function( map, stack ) {\n\t\t\t\t\tvar ret = [ ], keys, key, val, i;\n\t\t\t\t\tQUnit.jsDump.up();\n\t\t\t\t\tif ( Object.keys ) {\n\t\t\t\t\t\tkeys = Object.keys( map );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkeys = [];\n\t\t\t\t\t\tfor ( key in map ) {\n\t\t\t\t\t\t\tkeys.push( key );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tkeys.sort();\n\t\t\t\t\tfor ( i = 0; i < keys.length; i++ ) {\n\t\t\t\t\t\tkey = keys[ i ];\n\t\t\t\t\t\tval = map[ key ];\n\t\t\t\t\t\tret.push( QUnit.jsDump.parse( key, \"key\" ) + \": \" + QUnit.jsDump.parse( val, undefined, stack ) );\n\t\t\t\t\t}\n\t\t\t\t\tQUnit.jsDump.down();\n\t\t\t\t\treturn join( \"{\", ret, \"}\" );\n\t\t\t\t},\n\t\t\t\tnode: function( node ) {\n\t\t\t\t\tvar a, val,\n\t\t\t\t\t\topen = QUnit.jsDump.HTML ? \"&lt;\" : \"<\",\n\t\t\t\t\t\tclose = QUnit.jsDump.HTML ? \"&gt;\" : \">\",\n\t\t\t\t\t\ttag = node.nodeName.toLowerCase(),\n\t\t\t\t\t\tret = open + tag;\n\n\t\t\t\t\tfor ( a in QUnit.jsDump.DOMAttrs ) {\n\t\t\t\t\t\tval = node[ QUnit.jsDump.DOMAttrs[a] ];\n\t\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\t\tret += \" \" + a + \"=\" + QUnit.jsDump.parse( val, \"attribute\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn ret + close + open + \"/\" + tag + close;\n\t\t\t\t},\n\t\t\t\tfunctionArgs: function( fn ) {//function calls it internally, it's the arguments part of the function\n\t\t\t\t\tvar args,\n\t\t\t\t\t\tl = fn.length;\n\n\t\t\t\t\tif ( !l ) {\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t}\n\n\t\t\t\t\targs = new Array(l);\n\t\t\t\t\twhile ( l-- ) {\n\t\t\t\t\t\targs[l] = String.fromCharCode(97+l);//97 is 'a'\n\t\t\t\t\t}\n\t\t\t\t\treturn \" \" + args.join( \", \" ) + \" \";\n\t\t\t\t},\n\t\t\t\tkey: quote, //object calls it internally, the key part of an item in a map\n\t\t\t\tfunctionCode: \"[code]\", //function calls it internally, it's the content of the function\n\t\t\t\tattribute: quote, //node calls it internally, it's an html attribute value\n\t\t\t\tstring: quote,\n\t\t\t\tdate: quote,\n\t\t\t\tregexp: literal, //regex\n\t\t\t\tnumber: literal,\n\t\t\t\t\"boolean\": literal\n\t\t\t},\n\t\t\tDOMAttrs: {\n\t\t\t\t//attributes to dump from nodes, name=>realName\n\t\t\t\tid: \"id\",\n\t\t\t\tname: \"name\",\n\t\t\t\t\"class\": \"className\"\n\t\t\t},\n\t\t\tHTML: false,//if true, entities are escaped ( <, >, \\t, space and \\n )\n\t\t\tindentChar: \"  \",//indentation unit\n\t\t\tmultiline: true //if true, items in a collection, are separated by a \\n, else just a space.\n\t\t};\n\n\treturn jsDump;\n}());\n\n// from Sizzle.js\nfunction getText( elems ) {\n\tvar i, elem,\n\t\tret = \"\";\n\n\tfor ( i = 0; elems[i]; i++ ) {\n\t\telem = elems[i];\n\n\t\t// Get the text from text nodes and CDATA nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 4 ) {\n\t\t\tret += elem.nodeValue;\n\n\t\t// Traverse everything else, except comment nodes\n\t\t} else if ( elem.nodeType !== 8 ) {\n\t\t\tret += getText( elem.childNodes );\n\t\t}\n\t}\n\n\treturn ret;\n}\n\n// from jquery.js\nfunction inArray( elem, array ) {\n\tif ( array.indexOf ) {\n\t\treturn array.indexOf( elem );\n\t}\n\n\tfor ( var i = 0, length = array.length; i < length; i++ ) {\n\t\tif ( array[ i ] === elem ) {\n\t\t\treturn i;\n\t\t}\n\t}\n\n\treturn -1;\n}\n\n/*\n * Javascript Diff Algorithm\n *  By John Resig (http://ejohn.org/)\n *  Modified by Chu Alan \"sprite\"\n *\n * Released under the MIT license.\n *\n * More Info:\n *  http://ejohn.org/projects/javascript-diff-algorithm/\n *\n * Usage: QUnit.diff(expected, actual)\n *\n * QUnit.diff( \"the quick brown fox jumped over\", \"the quick fox jumps over\" ) == \"the  quick <del>brown </del> fox <del>jumped </del><ins>jumps </ins> over\"\n */\nQUnit.diff = (function() {\n\tfunction diff( o, n ) {\n\t\tvar i,\n\t\t\tns = {},\n\t\t\tos = {};\n\n\t\tfor ( i = 0; i < n.length; i++ ) {\n\t\t\tif ( ns[ n[i] ] == null ) {\n\t\t\t\tns[ n[i] ] = {\n\t\t\t\t\trows: [],\n\t\t\t\t\to: null\n\t\t\t\t};\n\t\t\t}\n\t\t\tns[ n[i] ].rows.push( i );\n\t\t}\n\n\t\tfor ( i = 0; i < o.length; i++ ) {\n\t\t\tif ( os[ o[i] ] == null ) {\n\t\t\t\tos[ o[i] ] = {\n\t\t\t\t\trows: [],\n\t\t\t\t\tn: null\n\t\t\t\t};\n\t\t\t}\n\t\t\tos[ o[i] ].rows.push( i );\n\t\t}\n\n\t\tfor ( i in ns ) {\n\t\t\tif ( !hasOwn.call( ns, i ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( ns[i].rows.length == 1 && typeof os[i] != \"undefined\" && os[i].rows.length == 1 ) {\n\t\t\t\tn[ ns[i].rows[0] ] = {\n\t\t\t\t\ttext: n[ ns[i].rows[0] ],\n\t\t\t\t\trow: os[i].rows[0]\n\t\t\t\t};\n\t\t\t\to[ os[i].rows[0] ] = {\n\t\t\t\t\ttext: o[ os[i].rows[0] ],\n\t\t\t\t\trow: ns[i].rows[0]\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tfor ( i = 0; i < n.length - 1; i++ ) {\n\t\t\tif ( n[i].text != null && n[ i + 1 ].text == null && n[i].row + 1 < o.length && o[ n[i].row + 1 ].text == null &&\n\t\t\t\t\t\tn[ i + 1 ] == o[ n[i].row + 1 ] ) {\n\n\t\t\t\tn[ i + 1 ] = {\n\t\t\t\t\ttext: n[ i + 1 ],\n\t\t\t\t\trow: n[i].row + 1\n\t\t\t\t};\n\t\t\t\to[ n[i].row + 1 ] = {\n\t\t\t\t\ttext: o[ n[i].row + 1 ],\n\t\t\t\t\trow: i + 1\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tfor ( i = n.length - 1; i > 0; i-- ) {\n\t\t\tif ( n[i].text != null && n[ i - 1 ].text == null && n[i].row > 0 && o[ n[i].row - 1 ].text == null &&\n\t\t\t\t\t\tn[ i - 1 ] == o[ n[i].row - 1 ]) {\n\n\t\t\t\tn[ i - 1 ] = {\n\t\t\t\t\ttext: n[ i - 1 ],\n\t\t\t\t\trow: n[i].row - 1\n\t\t\t\t};\n\t\t\t\to[ n[i].row - 1 ] = {\n\t\t\t\t\ttext: o[ n[i].row - 1 ],\n\t\t\t\t\trow: i - 1\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\to: o,\n\t\t\tn: n\n\t\t};\n\t}\n\n\treturn function( o, n ) {\n\t\to = o.replace( /\\s+$/, \"\" );\n\t\tn = n.replace( /\\s+$/, \"\" );\n\n\t\tvar i, pre,\n\t\t\tstr = \"\",\n\t\t\tout = diff( o === \"\" ? [] : o.split(/\\s+/), n === \"\" ? [] : n.split(/\\s+/) ),\n\t\t\toSpace = o.match(/\\s+/g),\n\t\t\tnSpace = n.match(/\\s+/g);\n\n\t\tif ( oSpace == null ) {\n\t\t\toSpace = [ \" \" ];\n\t\t}\n\t\telse {\n\t\t\toSpace.push( \" \" );\n\t\t}\n\n\t\tif ( nSpace == null ) {\n\t\t\tnSpace = [ \" \" ];\n\t\t}\n\t\telse {\n\t\t\tnSpace.push( \" \" );\n\t\t}\n\n\t\tif ( out.n.length === 0 ) {\n\t\t\tfor ( i = 0; i < out.o.length; i++ ) {\n\t\t\t\tstr += \"<del>\" + out.o[i] + oSpace[i] + \"</del>\";\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif ( out.n[0].text == null ) {\n\t\t\t\tfor ( n = 0; n < out.o.length && out.o[n].text == null; n++ ) {\n\t\t\t\t\tstr += \"<del>\" + out.o[n] + oSpace[n] + \"</del>\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( i = 0; i < out.n.length; i++ ) {\n\t\t\t\tif (out.n[i].text == null) {\n\t\t\t\t\tstr += \"<ins>\" + out.n[i] + nSpace[i] + \"</ins>\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// `pre` initialized at top of scope\n\t\t\t\t\tpre = \"\";\n\n\t\t\t\t\tfor ( n = out.n[i].row + 1; n < out.o.length && out.o[n].text == null; n++ ) {\n\t\t\t\t\t\tpre += \"<del>\" + out.o[n] + oSpace[n] + \"</del>\";\n\t\t\t\t\t}\n\t\t\t\t\tstr += \" \" + out.n[i].text + nSpace[i] + pre;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn str;\n\t};\n}());\n\n// for CommonJS enviroments, export everything\nif ( typeof exports !== \"undefined\" ) {\n\textend(exports, QUnit);\n}\n\n// get at whatever the global object is, like window in browsers\n}( (function() {return this;}.call()) ));\n"]},"hash":"704cdd940b38d82b1f9ebdadd1d68238dade4d96"}
