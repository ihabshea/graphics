{"metadata":{"usedHelpers":["typeof","interopRequireDefault"],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/zurb:foundation-sites/dist/js/plugins/foundation.sticky.js","filenameRelative":"packages/zurb:foundation-sites/dist/js/plugins/foundation.sticky.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/dist/js/plugins/foundation.sticky.js.map","sourceFileName":"packages/zurb:foundation-sites/dist/js/plugins/foundation.sticky.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"foundation.sticky"},"ignored":false,"code":"var _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/******/(function (modules) {\n  // webpackBootstrap\n  /******/ // The module cache\n  /******/var installedModules = {}; /******/ /******/ // The require function\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/ /******/ // Check if module is in cache\n    /******/if (installedModules[moduleId]) {\n      /******/return installedModules[moduleId].exports; /******/\n    } /******/ // Create a new module (and put it into the cache)\n    /******/\n\n    var module = installedModules[moduleId] = {\n      /******/i: moduleId,\n      /******/l: false,\n      /******/exports: {} /******/\n    }; /******/ /******/ // Execute the module function\n    /******/\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__); /******/ /******/ // Flag the module as loaded\n    /******/\n    module.l = true; /******/ /******/ // Return the exports of the module\n    /******/\n    return module.exports; /******/\n  } /******/ /******/ /******/ // expose the modules object (__webpack_modules__)\n  /******/\n\n  __webpack_require__.m = modules; /******/ /******/ // expose the module cache\n  /******/\n  __webpack_require__.c = installedModules; /******/ /******/ // identity function for calling harmony imports with the correct context\n  /******/\n\n  __webpack_require__.i = function (value) {\n    return value;\n  }; /******/ /******/ // define getter function for harmony exports\n  /******/\n\n  __webpack_require__.d = function (exports, name, getter) {\n    /******/if (!__webpack_require__.o(exports, name)) {\n      /******/Object.defineProperty(exports, name, {\n        /******/configurable: false,\n        /******/enumerable: true,\n        /******/get: getter /******/\n      }); /******/\n    } /******/\n  }; /******/ /******/ // getDefaultExport function for compatibility with non-harmony modules\n  /******/\n\n  __webpack_require__.n = function (module) {\n    /******/var getter = module && module.__esModule ? /******/function () {\n      function getDefault() {\n        return module['default'];\n      }\n\n      return getDefault;\n    }() : /******/function () {\n      function getModuleExports() {\n        return module;\n      }\n\n      return getModuleExports;\n    }(); /******/\n\n    __webpack_require__.d(getter, 'a', getter); /******/\n\n    return getter; /******/\n  }; /******/ /******/ // Object.prototype.hasOwnProperty.call\n  /******/\n\n  __webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  }; /******/ /******/ // __webpack_public_path__\n  /******/\n\n  __webpack_require__.p = \"\"; /******/ /******/ // Load entry module and return exports\n  /******/\n  return __webpack_require__(__webpack_require__.s = 96); /******/\n})( /************************************************************************/ /******/{\n  /***/0: /***/function (module, exports) {\n    module.exports = jQuery; /***/\n  },\n  /***/1: /***/function (module, exports) {\n    module.exports = {\n      Foundation: window.Foundation\n    }; /***/\n  },\n  /***/2: /***/function (module, exports) {\n    module.exports = {\n      Plugin: window.Foundation.Plugin\n    }; /***/\n  },\n  /***/3: /***/function (module, exports) {\n    module.exports = {\n      rtl: window.Foundation.rtl,\n      GetYoDigits: window.Foundation.GetYoDigits,\n      transitionend: window.Foundation.transitionend\n    }; /***/\n  },\n  /***/30: /***/function (module, __webpack_exports__, __webpack_require__) {\n    \"use strict\";\n\n    Object.defineProperty(__webpack_exports__, \"__esModule\", {\n      value: true\n    }); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_0__foundation_core__ = __webpack_require__(1); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_0__foundation_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__foundation_core__); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_1__foundation_sticky__ = __webpack_require__(60);\n\n    __WEBPACK_IMPORTED_MODULE_0__foundation_core__[\"Foundation\"].plugin(__WEBPACK_IMPORTED_MODULE_1__foundation_sticky__[\"a\" /* Sticky */], 'Sticky'); /***/\n  },\n  /***/4: /***/function (module, exports) {\n    module.exports = {\n      Motion: window.Foundation.Motion,\n      Move: window.Foundation.Move\n    }; /***/\n  },\n  /***/6: /***/function (module, exports) {\n    module.exports = {\n      MediaQuery: window.Foundation.MediaQuery\n    }; /***/\n  },\n  /***/60: /***/function (module, __webpack_exports__, __webpack_require__) {\n    \"use strict\"; /* harmony export (binding) */\n\n    __webpack_require__.d(__webpack_exports__, \"a\", function () {\n      return Sticky;\n    }); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(0); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_1__foundation_util_core__ = __webpack_require__(3); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_1__foundation_util_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__foundation_util_core__); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_2__foundation_util_mediaQuery__ = __webpack_require__(6); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_2__foundation_util_mediaQuery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__foundation_util_mediaQuery__); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_3__foundation_plugin__ = __webpack_require__(2); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_3__foundation_plugin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__foundation_plugin__); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_4__foundation_util_triggers__ = __webpack_require__(7);\n\n    var _createClass = function () {\n      function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) defineProperties(Constructor, staticProps);\n        return Constructor;\n      };\n    }();\n\n    function _classCallCheck(instance, Constructor) {\n      if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n      }\n    }\n\n    function _possibleConstructorReturn(self, call) {\n      if (!self) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      }\n\n      return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n    }\n\n    function _inherits(subClass, superClass) {\n      if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n      }\n\n      subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n          value: subClass,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n      if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n    } /**\n       * Sticky module.\n       * @module foundation.sticky\n       * @requires foundation.util.triggers\n       * @requires foundation.util.mediaQuery\n       */\n\n    var Sticky = function (_Plugin) {\n      _inherits(Sticky, _Plugin);\n\n      function Sticky() {\n        _classCallCheck(this, Sticky);\n\n        return _possibleConstructorReturn(this, (Sticky.__proto__ || Object.getPrototypeOf(Sticky)).apply(this, arguments));\n      }\n\n      _createClass(Sticky, [{\n        key: '_setup',\n        /**\n         * Creates a new instance of a sticky thing.\n         * @class\n         * @name Sticky\n         * @param {jQuery} element - jQuery object to make sticky.\n         * @param {Object} options - options object passed when creating the element programmatically.\n         */value: function () {\n          function _setup(element, options) {\n            this.$element = element;\n            this.options = __WEBPACK_IMPORTED_MODULE_0_jquery___default.a.extend({}, Sticky.defaults, this.$element.data(), options);\n            this.className = 'Sticky'; // ie9 back compat\n            // Triggers init is idempotent, just need to make sure it is initialized\n\n            __WEBPACK_IMPORTED_MODULE_4__foundation_util_triggers__[\"a\" /* Triggers */].init(__WEBPACK_IMPORTED_MODULE_0_jquery___default.a);\n\n            this._init();\n          }\n\n          return _setup;\n        }() /**\n             * Initializes the sticky element by adding classes, getting/setting dimensions, breakpoints and attributes\n             * @function\n             * @private\n             */\n      }, {\n        key: '_init',\n        value: function () {\n          function _init() {\n            __WEBPACK_IMPORTED_MODULE_2__foundation_util_mediaQuery__[\"MediaQuery\"]._init();\n\n            var $parent = this.$element.parent('[data-sticky-container]'),\n                id = this.$element[0].id || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__foundation_util_core__[\"GetYoDigits\"])(6, 'sticky'),\n                _this = this;\n\n            if ($parent.length) {\n              this.$container = $parent;\n            } else {\n              this.wasWrapped = true;\n              this.$element.wrap(this.options.container);\n              this.$container = this.$element.parent();\n            }\n\n            this.$container.addClass(this.options.containerClass);\n            this.$element.addClass(this.options.stickyClass).attr({\n              'data-resize': id,\n              'data-mutate': id\n            });\n\n            if (this.options.anchor !== '') {\n              __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + _this.options.anchor).attr({\n                'data-mutate': id\n              });\n            }\n\n            this.scrollCount = this.options.checkEvery;\n            this.isStuck = false;\n\n            __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).one('load.zf.sticky', function () {\n              //We calculate the container height to have correct values for anchor points offset calculation.\n              _this.containerHeight = _this.$element.css(\"display\") == \"none\" ? 0 : _this.$element[0].getBoundingClientRect().height;\n\n              _this.$container.css('height', _this.containerHeight);\n\n              _this.elemHeight = _this.containerHeight;\n\n              if (_this.options.anchor !== '') {\n                _this.$anchor = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + _this.options.anchor);\n              } else {\n                _this._parsePoints();\n              }\n\n              _this._setSizes(function () {\n                var scroll = window.pageYOffset;\n\n                _this._calc(false, scroll); //Unstick the element will ensure that proper classes are set.\n\n\n                if (!_this.isStuck) {\n                  _this._removeSticky(scroll >= _this.topPoint ? false : true);\n                }\n              });\n\n              _this._events(id.split('-').reverse().join('-'));\n            });\n          }\n\n          return _init;\n        }() /**\n             * If using multiple elements as anchors, calculates the top and bottom pixel values the sticky thing should stick and unstick on.\n             * @function\n             * @private\n             */\n      }, {\n        key: '_parsePoints',\n        value: function () {\n          function _parsePoints() {\n            var top = this.options.topAnchor == \"\" ? 1 : this.options.topAnchor,\n                btm = this.options.btmAnchor == \"\" ? document.documentElement.scrollHeight : this.options.btmAnchor,\n                pts = [top, btm],\n                breaks = {};\n\n            for (var i = 0, len = pts.length; i < len && pts[i]; i++) {\n              var pt;\n\n              if (typeof pts[i] === 'number') {\n                pt = pts[i];\n              } else {\n                var place = pts[i].split(':'),\n                    anchor = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + place[0]);\n\n                pt = anchor.offset().top;\n\n                if (place[1] && place[1].toLowerCase() === 'bottom') {\n                  pt += anchor[0].getBoundingClientRect().height;\n                }\n              }\n\n              breaks[i] = pt;\n            }\n\n            this.points = breaks;\n            return;\n          }\n\n          return _parsePoints;\n        }() /**\n             * Adds event handlers for the scrolling element.\n             * @private\n             * @param {String} id - pseudo-random id for unique scroll event listener.\n             */\n      }, {\n        key: '_events',\n        value: function () {\n          function _events(id) {\n            var _this = this,\n                scrollListener = this.scrollListener = 'scroll.zf.' + id;\n\n            if (this.isOn) {\n              return;\n            }\n\n            if (this.canStick) {\n              this.isOn = true;\n\n              __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(scrollListener).on(scrollListener, function (e) {\n                if (_this.scrollCount === 0) {\n                  _this.scrollCount = _this.options.checkEvery;\n\n                  _this._setSizes(function () {\n                    _this._calc(false, window.pageYOffset);\n                  });\n                } else {\n                  _this.scrollCount--;\n\n                  _this._calc(false, window.pageYOffset);\n                }\n              });\n            }\n\n            this.$element.off('resizeme.zf.trigger').on('resizeme.zf.trigger', function (e, el) {\n              _this._eventsHandler(id);\n            });\n            this.$element.on('mutateme.zf.trigger', function (e, el) {\n              _this._eventsHandler(id);\n            });\n\n            if (this.$anchor) {\n              this.$anchor.on('mutateme.zf.trigger', function (e, el) {\n                _this._eventsHandler(id);\n              });\n            }\n          }\n\n          return _events;\n        }() /**\n             * Handler for events.\n             * @private\n             * @param {String} id - pseudo-random id for unique scroll event listener.\n             */\n      }, {\n        key: '_eventsHandler',\n        value: function () {\n          function _eventsHandler(id) {\n            var _this = this,\n                scrollListener = this.scrollListener = 'scroll.zf.' + id;\n\n            _this._setSizes(function () {\n              _this._calc(false);\n\n              if (_this.canStick) {\n                if (!_this.isOn) {\n                  _this._events(id);\n                }\n              } else if (_this.isOn) {\n                _this._pauseListeners(scrollListener);\n              }\n            });\n          }\n\n          return _eventsHandler;\n        }() /**\n             * Removes event handlers for scroll and change events on anchor.\n             * @fires Sticky#pause\n             * @param {String} scrollListener - unique, namespaced scroll listener attached to `window`\n             */\n      }, {\n        key: '_pauseListeners',\n        value: function () {\n          function _pauseListeners(scrollListener) {\n            this.isOn = false;\n\n            __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(scrollListener); /**\n                                                                                         * Fires when the plugin is paused due to resize event shrinking the view.\n                                                                                         * @event Sticky#pause\n                                                                                         * @private\n                                                                                         */\n\n            this.$element.trigger('pause.zf.sticky');\n          }\n\n          return _pauseListeners;\n        }() /**\n             * Called on every `scroll` event and on `_init`\n             * fires functions based on booleans and cached values\n             * @param {Boolean} checkSizes - true if plugin should recalculate sizes and breakpoints.\n             * @param {Number} scroll - current scroll position passed from scroll event cb function. If not passed, defaults to `window.pageYOffset`.\n             */\n      }, {\n        key: '_calc',\n        value: function () {\n          function _calc(checkSizes, scroll) {\n            if (checkSizes) {\n              this._setSizes();\n            }\n\n            if (!this.canStick) {\n              if (this.isStuck) {\n                this._removeSticky(true);\n              }\n\n              return false;\n            }\n\n            if (!scroll) {\n              scroll = window.pageYOffset;\n            }\n\n            if (scroll >= this.topPoint) {\n              if (scroll <= this.bottomPoint) {\n                if (!this.isStuck) {\n                  this._setSticky();\n                }\n              } else {\n                if (this.isStuck) {\n                  this._removeSticky(false);\n                }\n              }\n            } else {\n              if (this.isStuck) {\n                this._removeSticky(true);\n              }\n            }\n          }\n\n          return _calc;\n        }() /**\n             * Causes the $element to become stuck.\n             * Adds `position: fixed;`, and helper classes.\n             * @fires Sticky#stuckto\n             * @function\n             * @private\n             */\n      }, {\n        key: '_setSticky',\n        value: function () {\n          function _setSticky() {\n            var _this = this,\n                stickTo = this.options.stickTo,\n                mrgn = stickTo === 'top' ? 'marginTop' : 'marginBottom',\n                notStuckTo = stickTo === 'top' ? 'bottom' : 'top',\n                css = {};\n\n            css[mrgn] = this.options[mrgn] + 'em';\n            css[stickTo] = 0;\n            css[notStuckTo] = 'auto';\n            this.isStuck = true;\n            this.$element.removeClass('is-anchored is-at-' + notStuckTo).addClass('is-stuck is-at-' + stickTo).css(css) /**\n                                                                                                                         * Fires when the $element has become `position: fixed;`\n                                                                                                                         * Namespaced to `top` or `bottom`, e.g. `sticky.zf.stuckto:top`\n                                                                                                                         * @event Sticky#stuckto\n                                                                                                                         */.trigger('sticky.zf.stuckto:' + stickTo);\n            this.$element.on(\"transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd\", function () {\n              _this._setSizes();\n            });\n          }\n\n          return _setSticky;\n        }() /**\n             * Causes the $element to become unstuck.\n             * Removes `position: fixed;`, and helper classes.\n             * Adds other helper classes.\n             * @param {Boolean} isTop - tells the function if the $element should anchor to the top or bottom of its $anchor element.\n             * @fires Sticky#unstuckfrom\n             * @private\n             */\n      }, {\n        key: '_removeSticky',\n        value: function () {\n          function _removeSticky(isTop) {\n            var stickTo = this.options.stickTo,\n                stickToTop = stickTo === 'top',\n                css = {},\n                anchorPt = (this.points ? this.points[1] - this.points[0] : this.anchorHeight) - this.elemHeight,\n                mrgn = stickToTop ? 'marginTop' : 'marginBottom',\n                notStuckTo = stickToTop ? 'bottom' : 'top',\n                topOrBottom = isTop ? 'top' : 'bottom';\n            css[mrgn] = 0;\n            css['bottom'] = 'auto';\n\n            if (isTop) {\n              css['top'] = 0;\n            } else {\n              css['top'] = anchorPt;\n            }\n\n            this.isStuck = false;\n            this.$element.removeClass('is-stuck is-at-' + stickTo).addClass('is-anchored is-at-' + topOrBottom).css(css) /**\n                                                                                                                          * Fires when the $element has become anchored.\n                                                                                                                          * Namespaced to `top` or `bottom`, e.g. `sticky.zf.unstuckfrom:bottom`\n                                                                                                                          * @event Sticky#unstuckfrom\n                                                                                                                          */.trigger('sticky.zf.unstuckfrom:' + topOrBottom);\n          }\n\n          return _removeSticky;\n        }() /**\n             * Sets the $element and $container sizes for plugin.\n             * Calls `_setBreakPoints`.\n             * @param {Function} cb - optional callback function to fire on completion of `_setBreakPoints`.\n             * @private\n             */\n      }, {\n        key: '_setSizes',\n        value: function () {\n          function _setSizes(cb) {\n            this.canStick = __WEBPACK_IMPORTED_MODULE_2__foundation_util_mediaQuery__[\"MediaQuery\"].is(this.options.stickyOn);\n\n            if (!this.canStick) {\n              if (cb && typeof cb === 'function') {\n                cb();\n              }\n            }\n\n            var _this = this,\n                newElemWidth = this.$container[0].getBoundingClientRect().width,\n                comp = window.getComputedStyle(this.$container[0]),\n                pdngl = parseInt(comp['padding-left'], 10),\n                pdngr = parseInt(comp['padding-right'], 10);\n\n            if (this.$anchor && this.$anchor.length) {\n              this.anchorHeight = this.$anchor[0].getBoundingClientRect().height;\n            } else {\n              this._parsePoints();\n            }\n\n            this.$element.css({\n              'max-width': newElemWidth - pdngl - pdngr + 'px'\n            });\n            var newContainerHeight = this.$element[0].getBoundingClientRect().height || this.containerHeight;\n\n            if (this.$element.css(\"display\") == \"none\") {\n              newContainerHeight = 0;\n            }\n\n            this.containerHeight = newContainerHeight;\n            this.$container.css({\n              height: newContainerHeight\n            });\n            this.elemHeight = newContainerHeight;\n\n            if (!this.isStuck) {\n              if (this.$element.hasClass('is-at-bottom')) {\n                var anchorPt = (this.points ? this.points[1] - this.$container.offset().top : this.anchorHeight) - this.elemHeight;\n                this.$element.css('top', anchorPt);\n              }\n            }\n\n            this._setBreakPoints(newContainerHeight, function () {\n              if (cb && typeof cb === 'function') {\n                cb();\n              }\n            });\n          }\n\n          return _setSizes;\n        }() /**\n             * Sets the upper and lower breakpoints for the element to become sticky/unsticky.\n             * @param {Number} elemHeight - px value for sticky.$element height, calculated by `_setSizes`.\n             * @param {Function} cb - optional callback function to be called on completion.\n             * @private\n             */\n      }, {\n        key: '_setBreakPoints',\n        value: function () {\n          function _setBreakPoints(elemHeight, cb) {\n            if (!this.canStick) {\n              if (cb && typeof cb === 'function') {\n                cb();\n              } else {\n                return false;\n              }\n            }\n\n            var mTop = emCalc(this.options.marginTop),\n                mBtm = emCalc(this.options.marginBottom),\n                topPoint = this.points ? this.points[0] : this.$anchor.offset().top,\n                bottomPoint = this.points ? this.points[1] : topPoint + this.anchorHeight,\n                // topPoint = this.$anchor.offset().top || this.points[0],\n            // bottomPoint = topPoint + this.anchorHeight || this.points[1],\n            winHeight = window.innerHeight;\n\n            if (this.options.stickTo === 'top') {\n              topPoint -= mTop;\n              bottomPoint -= elemHeight + mTop;\n            } else if (this.options.stickTo === 'bottom') {\n              topPoint -= winHeight - (elemHeight + mBtm);\n              bottomPoint -= winHeight - mBtm;\n            } else {//this would be the stickTo: both option... tricky\n            }\n\n            this.topPoint = topPoint;\n            this.bottomPoint = bottomPoint;\n\n            if (cb && typeof cb === 'function') {\n              cb();\n            }\n          }\n\n          return _setBreakPoints;\n        }() /**\n             * Destroys the current sticky element.\n             * Resets the element to the top position first.\n             * Removes event listeners, JS-added css properties and classes, and unwraps the $element if the JS added the $container.\n             * @function\n             */\n      }, {\n        key: '_destroy',\n        value: function () {\n          function _destroy() {\n            this._removeSticky(true);\n\n            this.$element.removeClass(this.options.stickyClass + ' is-anchored is-at-top').css({\n              height: '',\n              top: '',\n              bottom: '',\n              'max-width': ''\n            }).off('resizeme.zf.trigger').off('mutateme.zf.trigger');\n\n            if (this.$anchor && this.$anchor.length) {\n              this.$anchor.off('change.zf.sticky');\n            }\n\n            __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(this.scrollListener);\n\n            if (this.wasWrapped) {\n              this.$element.unwrap();\n            } else {\n              this.$container.removeClass(this.options.containerClass).css({\n                height: ''\n              });\n            }\n          }\n\n          return _destroy;\n        }()\n      }]);\n\n      return Sticky;\n    }(__WEBPACK_IMPORTED_MODULE_3__foundation_plugin__[\"Plugin\"]);\n\n    Sticky.defaults = {\n      /**\n       * Customizable container template. Add your own classes for styling and sizing.\n       * @option\n       * @type {string}\n       * @default '&lt;div data-sticky-container&gt;&lt;/div&gt;'\n       */container: '<div data-sticky-container></div>',\n      /**\n       * Location in the view the element sticks to. Can be `'top'` or `'bottom'`.\n       * @option\n       * @type {string}\n       * @default 'top'\n       */stickTo: 'top',\n      /**\n       * If anchored to a single element, the id of that element.\n       * @option\n       * @type {string}\n       * @default ''\n       */anchor: '',\n      /**\n       * If using more than one element as anchor points, the id of the top anchor.\n       * @option\n       * @type {string}\n       * @default ''\n       */topAnchor: '',\n      /**\n       * If using more than one element as anchor points, the id of the bottom anchor.\n       * @option\n       * @type {string}\n       * @default ''\n       */btmAnchor: '',\n      /**\n       * Margin, in `em`'s to apply to the top of the element when it becomes sticky.\n       * @option\n       * @type {number}\n       * @default 1\n       */marginTop: 1,\n      /**\n       * Margin, in `em`'s to apply to the bottom of the element when it becomes sticky.\n       * @option\n       * @type {number}\n       * @default 1\n       */marginBottom: 1,\n      /**\n       * Breakpoint string that is the minimum screen size an element should become sticky.\n       * @option\n       * @type {string}\n       * @default 'medium'\n       */stickyOn: 'medium',\n      /**\n       * Class applied to sticky element, and removed on destruction. Foundation defaults to `sticky`.\n       * @option\n       * @type {string}\n       * @default 'sticky'\n       */stickyClass: 'sticky',\n      /**\n       * Class applied to sticky container. Foundation defaults to `sticky-container`.\n       * @option\n       * @type {string}\n       * @default 'sticky-container'\n       */containerClass: 'sticky-container',\n      /**\n       * Number of scroll events between the plugin's recalculating sticky points. Setting it to `0` will cause it to recalc every scroll event, setting it to `-1` will prevent recalc on scroll.\n       * @option\n       * @type {number}\n       * @default -1\n       */checkEvery: -1\n    }; /**\n        * Helper function to calculate em values\n        * @param Number {em} - number of em's to calculate into pixels\n        */\n\n    function emCalc(em) {\n      return parseInt(window.getComputedStyle(document.body, null).fontSize, 10) * em;\n    } /***/\n  },\n  /***/7: /***/function (module, __webpack_exports__, __webpack_require__) {\n    \"use strict\"; /* harmony export (binding) */\n\n    __webpack_require__.d(__webpack_exports__, \"a\", function () {\n      return Triggers;\n    }); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(0); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__ = __webpack_require__(4); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_1__foundation_util_motion___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__);\n\n    var MutationObserver = function () {\n      var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n\n      for (var i = 0; i < prefixes.length; i++) {\n        if (prefixes[i] + 'MutationObserver' in window) {\n          return window[prefixes[i] + 'MutationObserver'];\n        }\n      }\n\n      return false;\n    }();\n\n    var triggers = function (el, type) {\n      el.data(type).split(' ').forEach(function (id) {\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + id)[type === 'close' ? 'trigger' : 'triggerHandler'](type + '.zf.trigger', [el]);\n      });\n    };\n\n    var Triggers = {\n      Listeners: {\n        Basic: {},\n        Global: {}\n      },\n      Initializers: {}\n    };\n    Triggers.Listeners.Basic = {\n      openListener: function () {\n        triggers(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), 'open');\n      },\n      closeListener: function () {\n        var id = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('close');\n\n        if (id) {\n          triggers(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), 'close');\n        } else {\n          __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).trigger('close.zf.trigger');\n        }\n      },\n      toggleListener: function () {\n        var id = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('toggle');\n\n        if (id) {\n          triggers(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), 'toggle');\n        } else {\n          __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).trigger('toggle.zf.trigger');\n        }\n      },\n      closeableListener: function (e) {\n        e.stopPropagation();\n\n        var animation = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('closable');\n\n        if (animation !== '') {\n          __WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__[\"Motion\"].animateOut(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), animation, function () {\n            __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).trigger('closed.zf');\n          });\n        } else {\n          __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).fadeOut().trigger('closed.zf');\n        }\n      },\n      toggleFocusListener: function () {\n        var id = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('toggle-focus');\n\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + id).triggerHandler('toggle.zf.trigger', [__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this)]);\n      }\n    }; // Elements with [data-open] will reveal a plugin that supports it when clicked.\n\n    Triggers.Initializers.addOpenListener = function ($elem) {\n      $elem.off('click.zf.trigger', Triggers.Listeners.Basic.openListener);\n      $elem.on('click.zf.trigger', '[data-open]', Triggers.Listeners.Basic.openListener);\n    }; // Elements with [data-close] will close a plugin that supports it when clicked.\n    // If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n\n\n    Triggers.Initializers.addCloseListener = function ($elem) {\n      $elem.off('click.zf.trigger', Triggers.Listeners.Basic.closeListener);\n      $elem.on('click.zf.trigger', '[data-close]', Triggers.Listeners.Basic.closeListener);\n    }; // Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n\n\n    Triggers.Initializers.addToggleListener = function ($elem) {\n      $elem.off('click.zf.trigger', Triggers.Listeners.Basic.toggleListener);\n      $elem.on('click.zf.trigger', '[data-toggle]', Triggers.Listeners.Basic.toggleListener);\n    }; // Elements with [data-closable] will respond to close.zf.trigger events.\n\n\n    Triggers.Initializers.addCloseableListener = function ($elem) {\n      $elem.off('close.zf.trigger', Triggers.Listeners.Basic.closeableListener);\n      $elem.on('close.zf.trigger', '[data-closeable], [data-closable]', Triggers.Listeners.Basic.closeableListener);\n    }; // Elements with [data-toggle-focus] will respond to coming in and out of focus\n\n\n    Triggers.Initializers.addToggleFocusListener = function ($elem) {\n      $elem.off('focus.zf.trigger blur.zf.trigger', Triggers.Listeners.Basic.toggleFocusListener);\n      $elem.on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', Triggers.Listeners.Basic.toggleFocusListener);\n    }; // More Global/complex listeners and triggers\n\n\n    Triggers.Listeners.Global = {\n      resizeListener: function ($nodes) {\n        if (!MutationObserver) {\n          //fallback for IE 9\n          $nodes.each(function () {\n            __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).triggerHandler('resizeme.zf.trigger');\n          });\n        } //trigger all listening elements and signal a resize event\n\n\n        $nodes.attr('data-events', \"resize\");\n      },\n      scrollListener: function ($nodes) {\n        if (!MutationObserver) {\n          //fallback for IE 9\n          $nodes.each(function () {\n            __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).triggerHandler('scrollme.zf.trigger');\n          });\n        } //trigger all listening elements and signal a scroll event\n\n\n        $nodes.attr('data-events', \"scroll\");\n      },\n      closeMeListener: function (e, pluginId) {\n        var plugin = e.namespace.split('.')[0];\n\n        var plugins = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-' + plugin + ']').not('[data-yeti-box=\"' + pluginId + '\"]');\n\n        plugins.each(function () {\n          var _this = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this);\n\n          _this.triggerHandler('close.zf.trigger', [_this]);\n        });\n      }\n    }; // Global, parses whole document.\n\n    Triggers.Initializers.addClosemeListener = function (pluginName) {\n      var yetiBoxes = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-yeti-box]'),\n          plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n      if (pluginName) {\n        if (typeof pluginName === 'string') {\n          plugNames.push(pluginName);\n        } else if ((typeof pluginName === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(pluginName)) === 'object' && typeof pluginName[0] === 'string') {\n          plugNames.concat(pluginName);\n        } else {\n          console.error('Plugin names must be strings');\n        }\n      }\n\n      if (yetiBoxes.length) {\n        var listeners = plugNames.map(function (name) {\n          return 'closeme.zf.' + name;\n        }).join(' ');\n\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(listeners).on(listeners, Triggers.Listeners.Global.closeMeListener);\n      }\n    };\n\n    function debounceGlobalListener(debounce, trigger, listener) {\n      var timer = void 0,\n          args = Array.prototype.slice.call(arguments, 3);\n\n      __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(trigger).on(trigger, function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n          listener.apply(null, args);\n        }, debounce || 10); //default time to emit scroll event\n      });\n    }\n\n    Triggers.Initializers.addResizeListener = function (debounce) {\n      var $nodes = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-resize]');\n\n      if ($nodes.length) {\n        debounceGlobalListener(debounce, 'resize.zf.trigger', Triggers.Listeners.Global.resizeListener, $nodes);\n      }\n    };\n\n    Triggers.Initializers.addScrollListener = function (debounce) {\n      var $nodes = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-scroll]');\n\n      if ($nodes.length) {\n        debounceGlobalListener(debounce, 'scroll.zf.trigger', Triggers.Listeners.Global.scrollListener, $nodes);\n      }\n    };\n\n    Triggers.Initializers.addMutationEventsListener = function ($elem) {\n      if (!MutationObserver) {\n        return false;\n      }\n\n      var $nodes = $elem.find('[data-resize], [data-scroll], [data-mutate]'); //element callback\n\n      var listeningElementsMutation = function (mutationRecordsList) {\n        var $target = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(mutationRecordsList[0].target); //trigger the event handler for the element depending on type\n\n\n        switch (mutationRecordsList[0].type) {\n          case \"attributes\":\n            if ($target.attr(\"data-events\") === \"scroll\" && mutationRecordsList[0].attributeName === \"data-events\") {\n              $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n            }\n\n            if ($target.attr(\"data-events\") === \"resize\" && mutationRecordsList[0].attributeName === \"data-events\") {\n              $target.triggerHandler('resizeme.zf.trigger', [$target]);\n            }\n\n            if (mutationRecordsList[0].attributeName === \"style\") {\n              $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n              $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n            }\n\n            break;\n\n          case \"childList\":\n            $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n            $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n            break;\n\n          default:\n            return false;\n          //nothing\n        }\n      };\n\n      if ($nodes.length) {\n        //for each element that needs to listen for resizing, scrolling, or mutation add a single observer\n        for (var i = 0; i <= $nodes.length - 1; i++) {\n          var elementObserver = new MutationObserver(listeningElementsMutation);\n          elementObserver.observe($nodes[i], {\n            attributes: true,\n            childList: true,\n            characterData: false,\n            subtree: true,\n            attributeFilter: [\"data-events\", \"style\"]\n          });\n        }\n      }\n    };\n\n    Triggers.Initializers.addSimpleListeners = function () {\n      var $document = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(document);\n\n      Triggers.Initializers.addOpenListener($document);\n      Triggers.Initializers.addCloseListener($document);\n      Triggers.Initializers.addToggleListener($document);\n      Triggers.Initializers.addCloseableListener($document);\n      Triggers.Initializers.addToggleFocusListener($document);\n    };\n\n    Triggers.Initializers.addGlobalListeners = function () {\n      var $document = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(document);\n\n      Triggers.Initializers.addMutationEventsListener($document);\n      Triggers.Initializers.addResizeListener();\n      Triggers.Initializers.addScrollListener();\n      Triggers.Initializers.addClosemeListener();\n    };\n\n    Triggers.init = function ($, Foundation) {\n      if (typeof $.triggersInitialized === 'undefined') {\n        var $document = $(document);\n\n        if (document.readyState === \"complete\") {\n          Triggers.Initializers.addSimpleListeners();\n          Triggers.Initializers.addGlobalListeners();\n        } else {\n          $(window).on('load', function () {\n            Triggers.Initializers.addSimpleListeners();\n            Triggers.Initializers.addGlobalListeners();\n          });\n        }\n\n        $.triggersInitialized = true;\n      }\n\n      if (Foundation) {\n        Foundation.Triggers = Triggers; // Legacy included to be backwards compatible for now.\n\n        Foundation.IHearYou = Triggers.Initializers.addGlobalListeners;\n      }\n    }; /***/\n  },\n  /***/96: /***/function (module, exports, __webpack_require__) {\n    module.exports = __webpack_require__(30); /***/\n  } /******/\n});","map":{"version":3,"sources":["packages/zurb:foundation-sites/dist/js/plugins/foundation.sticky.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","jQuery","Foundation","window","Plugin","rtl","GetYoDigits","transitionend","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__foundation_core__","__WEBPACK_IMPORTED_MODULE_0__foundation_core___default","__WEBPACK_IMPORTED_MODULE_1__foundation_sticky__","plugin","Motion","Move","MediaQuery","Sticky","__WEBPACK_IMPORTED_MODULE_0_jquery__","__WEBPACK_IMPORTED_MODULE_0_jquery___default","__WEBPACK_IMPORTED_MODULE_1__foundation_util_core__","__WEBPACK_IMPORTED_MODULE_1__foundation_util_core___default","__WEBPACK_IMPORTED_MODULE_2__foundation_util_mediaQuery__","__WEBPACK_IMPORTED_MODULE_2__foundation_util_mediaQuery___default","__WEBPACK_IMPORTED_MODULE_3__foundation_plugin__","__WEBPACK_IMPORTED_MODULE_3__foundation_plugin___default","__WEBPACK_IMPORTED_MODULE_4__foundation_util_triggers__","_createClass","defineProperties","target","props","length","descriptor","writable","key","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_Plugin","getPrototypeOf","apply","arguments","_setup","element","options","$element","a","extend","defaults","data","className","init","_init","$parent","parent","id","_this","$container","wasWrapped","wrap","container","addClass","containerClass","stickyClass","attr","anchor","scrollCount","checkEvery","isStuck","one","containerHeight","css","getBoundingClientRect","height","elemHeight","$anchor","_parsePoints","_setSizes","scroll","pageYOffset","_calc","_removeSticky","topPoint","_events","split","reverse","join","top","topAnchor","btm","btmAnchor","document","documentElement","scrollHeight","pts","breaks","len","pt","place","offset","toLowerCase","points","scrollListener","isOn","canStick","off","on","e","el","_eventsHandler","_pauseListeners","trigger","checkSizes","bottomPoint","_setSticky","stickTo","mrgn","notStuckTo","removeClass","isTop","stickToTop","anchorPt","anchorHeight","topOrBottom","cb","is","stickyOn","newElemWidth","width","comp","getComputedStyle","pdngl","parseInt","pdngr","newContainerHeight","hasClass","_setBreakPoints","mTop","emCalc","marginTop","mBtm","marginBottom","winHeight","innerHeight","_destroy","bottom","unwrap","em","body","fontSize","Triggers","__WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__","__WEBPACK_IMPORTED_MODULE_1__foundation_util_motion___default","MutationObserver","prefixes","triggers","type","forEach","Listeners","Basic","Global","Initializers","openListener","closeListener","toggleListener","closeableListener","stopPropagation","animation","animateOut","fadeOut","toggleFocusListener","triggerHandler","addOpenListener","$elem","addCloseListener","addToggleListener","addCloseableListener","addToggleFocusListener","resizeListener","$nodes","each","closeMeListener","pluginId","namespace","plugins","not","addClosemeListener","pluginName","yetiBoxes","plugNames","push","concat","console","error","listeners","map","debounceGlobalListener","debounce","listener","timer","args","Array","slice","clearTimeout","setTimeout","addResizeListener","addScrollListener","addMutationEventsListener","find","listeningElementsMutation","mutationRecordsList","$target","attributeName","closest","elementObserver","observe","attributes","childList","characterData","subtree","attributeFilter","addSimpleListeners","$document","addGlobalListeners","$","triggersInitialized","readyState","IHearYou"],"mappings":"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","file":"packages/zurb:foundation-sites/dist/js/plugins/foundation.sticky.js.map","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 96);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ (function(module, exports) {\n\nmodule.exports = jQuery;\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports) {\n\nmodule.exports = {Foundation: window.Foundation};\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, exports) {\n\nmodule.exports = {Plugin: window.Foundation.Plugin};\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module, exports) {\n\nmodule.exports = {rtl: window.Foundation.rtl, GetYoDigits: window.Foundation.GetYoDigits, transitionend: window.Foundation.transitionend};\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__foundation_core__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__foundation_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__foundation_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__foundation_sticky__ = __webpack_require__(60);\n\n\n\n__WEBPACK_IMPORTED_MODULE_0__foundation_core__[\"Foundation\"].plugin(__WEBPACK_IMPORTED_MODULE_1__foundation_sticky__[\"a\" /* Sticky */], 'Sticky');\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, exports) {\n\nmodule.exports = {Motion: window.Foundation.Motion, Move: window.Foundation.Move};\n\n/***/ }),\n\n/***/ 6:\n/***/ (function(module, exports) {\n\nmodule.exports = {MediaQuery: window.Foundation.MediaQuery};\n\n/***/ }),\n\n/***/ 60:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Sticky; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__foundation_util_core__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__foundation_util_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__foundation_util_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__foundation_util_mediaQuery__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__foundation_util_mediaQuery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__foundation_util_mediaQuery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__foundation_plugin__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__foundation_plugin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__foundation_plugin__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__foundation_util_triggers__ = __webpack_require__(7);\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n/**\n * Sticky module.\n * @module foundation.sticky\n * @requires foundation.util.triggers\n * @requires foundation.util.mediaQuery\n */\n\nvar Sticky = function (_Plugin) {\n  _inherits(Sticky, _Plugin);\n\n  function Sticky() {\n    _classCallCheck(this, Sticky);\n\n    return _possibleConstructorReturn(this, (Sticky.__proto__ || Object.getPrototypeOf(Sticky)).apply(this, arguments));\n  }\n\n  _createClass(Sticky, [{\n    key: '_setup',\n\n    /**\n     * Creates a new instance of a sticky thing.\n     * @class\n     * @name Sticky\n     * @param {jQuery} element - jQuery object to make sticky.\n     * @param {Object} options - options object passed when creating the element programmatically.\n     */\n    value: function _setup(element, options) {\n      this.$element = element;\n      this.options = __WEBPACK_IMPORTED_MODULE_0_jquery___default.a.extend({}, Sticky.defaults, this.$element.data(), options);\n      this.className = 'Sticky'; // ie9 back compat\n\n      // Triggers init is idempotent, just need to make sure it is initialized\n      __WEBPACK_IMPORTED_MODULE_4__foundation_util_triggers__[\"a\" /* Triggers */].init(__WEBPACK_IMPORTED_MODULE_0_jquery___default.a);\n\n      this._init();\n    }\n\n    /**\n     * Initializes the sticky element by adding classes, getting/setting dimensions, breakpoints and attributes\n     * @function\n     * @private\n     */\n\n  }, {\n    key: '_init',\n    value: function _init() {\n      __WEBPACK_IMPORTED_MODULE_2__foundation_util_mediaQuery__[\"MediaQuery\"]._init();\n\n      var $parent = this.$element.parent('[data-sticky-container]'),\n          id = this.$element[0].id || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__foundation_util_core__[\"GetYoDigits\"])(6, 'sticky'),\n          _this = this;\n\n      if ($parent.length) {\n        this.$container = $parent;\n      } else {\n        this.wasWrapped = true;\n        this.$element.wrap(this.options.container);\n        this.$container = this.$element.parent();\n      }\n      this.$container.addClass(this.options.containerClass);\n\n      this.$element.addClass(this.options.stickyClass).attr({ 'data-resize': id, 'data-mutate': id });\n      if (this.options.anchor !== '') {\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + _this.options.anchor).attr({ 'data-mutate': id });\n      }\n\n      this.scrollCount = this.options.checkEvery;\n      this.isStuck = false;\n      __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).one('load.zf.sticky', function () {\n        //We calculate the container height to have correct values for anchor points offset calculation.\n        _this.containerHeight = _this.$element.css(\"display\") == \"none\" ? 0 : _this.$element[0].getBoundingClientRect().height;\n        _this.$container.css('height', _this.containerHeight);\n        _this.elemHeight = _this.containerHeight;\n        if (_this.options.anchor !== '') {\n          _this.$anchor = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + _this.options.anchor);\n        } else {\n          _this._parsePoints();\n        }\n\n        _this._setSizes(function () {\n          var scroll = window.pageYOffset;\n          _this._calc(false, scroll);\n          //Unstick the element will ensure that proper classes are set.\n          if (!_this.isStuck) {\n            _this._removeSticky(scroll >= _this.topPoint ? false : true);\n          }\n        });\n        _this._events(id.split('-').reverse().join('-'));\n      });\n    }\n\n    /**\n     * If using multiple elements as anchors, calculates the top and bottom pixel values the sticky thing should stick and unstick on.\n     * @function\n     * @private\n     */\n\n  }, {\n    key: '_parsePoints',\n    value: function _parsePoints() {\n      var top = this.options.topAnchor == \"\" ? 1 : this.options.topAnchor,\n          btm = this.options.btmAnchor == \"\" ? document.documentElement.scrollHeight : this.options.btmAnchor,\n          pts = [top, btm],\n          breaks = {};\n      for (var i = 0, len = pts.length; i < len && pts[i]; i++) {\n        var pt;\n        if (typeof pts[i] === 'number') {\n          pt = pts[i];\n        } else {\n          var place = pts[i].split(':'),\n              anchor = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + place[0]);\n\n          pt = anchor.offset().top;\n          if (place[1] && place[1].toLowerCase() === 'bottom') {\n            pt += anchor[0].getBoundingClientRect().height;\n          }\n        }\n        breaks[i] = pt;\n      }\n\n      this.points = breaks;\n      return;\n    }\n\n    /**\n     * Adds event handlers for the scrolling element.\n     * @private\n     * @param {String} id - pseudo-random id for unique scroll event listener.\n     */\n\n  }, {\n    key: '_events',\n    value: function _events(id) {\n      var _this = this,\n          scrollListener = this.scrollListener = 'scroll.zf.' + id;\n      if (this.isOn) {\n        return;\n      }\n      if (this.canStick) {\n        this.isOn = true;\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(scrollListener).on(scrollListener, function (e) {\n          if (_this.scrollCount === 0) {\n            _this.scrollCount = _this.options.checkEvery;\n            _this._setSizes(function () {\n              _this._calc(false, window.pageYOffset);\n            });\n          } else {\n            _this.scrollCount--;\n            _this._calc(false, window.pageYOffset);\n          }\n        });\n      }\n\n      this.$element.off('resizeme.zf.trigger').on('resizeme.zf.trigger', function (e, el) {\n        _this._eventsHandler(id);\n      });\n\n      this.$element.on('mutateme.zf.trigger', function (e, el) {\n        _this._eventsHandler(id);\n      });\n\n      if (this.$anchor) {\n        this.$anchor.on('mutateme.zf.trigger', function (e, el) {\n          _this._eventsHandler(id);\n        });\n      }\n    }\n\n    /**\n     * Handler for events.\n     * @private\n     * @param {String} id - pseudo-random id for unique scroll event listener.\n     */\n\n  }, {\n    key: '_eventsHandler',\n    value: function _eventsHandler(id) {\n      var _this = this,\n          scrollListener = this.scrollListener = 'scroll.zf.' + id;\n\n      _this._setSizes(function () {\n        _this._calc(false);\n        if (_this.canStick) {\n          if (!_this.isOn) {\n            _this._events(id);\n          }\n        } else if (_this.isOn) {\n          _this._pauseListeners(scrollListener);\n        }\n      });\n    }\n\n    /**\n     * Removes event handlers for scroll and change events on anchor.\n     * @fires Sticky#pause\n     * @param {String} scrollListener - unique, namespaced scroll listener attached to `window`\n     */\n\n  }, {\n    key: '_pauseListeners',\n    value: function _pauseListeners(scrollListener) {\n      this.isOn = false;\n      __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(scrollListener);\n\n      /**\n       * Fires when the plugin is paused due to resize event shrinking the view.\n       * @event Sticky#pause\n       * @private\n       */\n      this.$element.trigger('pause.zf.sticky');\n    }\n\n    /**\n     * Called on every `scroll` event and on `_init`\n     * fires functions based on booleans and cached values\n     * @param {Boolean} checkSizes - true if plugin should recalculate sizes and breakpoints.\n     * @param {Number} scroll - current scroll position passed from scroll event cb function. If not passed, defaults to `window.pageYOffset`.\n     */\n\n  }, {\n    key: '_calc',\n    value: function _calc(checkSizes, scroll) {\n      if (checkSizes) {\n        this._setSizes();\n      }\n\n      if (!this.canStick) {\n        if (this.isStuck) {\n          this._removeSticky(true);\n        }\n        return false;\n      }\n\n      if (!scroll) {\n        scroll = window.pageYOffset;\n      }\n\n      if (scroll >= this.topPoint) {\n        if (scroll <= this.bottomPoint) {\n          if (!this.isStuck) {\n            this._setSticky();\n          }\n        } else {\n          if (this.isStuck) {\n            this._removeSticky(false);\n          }\n        }\n      } else {\n        if (this.isStuck) {\n          this._removeSticky(true);\n        }\n      }\n    }\n\n    /**\n     * Causes the $element to become stuck.\n     * Adds `position: fixed;`, and helper classes.\n     * @fires Sticky#stuckto\n     * @function\n     * @private\n     */\n\n  }, {\n    key: '_setSticky',\n    value: function _setSticky() {\n      var _this = this,\n          stickTo = this.options.stickTo,\n          mrgn = stickTo === 'top' ? 'marginTop' : 'marginBottom',\n          notStuckTo = stickTo === 'top' ? 'bottom' : 'top',\n          css = {};\n\n      css[mrgn] = this.options[mrgn] + 'em';\n      css[stickTo] = 0;\n      css[notStuckTo] = 'auto';\n      this.isStuck = true;\n      this.$element.removeClass('is-anchored is-at-' + notStuckTo).addClass('is-stuck is-at-' + stickTo).css(css)\n      /**\n       * Fires when the $element has become `position: fixed;`\n       * Namespaced to `top` or `bottom`, e.g. `sticky.zf.stuckto:top`\n       * @event Sticky#stuckto\n       */\n      .trigger('sticky.zf.stuckto:' + stickTo);\n      this.$element.on(\"transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd\", function () {\n        _this._setSizes();\n      });\n    }\n\n    /**\n     * Causes the $element to become unstuck.\n     * Removes `position: fixed;`, and helper classes.\n     * Adds other helper classes.\n     * @param {Boolean} isTop - tells the function if the $element should anchor to the top or bottom of its $anchor element.\n     * @fires Sticky#unstuckfrom\n     * @private\n     */\n\n  }, {\n    key: '_removeSticky',\n    value: function _removeSticky(isTop) {\n      var stickTo = this.options.stickTo,\n          stickToTop = stickTo === 'top',\n          css = {},\n          anchorPt = (this.points ? this.points[1] - this.points[0] : this.anchorHeight) - this.elemHeight,\n          mrgn = stickToTop ? 'marginTop' : 'marginBottom',\n          notStuckTo = stickToTop ? 'bottom' : 'top',\n          topOrBottom = isTop ? 'top' : 'bottom';\n\n      css[mrgn] = 0;\n\n      css['bottom'] = 'auto';\n      if (isTop) {\n        css['top'] = 0;\n      } else {\n        css['top'] = anchorPt;\n      }\n\n      this.isStuck = false;\n      this.$element.removeClass('is-stuck is-at-' + stickTo).addClass('is-anchored is-at-' + topOrBottom).css(css)\n      /**\n       * Fires when the $element has become anchored.\n       * Namespaced to `top` or `bottom`, e.g. `sticky.zf.unstuckfrom:bottom`\n       * @event Sticky#unstuckfrom\n       */\n      .trigger('sticky.zf.unstuckfrom:' + topOrBottom);\n    }\n\n    /**\n     * Sets the $element and $container sizes for plugin.\n     * Calls `_setBreakPoints`.\n     * @param {Function} cb - optional callback function to fire on completion of `_setBreakPoints`.\n     * @private\n     */\n\n  }, {\n    key: '_setSizes',\n    value: function _setSizes(cb) {\n      this.canStick = __WEBPACK_IMPORTED_MODULE_2__foundation_util_mediaQuery__[\"MediaQuery\"].is(this.options.stickyOn);\n      if (!this.canStick) {\n        if (cb && typeof cb === 'function') {\n          cb();\n        }\n      }\n      var _this = this,\n          newElemWidth = this.$container[0].getBoundingClientRect().width,\n          comp = window.getComputedStyle(this.$container[0]),\n          pdngl = parseInt(comp['padding-left'], 10),\n          pdngr = parseInt(comp['padding-right'], 10);\n\n      if (this.$anchor && this.$anchor.length) {\n        this.anchorHeight = this.$anchor[0].getBoundingClientRect().height;\n      } else {\n        this._parsePoints();\n      }\n\n      this.$element.css({\n        'max-width': newElemWidth - pdngl - pdngr + 'px'\n      });\n\n      var newContainerHeight = this.$element[0].getBoundingClientRect().height || this.containerHeight;\n      if (this.$element.css(\"display\") == \"none\") {\n        newContainerHeight = 0;\n      }\n      this.containerHeight = newContainerHeight;\n      this.$container.css({\n        height: newContainerHeight\n      });\n      this.elemHeight = newContainerHeight;\n\n      if (!this.isStuck) {\n        if (this.$element.hasClass('is-at-bottom')) {\n          var anchorPt = (this.points ? this.points[1] - this.$container.offset().top : this.anchorHeight) - this.elemHeight;\n          this.$element.css('top', anchorPt);\n        }\n      }\n\n      this._setBreakPoints(newContainerHeight, function () {\n        if (cb && typeof cb === 'function') {\n          cb();\n        }\n      });\n    }\n\n    /**\n     * Sets the upper and lower breakpoints for the element to become sticky/unsticky.\n     * @param {Number} elemHeight - px value for sticky.$element height, calculated by `_setSizes`.\n     * @param {Function} cb - optional callback function to be called on completion.\n     * @private\n     */\n\n  }, {\n    key: '_setBreakPoints',\n    value: function _setBreakPoints(elemHeight, cb) {\n      if (!this.canStick) {\n        if (cb && typeof cb === 'function') {\n          cb();\n        } else {\n          return false;\n        }\n      }\n      var mTop = emCalc(this.options.marginTop),\n          mBtm = emCalc(this.options.marginBottom),\n          topPoint = this.points ? this.points[0] : this.$anchor.offset().top,\n          bottomPoint = this.points ? this.points[1] : topPoint + this.anchorHeight,\n\n      // topPoint = this.$anchor.offset().top || this.points[0],\n      // bottomPoint = topPoint + this.anchorHeight || this.points[1],\n      winHeight = window.innerHeight;\n\n      if (this.options.stickTo === 'top') {\n        topPoint -= mTop;\n        bottomPoint -= elemHeight + mTop;\n      } else if (this.options.stickTo === 'bottom') {\n        topPoint -= winHeight - (elemHeight + mBtm);\n        bottomPoint -= winHeight - mBtm;\n      } else {\n        //this would be the stickTo: both option... tricky\n      }\n\n      this.topPoint = topPoint;\n      this.bottomPoint = bottomPoint;\n\n      if (cb && typeof cb === 'function') {\n        cb();\n      }\n    }\n\n    /**\n     * Destroys the current sticky element.\n     * Resets the element to the top position first.\n     * Removes event listeners, JS-added css properties and classes, and unwraps the $element if the JS added the $container.\n     * @function\n     */\n\n  }, {\n    key: '_destroy',\n    value: function _destroy() {\n      this._removeSticky(true);\n\n      this.$element.removeClass(this.options.stickyClass + ' is-anchored is-at-top').css({\n        height: '',\n        top: '',\n        bottom: '',\n        'max-width': ''\n      }).off('resizeme.zf.trigger').off('mutateme.zf.trigger');\n      if (this.$anchor && this.$anchor.length) {\n        this.$anchor.off('change.zf.sticky');\n      }\n      __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(this.scrollListener);\n\n      if (this.wasWrapped) {\n        this.$element.unwrap();\n      } else {\n        this.$container.removeClass(this.options.containerClass).css({\n          height: ''\n        });\n      }\n    }\n  }]);\n\n  return Sticky;\n}(__WEBPACK_IMPORTED_MODULE_3__foundation_plugin__[\"Plugin\"]);\n\nSticky.defaults = {\n  /**\n   * Customizable container template. Add your own classes for styling and sizing.\n   * @option\n   * @type {string}\n   * @default '&lt;div data-sticky-container&gt;&lt;/div&gt;'\n   */\n  container: '<div data-sticky-container></div>',\n  /**\n   * Location in the view the element sticks to. Can be `'top'` or `'bottom'`.\n   * @option\n   * @type {string}\n   * @default 'top'\n   */\n  stickTo: 'top',\n  /**\n   * If anchored to a single element, the id of that element.\n   * @option\n   * @type {string}\n   * @default ''\n   */\n  anchor: '',\n  /**\n   * If using more than one element as anchor points, the id of the top anchor.\n   * @option\n   * @type {string}\n   * @default ''\n   */\n  topAnchor: '',\n  /**\n   * If using more than one element as anchor points, the id of the bottom anchor.\n   * @option\n   * @type {string}\n   * @default ''\n   */\n  btmAnchor: '',\n  /**\n   * Margin, in `em`'s to apply to the top of the element when it becomes sticky.\n   * @option\n   * @type {number}\n   * @default 1\n   */\n  marginTop: 1,\n  /**\n   * Margin, in `em`'s to apply to the bottom of the element when it becomes sticky.\n   * @option\n   * @type {number}\n   * @default 1\n   */\n  marginBottom: 1,\n  /**\n   * Breakpoint string that is the minimum screen size an element should become sticky.\n   * @option\n   * @type {string}\n   * @default 'medium'\n   */\n  stickyOn: 'medium',\n  /**\n   * Class applied to sticky element, and removed on destruction. Foundation defaults to `sticky`.\n   * @option\n   * @type {string}\n   * @default 'sticky'\n   */\n  stickyClass: 'sticky',\n  /**\n   * Class applied to sticky container. Foundation defaults to `sticky-container`.\n   * @option\n   * @type {string}\n   * @default 'sticky-container'\n   */\n  containerClass: 'sticky-container',\n  /**\n   * Number of scroll events between the plugin's recalculating sticky points. Setting it to `0` will cause it to recalc every scroll event, setting it to `-1` will prevent recalc on scroll.\n   * @option\n   * @type {number}\n   * @default -1\n   */\n  checkEvery: -1\n};\n\n/**\n * Helper function to calculate em values\n * @param Number {em} - number of em's to calculate into pixels\n */\nfunction emCalc(em) {\n  return parseInt(window.getComputedStyle(document.body, null).fontSize, 10) * em;\n}\n\n\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Triggers; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__foundation_util_motion___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__);\n\n\n\n\n\nvar MutationObserver = function () {\n  var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n  for (var i = 0; i < prefixes.length; i++) {\n    if (prefixes[i] + 'MutationObserver' in window) {\n      return window[prefixes[i] + 'MutationObserver'];\n    }\n  }\n  return false;\n}();\n\nvar triggers = function (el, type) {\n  el.data(type).split(' ').forEach(function (id) {\n    __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + id)[type === 'close' ? 'trigger' : 'triggerHandler'](type + '.zf.trigger', [el]);\n  });\n};\n\nvar Triggers = {\n  Listeners: {\n    Basic: {},\n    Global: {}\n  },\n  Initializers: {}\n};\n\nTriggers.Listeners.Basic = {\n  openListener: function () {\n    triggers(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), 'open');\n  },\n  closeListener: function () {\n    var id = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('close');\n    if (id) {\n      triggers(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), 'close');\n    } else {\n      __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).trigger('close.zf.trigger');\n    }\n  },\n  toggleListener: function () {\n    var id = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('toggle');\n    if (id) {\n      triggers(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), 'toggle');\n    } else {\n      __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).trigger('toggle.zf.trigger');\n    }\n  },\n  closeableListener: function (e) {\n    e.stopPropagation();\n    var animation = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('closable');\n\n    if (animation !== '') {\n      __WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__[\"Motion\"].animateOut(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), animation, function () {\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).trigger('closed.zf');\n      });\n    } else {\n      __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).fadeOut().trigger('closed.zf');\n    }\n  },\n  toggleFocusListener: function () {\n    var id = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('toggle-focus');\n    __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + id).triggerHandler('toggle.zf.trigger', [__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this)]);\n  }\n};\n\n// Elements with [data-open] will reveal a plugin that supports it when clicked.\nTriggers.Initializers.addOpenListener = function ($elem) {\n  $elem.off('click.zf.trigger', Triggers.Listeners.Basic.openListener);\n  $elem.on('click.zf.trigger', '[data-open]', Triggers.Listeners.Basic.openListener);\n};\n\n// Elements with [data-close] will close a plugin that supports it when clicked.\n// If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\nTriggers.Initializers.addCloseListener = function ($elem) {\n  $elem.off('click.zf.trigger', Triggers.Listeners.Basic.closeListener);\n  $elem.on('click.zf.trigger', '[data-close]', Triggers.Listeners.Basic.closeListener);\n};\n\n// Elements with [data-toggle] will toggle a plugin that supports it when clicked.\nTriggers.Initializers.addToggleListener = function ($elem) {\n  $elem.off('click.zf.trigger', Triggers.Listeners.Basic.toggleListener);\n  $elem.on('click.zf.trigger', '[data-toggle]', Triggers.Listeners.Basic.toggleListener);\n};\n\n// Elements with [data-closable] will respond to close.zf.trigger events.\nTriggers.Initializers.addCloseableListener = function ($elem) {\n  $elem.off('close.zf.trigger', Triggers.Listeners.Basic.closeableListener);\n  $elem.on('close.zf.trigger', '[data-closeable], [data-closable]', Triggers.Listeners.Basic.closeableListener);\n};\n\n// Elements with [data-toggle-focus] will respond to coming in and out of focus\nTriggers.Initializers.addToggleFocusListener = function ($elem) {\n  $elem.off('focus.zf.trigger blur.zf.trigger', Triggers.Listeners.Basic.toggleFocusListener);\n  $elem.on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', Triggers.Listeners.Basic.toggleFocusListener);\n};\n\n// More Global/complex listeners and triggers\nTriggers.Listeners.Global = {\n  resizeListener: function ($nodes) {\n    if (!MutationObserver) {\n      //fallback for IE 9\n      $nodes.each(function () {\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).triggerHandler('resizeme.zf.trigger');\n      });\n    }\n    //trigger all listening elements and signal a resize event\n    $nodes.attr('data-events', \"resize\");\n  },\n  scrollListener: function ($nodes) {\n    if (!MutationObserver) {\n      //fallback for IE 9\n      $nodes.each(function () {\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).triggerHandler('scrollme.zf.trigger');\n      });\n    }\n    //trigger all listening elements and signal a scroll event\n    $nodes.attr('data-events', \"scroll\");\n  },\n  closeMeListener: function (e, pluginId) {\n    var plugin = e.namespace.split('.')[0];\n    var plugins = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-' + plugin + ']').not('[data-yeti-box=\"' + pluginId + '\"]');\n\n    plugins.each(function () {\n      var _this = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this);\n      _this.triggerHandler('close.zf.trigger', [_this]);\n    });\n  }\n};\n\n// Global, parses whole document.\nTriggers.Initializers.addClosemeListener = function (pluginName) {\n  var yetiBoxes = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-yeti-box]'),\n      plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n  if (pluginName) {\n    if (typeof pluginName === 'string') {\n      plugNames.push(pluginName);\n    } else if (typeof pluginName === 'object' && typeof pluginName[0] === 'string') {\n      plugNames.concat(pluginName);\n    } else {\n      console.error('Plugin names must be strings');\n    }\n  }\n  if (yetiBoxes.length) {\n    var listeners = plugNames.map(function (name) {\n      return 'closeme.zf.' + name;\n    }).join(' ');\n\n    __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(listeners).on(listeners, Triggers.Listeners.Global.closeMeListener);\n  }\n};\n\nfunction debounceGlobalListener(debounce, trigger, listener) {\n  var timer = void 0,\n      args = Array.prototype.slice.call(arguments, 3);\n  __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(trigger).on(trigger, function (e) {\n    if (timer) {\n      clearTimeout(timer);\n    }\n    timer = setTimeout(function () {\n      listener.apply(null, args);\n    }, debounce || 10); //default time to emit scroll event\n  });\n}\n\nTriggers.Initializers.addResizeListener = function (debounce) {\n  var $nodes = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-resize]');\n  if ($nodes.length) {\n    debounceGlobalListener(debounce, 'resize.zf.trigger', Triggers.Listeners.Global.resizeListener, $nodes);\n  }\n};\n\nTriggers.Initializers.addScrollListener = function (debounce) {\n  var $nodes = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-scroll]');\n  if ($nodes.length) {\n    debounceGlobalListener(debounce, 'scroll.zf.trigger', Triggers.Listeners.Global.scrollListener, $nodes);\n  }\n};\n\nTriggers.Initializers.addMutationEventsListener = function ($elem) {\n  if (!MutationObserver) {\n    return false;\n  }\n  var $nodes = $elem.find('[data-resize], [data-scroll], [data-mutate]');\n\n  //element callback\n  var listeningElementsMutation = function (mutationRecordsList) {\n    var $target = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(mutationRecordsList[0].target);\n\n    //trigger the event handler for the element depending on type\n    switch (mutationRecordsList[0].type) {\n      case \"attributes\":\n        if ($target.attr(\"data-events\") === \"scroll\" && mutationRecordsList[0].attributeName === \"data-events\") {\n          $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n        }\n        if ($target.attr(\"data-events\") === \"resize\" && mutationRecordsList[0].attributeName === \"data-events\") {\n          $target.triggerHandler('resizeme.zf.trigger', [$target]);\n        }\n        if (mutationRecordsList[0].attributeName === \"style\") {\n          $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n          $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n        }\n        break;\n\n      case \"childList\":\n        $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n        $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n        break;\n\n      default:\n        return false;\n      //nothing\n    }\n  };\n\n  if ($nodes.length) {\n    //for each element that needs to listen for resizing, scrolling, or mutation add a single observer\n    for (var i = 0; i <= $nodes.length - 1; i++) {\n      var elementObserver = new MutationObserver(listeningElementsMutation);\n      elementObserver.observe($nodes[i], { attributes: true, childList: true, characterData: false, subtree: true, attributeFilter: [\"data-events\", \"style\"] });\n    }\n  }\n};\n\nTriggers.Initializers.addSimpleListeners = function () {\n  var $document = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(document);\n\n  Triggers.Initializers.addOpenListener($document);\n  Triggers.Initializers.addCloseListener($document);\n  Triggers.Initializers.addToggleListener($document);\n  Triggers.Initializers.addCloseableListener($document);\n  Triggers.Initializers.addToggleFocusListener($document);\n};\n\nTriggers.Initializers.addGlobalListeners = function () {\n  var $document = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(document);\n  Triggers.Initializers.addMutationEventsListener($document);\n  Triggers.Initializers.addResizeListener();\n  Triggers.Initializers.addScrollListener();\n  Triggers.Initializers.addClosemeListener();\n};\n\nTriggers.init = function ($, Foundation) {\n  if (typeof $.triggersInitialized === 'undefined') {\n    var $document = $(document);\n\n    if (document.readyState === \"complete\") {\n      Triggers.Initializers.addSimpleListeners();\n      Triggers.Initializers.addGlobalListeners();\n    } else {\n      $(window).on('load', function () {\n        Triggers.Initializers.addSimpleListeners();\n        Triggers.Initializers.addGlobalListeners();\n      });\n    }\n\n    $.triggersInitialized = true;\n  }\n\n  if (Foundation) {\n    Foundation.Triggers = Triggers;\n    // Legacy included to be backwards compatible for now.\n    Foundation.IHearYou = Triggers.Initializers.addGlobalListeners;\n  }\n};\n\n\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(30);\n\n\n/***/ })\n\n/******/ });"]},"hash":"a5c6bb9268409bca3bfffd482c3169d68b998d15"}
