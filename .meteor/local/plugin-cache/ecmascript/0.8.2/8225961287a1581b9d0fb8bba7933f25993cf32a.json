{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/zurb:foundation-sites/vendor/modernizr/feature-detects/workers-blobworkers.js","filenameRelative":"packages/zurb:foundation-sites/vendor/modernizr/feature-detects/workers-blobworkers.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/vendor/modernizr/feature-detects/workers-blobworkers.js.map","sourceFileName":"packages/zurb:foundation-sites/vendor/modernizr/feature-detects/workers-blobworkers.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"workers-blobworkers"},"ignored":false,"code":"// by jussi-kalliokoski\n// This test is asynchronous. Watch out.\n// The test will potentially add garbage to console.\n(function () {\n  try {\n    // we're avoiding using Modernizr._domPrefixes as the prefix capitalization on\n    // these guys are notoriously peculiar.\n    var BlobBuilder = window.MozBlobBuilder || window.WebKitBlobBuilder || window.MSBlobBuilder || window.OBlobBuilder || window.BlobBuilder;\n    var URL = window.MozURL || window.webkitURL || window.MSURL || window.OURL || window.URL;\n    var data = 'Modernizr',\n        blob,\n        bb,\n        worker,\n        url,\n        timeout,\n        scriptText = 'this.onmessage=function(e){postMessage(e.data)}';\n\n    try {\n      blob = new Blob([scriptText], {\n        type: 'text/javascript'\n      });\n    } catch (e) {// we'll fall back to the deprecated BlobBuilder\n    }\n\n    if (!blob) {\n      bb = new BlobBuilder();\n      bb.append(scriptText);\n      blob = bb.getBlob();\n    }\n\n    url = URL.createObjectURL(blob);\n    worker = new Worker(url);\n\n    worker.onmessage = function (e) {\n      Modernizr.addTest('blobworkers', data === e.data);\n      cleanup();\n    }; // Just in case...\n\n\n    worker.onerror = fail;\n    timeout = setTimeout(fail, 200);\n    worker.postMessage(data);\n  } catch (e) {\n    fail();\n  }\n\n  function fail() {\n    Modernizr.addTest('blobworkers', false);\n    cleanup();\n  }\n\n  function cleanup() {\n    if (url) {\n      URL.revokeObjectURL(url);\n    }\n\n    if (worker) {\n      worker.terminate();\n    }\n\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n  }\n})();","map":{"version":3,"sources":["packages/zurb:foundation-sites/vendor/modernizr/feature-detects/workers-blobworkers.js"],"names":["BlobBuilder","window","MozBlobBuilder","WebKitBlobBuilder","MSBlobBuilder","OBlobBuilder","URL","MozURL","webkitURL","MSURL","OURL","data","blob","bb","worker","url","timeout","scriptText","Blob","type","e","append","getBlob","createObjectURL","Worker","onmessage","Modernizr","addTest","cleanup","onerror","fail","setTimeout","postMessage","revokeObjectURL","terminate","clearTimeout"],"mappings":"AAAA;AAGA;AAEA;AAEC,aAAU;AACT,MAAI;AACF;AACA;AACA,QAAIA,cAAcC,OAAOC,cAAP,IAAyBD,OAAOE,iBAAhC,IAAqDF,OAAOG,aAA5D,IAA6EH,OAAOI,YAApF,IAAoGJ,OAAOD,WAA7H;AACA,QAAIM,MAAcL,OAAOM,MAAP,IAAiBN,OAAOO,SAAxB,IAAqCP,OAAOQ,KAA5C,IAAqDR,OAAOS,IAA5D,IAAoET,OAAOK,GAA7F;AACA,QAAIK,OAAU,WAAd;AAAA,QACIC,IADJ;AAAA,QAEIC,EAFJ;AAAA,QAGIC,MAHJ;AAAA,QAIIC,GAJJ;AAAA,QAKIC,OALJ;AAAA,QAMIC,aAAa,iDANjB;;AAQA,QAAI;AACFL,aAAO,IAAIM,IAAJ,CAAS,CAACD,UAAD,CAAT,EAAuB;AAACE,cAAK;AAAN,OAAvB,CAAP;AACD,KAFD,CAEE,OAAMC,CAAN,EAAS,CACT;AACD;;AACD,QAAI,CAACR,IAAL,EAAW;AACTC,WAAK,IAAIb,WAAJ,EAAL;AACAa,SAAGQ,MAAH,CAAUJ,UAAV;AACAL,aAAOC,GAAGS,OAAH,EAAP;AACD;;AAEDP,UAAMT,IAAIiB,eAAJ,CAAoBX,IAApB,CAAN;AACAE,aAAS,IAAIU,MAAJ,CAAWT,GAAX,CAAT;;AAEAD,WAAOW,SAAP,GAAmB,UAASL,CAAT,EAAY;AAC7BM,gBAAUC,OAAV,CAAkB,aAAlB,EAAiChB,SAASS,EAAET,IAA5C;AACAiB;AACD,KAHD,CA3BE,CAgCF;;;AACAd,WAAOe,OAAP,GAAiBC,IAAjB;AACAd,cAAUe,WAAWD,IAAX,EAAiB,GAAjB,CAAV;AAEAhB,WAAOkB,WAAP,CAAmBrB,IAAnB;AACD,GArCD,CAqCE,OAAOS,CAAP,EAAU;AACVU;AACD;;AAED,WAASA,IAAT,GAAgB;AACdJ,cAAUC,OAAV,CAAkB,aAAlB,EAAiC,KAAjC;AACAC;AACD;;AAED,WAASA,OAAT,GAAmB;AACjB,QAAIb,GAAJ,EAAS;AACPT,UAAI2B,eAAJ,CAAoBlB,GAApB;AACD;;AACD,QAAID,MAAJ,EAAY;AACVA,aAAOoB,SAAP;AACD;;AACD,QAAIlB,OAAJ,EAAa;AACXmB,mBAAanB,OAAb;AACD;AACF;AACF,CA1DA,GAAD","file":"packages/zurb:foundation-sites/vendor/modernizr/feature-detects/workers-blobworkers.js.map","sourcesContent":["// by jussi-kalliokoski\n\n\n// This test is asynchronous. Watch out.\n\n// The test will potentially add garbage to console.\n\n(function(){\n  try {\n    // we're avoiding using Modernizr._domPrefixes as the prefix capitalization on\n    // these guys are notoriously peculiar.\n    var BlobBuilder = window.MozBlobBuilder || window.WebKitBlobBuilder || window.MSBlobBuilder || window.OBlobBuilder || window.BlobBuilder;\n    var URL         = window.MozURL || window.webkitURL || window.MSURL || window.OURL || window.URL;\n    var data    = 'Modernizr',\n        blob,\n        bb,\n        worker,\n        url,\n        timeout,\n        scriptText = 'this.onmessage=function(e){postMessage(e.data)}';\n\n    try {\n      blob = new Blob([scriptText], {type:'text/javascript'});\n    } catch(e) {\n      // we'll fall back to the deprecated BlobBuilder\n    }\n    if (!blob) {\n      bb = new BlobBuilder();\n      bb.append(scriptText);\n      blob = bb.getBlob();\n    }\n\n    url = URL.createObjectURL(blob);\n    worker = new Worker(url);\n\n    worker.onmessage = function(e) {\n      Modernizr.addTest('blobworkers', data === e.data);\n      cleanup();\n    };\n\n    // Just in case...\n    worker.onerror = fail;\n    timeout = setTimeout(fail, 200);\n\n    worker.postMessage(data);\n  } catch (e) {\n    fail();\n  }\n\n  function fail() {\n    Modernizr.addTest('blobworkers', false);\n    cleanup();\n  }\n\n  function cleanup() {\n    if (url) {\n      URL.revokeObjectURL(url);\n    }\n    if (worker) {\n      worker.terminate();\n    }\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n  }\n}());\n"]},"hash":"8225961287a1581b9d0fb8bba7933f25993cf32a"}
