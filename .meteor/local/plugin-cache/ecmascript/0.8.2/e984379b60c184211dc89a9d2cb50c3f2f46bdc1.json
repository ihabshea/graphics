{"metadata":{"usedHelpers":["typeof","interopRequireDefault"],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/zurb:foundation-sites/dist/js/plugins/foundation.util.triggers.js","filenameRelative":"packages/zurb:foundation-sites/dist/js/plugins/foundation.util.triggers.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/dist/js/plugins/foundation.util.triggers.js.map","sourceFileName":"packages/zurb:foundation-sites/dist/js/plugins/foundation.util.triggers.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"foundation.util.triggers"},"ignored":false,"code":"var _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/******/(function (modules) {\n  // webpackBootstrap\n  /******/ // The module cache\n  /******/var installedModules = {}; /******/ /******/ // The require function\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/ /******/ // Check if module is in cache\n    /******/if (installedModules[moduleId]) {\n      /******/return installedModules[moduleId].exports; /******/\n    } /******/ // Create a new module (and put it into the cache)\n    /******/\n\n    var module = installedModules[moduleId] = {\n      /******/i: moduleId,\n      /******/l: false,\n      /******/exports: {} /******/\n    }; /******/ /******/ // Execute the module function\n    /******/\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__); /******/ /******/ // Flag the module as loaded\n    /******/\n    module.l = true; /******/ /******/ // Return the exports of the module\n    /******/\n    return module.exports; /******/\n  } /******/ /******/ /******/ // expose the modules object (__webpack_modules__)\n  /******/\n\n  __webpack_require__.m = modules; /******/ /******/ // expose the module cache\n  /******/\n  __webpack_require__.c = installedModules; /******/ /******/ // identity function for calling harmony imports with the correct context\n  /******/\n\n  __webpack_require__.i = function (value) {\n    return value;\n  }; /******/ /******/ // define getter function for harmony exports\n  /******/\n\n  __webpack_require__.d = function (exports, name, getter) {\n    /******/if (!__webpack_require__.o(exports, name)) {\n      /******/Object.defineProperty(exports, name, {\n        /******/configurable: false,\n        /******/enumerable: true,\n        /******/get: getter /******/\n      }); /******/\n    } /******/\n  }; /******/ /******/ // getDefaultExport function for compatibility with non-harmony modules\n  /******/\n\n  __webpack_require__.n = function (module) {\n    /******/var getter = module && module.__esModule ? /******/function () {\n      function getDefault() {\n        return module['default'];\n      }\n\n      return getDefault;\n    }() : /******/function () {\n      function getModuleExports() {\n        return module;\n      }\n\n      return getModuleExports;\n    }(); /******/\n\n    __webpack_require__.d(getter, 'a', getter); /******/\n\n    return getter; /******/\n  }; /******/ /******/ // Object.prototype.hasOwnProperty.call\n  /******/\n\n  __webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  }; /******/ /******/ // __webpack_public_path__\n  /******/\n\n  __webpack_require__.p = \"\"; /******/ /******/ // Load entry module and return exports\n  /******/\n  return __webpack_require__(__webpack_require__.s = 108); /******/\n})( /************************************************************************/ /******/{\n  /***/0: /***/function (module, exports) {\n    module.exports = jQuery; /***/\n  },\n  /***/1: /***/function (module, exports) {\n    module.exports = {\n      Foundation: window.Foundation\n    }; /***/\n  },\n  /***/108: /***/function (module, exports, __webpack_require__) {\n    module.exports = __webpack_require__(42); /***/\n  },\n  /***/4: /***/function (module, exports) {\n    module.exports = {\n      Motion: window.Foundation.Motion,\n      Move: window.Foundation.Move\n    }; /***/\n  },\n  /***/42: /***/function (module, __webpack_exports__, __webpack_require__) {\n    \"use strict\";\n\n    Object.defineProperty(__webpack_exports__, \"__esModule\", {\n      value: true\n    }); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_0__foundation_core__ = __webpack_require__(1); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_0__foundation_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__foundation_core__); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(0); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_2__foundation_util_triggers__ = __webpack_require__(7);\n\n    __WEBPACK_IMPORTED_MODULE_2__foundation_util_triggers__[\"a\" /* Triggers */].init(__WEBPACK_IMPORTED_MODULE_1_jquery___default.a, __WEBPACK_IMPORTED_MODULE_0__foundation_core__[\"Foundation\"]); /***/\n  },\n  /***/7: /***/function (module, __webpack_exports__, __webpack_require__) {\n    \"use strict\"; /* harmony export (binding) */\n\n    __webpack_require__.d(__webpack_exports__, \"a\", function () {\n      return Triggers;\n    }); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(0); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__ = __webpack_require__(4); /* harmony import */\n\n    var __WEBPACK_IMPORTED_MODULE_1__foundation_util_motion___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__);\n\n    var MutationObserver = function () {\n      var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n\n      for (var i = 0; i < prefixes.length; i++) {\n        if (prefixes[i] + 'MutationObserver' in window) {\n          return window[prefixes[i] + 'MutationObserver'];\n        }\n      }\n\n      return false;\n    }();\n\n    var triggers = function (el, type) {\n      el.data(type).split(' ').forEach(function (id) {\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + id)[type === 'close' ? 'trigger' : 'triggerHandler'](type + '.zf.trigger', [el]);\n      });\n    };\n\n    var Triggers = {\n      Listeners: {\n        Basic: {},\n        Global: {}\n      },\n      Initializers: {}\n    };\n    Triggers.Listeners.Basic = {\n      openListener: function () {\n        triggers(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), 'open');\n      },\n      closeListener: function () {\n        var id = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('close');\n\n        if (id) {\n          triggers(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), 'close');\n        } else {\n          __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).trigger('close.zf.trigger');\n        }\n      },\n      toggleListener: function () {\n        var id = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('toggle');\n\n        if (id) {\n          triggers(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), 'toggle');\n        } else {\n          __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).trigger('toggle.zf.trigger');\n        }\n      },\n      closeableListener: function (e) {\n        e.stopPropagation();\n\n        var animation = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('closable');\n\n        if (animation !== '') {\n          __WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__[\"Motion\"].animateOut(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), animation, function () {\n            __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).trigger('closed.zf');\n          });\n        } else {\n          __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).fadeOut().trigger('closed.zf');\n        }\n      },\n      toggleFocusListener: function () {\n        var id = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('toggle-focus');\n\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + id).triggerHandler('toggle.zf.trigger', [__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this)]);\n      }\n    }; // Elements with [data-open] will reveal a plugin that supports it when clicked.\n\n    Triggers.Initializers.addOpenListener = function ($elem) {\n      $elem.off('click.zf.trigger', Triggers.Listeners.Basic.openListener);\n      $elem.on('click.zf.trigger', '[data-open]', Triggers.Listeners.Basic.openListener);\n    }; // Elements with [data-close] will close a plugin that supports it when clicked.\n    // If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n\n\n    Triggers.Initializers.addCloseListener = function ($elem) {\n      $elem.off('click.zf.trigger', Triggers.Listeners.Basic.closeListener);\n      $elem.on('click.zf.trigger', '[data-close]', Triggers.Listeners.Basic.closeListener);\n    }; // Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n\n\n    Triggers.Initializers.addToggleListener = function ($elem) {\n      $elem.off('click.zf.trigger', Triggers.Listeners.Basic.toggleListener);\n      $elem.on('click.zf.trigger', '[data-toggle]', Triggers.Listeners.Basic.toggleListener);\n    }; // Elements with [data-closable] will respond to close.zf.trigger events.\n\n\n    Triggers.Initializers.addCloseableListener = function ($elem) {\n      $elem.off('close.zf.trigger', Triggers.Listeners.Basic.closeableListener);\n      $elem.on('close.zf.trigger', '[data-closeable], [data-closable]', Triggers.Listeners.Basic.closeableListener);\n    }; // Elements with [data-toggle-focus] will respond to coming in and out of focus\n\n\n    Triggers.Initializers.addToggleFocusListener = function ($elem) {\n      $elem.off('focus.zf.trigger blur.zf.trigger', Triggers.Listeners.Basic.toggleFocusListener);\n      $elem.on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', Triggers.Listeners.Basic.toggleFocusListener);\n    }; // More Global/complex listeners and triggers\n\n\n    Triggers.Listeners.Global = {\n      resizeListener: function ($nodes) {\n        if (!MutationObserver) {\n          //fallback for IE 9\n          $nodes.each(function () {\n            __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).triggerHandler('resizeme.zf.trigger');\n          });\n        } //trigger all listening elements and signal a resize event\n\n\n        $nodes.attr('data-events', \"resize\");\n      },\n      scrollListener: function ($nodes) {\n        if (!MutationObserver) {\n          //fallback for IE 9\n          $nodes.each(function () {\n            __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).triggerHandler('scrollme.zf.trigger');\n          });\n        } //trigger all listening elements and signal a scroll event\n\n\n        $nodes.attr('data-events', \"scroll\");\n      },\n      closeMeListener: function (e, pluginId) {\n        var plugin = e.namespace.split('.')[0];\n\n        var plugins = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-' + plugin + ']').not('[data-yeti-box=\"' + pluginId + '\"]');\n\n        plugins.each(function () {\n          var _this = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this);\n\n          _this.triggerHandler('close.zf.trigger', [_this]);\n        });\n      }\n    }; // Global, parses whole document.\n\n    Triggers.Initializers.addClosemeListener = function (pluginName) {\n      var yetiBoxes = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-yeti-box]'),\n          plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n      if (pluginName) {\n        if (typeof pluginName === 'string') {\n          plugNames.push(pluginName);\n        } else if ((typeof pluginName === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(pluginName)) === 'object' && typeof pluginName[0] === 'string') {\n          plugNames.concat(pluginName);\n        } else {\n          console.error('Plugin names must be strings');\n        }\n      }\n\n      if (yetiBoxes.length) {\n        var listeners = plugNames.map(function (name) {\n          return 'closeme.zf.' + name;\n        }).join(' ');\n\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(listeners).on(listeners, Triggers.Listeners.Global.closeMeListener);\n      }\n    };\n\n    function debounceGlobalListener(debounce, trigger, listener) {\n      var timer = void 0,\n          args = Array.prototype.slice.call(arguments, 3);\n\n      __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(trigger).on(trigger, function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n          listener.apply(null, args);\n        }, debounce || 10); //default time to emit scroll event\n      });\n    }\n\n    Triggers.Initializers.addResizeListener = function (debounce) {\n      var $nodes = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-resize]');\n\n      if ($nodes.length) {\n        debounceGlobalListener(debounce, 'resize.zf.trigger', Triggers.Listeners.Global.resizeListener, $nodes);\n      }\n    };\n\n    Triggers.Initializers.addScrollListener = function (debounce) {\n      var $nodes = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-scroll]');\n\n      if ($nodes.length) {\n        debounceGlobalListener(debounce, 'scroll.zf.trigger', Triggers.Listeners.Global.scrollListener, $nodes);\n      }\n    };\n\n    Triggers.Initializers.addMutationEventsListener = function ($elem) {\n      if (!MutationObserver) {\n        return false;\n      }\n\n      var $nodes = $elem.find('[data-resize], [data-scroll], [data-mutate]'); //element callback\n\n      var listeningElementsMutation = function (mutationRecordsList) {\n        var $target = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(mutationRecordsList[0].target); //trigger the event handler for the element depending on type\n\n\n        switch (mutationRecordsList[0].type) {\n          case \"attributes\":\n            if ($target.attr(\"data-events\") === \"scroll\" && mutationRecordsList[0].attributeName === \"data-events\") {\n              $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n            }\n\n            if ($target.attr(\"data-events\") === \"resize\" && mutationRecordsList[0].attributeName === \"data-events\") {\n              $target.triggerHandler('resizeme.zf.trigger', [$target]);\n            }\n\n            if (mutationRecordsList[0].attributeName === \"style\") {\n              $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n              $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n            }\n\n            break;\n\n          case \"childList\":\n            $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n            $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n            break;\n\n          default:\n            return false;\n          //nothing\n        }\n      };\n\n      if ($nodes.length) {\n        //for each element that needs to listen for resizing, scrolling, or mutation add a single observer\n        for (var i = 0; i <= $nodes.length - 1; i++) {\n          var elementObserver = new MutationObserver(listeningElementsMutation);\n          elementObserver.observe($nodes[i], {\n            attributes: true,\n            childList: true,\n            characterData: false,\n            subtree: true,\n            attributeFilter: [\"data-events\", \"style\"]\n          });\n        }\n      }\n    };\n\n    Triggers.Initializers.addSimpleListeners = function () {\n      var $document = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(document);\n\n      Triggers.Initializers.addOpenListener($document);\n      Triggers.Initializers.addCloseListener($document);\n      Triggers.Initializers.addToggleListener($document);\n      Triggers.Initializers.addCloseableListener($document);\n      Triggers.Initializers.addToggleFocusListener($document);\n    };\n\n    Triggers.Initializers.addGlobalListeners = function () {\n      var $document = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(document);\n\n      Triggers.Initializers.addMutationEventsListener($document);\n      Triggers.Initializers.addResizeListener();\n      Triggers.Initializers.addScrollListener();\n      Triggers.Initializers.addClosemeListener();\n    };\n\n    Triggers.init = function ($, Foundation) {\n      if (typeof $.triggersInitialized === 'undefined') {\n        var $document = $(document);\n\n        if (document.readyState === \"complete\") {\n          Triggers.Initializers.addSimpleListeners();\n          Triggers.Initializers.addGlobalListeners();\n        } else {\n          $(window).on('load', function () {\n            Triggers.Initializers.addSimpleListeners();\n            Triggers.Initializers.addGlobalListeners();\n          });\n        }\n\n        $.triggersInitialized = true;\n      }\n\n      if (Foundation) {\n        Foundation.Triggers = Triggers; // Legacy included to be backwards compatible for now.\n\n        Foundation.IHearYou = Triggers.Initializers.addGlobalListeners;\n      }\n    }; /***/\n  } /******/\n});","map":{"version":3,"sources":["packages/zurb:foundation-sites/dist/js/plugins/foundation.util.triggers.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","jQuery","Foundation","window","Motion","Move","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__foundation_core__","__WEBPACK_IMPORTED_MODULE_0__foundation_core___default","__WEBPACK_IMPORTED_MODULE_1_jquery__","__WEBPACK_IMPORTED_MODULE_1_jquery___default","__WEBPACK_IMPORTED_MODULE_2__foundation_util_triggers__","init","a","Triggers","__WEBPACK_IMPORTED_MODULE_0_jquery__","__WEBPACK_IMPORTED_MODULE_0_jquery___default","__WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__","__WEBPACK_IMPORTED_MODULE_1__foundation_util_motion___default","MutationObserver","prefixes","length","triggers","el","type","data","split","forEach","id","Listeners","Basic","Global","Initializers","openListener","closeListener","trigger","toggleListener","closeableListener","e","stopPropagation","animation","animateOut","fadeOut","toggleFocusListener","triggerHandler","addOpenListener","$elem","off","on","addCloseListener","addToggleListener","addCloseableListener","addToggleFocusListener","resizeListener","$nodes","each","attr","scrollListener","closeMeListener","pluginId","plugin","namespace","plugins","not","_this","addClosemeListener","pluginName","yetiBoxes","plugNames","push","concat","console","error","listeners","map","join","debounceGlobalListener","debounce","listener","timer","args","Array","slice","arguments","clearTimeout","setTimeout","apply","addResizeListener","addScrollListener","addMutationEventsListener","find","listeningElementsMutation","mutationRecordsList","$target","target","attributeName","pageYOffset","closest","elementObserver","observe","attributes","childList","characterData","subtree","attributeFilter","addSimpleListeners","$document","document","addGlobalListeners","$","triggersInitialized","readyState","IHearYou"],"mappings":"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","file":"packages/zurb:foundation-sites/dist/js/plugins/foundation.util.triggers.js.map","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 108);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ (function(module, exports) {\n\nmodule.exports = jQuery;\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports) {\n\nmodule.exports = {Foundation: window.Foundation};\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(42);\n\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, exports) {\n\nmodule.exports = {Motion: window.Foundation.Motion, Move: window.Foundation.Move};\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__foundation_core__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__foundation_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__foundation_core__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__foundation_util_triggers__ = __webpack_require__(7);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_2__foundation_util_triggers__[\"a\" /* Triggers */].init(__WEBPACK_IMPORTED_MODULE_1_jquery___default.a, __WEBPACK_IMPORTED_MODULE_0__foundation_core__[\"Foundation\"]);\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Triggers; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__foundation_util_motion___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__);\n\n\n\n\n\nvar MutationObserver = function () {\n  var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n  for (var i = 0; i < prefixes.length; i++) {\n    if (prefixes[i] + 'MutationObserver' in window) {\n      return window[prefixes[i] + 'MutationObserver'];\n    }\n  }\n  return false;\n}();\n\nvar triggers = function (el, type) {\n  el.data(type).split(' ').forEach(function (id) {\n    __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + id)[type === 'close' ? 'trigger' : 'triggerHandler'](type + '.zf.trigger', [el]);\n  });\n};\n\nvar Triggers = {\n  Listeners: {\n    Basic: {},\n    Global: {}\n  },\n  Initializers: {}\n};\n\nTriggers.Listeners.Basic = {\n  openListener: function () {\n    triggers(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), 'open');\n  },\n  closeListener: function () {\n    var id = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('close');\n    if (id) {\n      triggers(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), 'close');\n    } else {\n      __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).trigger('close.zf.trigger');\n    }\n  },\n  toggleListener: function () {\n    var id = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('toggle');\n    if (id) {\n      triggers(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), 'toggle');\n    } else {\n      __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).trigger('toggle.zf.trigger');\n    }\n  },\n  closeableListener: function (e) {\n    e.stopPropagation();\n    var animation = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('closable');\n\n    if (animation !== '') {\n      __WEBPACK_IMPORTED_MODULE_1__foundation_util_motion__[\"Motion\"].animateOut(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this), animation, function () {\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).trigger('closed.zf');\n      });\n    } else {\n      __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).fadeOut().trigger('closed.zf');\n    }\n  },\n  toggleFocusListener: function () {\n    var id = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data('toggle-focus');\n    __WEBPACK_IMPORTED_MODULE_0_jquery___default()('#' + id).triggerHandler('toggle.zf.trigger', [__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this)]);\n  }\n};\n\n// Elements with [data-open] will reveal a plugin that supports it when clicked.\nTriggers.Initializers.addOpenListener = function ($elem) {\n  $elem.off('click.zf.trigger', Triggers.Listeners.Basic.openListener);\n  $elem.on('click.zf.trigger', '[data-open]', Triggers.Listeners.Basic.openListener);\n};\n\n// Elements with [data-close] will close a plugin that supports it when clicked.\n// If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\nTriggers.Initializers.addCloseListener = function ($elem) {\n  $elem.off('click.zf.trigger', Triggers.Listeners.Basic.closeListener);\n  $elem.on('click.zf.trigger', '[data-close]', Triggers.Listeners.Basic.closeListener);\n};\n\n// Elements with [data-toggle] will toggle a plugin that supports it when clicked.\nTriggers.Initializers.addToggleListener = function ($elem) {\n  $elem.off('click.zf.trigger', Triggers.Listeners.Basic.toggleListener);\n  $elem.on('click.zf.trigger', '[data-toggle]', Triggers.Listeners.Basic.toggleListener);\n};\n\n// Elements with [data-closable] will respond to close.zf.trigger events.\nTriggers.Initializers.addCloseableListener = function ($elem) {\n  $elem.off('close.zf.trigger', Triggers.Listeners.Basic.closeableListener);\n  $elem.on('close.zf.trigger', '[data-closeable], [data-closable]', Triggers.Listeners.Basic.closeableListener);\n};\n\n// Elements with [data-toggle-focus] will respond to coming in and out of focus\nTriggers.Initializers.addToggleFocusListener = function ($elem) {\n  $elem.off('focus.zf.trigger blur.zf.trigger', Triggers.Listeners.Basic.toggleFocusListener);\n  $elem.on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', Triggers.Listeners.Basic.toggleFocusListener);\n};\n\n// More Global/complex listeners and triggers\nTriggers.Listeners.Global = {\n  resizeListener: function ($nodes) {\n    if (!MutationObserver) {\n      //fallback for IE 9\n      $nodes.each(function () {\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).triggerHandler('resizeme.zf.trigger');\n      });\n    }\n    //trigger all listening elements and signal a resize event\n    $nodes.attr('data-events', \"resize\");\n  },\n  scrollListener: function ($nodes) {\n    if (!MutationObserver) {\n      //fallback for IE 9\n      $nodes.each(function () {\n        __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).triggerHandler('scrollme.zf.trigger');\n      });\n    }\n    //trigger all listening elements and signal a scroll event\n    $nodes.attr('data-events', \"scroll\");\n  },\n  closeMeListener: function (e, pluginId) {\n    var plugin = e.namespace.split('.')[0];\n    var plugins = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-' + plugin + ']').not('[data-yeti-box=\"' + pluginId + '\"]');\n\n    plugins.each(function () {\n      var _this = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this);\n      _this.triggerHandler('close.zf.trigger', [_this]);\n    });\n  }\n};\n\n// Global, parses whole document.\nTriggers.Initializers.addClosemeListener = function (pluginName) {\n  var yetiBoxes = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-yeti-box]'),\n      plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n  if (pluginName) {\n    if (typeof pluginName === 'string') {\n      plugNames.push(pluginName);\n    } else if (typeof pluginName === 'object' && typeof pluginName[0] === 'string') {\n      plugNames.concat(pluginName);\n    } else {\n      console.error('Plugin names must be strings');\n    }\n  }\n  if (yetiBoxes.length) {\n    var listeners = plugNames.map(function (name) {\n      return 'closeme.zf.' + name;\n    }).join(' ');\n\n    __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(listeners).on(listeners, Triggers.Listeners.Global.closeMeListener);\n  }\n};\n\nfunction debounceGlobalListener(debounce, trigger, listener) {\n  var timer = void 0,\n      args = Array.prototype.slice.call(arguments, 3);\n  __WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off(trigger).on(trigger, function (e) {\n    if (timer) {\n      clearTimeout(timer);\n    }\n    timer = setTimeout(function () {\n      listener.apply(null, args);\n    }, debounce || 10); //default time to emit scroll event\n  });\n}\n\nTriggers.Initializers.addResizeListener = function (debounce) {\n  var $nodes = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-resize]');\n  if ($nodes.length) {\n    debounceGlobalListener(debounce, 'resize.zf.trigger', Triggers.Listeners.Global.resizeListener, $nodes);\n  }\n};\n\nTriggers.Initializers.addScrollListener = function (debounce) {\n  var $nodes = __WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-scroll]');\n  if ($nodes.length) {\n    debounceGlobalListener(debounce, 'scroll.zf.trigger', Triggers.Listeners.Global.scrollListener, $nodes);\n  }\n};\n\nTriggers.Initializers.addMutationEventsListener = function ($elem) {\n  if (!MutationObserver) {\n    return false;\n  }\n  var $nodes = $elem.find('[data-resize], [data-scroll], [data-mutate]');\n\n  //element callback\n  var listeningElementsMutation = function (mutationRecordsList) {\n    var $target = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(mutationRecordsList[0].target);\n\n    //trigger the event handler for the element depending on type\n    switch (mutationRecordsList[0].type) {\n      case \"attributes\":\n        if ($target.attr(\"data-events\") === \"scroll\" && mutationRecordsList[0].attributeName === \"data-events\") {\n          $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n        }\n        if ($target.attr(\"data-events\") === \"resize\" && mutationRecordsList[0].attributeName === \"data-events\") {\n          $target.triggerHandler('resizeme.zf.trigger', [$target]);\n        }\n        if (mutationRecordsList[0].attributeName === \"style\") {\n          $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n          $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n        }\n        break;\n\n      case \"childList\":\n        $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n        $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n        break;\n\n      default:\n        return false;\n      //nothing\n    }\n  };\n\n  if ($nodes.length) {\n    //for each element that needs to listen for resizing, scrolling, or mutation add a single observer\n    for (var i = 0; i <= $nodes.length - 1; i++) {\n      var elementObserver = new MutationObserver(listeningElementsMutation);\n      elementObserver.observe($nodes[i], { attributes: true, childList: true, characterData: false, subtree: true, attributeFilter: [\"data-events\", \"style\"] });\n    }\n  }\n};\n\nTriggers.Initializers.addSimpleListeners = function () {\n  var $document = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(document);\n\n  Triggers.Initializers.addOpenListener($document);\n  Triggers.Initializers.addCloseListener($document);\n  Triggers.Initializers.addToggleListener($document);\n  Triggers.Initializers.addCloseableListener($document);\n  Triggers.Initializers.addToggleFocusListener($document);\n};\n\nTriggers.Initializers.addGlobalListeners = function () {\n  var $document = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(document);\n  Triggers.Initializers.addMutationEventsListener($document);\n  Triggers.Initializers.addResizeListener();\n  Triggers.Initializers.addScrollListener();\n  Triggers.Initializers.addClosemeListener();\n};\n\nTriggers.init = function ($, Foundation) {\n  if (typeof $.triggersInitialized === 'undefined') {\n    var $document = $(document);\n\n    if (document.readyState === \"complete\") {\n      Triggers.Initializers.addSimpleListeners();\n      Triggers.Initializers.addGlobalListeners();\n    } else {\n      $(window).on('load', function () {\n        Triggers.Initializers.addSimpleListeners();\n        Triggers.Initializers.addGlobalListeners();\n      });\n    }\n\n    $.triggersInitialized = true;\n  }\n\n  if (Foundation) {\n    Foundation.Triggers = Triggers;\n    // Legacy included to be backwards compatible for now.\n    Foundation.IHearYou = Triggers.Initializers.addGlobalListeners;\n  }\n};\n\n\n\n/***/ })\n\n/******/ });"]},"hash":"e984379b60c184211dc89a9d2cb50c3f2f46bdc1"}
