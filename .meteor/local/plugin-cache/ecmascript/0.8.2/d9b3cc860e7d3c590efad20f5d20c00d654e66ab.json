{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/zurb:foundation-sites/test/javascript/components/accordion.js","filenameRelative":"packages/zurb:foundation-sites/test/javascript/components/accordion.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/test/javascript/components/accordion.js.map","sourceFileName":"packages/zurb:foundation-sites/test/javascript/components/accordion.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"accordion"},"ignored":false,"code":"describe('Accordion', function () {\n  var plugin;\n  var $html;\n  var template = \"<ul class=\\\"accordion\\\" data-accordion>\\n  <li class=\\\"accordion-item is-active\\\" data-accordion-item>\\n    <a href=\\\"#\\\" class=\\\"accordion-title\\\">Accordion 1</a>\\n    <div class=\\\"accordion-content\\\" data-tab-content >\\n      <p>Panel 1. Lorem ipsum dolor</p>\\n      <a href=\\\"#\\\">Nowhere to Go</a>\\n    </div>\\n  </li>\\n  <li class=\\\"accordion-item\\\" data-accordion-item>\\n    <a href=\\\"#\\\" class=\\\"accordion-title\\\">Accordion 2</a>\\n    <div class=\\\"accordion-content\\\" data-tab-content>\\n      <textarea></textarea>\\n      <button class=\\\"button\\\">I do nothing!</button>\\n    </div>\\n  </li>\\n  <li class=\\\"accordion-item\\\" data-accordion-item>\\n    <a href=\\\"#\\\" class=\\\"accordion-title\\\">Accordion 3</a>\\n    <div class=\\\"accordion-content\\\" data-tab-content>\\n      Pick a date!\\n      <input type=\\\"date\\\"></input>\\n    </div>\\n  </li>\\n</ul>\";\n  afterEach(function () {\n    plugin.destroy();\n    $html.remove();\n  });\n  describe('constructor()', function () {\n    it('stores the element and plugin options', function () {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n      plugin.$element.should.be.an('object');\n      plugin.options.should.be.an('object');\n    });\n  });\n  describe('up()', function (done) {\n    it('closes the targeted container if allowAllClosed is true', function () {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {\n        allowAllClosed: true\n      });\n      plugin.up($html.find('.accordion-content').eq(0));\n      $html.find('.accordion-content').eq(0).should.have.attr('aria-hidden', 'true');\n      $html.on('up.zf.accordion', function () {\n        $html.find('.accordion-content').eq(0).should.be.hidden;\n        done();\n      });\n    });\n    it('toggles attributes of title of the targeted container', function () {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {\n        allowAllClosed: true\n      });\n      plugin.up($html.find('.accordion-content').eq(0));\n      $html.find('.accordion-title').eq(0).should.have.attr('aria-expanded', 'false');\n      $html.find('.accordion-title').eq(0).should.have.attr('aria-selected', 'false');\n    });\n    it('not closes the open container if allowAllClosed is false', function () {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {\n        allowAllClosed: false\n      });\n      plugin.up($html.find('.accordion-content').eq(0));\n      $html.find('.accordion-content').eq(0).should.be.visible; // Element has aria-hidden=\"false\" not set if it has not been actively toggled so far\n      // Therefor check if it has not aria-hidden=\"true\"\n\n      $html.find('.accordion-content').eq(0).should.not.have.attr('aria-hidden', 'true');\n    });\n  });\n  describe('down()', function () {\n    it('opens the targeted container', function () {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n      plugin.down($html.find('.accordion-content').eq(1));\n      $html.find('.accordion-content').eq(1).should.be.visible;\n      $html.find('.accordion-content').eq(1).should.have.attr('aria-hidden', 'false');\n    });\n    it('toggles attributes of title of the targeted container', function () {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n      plugin.down($html.find('.accordion-content').eq(1));\n      $html.find('.accordion-title').eq(1).should.have.attr('aria-expanded', 'true');\n      $html.find('.accordion-title').eq(1).should.have.attr('aria-selected', 'true');\n    });\n    it('closes open container if multiExpand is false', function (done) {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {\n        multiExpand: false\n      });\n      plugin.down($html.find('.accordion-content').eq(1));\n      $html.find('.accordion-content').eq(0).should.have.attr('aria-hidden', 'true');\n      $html.on('up.zf.accordion', function () {\n        $html.find('.accordion-content').eq(0).should.be.hidden;\n        done();\n      });\n    });\n    it('not closes open container if multiExpand is true', function () {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {\n        multiExpand: true\n      });\n      plugin.down($html.find('.accordion-content').eq(1));\n      $html.find('.accordion-content').eq(0).should.be.visible; // Element has aria-hidden=\"false\" not set if it has not been actively toggled so far\n      // Therefor check if it has not aria-hidden=\"true\"\n\n      $html.find('.accordion-content').eq(0).should.not.have.attr('aria-hidden', 'true');\n    });\n  });\n  describe('toggle()', function (done) {\n    it('closes the only open container if allowAllClosed is true', function () {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {\n        allowAllClosed: true\n      });\n      plugin.toggle($html.find('.accordion-content').eq(0));\n      $html.find('.accordion-content').eq(0).should.have.attr('aria-hidden', 'true');\n      $html.on('up.zf.accordion', function () {\n        $html.find('.accordion-content').eq(0).should.be.hidden;\n        done();\n      });\n    });\n    it('not closes the only open container if allowAllClosed is false', function () {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {\n        allowAllClosed: false\n      });\n      plugin.toggle($html.find('.accordion-content').eq(0));\n      $html.find('.accordion-content').eq(0).should.be.visible;\n      $html.find('.accordion-content').eq(0).should.have.attr('aria-hidden', 'false');\n    });\n  });\n  describe('keyboard events', function () {\n    it('opens next panel on ARROW_DOWN', function () {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n      $html.find('.accordion-title').eq(0).focus().trigger(window.mockKeyboardEvent('ARROW_DOWN'));\n      $html.find('.accordion-content').eq(1).should.be.visible;\n      $html.find('.accordion-content').eq(1).should.have.attr('aria-hidden', 'false'); // Check if focus was moved\n\n      $html.find('.accordion-title').eq(1)[0].should.be.equal(document.activeElement);\n    });\n    it('opens previous panel on ARROW_UP', function () {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n      $html.find('.accordion-title').eq(2).focus().trigger(window.mockKeyboardEvent('ARROW_UP'));\n      $html.find('.accordion-content').eq(1).should.be.visible;\n      $html.find('.accordion-content').eq(1).should.have.attr('aria-hidden', 'false'); // Check if focus was moved\n\n      $html.find('.accordion-title').eq(1)[0].should.be.equal(document.activeElement);\n    });\n    it('opens related panel on ENTER', function () {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n      $html.find('.accordion-title').eq(1).focus().trigger(window.mockKeyboardEvent('ENTER'));\n      $html.find('.accordion-content').eq(1).should.be.visible;\n      $html.find('.accordion-content').eq(1).should.have.attr('aria-hidden', 'false');\n    });\n    it('opens related panel on SPACE', function () {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n      $html.find('.accordion-title').eq(1).focus().trigger(window.mockKeyboardEvent('SPACE'));\n      $html.find('.accordion-content').eq(1).should.be.visible;\n      $html.find('.accordion-content').eq(1).should.have.attr('aria-hidden', 'false');\n    });\n  });\n});","map":{"version":3,"sources":["packages/zurb:foundation-sites/test/javascript/components/accordion.js"],"names":["describe","plugin","$html","template","afterEach","destroy","remove","it","$","appendTo","Foundation","Accordion","$element","should","be","an","options","done","allowAllClosed","up","find","eq","have","attr","on","hidden","visible","not","down","multiExpand","toggle","focus","trigger","window","mockKeyboardEvent","equal","document","activeElement"],"mappings":"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","file":"packages/zurb:foundation-sites/test/javascript/components/accordion.js.map","sourcesContent":["describe('Accordion', function() {\n  var plugin;\n  var $html;\n  var template = `<ul class=\"accordion\" data-accordion>\n  <li class=\"accordion-item is-active\" data-accordion-item>\n    <a href=\"#\" class=\"accordion-title\">Accordion 1</a>\n    <div class=\"accordion-content\" data-tab-content >\n      <p>Panel 1. Lorem ipsum dolor</p>\n      <a href=\"#\">Nowhere to Go</a>\n    </div>\n  </li>\n  <li class=\"accordion-item\" data-accordion-item>\n    <a href=\"#\" class=\"accordion-title\">Accordion 2</a>\n    <div class=\"accordion-content\" data-tab-content>\n      <textarea></textarea>\n      <button class=\"button\">I do nothing!</button>\n    </div>\n  </li>\n  <li class=\"accordion-item\" data-accordion-item>\n    <a href=\"#\" class=\"accordion-title\">Accordion 3</a>\n    <div class=\"accordion-content\" data-tab-content>\n      Pick a date!\n      <input type=\"date\"></input>\n    </div>\n  </li>\n</ul>`;\n\n  afterEach(function() {\n    plugin.destroy();\n    $html.remove();\n  });\n\n  describe('constructor()', function() {\n    it('stores the element and plugin options', function() {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n\n      plugin.$element.should.be.an('object');\n      plugin.options.should.be.an('object');\n    });\n  });\n\n  describe('up()', function(done) {\n    it('closes the targeted container if allowAllClosed is true', function() {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {allowAllClosed: true});\n\n      plugin.up($html.find('.accordion-content').eq(0));\n      $html.find('.accordion-content').eq(0).should.have.attr('aria-hidden', 'true');\n      $html.on('up.zf.accordion', function() {\n        $html.find('.accordion-content').eq(0).should.be.hidden;\n        done();\n      });\n    });\n\n    it('toggles attributes of title of the targeted container', function() {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {allowAllClosed: true});\n\n      plugin.up($html.find('.accordion-content').eq(0));\n      $html.find('.accordion-title').eq(0).should.have.attr('aria-expanded', 'false');\n      $html.find('.accordion-title').eq(0).should.have.attr('aria-selected', 'false');\n    });\n\n    it('not closes the open container if allowAllClosed is false', function() {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {allowAllClosed: false});\n\n      plugin.up($html.find('.accordion-content').eq(0));\n      $html.find('.accordion-content').eq(0).should.be.visible;\n      // Element has aria-hidden=\"false\" not set if it has not been actively toggled so far\n      // Therefor check if it has not aria-hidden=\"true\"\n      $html.find('.accordion-content').eq(0).should.not.have.attr('aria-hidden', 'true');\n    });\n  });\n\n  describe('down()', function() {\n    it('opens the targeted container', function() {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n\n      plugin.down($html.find('.accordion-content').eq(1));\n      $html.find('.accordion-content').eq(1).should.be.visible;\n      $html.find('.accordion-content').eq(1).should.have.attr('aria-hidden', 'false');\n    });\n\n    it('toggles attributes of title of the targeted container', function() {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n\n      plugin.down($html.find('.accordion-content').eq(1));\n      $html.find('.accordion-title').eq(1).should.have.attr('aria-expanded', 'true');\n      $html.find('.accordion-title').eq(1).should.have.attr('aria-selected', 'true');\n    });\n\n    it('closes open container if multiExpand is false', function(done) {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {multiExpand: false});\n\n      plugin.down($html.find('.accordion-content').eq(1));\n      $html.find('.accordion-content').eq(0).should.have.attr('aria-hidden', 'true');\n      $html.on('up.zf.accordion', function() {\n        $html.find('.accordion-content').eq(0).should.be.hidden;\n        done();\n      });\n    });\n\n    it('not closes open container if multiExpand is true', function() {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {multiExpand: true});\n\n      plugin.down($html.find('.accordion-content').eq(1));\n      $html.find('.accordion-content').eq(0).should.be.visible;\n      // Element has aria-hidden=\"false\" not set if it has not been actively toggled so far\n      // Therefor check if it has not aria-hidden=\"true\"\n      $html.find('.accordion-content').eq(0).should.not.have.attr('aria-hidden', 'true');\n    });\n  });\n\n  describe('toggle()', function(done) {\n    it('closes the only open container if allowAllClosed is true', function() {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {allowAllClosed: true});\n\n      plugin.toggle($html.find('.accordion-content').eq(0));\n      $html.find('.accordion-content').eq(0).should.have.attr('aria-hidden', 'true');\n      $html.on('up.zf.accordion', function() {\n        $html.find('.accordion-content').eq(0).should.be.hidden;\n        done();\n      });\n    });\n\n    it('not closes the only open container if allowAllClosed is false', function() {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {allowAllClosed: false});\n\n      plugin.toggle($html.find('.accordion-content').eq(0));\n      $html.find('.accordion-content').eq(0).should.be.visible;\n      $html.find('.accordion-content').eq(0).should.have.attr('aria-hidden', 'false');\n    });\n  });\n  \n  describe('keyboard events', function() {\n    it('opens next panel on ARROW_DOWN', function() {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n\n      $html.find('.accordion-title').eq(0).focus()\n        .trigger(window.mockKeyboardEvent('ARROW_DOWN'));\n\n      $html.find('.accordion-content').eq(1).should.be.visible;\n      $html.find('.accordion-content').eq(1).should.have.attr('aria-hidden', 'false');\n      // Check if focus was moved\n      $html.find('.accordion-title').eq(1)[0].should.be.equal(document.activeElement);\n    });\n    it('opens previous panel on ARROW_UP', function() {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n\n      $html.find('.accordion-title').eq(2).focus()\n        .trigger(window.mockKeyboardEvent('ARROW_UP'));\n\n      $html.find('.accordion-content').eq(1).should.be.visible;\n      $html.find('.accordion-content').eq(1).should.have.attr('aria-hidden', 'false');\n      // Check if focus was moved\n      $html.find('.accordion-title').eq(1)[0].should.be.equal(document.activeElement);\n    });\n    it('opens related panel on ENTER', function() {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n\n      $html.find('.accordion-title').eq(1).focus()\n        .trigger(window.mockKeyboardEvent('ENTER'));\n\n      $html.find('.accordion-content').eq(1).should.be.visible;\n      $html.find('.accordion-content').eq(1).should.have.attr('aria-hidden', 'false');\n    });\n    it('opens related panel on SPACE', function() {\n      $html = $(template).appendTo('body');\n      plugin = new Foundation.Accordion($html, {});\n\n      $html.find('.accordion-title').eq(1).focus()\n        .trigger(window.mockKeyboardEvent('SPACE'));\n\n      $html.find('.accordion-content').eq(1).should.be.visible;\n      $html.find('.accordion-content').eq(1).should.have.attr('aria-hidden', 'false');\n    });\n  });\n});"]},"hash":"d9b3cc860e7d3c590efad20f5d20c00d654e66ab"}
