{"metadata":{"usedHelpers":["typeof","interopRequireDefault"],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/zurb:foundation-sites/test/javascript/lib/mocha.js","filenameRelative":"packages/zurb:foundation-sites/test/javascript/lib/mocha.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/test/javascript/lib/mocha.js.map","sourceFileName":"packages/zurb:foundation-sites/test/javascript/lib/mocha.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"mocha"},"ignored":false,"code":"var _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n(function () {\n  function e(t, n, r) {\n    function s(o, u) {\n      if (!n[o]) {\n        if (!t[o]) {\n          var a = typeof require == \"function\" && require;\n          if (!u && a) return a(o, !0);\n          if (i) return i(o, !0);\n          var f = new Error(\"Cannot find module '\" + o + \"'\");\n          throw f.code = \"MODULE_NOT_FOUND\", f;\n        }\n\n        var l = n[o] = {\n          exports: {}\n        };\n        t[o][0].call(l.exports, function (e) {\n          var n = t[o][1][e];\n          return s(n ? n : e);\n        }, l, l.exports, e, t, n, r);\n      }\n\n      return n[o].exports;\n    }\n\n    var i = typeof require == \"function\" && require;\n\n    for (var o = 0; o < r.length; o++) {\n      s(r[o]);\n    }\n\n    return s;\n  }\n\n  return e;\n})()({\n  1: [function (require, module, exports) {\n    (function (process) {\n      module.exports = process.env.COV ? require('./lib-cov/mocha') : require('./lib/mocha');\n    }).call(this, require('_process'));\n  }, {\n    \"./lib-cov/mocha\": undefined,\n    \"./lib/mocha\": 14,\n    \"_process\": 51\n  }],\n  2: [function (require, module, exports) {\n    /* eslint-disable no-unused-vars */module.exports = function (type) {\n      return function () {};\n    };\n  }, {}],\n  3: [function (require, module, exports) {\n    /**\n     * Module exports.\n     */exports.EventEmitter = EventEmitter; /**\n                                             * Object#hasOwnProperty reference.\n                                             */\n    var objToString = Object.prototype.toString; /**\n                                                  * Check if a value is an array.\n                                                  *\n                                                  * @api private\n                                                  * @param {*} val The value to test.\n                                                  * @return {boolean} true if the value is a boolean, otherwise false.\n                                                  */\n\n    function isArray(val) {\n      return objToString.call(val) === '[object Array]';\n    } /**\n       * Event emitter constructor.\n       *\n       * @api public\n       */\n\n    function EventEmitter() {} /**\n                                * Add a listener.\n                                *\n                                * @api public\n                                * @param {string} name Event name.\n                                * @param {Function} fn Event handler.\n                                * @return {EventEmitter} Emitter instance.\n                                */\n\n    EventEmitter.prototype.on = function (name, fn) {\n      if (!this.$events) {\n        this.$events = {};\n      }\n\n      if (!this.$events[name]) {\n        this.$events[name] = fn;\n      } else if (isArray(this.$events[name])) {\n        this.$events[name].push(fn);\n      } else {\n        this.$events[name] = [this.$events[name], fn];\n      }\n\n      return this;\n    };\n\n    EventEmitter.prototype.addListener = EventEmitter.prototype.on; /**\n                                                                     * Adds a volatile listener.\n                                                                     *\n                                                                     * @api public\n                                                                     * @param {string} name Event name.\n                                                                     * @param {Function} fn Event handler.\n                                                                     * @return {EventEmitter} Emitter instance.\n                                                                     */\n\n    EventEmitter.prototype.once = function (name, fn) {\n      var self = this;\n\n      function on() {\n        self.removeListener(name, on);\n        fn.apply(this, arguments);\n      }\n\n      on.listener = fn;\n      this.on(name, on);\n      return this;\n    }; /**\n        * Remove a listener.\n        *\n        * @api public\n        * @param {string} name Event name.\n        * @param {Function} fn Event handler.\n        * @return {EventEmitter} Emitter instance.\n        */\n\n    EventEmitter.prototype.removeListener = function (name, fn) {\n      if (this.$events && this.$events[name]) {\n        var list = this.$events[name];\n\n        if (isArray(list)) {\n          var pos = -1;\n\n          for (var i = 0, l = list.length; i < l; i++) {\n            if (list[i] === fn || list[i].listener && list[i].listener === fn) {\n              pos = i;\n              break;\n            }\n          }\n\n          if (pos < 0) {\n            return this;\n          }\n\n          list.splice(pos, 1);\n\n          if (!list.length) {\n            delete this.$events[name];\n          }\n        } else if (list === fn || list.listener && list.listener === fn) {\n          delete this.$events[name];\n        }\n      }\n\n      return this;\n    }; /**\n        * Remove all listeners for an event.\n        *\n        * @api public\n        * @param {string} name Event name.\n        * @return {EventEmitter} Emitter instance.\n        */\n\n    EventEmitter.prototype.removeAllListeners = function (name) {\n      if (name === undefined) {\n        this.$events = {};\n        return this;\n      }\n\n      if (this.$events && this.$events[name]) {\n        this.$events[name] = null;\n      }\n\n      return this;\n    }; /**\n        * Get all listeners for a given event.\n        *\n        * @api public\n        * @param {string} name Event name.\n        * @return {EventEmitter} Emitter instance.\n        */\n\n    EventEmitter.prototype.listeners = function (name) {\n      if (!this.$events) {\n        this.$events = {};\n      }\n\n      if (!this.$events[name]) {\n        this.$events[name] = [];\n      }\n\n      if (!isArray(this.$events[name])) {\n        this.$events[name] = [this.$events[name]];\n      }\n\n      return this.$events[name];\n    }; /**\n        * Emit an event.\n        *\n        * @api public\n        * @param {string} name Event name.\n        * @return {boolean} true if at least one handler was invoked, else false.\n        */\n\n    EventEmitter.prototype.emit = function (name) {\n      if (!this.$events) {\n        return false;\n      }\n\n      var handler = this.$events[name];\n\n      if (!handler) {\n        return false;\n      }\n\n      var args = Array.prototype.slice.call(arguments, 1);\n\n      if (typeof handler === 'function') {\n        handler.apply(this, args);\n      } else if (isArray(handler)) {\n        var listeners = handler.slice();\n\n        for (var i = 0, l = listeners.length; i < l; i++) {\n          listeners[i].apply(this, args);\n        }\n      } else {\n        return false;\n      }\n\n      return true;\n    };\n  }, {}],\n  4: [function (require, module, exports) {\n    /**\n     * Expose `Progress`.\n     */module.exports = Progress; /**\n                                   * Initialize a new `Progress` indicator.\n                                   */\n\n    function Progress() {\n      this.percent = 0;\n      this.size(0);\n      this.fontSize(11);\n      this.font('helvetica, arial, sans-serif');\n    } /**\n       * Set progress size to `size`.\n       *\n       * @api public\n       * @param {number} size\n       * @return {Progress} Progress instance.\n       */\n\n    Progress.prototype.size = function (size) {\n      this._size = size;\n      return this;\n    }; /**\n        * Set text to `text`.\n        *\n        * @api public\n        * @param {string} text\n        * @return {Progress} Progress instance.\n        */\n\n    Progress.prototype.text = function (text) {\n      this._text = text;\n      return this;\n    }; /**\n        * Set font size to `size`.\n        *\n        * @api public\n        * @param {number} size\n        * @return {Progress} Progress instance.\n        */\n\n    Progress.prototype.fontSize = function (size) {\n      this._fontSize = size;\n      return this;\n    }; /**\n        * Set font to `family`.\n        *\n        * @param {string} family\n        * @return {Progress} Progress instance.\n        */\n\n    Progress.prototype.font = function (family) {\n      this._font = family;\n      return this;\n    }; /**\n        * Update percentage to `n`.\n        *\n        * @param {number} n\n        * @return {Progress} Progress instance.\n        */\n\n    Progress.prototype.update = function (n) {\n      this.percent = n;\n      return this;\n    }; /**\n        * Draw on `ctx`.\n        *\n        * @param {CanvasRenderingContext2d} ctx\n        * @return {Progress} Progress instance.\n        */\n\n    Progress.prototype.draw = function (ctx) {\n      try {\n        var percent = Math.min(this.percent, 100);\n        var size = this._size;\n        var half = size / 2;\n        var x = half;\n        var y = half;\n        var rad = half - 1;\n        var fontSize = this._fontSize;\n        ctx.font = fontSize + 'px ' + this._font;\n        var angle = Math.PI * 2 * (percent / 100);\n        ctx.clearRect(0, 0, size, size); // outer circle\n\n        ctx.strokeStyle = '#9f9f9f';\n        ctx.beginPath();\n        ctx.arc(x, y, rad, 0, angle, false);\n        ctx.stroke(); // inner circle\n\n        ctx.strokeStyle = '#eee';\n        ctx.beginPath();\n        ctx.arc(x, y, rad - 1, 0, angle, true);\n        ctx.stroke(); // text\n\n        var text = this._text || (percent | 0) + '%';\n        var w = ctx.measureText(text).width;\n        ctx.fillText(text, x - w / 2 + 1, y + fontSize / 2 - 1);\n      } catch (err) {// don't fail if we can't render progress\n      }\n\n      return this;\n    };\n  }, {}],\n  5: [function (require, module, exports) {\n    (function (global) {\n      exports.isatty = function () {\n        function isatty() {\n          return true;\n        }\n\n        return isatty;\n      }();\n\n      exports.getWindowSize = function () {\n        function getWindowSize() {\n          if ('innerHeight' in global) {\n            return [global.innerHeight, global.innerWidth];\n          } // In a Web Worker, the DOM Window is not available.\n\n\n          return [640, 480];\n        }\n\n        return getWindowSize;\n      }();\n    }).call(this, typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n  }, {}],\n  6: [function (require, module, exports) {\n    /**\n     * Expose `Context`.\n     */module.exports = Context; /**\n                                  * Initialize a new `Context`.\n                                  *\n                                  * @api private\n                                  */\n\n    function Context() {} /**\n                           * Set or get the context `Runnable` to `runnable`.\n                           *\n                           * @api private\n                           * @param {Runnable} runnable\n                           * @return {Context}\n                           */\n\n    Context.prototype.runnable = function (runnable) {\n      if (!arguments.length) {\n        return this._runnable;\n      }\n\n      this.test = this._runnable = runnable;\n      return this;\n    }; /**\n        * Set test timeout `ms`.\n        *\n        * @api private\n        * @param {number} ms\n        * @return {Context} self\n        */\n\n    Context.prototype.timeout = function (ms) {\n      if (!arguments.length) {\n        return this.runnable().timeout();\n      }\n\n      this.runnable().timeout(ms);\n      return this;\n    }; /**\n        * Set test timeout `enabled`.\n        *\n        * @api private\n        * @param {boolean} enabled\n        * @return {Context} self\n        */\n\n    Context.prototype.enableTimeouts = function (enabled) {\n      this.runnable().enableTimeouts(enabled);\n      return this;\n    }; /**\n        * Set test slowness threshold `ms`.\n        *\n        * @api private\n        * @param {number} ms\n        * @return {Context} self\n        */\n\n    Context.prototype.slow = function (ms) {\n      this.runnable().slow(ms);\n      return this;\n    }; /**\n        * Mark a test as skipped.\n        *\n        * @api private\n        * @return {Context} self\n        */\n\n    Context.prototype.skip = function () {\n      this.runnable().skip();\n      return this;\n    }; /**\n        * Inspect the context void of `._runnable`.\n        *\n        * @api private\n        * @return {string}\n        */\n\n    Context.prototype.inspect = function () {\n      return JSON.stringify(this, function (key, val) {\n        return key === 'runnable' || key === 'test' ? undefined : val;\n      }, 2);\n    };\n  }, {}],\n  7: [function (require, module, exports) {\n    /**\n     * Module dependencies.\n     */var Runnable = require('./runnable');\n\n    var inherits = require('./utils').inherits; /**\n                                                 * Expose `Hook`.\n                                                 */\n\n    module.exports = Hook; /**\n                            * Initialize a new `Hook` with the given `title` and callback `fn`.\n                            *\n                            * @param {String} title\n                            * @param {Function} fn\n                            * @api private\n                            */\n\n    function Hook(title, fn) {\n      Runnable.call(this, title, fn);\n      this.type = 'hook';\n    } /**\n       * Inherit from `Runnable.prototype`.\n       */\n\n    inherits(Hook, Runnable); /**\n                               * Get or set the test `err`.\n                               *\n                               * @param {Error} err\n                               * @return {Error}\n                               * @api public\n                               */\n\n    Hook.prototype.error = function (err) {\n      if (!arguments.length) {\n        err = this._error;\n        this._error = null;\n        return err;\n      }\n\n      this._error = err;\n    };\n  }, {\n    \"./runnable\": 35,\n    \"./utils\": 39\n  }],\n  8: [function (require, module, exports) {\n    /**\n     * Module dependencies.\n     */var Suite = require('../suite');\n\n    var Test = require('../test');\n\n    var escapeRe = require('escape-string-regexp'); /**\n                                                     * BDD-style interface:\n                                                     *\n                                                     *      describe('Array', function() {\n                                                     *        describe('#indexOf()', function() {\n                                                     *          it('should return -1 when not present', function() {\n                                                     *            // ...\n                                                     *          });\n                                                     *\n                                                     *          it('should return the index when present', function() {\n                                                     *            // ...\n                                                     *          });\n                                                     *        });\n                                                     *      });\n                                                     *\n                                                     * @param {Suite} suite Root suite.\n                                                     */\n\n    module.exports = function (suite) {\n      var suites = [suite];\n      suite.on('pre-require', function (context, file, mocha) {\n        var common = require('./common')(suites, context);\n\n        context.before = common.before;\n        context.after = common.after;\n        context.beforeEach = common.beforeEach;\n        context.afterEach = common.afterEach;\n        context.run = mocha.options.delay && common.runWithSuite(suite); /**\n                                                                          * Describe a \"suite\" with the given `title`\n                                                                          * and callback `fn` containing nested suites\n                                                                          * and/or tests.\n                                                                          */\n\n        context.describe = context.context = function (title, fn) {\n          var suite = Suite.create(suites[0], title);\n          suite.file = file;\n          suites.unshift(suite);\n          fn.call(suite);\n          suites.shift();\n          return suite;\n        }; /**\n            * Pending describe.\n            */\n\n        context.xdescribe = context.xcontext = context.describe.skip = function (title, fn) {\n          var suite = Suite.create(suites[0], title);\n          suite.pending = true;\n          suites.unshift(suite);\n          fn.call(suite);\n          suites.shift();\n        }; /**\n            * Exclusive suite.\n            */\n\n        context.describe.only = function (title, fn) {\n          var suite = context.describe(title, fn);\n          mocha.grep(suite.fullTitle());\n          return suite;\n        }; /**\n            * Describe a specification or test-case\n            * with the given `title` and callback `fn`\n            * acting as a thunk.\n            */\n\n        context.it = context.specify = function (title, fn) {\n          var suite = suites[0];\n\n          if (suite.pending) {\n            fn = null;\n          }\n\n          var test = new Test(title, fn);\n          test.file = file;\n          suite.addTest(test);\n          return test;\n        }; /**\n            * Exclusive test-case.\n            */\n\n        context.it.only = function (title, fn) {\n          var test = context.it(title, fn);\n          var reString = '^' + escapeRe(test.fullTitle()) + '$';\n          mocha.grep(new RegExp(reString));\n          return test;\n        }; /**\n            * Pending test case.\n            */\n\n        context.xit = context.xspecify = context.it.skip = function (title) {\n          context.it(title);\n        };\n      });\n    };\n  }, {\n    \"../suite\": 37,\n    \"../test\": 38,\n    \"./common\": 9,\n    \"escape-string-regexp\": 68\n  }],\n  9: [function (require, module, exports) {\n    'use strict'; /**\n                   * Functions common to more than one interface.\n                   *\n                   * @param {Suite[]} suites\n                   * @param {Context} context\n                   * @return {Object} An object containing common functions.\n                   */\n\n    module.exports = function (suites, context) {\n      return {\n        /**\n         * This is only present if flag --delay is passed into Mocha. It triggers\n         * root suite execution.\n         *\n         * @param {Suite} suite The root wuite.\n         * @return {Function} A function which runs the root suite\n         */runWithSuite: function () {\n          function runWithSuite(suite) {\n            return function () {\n              function run() {\n                suite.run();\n              }\n\n              return run;\n            }();\n          }\n\n          return runWithSuite;\n        }(),\n        /**\n         * Execute before running tests.\n         *\n         * @param {string} name\n         * @param {Function} fn\n         */before: function (name, fn) {\n          suites[0].beforeAll(name, fn);\n        },\n        /**\n         * Execute after running tests.\n         *\n         * @param {string} name\n         * @param {Function} fn\n         */after: function (name, fn) {\n          suites[0].afterAll(name, fn);\n        },\n        /**\n         * Execute before each test case.\n         *\n         * @param {string} name\n         * @param {Function} fn\n         */beforeEach: function (name, fn) {\n          suites[0].beforeEach(name, fn);\n        },\n        /**\n         * Execute after each test case.\n         *\n         * @param {string} name\n         * @param {Function} fn\n         */afterEach: function (name, fn) {\n          suites[0].afterEach(name, fn);\n        },\n        test: {\n          /**\n           * Pending test case.\n           *\n           * @param {string} title\n           */skip: function (title) {\n            context.test(title);\n          }\n        }\n      };\n    };\n  }, {}],\n  10: [function (require, module, exports) {\n    /**\n     * Module dependencies.\n     */var Suite = require('../suite');\n\n    var Test = require('../test'); /**\n                                    * TDD-style interface:\n                                    *\n                                    *     exports.Array = {\n                                    *       '#indexOf()': {\n                                    *         'should return -1 when the value is not present': function() {\n                                    *\n                                    *         },\n                                    *\n                                    *         'should return the correct index when the value is present': function() {\n                                    *\n                                    *         }\n                                    *       }\n                                    *     };\n                                    *\n                                    * @param {Suite} suite Root suite.\n                                    */\n\n    module.exports = function (suite) {\n      var suites = [suite];\n      suite.on('require', visit);\n\n      function visit(obj, file) {\n        var suite;\n\n        for (var key in meteorBabelHelpers.sanitizeForInObject(obj)) {\n          if (typeof obj[key] === 'function') {\n            var fn = obj[key];\n\n            switch (key) {\n              case 'before':\n                suites[0].beforeAll(fn);\n                break;\n\n              case 'after':\n                suites[0].afterAll(fn);\n                break;\n\n              case 'beforeEach':\n                suites[0].beforeEach(fn);\n                break;\n\n              case 'afterEach':\n                suites[0].afterEach(fn);\n                break;\n\n              default:\n                var test = new Test(key, fn);\n                test.file = file;\n                suites[0].addTest(test);\n            }\n          } else {\n            suite = Suite.create(suites[0], key);\n            suites.unshift(suite);\n            visit(obj[key]);\n            suites.shift();\n          }\n        }\n      }\n    };\n  }, {\n    \"../suite\": 37,\n    \"../test\": 38\n  }],\n  11: [function (require, module, exports) {\n    exports.bdd = require('./bdd');\n    exports.tdd = require('./tdd');\n    exports.qunit = require('./qunit');\n    exports.exports = require('./exports');\n  }, {\n    \"./bdd\": 8,\n    \"./exports\": 10,\n    \"./qunit\": 12,\n    \"./tdd\": 13\n  }],\n  12: [function (require, module, exports) {\n    /**\n     * Module dependencies.\n     */var Suite = require('../suite');\n\n    var Test = require('../test');\n\n    var escapeRe = require('escape-string-regexp'); /**\n                                                     * QUnit-style interface:\n                                                     *\n                                                     *     suite('Array');\n                                                     *\n                                                     *     test('#length', function() {\n                                                     *       var arr = [1,2,3];\n                                                     *       ok(arr.length == 3);\n                                                     *     });\n                                                     *\n                                                     *     test('#indexOf()', function() {\n                                                     *       var arr = [1,2,3];\n                                                     *       ok(arr.indexOf(1) == 0);\n                                                     *       ok(arr.indexOf(2) == 1);\n                                                     *       ok(arr.indexOf(3) == 2);\n                                                     *     });\n                                                     *\n                                                     *     suite('String');\n                                                     *\n                                                     *     test('#length', function() {\n                                                     *       ok('foo'.length == 3);\n                                                     *     });\n                                                     *\n                                                     * @param {Suite} suite Root suite.\n                                                     */\n\n    module.exports = function (suite) {\n      var suites = [suite];\n      suite.on('pre-require', function (context, file, mocha) {\n        var common = require('./common')(suites, context);\n\n        context.before = common.before;\n        context.after = common.after;\n        context.beforeEach = common.beforeEach;\n        context.afterEach = common.afterEach;\n        context.run = mocha.options.delay && common.runWithSuite(suite); /**\n                                                                          * Describe a \"suite\" with the given `title`.\n                                                                          */\n\n        context.suite = function (title) {\n          if (suites.length > 1) {\n            suites.shift();\n          }\n\n          var suite = Suite.create(suites[0], title);\n          suite.file = file;\n          suites.unshift(suite);\n          return suite;\n        }; /**\n            * Exclusive test-case.\n            */\n\n        context.suite.only = function (title, fn) {\n          var suite = context.suite(title, fn);\n          mocha.grep(suite.fullTitle());\n        }; /**\n            * Describe a specification or test-case\n            * with the given `title` and callback `fn`\n            * acting as a thunk.\n            */\n\n        context.test = function (title, fn) {\n          var test = new Test(title, fn);\n          test.file = file;\n          suites[0].addTest(test);\n          return test;\n        }; /**\n            * Exclusive test-case.\n            */\n\n        context.test.only = function (title, fn) {\n          var test = context.test(title, fn);\n          var reString = '^' + escapeRe(test.fullTitle()) + '$';\n          mocha.grep(new RegExp(reString));\n        };\n\n        context.test.skip = common.test.skip;\n      });\n    };\n  }, {\n    \"../suite\": 37,\n    \"../test\": 38,\n    \"./common\": 9,\n    \"escape-string-regexp\": 68\n  }],\n  13: [function (require, module, exports) {\n    /**\n     * Module dependencies.\n     */var Suite = require('../suite');\n\n    var Test = require('../test');\n\n    var escapeRe = require('escape-string-regexp'); /**\n                                                     * TDD-style interface:\n                                                     *\n                                                     *      suite('Array', function() {\n                                                     *        suite('#indexOf()', function() {\n                                                     *          suiteSetup(function() {\n                                                     *\n                                                     *          });\n                                                     *\n                                                     *          test('should return -1 when not present', function() {\n                                                     *\n                                                     *          });\n                                                     *\n                                                     *          test('should return the index when present', function() {\n                                                     *\n                                                     *          });\n                                                     *\n                                                     *          suiteTeardown(function() {\n                                                     *\n                                                     *          });\n                                                     *        });\n                                                     *      });\n                                                     *\n                                                     * @param {Suite} suite Root suite.\n                                                     */\n\n    module.exports = function (suite) {\n      var suites = [suite];\n      suite.on('pre-require', function (context, file, mocha) {\n        var common = require('./common')(suites, context);\n\n        context.setup = common.beforeEach;\n        context.teardown = common.afterEach;\n        context.suiteSetup = common.before;\n        context.suiteTeardown = common.after;\n        context.run = mocha.options.delay && common.runWithSuite(suite); /**\n                                                                          * Describe a \"suite\" with the given `title` and callback `fn` containing\n                                                                          * nested suites and/or tests.\n                                                                          */\n\n        context.suite = function (title, fn) {\n          var suite = Suite.create(suites[0], title);\n          suite.file = file;\n          suites.unshift(suite);\n          fn.call(suite);\n          suites.shift();\n          return suite;\n        }; /**\n            * Pending suite.\n            */\n\n        context.suite.skip = function (title, fn) {\n          var suite = Suite.create(suites[0], title);\n          suite.pending = true;\n          suites.unshift(suite);\n          fn.call(suite);\n          suites.shift();\n        }; /**\n            * Exclusive test-case.\n            */\n\n        context.suite.only = function (title, fn) {\n          var suite = context.suite(title, fn);\n          mocha.grep(suite.fullTitle());\n        }; /**\n            * Describe a specification or test-case with the given `title` and\n            * callback `fn` acting as a thunk.\n            */\n\n        context.test = function (title, fn) {\n          var suite = suites[0];\n\n          if (suite.pending) {\n            fn = null;\n          }\n\n          var test = new Test(title, fn);\n          test.file = file;\n          suite.addTest(test);\n          return test;\n        }; /**\n            * Exclusive test-case.\n            */\n\n        context.test.only = function (title, fn) {\n          var test = context.test(title, fn);\n          var reString = '^' + escapeRe(test.fullTitle()) + '$';\n          mocha.grep(new RegExp(reString));\n        };\n\n        context.test.skip = common.test.skip;\n      });\n    };\n  }, {\n    \"../suite\": 37,\n    \"../test\": 38,\n    \"./common\": 9,\n    \"escape-string-regexp\": 68\n  }],\n  14: [function (require, module, exports) {\n    (function (process, global, __dirname) {\n      /*!\n       * mocha\n       * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>\n       * MIT Licensed\n       */ /**\n           * Module dependencies.\n           */var escapeRe = require('escape-string-regexp');\n\n      var path = require('path');\n\n      var reporters = require('./reporters');\n\n      var utils = require('./utils'); /**\n                                       * Expose `Mocha`.\n                                       */\n\n      exports = module.exports = Mocha; /**\n                                         * To require local UIs and reporters when running in node.\n                                         */\n\n      if (!process.browser) {\n        var cwd = process.cwd();\n        module.paths.push(cwd, path.join(cwd, 'node_modules'));\n      } /**\n         * Expose internals.\n         */\n\n      exports.utils = utils;\n      exports.interfaces = require('./interfaces');\n      exports.reporters = reporters;\n      exports.Runnable = require('./runnable');\n      exports.Context = require('./context');\n      exports.Runner = require('./runner');\n      exports.Suite = require('./suite');\n      exports.Hook = require('./hook');\n      exports.Test = require('./test'); /**\n                                         * Return image `name` path.\n                                         *\n                                         * @api private\n                                         * @param {string} name\n                                         * @return {string}\n                                         */\n\n      function image(name) {\n        return path.join(__dirname, '../images', name + '.png');\n      } /**\n         * Set up mocha with `options`.\n         *\n         * Options:\n         *\n         *   - `ui` name \"bdd\", \"tdd\", \"exports\" etc\n         *   - `reporter` reporter instance, defaults to `mocha.reporters.spec`\n         *   - `globals` array of accepted globals\n         *   - `timeout` timeout in milliseconds\n         *   - `bail` bail on the first test failure\n         *   - `slow` milliseconds to wait before considering a test slow\n         *   - `ignoreLeaks` ignore global leaks\n         *   - `fullTrace` display the full stack-trace on failing\n         *   - `grep` string or regexp to filter tests with\n         *\n         * @param {Object} options\n         * @api public\n         */\n\n      function Mocha(options) {\n        options = options || {};\n        this.files = [];\n        this.options = options;\n\n        if (options.grep) {\n          this.grep(new RegExp(options.grep));\n        }\n\n        if (options.fgrep) {\n          this.grep(options.fgrep);\n        }\n\n        this.suite = new exports.Suite('', new exports.Context());\n        this.ui(options.ui);\n        this.bail(options.bail);\n        this.reporter(options.reporter, options.reporterOptions);\n\n        if (typeof options.timeout !== 'undefined' && options.timeout !== null) {\n          this.timeout(options.timeout);\n        }\n\n        this.useColors(options.useColors);\n\n        if (options.enableTimeouts !== null) {\n          this.enableTimeouts(options.enableTimeouts);\n        }\n\n        if (options.slow) {\n          this.slow(options.slow);\n        }\n\n        this.suite.on('pre-require', function (context) {\n          exports.afterEach = context.afterEach || context.teardown;\n          exports.after = context.after || context.suiteTeardown;\n          exports.beforeEach = context.beforeEach || context.setup;\n          exports.before = context.before || context.suiteSetup;\n          exports.describe = context.describe || context.suite;\n          exports.it = context.it || context.test;\n          exports.setup = context.setup || context.beforeEach;\n          exports.suiteSetup = context.suiteSetup || context.before;\n          exports.suiteTeardown = context.suiteTeardown || context.after;\n          exports.suite = context.suite || context.describe;\n          exports.teardown = context.teardown || context.afterEach;\n          exports.test = context.test || context.it;\n          exports.run = context.run;\n        });\n      } /**\n         * Enable or disable bailing on the first failure.\n         *\n         * @api public\n         * @param {boolean} [bail]\n         */\n\n      Mocha.prototype.bail = function (bail) {\n        if (!arguments.length) {\n          bail = true;\n        }\n\n        this.suite.bail(bail);\n        return this;\n      }; /**\n          * Add test `file`.\n          *\n          * @api public\n          * @param {string} file\n          */\n\n      Mocha.prototype.addFile = function (file) {\n        this.files.push(file);\n        return this;\n      }; /**\n          * Set reporter to `reporter`, defaults to \"spec\".\n          *\n          * @param {String|Function} reporter name or constructor\n          * @param {Object} reporterOptions optional options\n          * @api public\n          * @param {string|Function} reporter name or constructor\n          * @param {Object} reporterOptions optional options\n          */\n\n      Mocha.prototype.reporter = function (reporter, reporterOptions) {\n        if (typeof reporter === 'function') {\n          this._reporter = reporter;\n        } else {\n          reporter = reporter || 'spec';\n\n          var _reporter; // Try to load a built-in reporter.\n\n\n          if (reporters[reporter]) {\n            _reporter = reporters[reporter];\n          } // Try to load reporters from process.cwd() and node_modules\n\n\n          if (!_reporter) {\n            try {\n              _reporter = require(reporter);\n            } catch (err) {\n              err.message.indexOf('Cannot find module') !== -1 ? console.warn('\"' + reporter + '\" reporter not found') : console.warn('\"' + reporter + '\" reporter blew up with error:\\n' + err.stack);\n            }\n          }\n\n          if (!_reporter && reporter === 'teamcity') {\n            console.warn('The Teamcity reporter was moved to a package named ' + 'mocha-teamcity-reporter ' + '(https://npmjs.org/package/mocha-teamcity-reporter).');\n          }\n\n          if (!_reporter) {\n            throw new Error('invalid reporter \"' + reporter + '\"');\n          }\n\n          this._reporter = _reporter;\n        }\n\n        this.options.reporterOptions = reporterOptions;\n        return this;\n      }; /**\n          * Set test UI `name`, defaults to \"bdd\".\n          *\n          * @api public\n          * @param {string} bdd\n          */\n\n      Mocha.prototype.ui = function (name) {\n        name = name || 'bdd';\n        this._ui = exports.interfaces[name];\n\n        if (!this._ui) {\n          try {\n            this._ui = require(name);\n          } catch (err) {\n            throw new Error('invalid interface \"' + name + '\"');\n          }\n        }\n\n        this._ui = this._ui(this.suite);\n        return this;\n      }; /**\n          * Load registered files.\n          *\n          * @api private\n          */\n\n      Mocha.prototype.loadFiles = function (fn) {\n        var self = this;\n        var suite = this.suite;\n        var pending = this.files.length;\n        this.files.forEach(function (file) {\n          file = path.resolve(file);\n          suite.emit('pre-require', global, file, self);\n          suite.emit('require', require(file), file, self);\n          suite.emit('post-require', global, file, self);\n          --pending || fn && fn();\n        });\n      }; /**\n          * Enable growl support.\n          *\n          * @api private\n          */\n\n      Mocha.prototype._growl = function (runner, reporter) {\n        var notify = require('growl');\n\n        runner.on('end', function () {\n          var stats = reporter.stats;\n\n          if (stats.failures) {\n            var msg = stats.failures + ' of ' + runner.total + ' tests failed';\n            notify(msg, {\n              name: 'mocha',\n              title: 'Failed',\n              image: image('error')\n            });\n          } else {\n            notify(stats.passes + ' tests passed in ' + stats.duration + 'ms', {\n              name: 'mocha',\n              title: 'Passed',\n              image: image('ok')\n            });\n          }\n        });\n      }; /**\n          * Add regexp to grep, if `re` is a string it is escaped.\n          *\n          * @param {RegExp|String} re\n          * @return {Mocha}\n          * @api public\n          * @param {RegExp|string} re\n          * @return {Mocha}\n          */\n\n      Mocha.prototype.grep = function (re) {\n        this.options.grep = typeof re === 'string' ? new RegExp(escapeRe(re)) : re;\n        return this;\n      }; /**\n          * Invert `.grep()` matches.\n          *\n          * @return {Mocha}\n          * @api public\n          */\n\n      Mocha.prototype.invert = function () {\n        this.options.invert = true;\n        return this;\n      }; /**\n          * Ignore global leaks.\n          *\n          * @param {Boolean} ignore\n          * @return {Mocha}\n          * @api public\n          * @param {boolean} ignore\n          * @return {Mocha}\n          */\n\n      Mocha.prototype.ignoreLeaks = function (ignore) {\n        this.options.ignoreLeaks = Boolean(ignore);\n        return this;\n      }; /**\n          * Enable global leak checking.\n          *\n          * @return {Mocha}\n          * @api public\n          */\n\n      Mocha.prototype.checkLeaks = function () {\n        this.options.ignoreLeaks = false;\n        return this;\n      }; /**\n          * Display long stack-trace on failing\n          *\n          * @return {Mocha}\n          * @api public\n          */\n\n      Mocha.prototype.fullTrace = function () {\n        this.options.fullStackTrace = true;\n        return this;\n      }; /**\n          * Enable growl support.\n          *\n          * @return {Mocha}\n          * @api public\n          */\n\n      Mocha.prototype.growl = function () {\n        this.options.growl = true;\n        return this;\n      }; /**\n          * Ignore `globals` array or string.\n          *\n          * @param {Array|String} globals\n          * @return {Mocha}\n          * @api public\n          * @param {Array|string} globals\n          * @return {Mocha}\n          */\n\n      Mocha.prototype.globals = function (globals) {\n        this.options.globals = (this.options.globals || []).concat(globals);\n        return this;\n      }; /**\n          * Emit color output.\n          *\n          * @param {Boolean} colors\n          * @return {Mocha}\n          * @api public\n          * @param {boolean} colors\n          * @return {Mocha}\n          */\n\n      Mocha.prototype.useColors = function (colors) {\n        if (colors !== undefined) {\n          this.options.useColors = colors;\n        }\n\n        return this;\n      }; /**\n          * Use inline diffs rather than +/-.\n          *\n          * @param {Boolean} inlineDiffs\n          * @return {Mocha}\n          * @api public\n          * @param {boolean} inlineDiffs\n          * @return {Mocha}\n          */\n\n      Mocha.prototype.useInlineDiffs = function (inlineDiffs) {\n        this.options.useInlineDiffs = inlineDiffs !== undefined && inlineDiffs;\n        return this;\n      }; /**\n          * Set the timeout in milliseconds.\n          *\n          * @param {Number} timeout\n          * @return {Mocha}\n          * @api public\n          * @param {number} timeout\n          * @return {Mocha}\n          */\n\n      Mocha.prototype.timeout = function (timeout) {\n        this.suite.timeout(timeout);\n        return this;\n      }; /**\n          * Set slowness threshold in milliseconds.\n          *\n          * @param {Number} slow\n          * @return {Mocha}\n          * @api public\n          * @param {number} slow\n          * @return {Mocha}\n          */\n\n      Mocha.prototype.slow = function (slow) {\n        this.suite.slow(slow);\n        return this;\n      }; /**\n          * Enable timeouts.\n          *\n          * @param {Boolean} enabled\n          * @return {Mocha}\n          * @api public\n          * @param {boolean} enabled\n          * @return {Mocha}\n          */\n\n      Mocha.prototype.enableTimeouts = function (enabled) {\n        this.suite.enableTimeouts(arguments.length && enabled !== undefined ? enabled : true);\n        return this;\n      }; /**\n          * Makes all tests async (accepting a callback)\n          *\n          * @return {Mocha}\n          * @api public\n          */\n\n      Mocha.prototype.asyncOnly = function () {\n        this.options.asyncOnly = true;\n        return this;\n      }; /**\n          * Disable syntax highlighting (in browser).\n          *\n          * @api public\n          */\n\n      Mocha.prototype.noHighlighting = function () {\n        this.options.noHighlighting = true;\n        return this;\n      }; /**\n          * Enable uncaught errors to propagate (in browser).\n          *\n          * @return {Mocha}\n          * @api public\n          */\n\n      Mocha.prototype.allowUncaught = function () {\n        this.options.allowUncaught = true;\n        return this;\n      }; /**\n          * Delay root suite execution.\n          * @returns {Mocha}\n          */\n\n      Mocha.prototype.delay = function () {\n        function delay() {\n          this.options.delay = true;\n          return this;\n        }\n\n        return delay;\n      }(); /**\n            * Run tests and invoke `fn()` when complete.\n            *\n            * @api public\n            * @param {Function} fn\n            * @return {Runner}\n            */\n\n      Mocha.prototype.run = function (fn) {\n        if (this.files.length) {\n          this.loadFiles();\n        }\n\n        var suite = this.suite;\n        var options = this.options;\n        options.files = this.files;\n        var runner = new exports.Runner(suite, options.delay);\n        var reporter = new this._reporter(runner, options);\n        runner.ignoreLeaks = options.ignoreLeaks !== false;\n        runner.fullStackTrace = options.fullStackTrace;\n        runner.asyncOnly = options.asyncOnly;\n        runner.allowUncaught = options.allowUncaught;\n\n        if (options.grep) {\n          runner.grep(options.grep, options.invert);\n        }\n\n        if (options.globals) {\n          runner.globals(options.globals);\n        }\n\n        if (options.growl) {\n          this._growl(runner, reporter);\n        }\n\n        if (options.useColors !== undefined) {\n          exports.reporters.Base.useColors = options.useColors;\n        }\n\n        exports.reporters.Base.inlineDiffs = options.useInlineDiffs;\n\n        function done(failures) {\n          if (reporter.done) {\n            reporter.done(failures, fn);\n          } else {\n            fn && fn(failures);\n          }\n        }\n\n        return runner.run(done);\n      };\n    }).call(this, require('_process'), typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {}, \"/lib\");\n  }, {\n    \"./context\": 6,\n    \"./hook\": 7,\n    \"./interfaces\": 11,\n    \"./reporters\": 22,\n    \"./runnable\": 35,\n    \"./runner\": 36,\n    \"./suite\": 37,\n    \"./test\": 38,\n    \"./utils\": 39,\n    \"_process\": 51,\n    \"escape-string-regexp\": 68,\n    \"growl\": 69,\n    \"path\": 41\n  }],\n  15: [function (require, module, exports) {\n    /**\n     * Helpers.\n     */var s = 1000;\n    var m = s * 60;\n    var h = m * 60;\n    var d = h * 24;\n    var y = d * 365.25; /**\n                         * Parse or format the given `val`.\n                         *\n                         * Options:\n                         *\n                         *  - `long` verbose formatting [false]\n                         *\n                         * @api public\n                         * @param {string|number} val\n                         * @param {Object} options\n                         * @return {string|number}\n                         */\n\n    module.exports = function (val, options) {\n      options = options || {};\n\n      if (typeof val === 'string') {\n        return parse(val);\n      } // https://github.com/mochajs/mocha/pull/1035\n\n\n      return options['long'] ? longFormat(val) : shortFormat(val);\n    }; /**\n        * Parse the given `str` and return milliseconds.\n        *\n        * @api private\n        * @param {string} str\n        * @return {number}\n        */\n\n    function parse(str) {\n      var match = /^((?:\\d+)?\\.?\\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(str);\n\n      if (!match) {\n        return;\n      }\n\n      var n = parseFloat(match[1]);\n      var type = (match[2] || 'ms').toLowerCase();\n\n      switch (type) {\n        case 'years':\n        case 'year':\n        case 'y':\n          return n * y;\n\n        case 'days':\n        case 'day':\n        case 'd':\n          return n * d;\n\n        case 'hours':\n        case 'hour':\n        case 'h':\n          return n * h;\n\n        case 'minutes':\n        case 'minute':\n        case 'm':\n          return n * m;\n\n        case 'seconds':\n        case 'second':\n        case 's':\n          return n * s;\n\n        case 'ms':\n          return n;\n\n        default: // No default case\n      }\n    } /**\n       * Short format for `ms`.\n       *\n       * @api private\n       * @param {number} ms\n       * @return {string}\n       */\n\n    function shortFormat(ms) {\n      if (ms >= d) {\n        return Math.round(ms / d) + 'd';\n      }\n\n      if (ms >= h) {\n        return Math.round(ms / h) + 'h';\n      }\n\n      if (ms >= m) {\n        return Math.round(ms / m) + 'm';\n      }\n\n      if (ms >= s) {\n        return Math.round(ms / s) + 's';\n      }\n\n      return ms + 'ms';\n    } /**\n       * Long format for `ms`.\n       *\n       * @api private\n       * @param {number} ms\n       * @return {string}\n       */\n\n    function longFormat(ms) {\n      return plural(ms, d, 'day') || plural(ms, h, 'hour') || plural(ms, m, 'minute') || plural(ms, s, 'second') || ms + ' ms';\n    } /**\n       * Pluralization helper.\n       *\n       * @api private\n       * @param {number} ms\n       * @param {number} n\n       * @param {string} name\n       */\n\n    function plural(ms, n, name) {\n      if (ms < n) {\n        return;\n      }\n\n      if (ms < n * 1.5) {\n        return Math.floor(ms / n) + ' ' + name;\n      }\n\n      return Math.ceil(ms / n) + ' ' + name + 's';\n    }\n  }, {}],\n  16: [function (require, module, exports) {\n    /**\n     * Expose `Pending`.\n     */module.exports = Pending; /**\n                                  * Initialize a new `Pending` error with the given message.\n                                  *\n                                  * @param {string} message\n                                  */\n\n    function Pending(message) {\n      this.message = message;\n    }\n  }, {}],\n  17: [function (require, module, exports) {\n    (function (process, global) {\n      /**\n       * Module dependencies.\n       */var tty = require('tty');\n\n      var diff = require('diff');\n\n      var ms = require('../ms');\n\n      var utils = require('../utils');\n\n      var supportsColor = process.browser ? null : require('supports-color'); /**\n                                                                               * Expose `Base`.\n                                                                               */\n      exports = module.exports = Base; /**\n                                        * Save timer references to avoid Sinon interfering.\n                                        * See: https://github.com/mochajs/mocha/issues/237\n                                        */ /* eslint-disable no-unused-vars, no-native-reassign */\n      var Date = global.Date;\n      var setTimeout = global.setTimeout;\n      var setInterval = global.setInterval;\n      var clearTimeout = global.clearTimeout;\n      var clearInterval = global.clearInterval; /* eslint-enable no-unused-vars, no-native-reassign */ /**\n                                                                                                        * Check if both stdio streams are associated with a tty.\n                                                                                                        */\n      var isatty = tty.isatty(1) && tty.isatty(2); /**\n                                                    * Enable coloring by default, except in the browser interface.\n                                                    */\n      exports.useColors = !process.browser && (supportsColor || process.env.MOCHA_COLORS !== undefined); /**\n                                                                                                          * Inline diffs instead of +/-\n                                                                                                          */\n      exports.inlineDiffs = false; /**\n                                    * Default color map.\n                                    */\n      exports.colors = {\n        pass: 90,\n        fail: 31,\n        'bright pass': 92,\n        'bright fail': 91,\n        'bright yellow': 93,\n        pending: 36,\n        suite: 0,\n        'error title': 0,\n        'error message': 31,\n        'error stack': 90,\n        checkmark: 32,\n        fast: 90,\n        medium: 33,\n        slow: 31,\n        green: 32,\n        light: 90,\n        'diff gutter': 90,\n        'diff added': 32,\n        'diff removed': 31\n      }; /**\n          * Default symbol map.\n          */\n      exports.symbols = {\n        ok: '✓',\n        err: '✖',\n        dot: '․'\n      }; // With node.js on Windows: use symbols available in terminal default fonts\n\n      if (process.platform === 'win32') {\n        exports.symbols.ok = \"\\u221A\";\n        exports.symbols.err = \"\\xD7\";\n        exports.symbols.dot = '.';\n      } /**\n         * Color `str` with the given `type`,\n         * allowing colors to be disabled,\n         * as well as user-defined color\n         * schemes.\n         *\n         * @param {string} type\n         * @param {string} str\n         * @return {string}\n         * @api private\n         */\n\n      var color = exports.color = function (type, str) {\n        if (!exports.useColors) {\n          return String(str);\n        }\n\n        return \"\\x1B[\" + exports.colors[type] + 'm' + str + \"\\x1B[0m\";\n      }; /**\n          * Expose term window size, with some defaults for when stderr is not a tty.\n          */\n\n      exports.window = {\n        width: 75\n      };\n\n      if (isatty) {\n        exports.window.width = process.stdout.getWindowSize ? process.stdout.getWindowSize(1)[0] : tty.getWindowSize()[1];\n      } /**\n         * Expose some basic cursor interactions that are common among reporters.\n         */\n\n      exports.cursor = {\n        hide: function () {\n          isatty && process.stdout.write(\"\\x1B[?25l\");\n        },\n        show: function () {\n          isatty && process.stdout.write(\"\\x1B[?25h\");\n        },\n        deleteLine: function () {\n          isatty && process.stdout.write(\"\\x1B[2K\");\n        },\n        beginningOfLine: function () {\n          isatty && process.stdout.write(\"\\x1B[0G\");\n        },\n        CR: function () {\n          if (isatty) {\n            exports.cursor.deleteLine();\n            exports.cursor.beginningOfLine();\n          } else {\n            process.stdout.write('\\r');\n          }\n        }\n      }; /**\n          * Outut the given `failures` as a list.\n          *\n          * @param {Array} failures\n          * @api public\n          */\n\n      exports.list = function (failures) {\n        console.log();\n        failures.forEach(function (test, i) {\n          // format\n          var fmt = color('error title', '  %s) %s:\\n') + color('error message', '     %s') + color('error stack', '\\n%s\\n'); // msg\n\n          var msg;\n          var err = test.err;\n          var message;\n\n          if (err.message) {\n            message = err.message;\n          } else if (typeof err.inspect === 'function') {\n            message = err.inspect() + '';\n          } else {\n            message = '';\n          }\n\n          var stack = err.stack || message;\n          var index = stack.indexOf(message);\n          var actual = err.actual;\n          var expected = err.expected;\n          var escape = true;\n\n          if (index === -1) {\n            msg = message;\n          } else {\n            index += message.length;\n            msg = stack.slice(0, index); // remove msg from stack\n\n            stack = stack.slice(index + 1);\n          } // uncaught\n\n\n          if (err.uncaught) {\n            msg = 'Uncaught ' + msg;\n          } // explicitly show diff\n\n\n          if (err.showDiff !== false && sameType(actual, expected) && expected !== undefined) {\n            escape = false;\n\n            if (!(utils.isString(actual) && utils.isString(expected))) {\n              err.actual = actual = utils.stringify(actual);\n              err.expected = expected = utils.stringify(expected);\n            }\n\n            fmt = color('error title', '  %s) %s:\\n%s') + color('error stack', '\\n%s\\n');\n            var match = message.match(/^([^:]+): expected/);\n            msg = '\\n      ' + color('error message', match ? match[1] : msg);\n\n            if (exports.inlineDiffs) {\n              msg += inlineDiff(err, escape);\n            } else {\n              msg += unifiedDiff(err, escape);\n            }\n          } // indent stack trace\n\n\n          stack = stack.replace(/^/gm, '  ');\n          console.log(fmt, i + 1, test.fullTitle(), msg, stack);\n        });\n      }; /**\n          * Initialize a new `Base` reporter.\n          *\n          * All other reporters generally\n          * inherit from this reporter, providing\n          * stats such as test duration, number\n          * of tests passed / failed etc.\n          *\n          * @param {Runner} runner\n          * @api public\n          */\n\n      function Base(runner) {\n        var stats = this.stats = {\n          suites: 0,\n          tests: 0,\n          passes: 0,\n          pending: 0,\n          failures: 0\n        };\n        var failures = this.failures = [];\n\n        if (!runner) {\n          return;\n        }\n\n        this.runner = runner;\n        runner.stats = stats;\n        runner.on('start', function () {\n          stats.start = new Date();\n        });\n        runner.on('suite', function (suite) {\n          stats.suites = stats.suites || 0;\n          suite.root || stats.suites++;\n        });\n        runner.on('test end', function () {\n          stats.tests = stats.tests || 0;\n          stats.tests++;\n        });\n        runner.on('pass', function (test) {\n          stats.passes = stats.passes || 0;\n\n          if (test.duration > test.slow()) {\n            test.speed = 'slow';\n          } else if (test.duration > test.slow() / 2) {\n            test.speed = 'medium';\n          } else {\n            test.speed = 'fast';\n          }\n\n          stats.passes++;\n        });\n        runner.on('fail', function (test, err) {\n          stats.failures = stats.failures || 0;\n          stats.failures++;\n          test.err = err;\n          failures.push(test);\n        });\n        runner.on('end', function () {\n          stats.end = new Date();\n          stats.duration = new Date() - stats.start;\n        });\n        runner.on('pending', function () {\n          stats.pending++;\n        });\n      } /**\n         * Output common epilogue used by many of\n         * the bundled reporters.\n         *\n         * @api public\n         */\n\n      Base.prototype.epilogue = function () {\n        var stats = this.stats;\n        var fmt;\n        console.log(); // passes\n\n        fmt = color('bright pass', ' ') + color('green', ' %d passing') + color('light', ' (%s)');\n        console.log(fmt, stats.passes || 0, ms(stats.duration)); // pending\n\n        if (stats.pending) {\n          fmt = color('pending', ' ') + color('pending', ' %d pending');\n          console.log(fmt, stats.pending);\n        } // failures\n\n\n        if (stats.failures) {\n          fmt = color('fail', '  %d failing');\n          console.log(fmt, stats.failures);\n          Base.list(this.failures);\n          console.log();\n        }\n\n        console.log();\n      }; /**\n          * Pad the given `str` to `len`.\n          *\n          * @api private\n          * @param {string} str\n          * @param {string} len\n          * @return {string}\n          */\n\n      function pad(str, len) {\n        str = String(str);\n        return Array(len - str.length + 1).join(' ') + str;\n      } /**\n         * Returns an inline diff between 2 strings with coloured ANSI output\n         *\n         * @api private\n         * @param {Error} err with actual/expected\n         * @param {boolean} escape\n         * @return {string} Diff\n         */\n\n      function inlineDiff(err, escape) {\n        var msg = errorDiff(err, 'WordsWithSpace', escape); // linenos\n\n        var lines = msg.split('\\n');\n\n        if (lines.length > 4) {\n          var width = String(lines.length).length;\n          msg = lines.map(function (str, i) {\n            return pad(++i, width) + ' |' + ' ' + str;\n          }).join('\\n');\n        } // legend\n\n\n        msg = '\\n' + color('diff removed', 'actual') + ' ' + color('diff added', 'expected') + '\\n\\n' + msg + '\\n'; // indent\n\n        msg = msg.replace(/^/gm, '      ');\n        return msg;\n      } /**\n         * Returns a unified diff between two strings.\n         *\n         * @api private\n         * @param {Error} err with actual/expected\n         * @param {boolean} escape\n         * @return {string} The diff.\n         */\n\n      function unifiedDiff(err, escape) {\n        var indent = '      ';\n\n        function cleanUp(line) {\n          if (escape) {\n            line = escapeInvisibles(line);\n          }\n\n          if (line[0] === '+') {\n            return indent + colorLines('diff added', line);\n          }\n\n          if (line[0] === '-') {\n            return indent + colorLines('diff removed', line);\n          }\n\n          if (line.match(/\\@\\@/)) {\n            return null;\n          }\n\n          if (line.match(/\\\\ No newline/)) {\n            return null;\n          }\n\n          return indent + line;\n        }\n\n        function notBlank(line) {\n          return typeof line !== 'undefined' && line !== null;\n        }\n\n        var msg = diff.createPatch('string', err.actual, err.expected);\n        var lines = msg.split('\\n').splice(4);\n        return '\\n      ' + colorLines('diff added', '+ expected') + ' ' + colorLines('diff removed', '- actual') + '\\n\\n' + lines.map(cleanUp).filter(notBlank).join('\\n');\n      } /**\n         * Return a character diff for `err`.\n         *\n         * @api private\n         * @param {Error} err\n         * @param {string} type\n         * @param {boolean} escape\n         * @return {string}\n         */\n\n      function errorDiff(err, type, escape) {\n        var actual = escape ? escapeInvisibles(err.actual) : err.actual;\n        var expected = escape ? escapeInvisibles(err.expected) : err.expected;\n        return diff['diff' + type](actual, expected).map(function (str) {\n          if (str.added) {\n            return colorLines('diff added', str.value);\n          }\n\n          if (str.removed) {\n            return colorLines('diff removed', str.value);\n          }\n\n          return str.value;\n        }).join('');\n      } /**\n         * Returns a string with all invisible characters in plain text\n         *\n         * @api private\n         * @param {string} line\n         * @return {string}\n         */\n\n      function escapeInvisibles(line) {\n        return line.replace(/\\t/g, '<tab>').replace(/\\r/g, '<CR>').replace(/\\n/g, '<LF>\\n');\n      } /**\n         * Color lines for `str`, using the color `name`.\n         *\n         * @api private\n         * @param {string} name\n         * @param {string} str\n         * @return {string}\n         */\n\n      function colorLines(name, str) {\n        return str.split('\\n').map(function (str) {\n          return color(name, str);\n        }).join('\\n');\n      } /**\n         * Object#toString reference.\n         */\n\n      var objToString = Object.prototype.toString; /**\n                                                    * Check that a / b have the same type.\n                                                    *\n                                                    * @api private\n                                                    * @param {Object} a\n                                                    * @param {Object} b\n                                                    * @return {boolean}\n                                                    */\n\n      function sameType(a, b) {\n        return objToString.call(a) === objToString.call(b);\n      }\n    }).call(this, require('_process'), typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n  }, {\n    \"../ms\": 15,\n    \"../utils\": 39,\n    \"_process\": 51,\n    \"diff\": 67,\n    \"supports-color\": 41,\n    \"tty\": 5\n  }],\n  18: [function (require, module, exports) {\n    /**\n     * Module dependencies.\n     */var Base = require('./base');\n\n    var utils = require('../utils'); /**\n                                      * Expose `Doc`.\n                                      */\n\n    exports = module.exports = Doc; /**\n                                     * Initialize a new `Doc` reporter.\n                                     *\n                                     * @param {Runner} runner\n                                     * @api public\n                                     */\n\n    function Doc(runner) {\n      Base.call(this, runner);\n      var indents = 2;\n\n      function indent() {\n        return Array(indents).join('  ');\n      }\n\n      runner.on('suite', function (suite) {\n        if (suite.root) {\n          return;\n        }\n\n        ++indents;\n        console.log('%s<section class=\"suite\">', indent());\n        ++indents;\n        console.log('%s<h1>%s</h1>', indent(), utils.escape(suite.title));\n        console.log('%s<dl>', indent());\n      });\n      runner.on('suite end', function (suite) {\n        if (suite.root) {\n          return;\n        }\n\n        console.log('%s</dl>', indent());\n        --indents;\n        console.log('%s</section>', indent());\n        --indents;\n      });\n      runner.on('pass', function (test) {\n        console.log('%s  <dt>%s</dt>', indent(), utils.escape(test.title));\n        var code = utils.escape(utils.clean(test.fn.toString()));\n        console.log('%s  <dd><pre><code>%s</code></pre></dd>', indent(), code);\n      });\n      runner.on('fail', function (test, err) {\n        console.log('%s  <dt class=\"error\">%s</dt>', indent(), utils.escape(test.title));\n        var code = utils.escape(utils.clean(test.fn.toString()));\n        console.log('%s  <dd class=\"error\"><pre><code>%s</code></pre></dd>', indent(), code);\n        console.log('%s  <dd class=\"error\">%s</dd>', indent(), utils.escape(err));\n      });\n    }\n  }, {\n    \"../utils\": 39,\n    \"./base\": 17\n  }],\n  19: [function (require, module, exports) {\n    (function (process) {\n      /**\n       * Module dependencies.\n       */var Base = require('./base');\n\n      var inherits = require('../utils').inherits;\n\n      var color = Base.color; /**\n                               * Expose `Dot`.\n                               */\n      exports = module.exports = Dot; /**\n                                       * Initialize a new `Dot` matrix test reporter.\n                                       *\n                                       * @api public\n                                       * @param {Runner} runner\n                                       */\n\n      function Dot(runner) {\n        Base.call(this, runner);\n        var self = this;\n        var width = Base.window.width * .75 | 0;\n        var n = -1;\n        runner.on('start', function () {\n          process.stdout.write('\\n');\n        });\n        runner.on('pending', function () {\n          if (++n % width === 0) {\n            process.stdout.write('\\n  ');\n          }\n\n          process.stdout.write(color('pending', Base.symbols.dot));\n        });\n        runner.on('pass', function (test) {\n          if (++n % width === 0) {\n            process.stdout.write('\\n  ');\n          }\n\n          if (test.speed === 'slow') {\n            process.stdout.write(color('bright yellow', Base.symbols.dot));\n          } else {\n            process.stdout.write(color(test.speed, Base.symbols.dot));\n          }\n        });\n        runner.on('fail', function () {\n          if (++n % width === 0) {\n            process.stdout.write('\\n  ');\n          }\n\n          process.stdout.write(color('fail', Base.symbols.dot));\n        });\n        runner.on('end', function () {\n          console.log();\n          self.epilogue();\n        });\n      } /**\n         * Inherit from `Base.prototype`.\n         */\n\n      inherits(Dot, Base);\n    }).call(this, require('_process'));\n  }, {\n    \"../utils\": 39,\n    \"./base\": 17,\n    \"_process\": 51\n  }],\n  20: [function (require, module, exports) {\n    (function (process, __dirname) {\n      /**\n       * Module dependencies.\n       */var JSONCov = require('./json-cov');\n\n      var readFileSync = require('fs').readFileSync;\n\n      var join = require('path').join; /**\n                                        * Expose `HTMLCov`.\n                                        */\n\n      exports = module.exports = HTMLCov; /**\n                                           * Initialize a new `JsCoverage` reporter.\n                                           *\n                                           * @api public\n                                           * @param {Runner} runner\n                                           */\n\n      function HTMLCov(runner) {\n        var jade = require('jade');\n\n        var file = join(__dirname, '/templates/coverage.jade');\n        var str = readFileSync(file, 'utf8');\n        var fn = jade.compile(str, {\n          filename: file\n        });\n        var self = this;\n        JSONCov.call(this, runner, false);\n        runner.on('end', function () {\n          process.stdout.write(fn({\n            cov: self.cov,\n            coverageClass: coverageClass\n          }));\n        });\n      } /**\n         * Return coverage class for a given coverage percentage.\n         *\n         * @api private\n         * @param {number} coveragePctg\n         * @return {string}\n         */\n\n      function coverageClass(coveragePctg) {\n        if (coveragePctg >= 75) {\n          return 'high';\n        }\n\n        if (coveragePctg >= 50) {\n          return 'medium';\n        }\n\n        if (coveragePctg >= 25) {\n          return 'low';\n        }\n\n        return 'terrible';\n      }\n    }).call(this, require('_process'), \"/lib/reporters\");\n  }, {\n    \"./json-cov\": 23,\n    \"_process\": 51,\n    \"fs\": 41,\n    \"jade\": 41,\n    \"path\": 41\n  }],\n  21: [function (require, module, exports) {\n    (function (global) {\n      /* eslint-env browser */ /**\n                                * Module dependencies.\n                                */var Base = require('./base');\n\n      var utils = require('../utils');\n\n      var Progress = require('../browser/progress');\n\n      var escapeRe = require('escape-string-regexp');\n\n      var escape = utils.escape; /**\n                                  * Save timer references to avoid Sinon interfering (see GH-237).\n                                  */ /* eslint-disable no-unused-vars, no-native-reassign */\n      var Date = global.Date;\n      var setTimeout = global.setTimeout;\n      var setInterval = global.setInterval;\n      var clearTimeout = global.clearTimeout;\n      var clearInterval = global.clearInterval; /* eslint-enable no-unused-vars, no-native-reassign */ /**\n                                                                                                        * Expose `HTML`.\n                                                                                                        */\n      exports = module.exports = HTML; /**\n                                        * Stats template.\n                                        */\n      var statsTemplate = '<ul id=\"mocha-stats\">' + '<li class=\"progress\"><canvas width=\"40\" height=\"40\"></canvas></li>' + '<li class=\"passes\"><a href=\"javascript:void(0);\">passes:</a> <em>0</em></li>' + '<li class=\"failures\"><a href=\"javascript:void(0);\">failures:</a> <em>0</em></li>' + '<li class=\"duration\">duration: <em>0</em>s</li>' + '</ul>'; /**\n                                                                                                                                                                                                                                                                                                                                                               * Initialize a new `HTML` reporter.\n                                                                                                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                                                                                                               * @api public\n                                                                                                                                                                                                                                                                                                                                                               * @param {Runner} runner\n                                                                                                                                                                                                                                                                                                                                                               */\n\n      function HTML(runner) {\n        Base.call(this, runner);\n        var self = this;\n        var stats = this.stats;\n        var stat = fragment(statsTemplate);\n        var items = stat.getElementsByTagName('li');\n        var passes = items[1].getElementsByTagName('em')[0];\n        var passesLink = items[1].getElementsByTagName('a')[0];\n        var failures = items[2].getElementsByTagName('em')[0];\n        var failuresLink = items[2].getElementsByTagName('a')[0];\n        var duration = items[3].getElementsByTagName('em')[0];\n        var canvas = stat.getElementsByTagName('canvas')[0];\n        var report = fragment('<ul id=\"mocha-report\"></ul>');\n        var stack = [report];\n        var progress;\n        var ctx;\n        var root = document.getElementById('mocha');\n\n        if (canvas.getContext) {\n          var ratio = window.devicePixelRatio || 1;\n          canvas.style.width = canvas.width;\n          canvas.style.height = canvas.height;\n          canvas.width *= ratio;\n          canvas.height *= ratio;\n          ctx = canvas.getContext('2d');\n          ctx.scale(ratio, ratio);\n          progress = new Progress();\n        }\n\n        if (!root) {\n          return error('#mocha div missing, add it to your document');\n        } // pass toggle\n\n\n        on(passesLink, 'click', function () {\n          unhide();\n          var name = /pass/.test(report.className) ? '' : ' pass';\n          report.className = report.className.replace(/fail|pass/g, '') + name;\n\n          if (report.className.trim()) {\n            hideSuitesWithout('test pass');\n          }\n        }); // failure toggle\n\n        on(failuresLink, 'click', function () {\n          unhide();\n          var name = /fail/.test(report.className) ? '' : ' fail';\n          report.className = report.className.replace(/fail|pass/g, '') + name;\n\n          if (report.className.trim()) {\n            hideSuitesWithout('test fail');\n          }\n        });\n        root.appendChild(stat);\n        root.appendChild(report);\n\n        if (progress) {\n          progress.size(40);\n        }\n\n        runner.on('suite', function (suite) {\n          if (suite.root) {\n            return;\n          } // suite\n\n\n          var url = self.suiteURL(suite);\n          var el = fragment('<li class=\"suite\"><h1><a href=\"%s\">%s</a></h1></li>', url, escape(suite.title)); // container\n\n          stack[0].appendChild(el);\n          stack.unshift(document.createElement('ul'));\n          el.appendChild(stack[0]);\n        });\n        runner.on('suite end', function (suite) {\n          if (suite.root) {\n            return;\n          }\n\n          stack.shift();\n        });\n        runner.on('fail', function (test) {\n          if (test.type === 'hook') {\n            runner.emit('test end', test);\n          }\n        });\n        runner.on('test end', function (test) {\n          // TODO: add to stats\n          var percent = stats.tests / this.total * 100 | 0;\n\n          if (progress) {\n            progress.update(percent).draw(ctx);\n          } // update stats\n\n\n          var ms = new Date() - stats.start;\n          text(passes, stats.passes);\n          text(failures, stats.failures);\n          text(duration, (ms / 1000).toFixed(2)); // test\n\n          var el;\n\n          if (test.state === 'passed') {\n            var url = self.testURL(test);\n            el = fragment('<li class=\"test pass %e\"><h2>%e<span class=\"duration\">%ems</span> <a href=\"%s\" class=\"replay\">‣</a></h2></li>', test.speed, test.title, test.duration, url);\n          } else if (test.pending) {\n            el = fragment('<li class=\"test pass pending\"><h2>%e</h2></li>', test.title);\n          } else {\n            el = fragment('<li class=\"test fail\"><h2>%e <a href=\"%e\" class=\"replay\">‣</a></h2></li>', test.title, self.testURL(test));\n            var stackString; // Note: Includes leading newline\n\n            var message = test.err.toString(); // <=IE7 stringifies to [Object Error]. Since it can be overloaded, we\n            // check for the result of the stringifying.\n\n            if (message === '[object Error]') {\n              message = test.err.message;\n            }\n\n            if (test.err.stack) {\n              var indexOfMessage = test.err.stack.indexOf(test.err.message);\n\n              if (indexOfMessage === -1) {\n                stackString = test.err.stack;\n              } else {\n                stackString = test.err.stack.substr(test.err.message.length + indexOfMessage);\n              }\n            } else if (test.err.sourceURL && test.err.line !== undefined) {\n              // Safari doesn't give you a stack. Let's at least provide a source line.\n              stackString = '\\n(' + test.err.sourceURL + ':' + test.err.line + ')';\n            }\n\n            stackString = stackString || '';\n\n            if (test.err.htmlMessage && stackString) {\n              el.appendChild(fragment('<div class=\"html-error\">%s\\n<pre class=\"error\">%e</pre></div>', test.err.htmlMessage, stackString));\n            } else if (test.err.htmlMessage) {\n              el.appendChild(fragment('<div class=\"html-error\">%s</div>', test.err.htmlMessage));\n            } else {\n              el.appendChild(fragment('<pre class=\"error\">%e%e</pre>', message, stackString));\n            }\n          } // toggle code\n          // TODO: defer\n\n\n          if (!test.pending) {\n            var h2 = el.getElementsByTagName('h2')[0];\n            on(h2, 'click', function () {\n              pre.style.display = pre.style.display === 'none' ? 'block' : 'none';\n            });\n            var pre = fragment('<pre><code>%e</code></pre>', utils.clean(test.fn.toString()));\n            el.appendChild(pre);\n            pre.style.display = 'none';\n          } // Don't call .appendChild if #mocha-report was already .shift()'ed off the stack.\n\n\n          if (stack[0]) {\n            stack[0].appendChild(el);\n          }\n        });\n      } /**\n         * Makes a URL, preserving querystring (\"search\") parameters.\n         *\n         * @param {string} s\n         * @return {string} A new URL.\n         */\n\n      function makeUrl(s) {\n        var search = window.location.search; // Remove previous grep query parameter if present\n\n        if (search) {\n          search = search.replace(/[?&]grep=[^&\\s]*/g, '').replace(/^&/, '?');\n        }\n\n        return window.location.pathname + (search ? search + '&' : '?') + 'grep=' + encodeURIComponent(escapeRe(s));\n      } /**\n         * Provide suite URL.\n         *\n         * @param {Object} [suite]\n         */\n\n      HTML.prototype.suiteURL = function (suite) {\n        return makeUrl(suite.fullTitle());\n      }; /**\n          * Provide test URL.\n          *\n          * @param {Object} [test]\n          */\n\n      HTML.prototype.testURL = function (test) {\n        return makeUrl(test.fullTitle());\n      }; /**\n          * Display error `msg`.\n          *\n          * @param {string} msg\n          */\n\n      function error(msg) {\n        document.body.appendChild(fragment('<div id=\"mocha-error\">%s</div>', msg));\n      } /**\n         * Return a DOM fragment from `html`.\n         *\n         * @param {string} html\n         */\n\n      function fragment(html) {\n        var args = arguments;\n        var div = document.createElement('div');\n        var i = 1;\n        div.innerHTML = html.replace(/%([se])/g, function (_, type) {\n          switch (type) {\n            case 's':\n              return String(args[i++]);\n\n            case 'e':\n              return escape(args[i++]);\n            // no default\n          }\n        });\n        return div.firstChild;\n      } /**\n         * Check for suites that do not have elements\n         * with `classname`, and hide them.\n         *\n         * @param {text} classname\n         */\n\n      function hideSuitesWithout(classname) {\n        var suites = document.getElementsByClassName('suite');\n\n        for (var i = 0; i < suites.length; i++) {\n          var els = suites[i].getElementsByClassName(classname);\n\n          if (!els.length) {\n            suites[i].className += ' hidden';\n          }\n        }\n      } /**\n         * Unhide .hidden suites.\n         */\n\n      function unhide() {\n        var els = document.getElementsByClassName('suite hidden');\n\n        for (var i = 0; i < els.length; ++i) {\n          els[i].className = els[i].className.replace('suite hidden', 'suite');\n        }\n      } /**\n         * Set an element's text contents.\n         *\n         * @param {HTMLElement} el\n         * @param {string} contents\n         */\n\n      function text(el, contents) {\n        if (el.textContent) {\n          el.textContent = contents;\n        } else {\n          el.innerText = contents;\n        }\n      } /**\n         * Listen on `event` with callback `fn`.\n         */\n\n      function on(el, event, fn) {\n        if (el.addEventListener) {\n          el.addEventListener(event, fn, false);\n        } else {\n          el.attachEvent('on' + event, fn);\n        }\n      }\n    }).call(this, typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n  }, {\n    \"../browser/progress\": 4,\n    \"../utils\": 39,\n    \"./base\": 17,\n    \"escape-string-regexp\": 68\n  }],\n  22: [function (require, module, exports) {\n    // Alias exports to a their normalized format Mocha#reporter to prevent a need\n    // for dynamic (try/catch) requires, which Browserify doesn't handle.\n    exports.Base = exports.base = require('./base');\n    exports.Dot = exports.dot = require('./dot');\n    exports.Doc = exports.doc = require('./doc');\n    exports.TAP = exports.tap = require('./tap');\n    exports.JSON = exports.json = require('./json');\n    exports.HTML = exports.html = require('./html');\n    exports.List = exports.list = require('./list');\n    exports.Min = exports.min = require('./min');\n    exports.Spec = exports.spec = require('./spec');\n    exports.Nyan = exports.nyan = require('./nyan');\n    exports.XUnit = exports.xunit = require('./xunit');\n    exports.Markdown = exports.markdown = require('./markdown');\n    exports.Progress = exports.progress = require('./progress');\n    exports.Landing = exports.landing = require('./landing');\n    exports.JSONCov = exports['json-cov'] = require('./json-cov');\n    exports.HTMLCov = exports['html-cov'] = require('./html-cov');\n    exports.JSONStream = exports['json-stream'] = require('./json-stream');\n  }, {\n    \"./base\": 17,\n    \"./doc\": 18,\n    \"./dot\": 19,\n    \"./html\": 21,\n    \"./html-cov\": 20,\n    \"./json\": 25,\n    \"./json-cov\": 23,\n    \"./json-stream\": 24,\n    \"./landing\": 26,\n    \"./list\": 27,\n    \"./markdown\": 28,\n    \"./min\": 29,\n    \"./nyan\": 30,\n    \"./progress\": 31,\n    \"./spec\": 32,\n    \"./tap\": 33,\n    \"./xunit\": 34\n  }],\n  23: [function (require, module, exports) {\n    (function (process, global) {\n      /**\n       * Module dependencies.\n       */var Base = require('./base'); /**\n                                        * Expose `JSONCov`.\n                                        */\n\n      exports = module.exports = JSONCov; /**\n                                           * Initialize a new `JsCoverage` reporter.\n                                           *\n                                           * @api public\n                                           * @param {Runner} runner\n                                           * @param {boolean} output\n                                           */\n\n      function JSONCov(runner, output) {\n        Base.call(this, runner);\n        output = arguments.length === 1 || output;\n        var self = this;\n        var tests = [];\n        var failures = [];\n        var passes = [];\n        runner.on('test end', function (test) {\n          tests.push(test);\n        });\n        runner.on('pass', function (test) {\n          passes.push(test);\n        });\n        runner.on('fail', function (test) {\n          failures.push(test);\n        });\n        runner.on('end', function () {\n          var cov = global._$jscoverage || {};\n          var result = self.cov = map(cov);\n          result.stats = self.stats;\n          result.tests = tests.map(clean);\n          result.failures = failures.map(clean);\n          result.passes = passes.map(clean);\n\n          if (!output) {\n            return;\n          }\n\n          process.stdout.write(JSON.stringify(result, null, 2));\n        });\n      } /**\n         * Map jscoverage data to a JSON structure\n         * suitable for reporting.\n         *\n         * @api private\n         * @param {Object} cov\n         * @return {Object}\n         */\n\n      function map(cov) {\n        var ret = {\n          instrumentation: 'node-jscoverage',\n          sloc: 0,\n          hits: 0,\n          misses: 0,\n          coverage: 0,\n          files: []\n        };\n\n        for (var filename in meteorBabelHelpers.sanitizeForInObject(cov)) {\n          if (Object.prototype.hasOwnProperty.call(cov, filename)) {\n            var data = coverage(filename, cov[filename]);\n            ret.files.push(data);\n            ret.hits += data.hits;\n            ret.misses += data.misses;\n            ret.sloc += data.sloc;\n          }\n        }\n\n        ret.files.sort(function (a, b) {\n          return a.filename.localeCompare(b.filename);\n        });\n\n        if (ret.sloc > 0) {\n          ret.coverage = ret.hits / ret.sloc * 100;\n        }\n\n        return ret;\n      } /**\n         * Map jscoverage data for a single source file\n         * to a JSON structure suitable for reporting.\n         *\n         * @api private\n         * @param {string} filename name of the source file\n         * @param {Object} data jscoverage coverage data\n         * @return {Object}\n         */\n\n      function coverage(filename, data) {\n        var ret = {\n          filename: filename,\n          coverage: 0,\n          hits: 0,\n          misses: 0,\n          sloc: 0,\n          source: {}\n        };\n        data.source.forEach(function (line, num) {\n          num++;\n\n          if (data[num] === 0) {\n            ret.misses++;\n            ret.sloc++;\n          } else if (data[num] !== undefined) {\n            ret.hits++;\n            ret.sloc++;\n          }\n\n          ret.source[num] = {\n            source: line,\n            coverage: data[num] === undefined ? '' : data[num]\n          };\n        });\n        ret.coverage = ret.hits / ret.sloc * 100;\n        return ret;\n      } /**\n         * Return a plain-object representation of `test`\n         * free of cyclic properties etc.\n         *\n         * @api private\n         * @param {Object} test\n         * @return {Object}\n         */\n\n      function clean(test) {\n        return {\n          duration: test.duration,\n          fullTitle: test.fullTitle(),\n          title: test.title\n        };\n      }\n    }).call(this, require('_process'), typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n  }, {\n    \"./base\": 17,\n    \"_process\": 51\n  }],\n  24: [function (require, module, exports) {\n    (function (process) {\n      /**\n       * Module dependencies.\n       */var Base = require('./base'); /**\n                                        * Expose `List`.\n                                        */\n\n      exports = module.exports = List; /**\n                                        * Initialize a new `List` test reporter.\n                                        *\n                                        * @api public\n                                        * @param {Runner} runner\n                                        */\n\n      function List(runner) {\n        Base.call(this, runner);\n        var self = this;\n        var total = runner.total;\n        runner.on('start', function () {\n          console.log(JSON.stringify(['start', {\n            total: total\n          }]));\n        });\n        runner.on('pass', function (test) {\n          console.log(JSON.stringify(['pass', clean(test)]));\n        });\n        runner.on('fail', function (test, err) {\n          test = clean(test);\n          test.err = err.message;\n          test.stack = err.stack || null;\n          console.log(JSON.stringify(['fail', test]));\n        });\n        runner.on('end', function () {\n          process.stdout.write(JSON.stringify(['end', self.stats]));\n        });\n      } /**\n         * Return a plain-object representation of `test`\n         * free of cyclic properties etc.\n         *\n         * @api private\n         * @param {Object} test\n         * @return {Object}\n         */\n\n      function clean(test) {\n        return {\n          title: test.title,\n          fullTitle: test.fullTitle(),\n          duration: test.duration\n        };\n      }\n    }).call(this, require('_process'));\n  }, {\n    \"./base\": 17,\n    \"_process\": 51\n  }],\n  25: [function (require, module, exports) {\n    (function (process) {\n      /**\n       * Module dependencies.\n       */var Base = require('./base'); /**\n                                        * Expose `JSON`.\n                                        */\n\n      exports = module.exports = JSONReporter; /**\n                                                * Initialize a new `JSON` reporter.\n                                                *\n                                                * @api public\n                                                * @param {Runner} runner\n                                                */\n\n      function JSONReporter(runner) {\n        Base.call(this, runner);\n        var self = this;\n        var tests = [];\n        var pending = [];\n        var failures = [];\n        var passes = [];\n        runner.on('test end', function (test) {\n          tests.push(test);\n        });\n        runner.on('pass', function (test) {\n          passes.push(test);\n        });\n        runner.on('fail', function (test) {\n          failures.push(test);\n        });\n        runner.on('pending', function (test) {\n          pending.push(test);\n        });\n        runner.on('end', function () {\n          var obj = {\n            stats: self.stats,\n            tests: tests.map(clean),\n            pending: pending.map(clean),\n            failures: failures.map(clean),\n            passes: passes.map(clean)\n          };\n          runner.testResults = obj;\n          process.stdout.write(JSON.stringify(obj, null, 2));\n        });\n      } /**\n         * Return a plain-object representation of `test`\n         * free of cyclic properties etc.\n         *\n         * @api private\n         * @param {Object} test\n         * @return {Object}\n         */\n\n      function clean(test) {\n        return {\n          title: test.title,\n          fullTitle: test.fullTitle(),\n          duration: test.duration,\n          err: errorJSON(test.err || {})\n        };\n      } /**\n         * Transform `error` into a JSON object.\n         *\n         * @api private\n         * @param {Error} err\n         * @return {Object}\n         */\n\n      function errorJSON(err) {\n        var res = {};\n        Object.getOwnPropertyNames(err).forEach(function (key) {\n          res[key] = err[key];\n        }, err);\n        return res;\n      }\n    }).call(this, require('_process'));\n  }, {\n    \"./base\": 17,\n    \"_process\": 51\n  }],\n  26: [function (require, module, exports) {\n    (function (process) {\n      /**\n       * Module dependencies.\n       */var Base = require('./base');\n\n      var inherits = require('../utils').inherits;\n\n      var cursor = Base.cursor;\n      var color = Base.color; /**\n                               * Expose `Landing`.\n                               */\n      exports = module.exports = Landing; /**\n                                           * Airplane color.\n                                           */\n      Base.colors.plane = 0; /**\n                              * Airplane crash color.\n                              */\n      Base.colors['plane crash'] = 31; /**\n                                        * Runway color.\n                                        */\n      Base.colors.runway = 90; /**\n                                * Initialize a new `Landing` reporter.\n                                *\n                                * @api public\n                                * @param {Runner} runner\n                                */\n\n      function Landing(runner) {\n        Base.call(this, runner);\n        var self = this;\n        var width = Base.window.width * .75 | 0;\n        var total = runner.total;\n        var stream = process.stdout;\n        var plane = color('plane', '✈');\n        var crashed = -1;\n        var n = 0;\n\n        function runway() {\n          var buf = Array(width).join('-');\n          return '  ' + color('runway', buf);\n        }\n\n        runner.on('start', function () {\n          stream.write('\\n\\n\\n  ');\n          cursor.hide();\n        });\n        runner.on('test end', function (test) {\n          // check if the plane crashed\n          var col = crashed === -1 ? width * ++n / total | 0 : crashed; // show the crash\n\n          if (test.state === 'failed') {\n            plane = color('plane crash', '✈');\n            crashed = col;\n          } // render landing strip\n\n\n          stream.write(\"\\x1B[\" + (width + 1) + \"D\\x1B[2A\");\n          stream.write(runway());\n          stream.write('\\n  ');\n          stream.write(color('runway', Array(col).join('⋅')));\n          stream.write(plane);\n          stream.write(color('runway', Array(width - col).join('⋅') + '\\n'));\n          stream.write(runway());\n          stream.write(\"\\x1B[0m\");\n        });\n        runner.on('end', function () {\n          cursor.show();\n          console.log();\n          self.epilogue();\n        });\n      } /**\n         * Inherit from `Base.prototype`.\n         */\n\n      inherits(Landing, Base);\n    }).call(this, require('_process'));\n  }, {\n    \"../utils\": 39,\n    \"./base\": 17,\n    \"_process\": 51\n  }],\n  27: [function (require, module, exports) {\n    (function (process) {\n      /**\n       * Module dependencies.\n       */var Base = require('./base');\n\n      var inherits = require('../utils').inherits;\n\n      var color = Base.color;\n      var cursor = Base.cursor; /**\n                                 * Expose `List`.\n                                 */\n      exports = module.exports = List; /**\n                                        * Initialize a new `List` test reporter.\n                                        *\n                                        * @api public\n                                        * @param {Runner} runner\n                                        */\n\n      function List(runner) {\n        Base.call(this, runner);\n        var self = this;\n        var n = 0;\n        runner.on('start', function () {\n          console.log();\n        });\n        runner.on('test', function (test) {\n          process.stdout.write(color('pass', '    ' + test.fullTitle() + ': '));\n        });\n        runner.on('pending', function (test) {\n          var fmt = color('checkmark', '  -') + color('pending', ' %s');\n          console.log(fmt, test.fullTitle());\n        });\n        runner.on('pass', function (test) {\n          var fmt = color('checkmark', '  ' + Base.symbols.dot) + color('pass', ' %s: ') + color(test.speed, '%dms');\n          cursor.CR();\n          console.log(fmt, test.fullTitle(), test.duration);\n        });\n        runner.on('fail', function (test) {\n          cursor.CR();\n          console.log(color('fail', '  %d) %s'), ++n, test.fullTitle());\n        });\n        runner.on('end', self.epilogue.bind(self));\n      } /**\n         * Inherit from `Base.prototype`.\n         */\n\n      inherits(List, Base);\n    }).call(this, require('_process'));\n  }, {\n    \"../utils\": 39,\n    \"./base\": 17,\n    \"_process\": 51\n  }],\n  28: [function (require, module, exports) {\n    (function (process) {\n      /**\n       * Module dependencies.\n       */var Base = require('./base');\n\n      var utils = require('../utils'); /**\n                                        * Constants\n                                        */\n\n      var SUITE_PREFIX = '$'; /**\n                               * Expose `Markdown`.\n                               */\n      exports = module.exports = Markdown; /**\n                                            * Initialize a new `Markdown` reporter.\n                                            *\n                                            * @api public\n                                            * @param {Runner} runner\n                                            */\n\n      function Markdown(runner) {\n        Base.call(this, runner);\n        var level = 0;\n        var buf = '';\n\n        function title(str) {\n          return Array(level).join('#') + ' ' + str;\n        }\n\n        function mapTOC(suite, obj) {\n          var ret = obj;\n          var key = SUITE_PREFIX + suite.title;\n          obj = obj[key] = obj[key] || {\n            suite: suite\n          };\n          suite.suites.forEach(function (suite) {\n            mapTOC(suite, obj);\n          });\n          return ret;\n        }\n\n        function stringifyTOC(obj, level) {\n          ++level;\n          var buf = '';\n          var link;\n\n          for (var key in meteorBabelHelpers.sanitizeForInObject(obj)) {\n            if (key === 'suite') {\n              continue;\n            }\n\n            if (key !== SUITE_PREFIX) {\n              link = ' - [' + key.substring(1) + ']';\n              link += '(#' + utils.slug(obj[key].suite.fullTitle()) + ')\\n';\n              buf += Array(level).join('  ') + link;\n            }\n\n            buf += stringifyTOC(obj[key], level);\n          }\n\n          return buf;\n        }\n\n        function generateTOC(suite) {\n          var obj = mapTOC(suite, {});\n          return stringifyTOC(obj, 0);\n        }\n\n        generateTOC(runner.suite);\n        runner.on('suite', function (suite) {\n          ++level;\n          var slug = utils.slug(suite.fullTitle());\n          buf += '<a name=\"' + slug + '\"></a>' + '\\n';\n          buf += title(suite.title) + '\\n';\n        });\n        runner.on('suite end', function () {\n          --level;\n        });\n        runner.on('pass', function (test) {\n          var code = utils.clean(test.fn.toString());\n          buf += test.title + '.\\n';\n          buf += '\\n```js\\n';\n          buf += code + '\\n';\n          buf += '```\\n\\n';\n        });\n        runner.on('end', function () {\n          process.stdout.write('# TOC\\n');\n          process.stdout.write(generateTOC(runner.suite));\n          process.stdout.write(buf);\n        });\n      }\n    }).call(this, require('_process'));\n  }, {\n    \"../utils\": 39,\n    \"./base\": 17,\n    \"_process\": 51\n  }],\n  29: [function (require, module, exports) {\n    (function (process) {\n      /**\n       * Module dependencies.\n       */var Base = require('./base');\n\n      var inherits = require('../utils').inherits; /**\n                                                    * Expose `Min`.\n                                                    */\n\n      exports = module.exports = Min; /**\n                                       * Initialize a new `Min` minimal test reporter (best used with --watch).\n                                       *\n                                       * @api public\n                                       * @param {Runner} runner\n                                       */\n\n      function Min(runner) {\n        Base.call(this, runner);\n        runner.on('start', function () {\n          // clear screen\n          process.stdout.write(\"\\x1B[2J\"); // set cursor position\n\n          process.stdout.write(\"\\x1B[1;3H\");\n        });\n        runner.on('end', this.epilogue.bind(this));\n      } /**\n         * Inherit from `Base.prototype`.\n         */\n\n      inherits(Min, Base);\n    }).call(this, require('_process'));\n  }, {\n    \"../utils\": 39,\n    \"./base\": 17,\n    \"_process\": 51\n  }],\n  30: [function (require, module, exports) {\n    (function (process) {\n      /**\n       * Module dependencies.\n       */var Base = require('./base');\n\n      var inherits = require('../utils').inherits; /**\n                                                    * Expose `Dot`.\n                                                    */\n\n      exports = module.exports = NyanCat; /**\n                                           * Initialize a new `Dot` matrix test reporter.\n                                           *\n                                           * @param {Runner} runner\n                                           * @api public\n                                           */\n\n      function NyanCat(runner) {\n        Base.call(this, runner);\n        var self = this;\n        var width = Base.window.width * .75 | 0;\n        var nyanCatWidth = this.nyanCatWidth = 11;\n        this.colorIndex = 0;\n        this.numberOfLines = 4;\n        this.rainbowColors = self.generateColors();\n        this.scoreboardWidth = 5;\n        this.tick = 0;\n        this.trajectories = [[], [], [], []];\n        this.trajectoryWidthMax = width - nyanCatWidth;\n        runner.on('start', function () {\n          Base.cursor.hide();\n          self.draw();\n        });\n        runner.on('pending', function () {\n          self.draw();\n        });\n        runner.on('pass', function () {\n          self.draw();\n        });\n        runner.on('fail', function () {\n          self.draw();\n        });\n        runner.on('end', function () {\n          Base.cursor.show();\n\n          for (var i = 0; i < self.numberOfLines; i++) {\n            write('\\n');\n          }\n\n          self.epilogue();\n        });\n      } /**\n         * Inherit from `Base.prototype`.\n         */\n\n      inherits(NyanCat, Base); /**\n                                * Draw the nyan cat\n                                *\n                                * @api private\n                                */\n\n      NyanCat.prototype.draw = function () {\n        this.appendRainbow();\n        this.drawScoreboard();\n        this.drawRainbow();\n        this.drawNyanCat();\n        this.tick = !this.tick;\n      }; /**\n          * Draw the \"scoreboard\" showing the number\n          * of passes, failures and pending tests.\n          *\n          * @api private\n          */\n\n      NyanCat.prototype.drawScoreboard = function () {\n        var stats = this.stats;\n\n        function draw(type, n) {\n          write(' ');\n          write(Base.color(type, n));\n          write('\\n');\n        }\n\n        draw('green', stats.passes);\n        draw('fail', stats.failures);\n        draw('pending', stats.pending);\n        write('\\n');\n        this.cursorUp(this.numberOfLines);\n      }; /**\n          * Append the rainbow.\n          *\n          * @api private\n          */\n\n      NyanCat.prototype.appendRainbow = function () {\n        var segment = this.tick ? '_' : '-';\n        var rainbowified = this.rainbowify(segment);\n\n        for (var index = 0; index < this.numberOfLines; index++) {\n          var trajectory = this.trajectories[index];\n\n          if (trajectory.length >= this.trajectoryWidthMax) {\n            trajectory.shift();\n          }\n\n          trajectory.push(rainbowified);\n        }\n      }; /**\n          * Draw the rainbow.\n          *\n          * @api private\n          */\n\n      NyanCat.prototype.drawRainbow = function () {\n        var self = this;\n        this.trajectories.forEach(function (line) {\n          write(\"\\x1B[\" + self.scoreboardWidth + 'C');\n          write(line.join(''));\n          write('\\n');\n        });\n        this.cursorUp(this.numberOfLines);\n      }; /**\n          * Draw the nyan cat\n          *\n          * @api private\n          */\n\n      NyanCat.prototype.drawNyanCat = function () {\n        var self = this;\n        var startWidth = this.scoreboardWidth + this.trajectories[0].length;\n        var dist = \"\\x1B[\" + startWidth + 'C';\n        var padding = '';\n        write(dist);\n        write('_,------,');\n        write('\\n');\n        write(dist);\n        padding = self.tick ? '  ' : '   ';\n        write('_|' + padding + '/\\\\_/\\\\ ');\n        write('\\n');\n        write(dist);\n        padding = self.tick ? '_' : '__';\n        var tail = self.tick ? '~' : '^';\n        write(tail + '|' + padding + this.face() + ' ');\n        write('\\n');\n        write(dist);\n        padding = self.tick ? ' ' : '  ';\n        write(padding + '\"\"  \"\" ');\n        write('\\n');\n        this.cursorUp(this.numberOfLines);\n      }; /**\n          * Draw nyan cat face.\n          *\n          * @api private\n          * @return {string}\n          */\n\n      NyanCat.prototype.face = function () {\n        var stats = this.stats;\n\n        if (stats.failures) {\n          return '( x .x)';\n        } else if (stats.pending) {\n          return '( o .o)';\n        } else if (stats.passes) {\n          return '( ^ .^)';\n        }\n\n        return '( - .-)';\n      }; /**\n          * Move cursor up `n`.\n          *\n          * @api private\n          * @param {number} n\n          */\n\n      NyanCat.prototype.cursorUp = function (n) {\n        write(\"\\x1B[\" + n + 'A');\n      }; /**\n          * Move cursor down `n`.\n          *\n          * @api private\n          * @param {number} n\n          */\n\n      NyanCat.prototype.cursorDown = function (n) {\n        write(\"\\x1B[\" + n + 'B');\n      }; /**\n          * Generate rainbow colors.\n          *\n          * @api private\n          * @return {Array}\n          */\n\n      NyanCat.prototype.generateColors = function () {\n        var colors = [];\n\n        for (var i = 0; i < 6 * 7; i++) {\n          var pi3 = Math.floor(Math.PI / 3);\n          var n = i * (1.0 / 6);\n          var r = Math.floor(3 * Math.sin(n) + 3);\n          var g = Math.floor(3 * Math.sin(n + 2 * pi3) + 3);\n          var b = Math.floor(3 * Math.sin(n + 4 * pi3) + 3);\n          colors.push(36 * r + 6 * g + b + 16);\n        }\n\n        return colors;\n      }; /**\n          * Apply rainbow to the given `str`.\n          *\n          * @api private\n          * @param {string} str\n          * @return {string}\n          */\n\n      NyanCat.prototype.rainbowify = function (str) {\n        if (!Base.useColors) {\n          return str;\n        }\n\n        var color = this.rainbowColors[this.colorIndex % this.rainbowColors.length];\n        this.colorIndex += 1;\n        return \"\\x1B[38;5;\" + color + 'm' + str + \"\\x1B[0m\";\n      }; /**\n          * Stdout helper.\n          *\n          * @param {string} string A message to write to stdout.\n          */\n\n      function write(string) {\n        process.stdout.write(string);\n      }\n    }).call(this, require('_process'));\n  }, {\n    \"../utils\": 39,\n    \"./base\": 17,\n    \"_process\": 51\n  }],\n  31: [function (require, module, exports) {\n    (function (process) {\n      /**\n       * Module dependencies.\n       */var Base = require('./base');\n\n      var inherits = require('../utils').inherits;\n\n      var color = Base.color;\n      var cursor = Base.cursor; /**\n                                 * Expose `Progress`.\n                                 */\n      exports = module.exports = Progress; /**\n                                            * General progress bar color.\n                                            */\n      Base.colors.progress = 90; /**\n                                  * Initialize a new `Progress` bar test reporter.\n                                  *\n                                  * @api public\n                                  * @param {Runner} runner\n                                  * @param {Object} options\n                                  */\n\n      function Progress(runner, options) {\n        Base.call(this, runner);\n        var self = this;\n        var width = Base.window.width * .50 | 0;\n        var total = runner.total;\n        var complete = 0;\n        var lastN = -1; // default chars\n\n        options = options || {};\n        options.open = options.open || '[';\n        options.complete = options.complete || '▬';\n        options.incomplete = options.incomplete || Base.symbols.dot;\n        options.close = options.close || ']';\n        options.verbose = false; // tests started\n\n        runner.on('start', function () {\n          console.log();\n          cursor.hide();\n        }); // tests complete\n\n        runner.on('test end', function () {\n          complete++;\n          var percent = complete / total;\n          var n = width * percent | 0;\n          var i = width - n;\n\n          if (n === lastN && !options.verbose) {\n            // Don't re-render the line if it hasn't changed\n            return;\n          }\n\n          lastN = n;\n          cursor.CR();\n          process.stdout.write(\"\\x1B[J\");\n          process.stdout.write(color('progress', '  ' + options.open));\n          process.stdout.write(Array(n).join(options.complete));\n          process.stdout.write(Array(i).join(options.incomplete));\n          process.stdout.write(color('progress', options.close));\n\n          if (options.verbose) {\n            process.stdout.write(color('progress', ' ' + complete + ' of ' + total));\n          }\n        }); // tests are complete, output some stats\n        // and the failures if any\n\n        runner.on('end', function () {\n          cursor.show();\n          console.log();\n          self.epilogue();\n        });\n      } /**\n         * Inherit from `Base.prototype`.\n         */\n\n      inherits(Progress, Base);\n    }).call(this, require('_process'));\n  }, {\n    \"../utils\": 39,\n    \"./base\": 17,\n    \"_process\": 51\n  }],\n  32: [function (require, module, exports) {\n    /**\n     * Module dependencies.\n     */var Base = require('./base');\n\n    var inherits = require('../utils').inherits;\n\n    var color = Base.color;\n    var cursor = Base.cursor; /**\n                               * Expose `Spec`.\n                               */\n    exports = module.exports = Spec; /**\n                                      * Initialize a new `Spec` test reporter.\n                                      *\n                                      * @api public\n                                      * @param {Runner} runner\n                                      */\n\n    function Spec(runner) {\n      Base.call(this, runner);\n      var self = this;\n      var indents = 0;\n      var n = 0;\n\n      function indent() {\n        return Array(indents).join('  ');\n      }\n\n      runner.on('start', function () {\n        console.log();\n      });\n      runner.on('suite', function (suite) {\n        ++indents;\n        console.log(color('suite', '%s%s'), indent(), suite.title);\n      });\n      runner.on('suite end', function () {\n        --indents;\n\n        if (indents === 1) {\n          console.log();\n        }\n      });\n      runner.on('pending', function (test) {\n        var fmt = indent() + color('pending', '  - %s');\n        console.log(fmt, test.title);\n      });\n      runner.on('pass', function (test) {\n        var fmt;\n\n        if (test.speed === 'fast') {\n          fmt = indent() + color('checkmark', '  ' + Base.symbols.ok) + color('pass', ' %s');\n          cursor.CR();\n          console.log(fmt, test.title);\n        } else {\n          fmt = indent() + color('checkmark', '  ' + Base.symbols.ok) + color('pass', ' %s') + color(test.speed, ' (%dms)');\n          cursor.CR();\n          console.log(fmt, test.title, test.duration);\n        }\n      });\n      runner.on('fail', function (test) {\n        cursor.CR();\n        console.log(indent() + color('fail', '  %d) %s'), ++n, test.title);\n      });\n      runner.on('end', self.epilogue.bind(self));\n    } /**\n       * Inherit from `Base.prototype`.\n       */\n\n    inherits(Spec, Base);\n  }, {\n    \"../utils\": 39,\n    \"./base\": 17\n  }],\n  33: [function (require, module, exports) {\n    /**\n     * Module dependencies.\n     */var Base = require('./base'); /**\n                                      * Expose `TAP`.\n                                      */\n\n    exports = module.exports = TAP; /**\n                                     * Initialize a new `TAP` reporter.\n                                     *\n                                     * @api public\n                                     * @param {Runner} runner\n                                     */\n\n    function TAP(runner) {\n      Base.call(this, runner);\n      var n = 1;\n      var passes = 0;\n      var failures = 0;\n      runner.on('start', function () {\n        var total = runner.grepTotal(runner.suite);\n        console.log('%d..%d', 1, total);\n      });\n      runner.on('test end', function () {\n        ++n;\n      });\n      runner.on('pending', function (test) {\n        console.log('ok %d %s # SKIP -', n, title(test));\n      });\n      runner.on('pass', function (test) {\n        passes++;\n        console.log('ok %d %s', n, title(test));\n      });\n      runner.on('fail', function (test, err) {\n        failures++;\n        console.log('not ok %d %s', n, title(test));\n\n        if (err.stack) {\n          console.log(err.stack.replace(/^/gm, '  '));\n        }\n      });\n      runner.on('end', function () {\n        console.log('# tests ' + (passes + failures));\n        console.log('# pass ' + passes);\n        console.log('# fail ' + failures);\n      });\n    } /**\n       * Return a TAP-safe title of `test`\n       *\n       * @api private\n       * @param {Object} test\n       * @return {String}\n       */\n\n    function title(test) {\n      return test.fullTitle().replace(/#/g, '');\n    }\n  }, {\n    \"./base\": 17\n  }],\n  34: [function (require, module, exports) {\n    (function (global) {\n      /**\n       * Module dependencies.\n       */var Base = require('./base');\n\n      var utils = require('../utils');\n\n      var inherits = utils.inherits;\n\n      var fs = require('fs');\n\n      var escape = utils.escape; /**\n                                  * Save timer references to avoid Sinon interfering (see GH-237).\n                                  */ /* eslint-disable no-unused-vars, no-native-reassign */\n      var Date = global.Date;\n      var setTimeout = global.setTimeout;\n      var setInterval = global.setInterval;\n      var clearTimeout = global.clearTimeout;\n      var clearInterval = global.clearInterval; /* eslint-enable no-unused-vars, no-native-reassign */ /**\n                                                                                                        * Expose `XUnit`.\n                                                                                                        */\n      exports = module.exports = XUnit; /**\n                                         * Initialize a new `XUnit` reporter.\n                                         *\n                                         * @api public\n                                         * @param {Runner} runner\n                                         */\n\n      function XUnit(runner, options) {\n        Base.call(this, runner);\n        var stats = this.stats;\n        var tests = [];\n        var self = this;\n\n        if (options.reporterOptions && options.reporterOptions.output) {\n          if (!fs.createWriteStream) {\n            throw new Error('file output not supported in browser');\n          }\n\n          self.fileStream = fs.createWriteStream(options.reporterOptions.output);\n        }\n\n        runner.on('pending', function (test) {\n          tests.push(test);\n        });\n        runner.on('pass', function (test) {\n          tests.push(test);\n        });\n        runner.on('fail', function (test) {\n          tests.push(test);\n        });\n        runner.on('end', function () {\n          self.write(tag('testsuite', {\n            name: 'Mocha Tests',\n            tests: stats.tests,\n            failures: stats.failures,\n            errors: stats.failures,\n            skipped: stats.tests - stats.failures - stats.passes,\n            timestamp: new Date().toUTCString(),\n            time: stats.duration / 1000 || 0\n          }, false));\n          tests.forEach(function (t) {\n            self.test(t);\n          });\n          self.write('</testsuite>');\n        });\n      } /**\n         * Inherit from `Base.prototype`.\n         */\n\n      inherits(XUnit, Base); /**\n                              * Override done to close the stream (if it's a file).\n                              *\n                              * @param failures\n                              * @param {Function} fn\n                              */\n\n      XUnit.prototype.done = function (failures, fn) {\n        if (this.fileStream) {\n          this.fileStream.end(function () {\n            fn(failures);\n          });\n        } else {\n          fn(failures);\n        }\n      }; /**\n          * Write out the given line.\n          *\n          * @param {string} line\n          */\n\n      XUnit.prototype.write = function (line) {\n        if (this.fileStream) {\n          this.fileStream.write(line + '\\n');\n        } else {\n          console.log(line);\n        }\n      }; /**\n          * Output tag for the given `test.`\n          *\n          * @param {Test} test\n          */\n\n      XUnit.prototype.test = function (test) {\n        var attrs = {\n          classname: test.parent.fullTitle(),\n          name: test.title,\n          time: test.duration / 1000 || 0\n        };\n\n        if (test.state === 'failed') {\n          var err = test.err;\n          this.write(tag('testcase', attrs, false, tag('failure', {}, false, cdata(escape(err.message) + '\\n' + err.stack))));\n        } else if (test.pending) {\n          this.write(tag('testcase', attrs, false, tag('skipped', {}, true)));\n        } else {\n          this.write(tag('testcase', attrs, true));\n        }\n      }; /**\n          * HTML tag helper.\n          *\n          * @param name\n          * @param attrs\n          * @param close\n          * @param content\n          * @return {string}\n          */\n\n      function tag(name, attrs, close, content) {\n        var end = close ? '/>' : '>';\n        var pairs = [];\n        var tag;\n\n        for (var key in meteorBabelHelpers.sanitizeForInObject(attrs)) {\n          if (Object.prototype.hasOwnProperty.call(attrs, key)) {\n            pairs.push(key + '=\"' + escape(attrs[key]) + '\"');\n          }\n        }\n\n        tag = '<' + name + (pairs.length ? ' ' + pairs.join(' ') : '') + end;\n\n        if (content) {\n          tag += content + '</' + name + end;\n        }\n\n        return tag;\n      } /**\n         * Return cdata escaped CDATA `str`.\n         */\n\n      function cdata(str) {\n        return '<![CDATA[' + escape(str) + ']]>';\n      }\n    }).call(this, typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n  }, {\n    \"../utils\": 39,\n    \"./base\": 17,\n    \"fs\": 41\n  }],\n  35: [function (require, module, exports) {\n    (function (global) {\n      /**\n       * Module dependencies.\n       */var EventEmitter = require('events').EventEmitter;\n\n      var Pending = require('./pending');\n\n      var debug = require('debug')('mocha:runnable');\n\n      var milliseconds = require('./ms');\n\n      var utils = require('./utils');\n\n      var inherits = utils.inherits; /**\n                                      * Save timer references to avoid Sinon interfering (see GH-237).\n                                      */ /* eslint-disable no-unused-vars, no-native-reassign */\n      var Date = global.Date;\n      var setTimeout = global.setTimeout;\n      var setInterval = global.setInterval;\n      var clearTimeout = global.clearTimeout;\n      var clearInterval = global.clearInterval; /* eslint-enable no-unused-vars, no-native-reassign */ /**\n                                                                                                        * Object#toString().\n                                                                                                        */\n      var toString = Object.prototype.toString; /**\n                                                 * Expose `Runnable`.\n                                                 */\n      module.exports = Runnable; /**\n                                  * Initialize a new `Runnable` with the given `title` and callback `fn`.\n                                  *\n                                  * @param {String} title\n                                  * @param {Function} fn\n                                  * @api private\n                                  * @param {string} title\n                                  * @param {Function} fn\n                                  */\n\n      function Runnable(title, fn) {\n        this.title = title;\n        this.fn = fn;\n        this.async = fn && fn.length;\n        this.sync = !this.async;\n        this._timeout = 2000;\n        this._slow = 75;\n        this._enableTimeouts = true;\n        this.timedOut = false;\n        this._trace = new Error('done() called multiple times');\n      } /**\n         * Inherit from `EventEmitter.prototype`.\n         */\n\n      inherits(Runnable, EventEmitter); /**\n                                         * Set & get timeout `ms`.\n                                         *\n                                         * @api private\n                                         * @param {number|string} ms\n                                         * @return {Runnable|number} ms or Runnable instance.\n                                         */\n\n      Runnable.prototype.timeout = function (ms) {\n        if (!arguments.length) {\n          return this._timeout;\n        }\n\n        if (ms === 0) {\n          this._enableTimeouts = false;\n        }\n\n        if (typeof ms === 'string') {\n          ms = milliseconds(ms);\n        }\n\n        debug('timeout %d', ms);\n        this._timeout = ms;\n\n        if (this.timer) {\n          this.resetTimeout();\n        }\n\n        return this;\n      }; /**\n          * Set & get slow `ms`.\n          *\n          * @api private\n          * @param {number|string} ms\n          * @return {Runnable|number} ms or Runnable instance.\n          */\n\n      Runnable.prototype.slow = function (ms) {\n        if (!arguments.length) {\n          return this._slow;\n        }\n\n        if (typeof ms === 'string') {\n          ms = milliseconds(ms);\n        }\n\n        debug('timeout %d', ms);\n        this._slow = ms;\n        return this;\n      }; /**\n          * Set and get whether timeout is `enabled`.\n          *\n          * @api private\n          * @param {boolean} enabled\n          * @return {Runnable|boolean} enabled or Runnable instance.\n          */\n\n      Runnable.prototype.enableTimeouts = function (enabled) {\n        if (!arguments.length) {\n          return this._enableTimeouts;\n        }\n\n        debug('enableTimeouts %s', enabled);\n        this._enableTimeouts = enabled;\n        return this;\n      }; /**\n          * Halt and mark as pending.\n          *\n          * @api private\n          */\n\n      Runnable.prototype.skip = function () {\n        throw new Pending();\n      }; /**\n          * Return the full title generated by recursively concatenating the parent's\n          * full title.\n          *\n          * @api public\n          * @return {string}\n          */\n\n      Runnable.prototype.fullTitle = function () {\n        return this.parent.fullTitle() + ' ' + this.title;\n      }; /**\n          * Clear the timeout.\n          *\n          * @api private\n          */\n\n      Runnable.prototype.clearTimeout = function () {\n        clearTimeout(this.timer);\n      }; /**\n          * Inspect the runnable void of private properties.\n          *\n          * @api private\n          * @return {string}\n          */\n\n      Runnable.prototype.inspect = function () {\n        return JSON.stringify(this, function (key, val) {\n          if (key[0] === '_') {\n            return;\n          }\n\n          if (key === 'parent') {\n            return '#<Suite>';\n          }\n\n          if (key === 'ctx') {\n            return '#<Context>';\n          }\n\n          return val;\n        }, 2);\n      }; /**\n          * Reset the timeout.\n          *\n          * @api private\n          */\n\n      Runnable.prototype.resetTimeout = function () {\n        var self = this;\n        var ms = this.timeout() || 1e9;\n\n        if (!this._enableTimeouts) {\n          return;\n        }\n\n        this.clearTimeout();\n        this.timer = setTimeout(function () {\n          if (!self._enableTimeouts) {\n            return;\n          }\n\n          self.callback(new Error('timeout of ' + ms + 'ms exceeded. Ensure the done() callback is being called in this test.'));\n          self.timedOut = true;\n        }, ms);\n      }; /**\n          * Whitelist a list of globals for this test run.\n          *\n          * @api private\n          * @param {string[]} globals\n          */\n\n      Runnable.prototype.globals = function (globals) {\n        this._allowedGlobals = globals;\n      }; /**\n          * Run the test and invoke `fn(err)`.\n          *\n          * @param {Function} fn\n          * @api private\n          */\n\n      Runnable.prototype.run = function (fn) {\n        var self = this;\n        var start = new Date();\n        var ctx = this.ctx;\n        var finished;\n        var emitted; // Sometimes the ctx exists, but it is not runnable\n\n        if (ctx && ctx.runnable) {\n          ctx.runnable(this);\n        } // called multiple times\n\n\n        function multiple(err) {\n          if (emitted) {\n            return;\n          }\n\n          emitted = true;\n          self.emit('error', err || new Error('done() called multiple times; stacktrace may be inaccurate'));\n        } // finished\n\n\n        function done(err) {\n          var ms = self.timeout();\n\n          if (self.timedOut) {\n            return;\n          }\n\n          if (finished) {\n            return multiple(err || self._trace);\n          }\n\n          self.clearTimeout();\n          self.duration = new Date() - start;\n          finished = true;\n\n          if (!err && self.duration > ms && self._enableTimeouts) {\n            err = new Error('timeout of ' + ms + 'ms exceeded. Ensure the done() callback is being called in this test.');\n          }\n\n          fn(err);\n        } // for .resetTimeout()\n\n\n        this.callback = done; // explicit async with `done` argument\n\n        if (this.async) {\n          this.resetTimeout();\n\n          if (this.allowUncaught) {\n            return callFnAsync(this.fn);\n          }\n\n          try {\n            callFnAsync(this.fn);\n          } catch (err) {\n            done(utils.getError(err));\n          }\n\n          return;\n        }\n\n        if (this.allowUncaught) {\n          callFn(this.fn);\n          done();\n          return;\n        } // sync or promise-returning\n\n\n        try {\n          if (this.pending) {\n            done();\n          } else {\n            callFn(this.fn);\n          }\n        } catch (err) {\n          done(utils.getError(err));\n        }\n\n        function callFn(fn) {\n          var result = fn.call(ctx);\n\n          if (result && typeof result.then === 'function') {\n            self.resetTimeout();\n            result.then(function () {\n              done();\n            }, function (reason) {\n              done(reason || new Error('Promise rejected with no or falsy reason'));\n            });\n          } else {\n            if (self.asyncOnly) {\n              return done(new Error('--async-only option in use without declaring `done()` or returning a promise'));\n            }\n\n            done();\n          }\n        }\n\n        function callFnAsync(fn) {\n          fn.call(ctx, function (err) {\n            if (err instanceof Error || toString.call(err) === '[object Error]') {\n              return done(err);\n            }\n\n            if (err) {\n              if (Object.prototype.toString.call(err) === '[object Object]') {\n                return done(new Error('done() invoked with non-Error: ' + JSON.stringify(err)));\n              }\n\n              return done(new Error('done() invoked with non-Error: ' + err));\n            }\n\n            done();\n          });\n        }\n      };\n    }).call(this, typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n  }, {\n    \"./ms\": 15,\n    \"./pending\": 16,\n    \"./utils\": 39,\n    \"debug\": 2,\n    \"events\": 3\n  }],\n  36: [function (require, module, exports) {\n    (function (process, global) {\n      /**\n       * Module dependencies.\n       */var EventEmitter = require('events').EventEmitter;\n\n      var Pending = require('./pending');\n\n      var utils = require('./utils');\n\n      var inherits = utils.inherits;\n\n      var debug = require('debug')('mocha:runner');\n\n      var Runnable = require('./runnable');\n\n      var filter = utils.filter;\n      var indexOf = utils.indexOf;\n      var keys = utils.keys;\n      var stackFilter = utils.stackTraceFilter();\n      var stringify = utils.stringify;\n      var type = utils.type;\n      var undefinedError = utils.undefinedError; /**\n                                                  * Non-enumerable globals.\n                                                  */\n      var globals = ['setTimeout', 'clearTimeout', 'setInterval', 'clearInterval', 'XMLHttpRequest', 'Date', 'setImmediate', 'clearImmediate']; /**\n                                                                                                                                                 * Expose `Runner`.\n                                                                                                                                                 */\n      module.exports = Runner; /**\n                                * Initialize a `Runner` for the given `suite`.\n                                *\n                                * Events:\n                                *\n                                *   - `start`  execution started\n                                *   - `end`  execution complete\n                                *   - `suite`  (suite) test suite execution started\n                                *   - `suite end`  (suite) all tests (and sub-suites) have finished\n                                *   - `test`  (test) test execution started\n                                *   - `test end`  (test) test completed\n                                *   - `hook`  (hook) hook execution started\n                                *   - `hook end`  (hook) hook complete\n                                *   - `pass`  (test) test passed\n                                *   - `fail`  (test, err) test failed\n                                *   - `pending`  (test) test pending\n                                *\n                                * @api public\n                                * @param {Suite} suite Root suite\n                                * @param {boolean} [delay] Whether or not to delay execution of root suite\n                                * until ready.\n                                */\n\n      function Runner(suite, delay) {\n        var self = this;\n        this._globals = [];\n        this._abort = false;\n        this._delay = delay;\n        this.suite = suite;\n        this.started = false;\n        this.total = suite.total();\n        this.failures = 0;\n        this.on('test end', function (test) {\n          self.checkGlobals(test);\n        });\n        this.on('hook end', function (hook) {\n          self.checkGlobals(hook);\n        });\n        this._defaultGrep = /.*/;\n        this.grep(this._defaultGrep);\n        this.globals(this.globalProps().concat(extraGlobals()));\n      } /**\n         * Wrapper for setImmediate, process.nextTick, or browser polyfill.\n         *\n         * @param {Function} fn\n         * @api private\n         */\n\n      Runner.immediately = global.setImmediate || process.nextTick; /**\n                                                                     * Inherit from `EventEmitter.prototype`.\n                                                                     */\n      inherits(Runner, EventEmitter); /**\n                                       * Run tests with full titles matching `re`. Updates runner.total\n                                       * with number of tests matched.\n                                       *\n                                       * @param {RegExp} re\n                                       * @param {Boolean} invert\n                                       * @return {Runner} for chaining\n                                       * @api public\n                                       * @param {RegExp} re\n                                       * @param {boolean} invert\n                                       * @return {Runner} Runner instance.\n                                       */\n\n      Runner.prototype.grep = function (re, invert) {\n        debug('grep %s', re);\n        this._grep = re;\n        this._invert = invert;\n        this.total = this.grepTotal(this.suite);\n        return this;\n      }; /**\n          * Returns the number of tests matching the grep search for the\n          * given suite.\n          *\n          * @param {Suite} suite\n          * @return {Number}\n          * @api public\n          * @param {Suite} suite\n          * @return {number}\n          */\n\n      Runner.prototype.grepTotal = function (suite) {\n        var self = this;\n        var total = 0;\n        suite.eachTest(function (test) {\n          var match = self._grep.test(test.fullTitle());\n\n          if (self._invert) {\n            match = !match;\n          }\n\n          if (match) {\n            total++;\n          }\n        });\n        return total;\n      }; /**\n          * Return a list of global properties.\n          *\n          * @return {Array}\n          * @api private\n          */\n\n      Runner.prototype.globalProps = function () {\n        var props = keys(global); // non-enumerables\n\n        for (var i = 0; i < globals.length; ++i) {\n          if (~indexOf(props, globals[i])) {\n            continue;\n          }\n\n          props.push(globals[i]);\n        }\n\n        return props;\n      }; /**\n          * Allow the given `arr` of globals.\n          *\n          * @param {Array} arr\n          * @return {Runner} for chaining\n          * @api public\n          * @param {Array} arr\n          * @return {Runner} Runner instance.\n          */\n\n      Runner.prototype.globals = function (arr) {\n        if (!arguments.length) {\n          return this._globals;\n        }\n\n        debug('globals %j', arr);\n        this._globals = this._globals.concat(arr);\n        return this;\n      }; /**\n          * Check for global variable leaks.\n          *\n          * @api private\n          */\n\n      Runner.prototype.checkGlobals = function (test) {\n        if (this.ignoreLeaks) {\n          return;\n        }\n\n        var ok = this._globals;\n        var globals = this.globalProps();\n        var leaks;\n\n        if (test) {\n          ok = ok.concat(test._allowedGlobals || []);\n        }\n\n        if (this.prevGlobalsLength === globals.length) {\n          return;\n        }\n\n        this.prevGlobalsLength = globals.length;\n        leaks = filterLeaks(ok, globals);\n        this._globals = this._globals.concat(leaks);\n\n        if (leaks.length > 1) {\n          this.fail(test, new Error('global leaks detected: ' + leaks.join(', ') + ''));\n        } else if (leaks.length) {\n          this.fail(test, new Error('global leak detected: ' + leaks[0]));\n        }\n      }; /**\n          * Fail the given `test`.\n          *\n          * @api private\n          * @param {Test} test\n          * @param {Error} err\n          */\n\n      Runner.prototype.fail = function (test, err) {\n        ++this.failures;\n        test.state = 'failed';\n\n        if (!(err instanceof Error || err && typeof err.message === 'string')) {\n          err = new Error('the ' + type(err) + ' ' + stringify(err) + ' was thrown, throw an Error :)');\n        }\n\n        err.stack = this.fullStackTrace || !err.stack ? err.stack : stackFilter(err.stack);\n        this.emit('fail', test, err);\n      }; /**\n          * Fail the given `hook` with `err`.\n          *\n          * Hook failures work in the following pattern:\n          * - If bail, then exit\n          * - Failed `before` hook skips all tests in a suite and subsuites,\n          *   but jumps to corresponding `after` hook\n          * - Failed `before each` hook skips remaining tests in a\n          *   suite and jumps to corresponding `after each` hook,\n          *   which is run only once\n          * - Failed `after` hook does not alter\n          *   execution order\n          * - Failed `after each` hook skips remaining tests in a\n          *   suite and subsuites, but executes other `after each`\n          *   hooks\n          *\n          * @api private\n          * @param {Hook} hook\n          * @param {Error} err\n          */\n\n      Runner.prototype.failHook = function (hook, err) {\n        if (hook.ctx && hook.ctx.currentTest) {\n          hook.originalTitle = hook.originalTitle || hook.title;\n          hook.title = hook.originalTitle + ' for \"' + hook.ctx.currentTest.title + '\"';\n        }\n\n        this.fail(hook, err);\n\n        if (this.suite.bail()) {\n          this.emit('end');\n        }\n      }; /**\n          * Run hook `name` callbacks and then invoke `fn()`.\n          *\n          * @api private\n          * @param {string} name\n          * @param {Function} fn\n          */\n\n      Runner.prototype.hook = function (name, fn) {\n        var suite = this.suite;\n        var hooks = suite['_' + name];\n        var self = this;\n\n        function next(i) {\n          var hook = hooks[i];\n\n          if (!hook) {\n            return fn();\n          }\n\n          self.currentRunnable = hook;\n          hook.ctx.currentTest = self.test;\n          self.emit('hook', hook);\n\n          if (!hook.listeners('error').length) {\n            hook.on('error', function (err) {\n              self.failHook(hook, err);\n            });\n          }\n\n          hook.run(function (err) {\n            var testError = hook.error();\n\n            if (testError) {\n              self.fail(self.test, testError);\n            }\n\n            if (err) {\n              if (err instanceof Pending) {\n                suite.pending = true;\n              } else {\n                self.failHook(hook, err); // stop executing hooks, notify callee of hook err\n\n                return fn(err);\n              }\n            }\n\n            self.emit('hook end', hook);\n            delete hook.ctx.currentTest;\n            next(++i);\n          });\n        }\n\n        Runner.immediately(function () {\n          next(0);\n        });\n      }; /**\n          * Run hook `name` for the given array of `suites`\n          * in order, and callback `fn(err, errSuite)`.\n          *\n          * @api private\n          * @param {string} name\n          * @param {Array} suites\n          * @param {Function} fn\n          */\n\n      Runner.prototype.hooks = function (name, suites, fn) {\n        var self = this;\n        var orig = this.suite;\n\n        function next(suite) {\n          self.suite = suite;\n\n          if (!suite) {\n            self.suite = orig;\n            return fn();\n          }\n\n          self.hook(name, function (err) {\n            if (err) {\n              var errSuite = self.suite;\n              self.suite = orig;\n              return fn(err, errSuite);\n            }\n\n            next(suites.pop());\n          });\n        }\n\n        next(suites.pop());\n      }; /**\n          * Run hooks from the top level down.\n          *\n          * @param {String} name\n          * @param {Function} fn\n          * @api private\n          */\n\n      Runner.prototype.hookUp = function (name, fn) {\n        var suites = [this.suite].concat(this.parents()).reverse();\n        this.hooks(name, suites, fn);\n      }; /**\n          * Run hooks from the bottom up.\n          *\n          * @param {String} name\n          * @param {Function} fn\n          * @api private\n          */\n\n      Runner.prototype.hookDown = function (name, fn) {\n        var suites = [this.suite].concat(this.parents());\n        this.hooks(name, suites, fn);\n      }; /**\n          * Return an array of parent Suites from\n          * closest to furthest.\n          *\n          * @return {Array}\n          * @api private\n          */\n\n      Runner.prototype.parents = function () {\n        var suite = this.suite;\n        var suites = [];\n\n        while (suite.parent) {\n          suite = suite.parent;\n          suites.push(suite);\n        }\n\n        return suites;\n      }; /**\n          * Run the current test and callback `fn(err)`.\n          *\n          * @param {Function} fn\n          * @api private\n          */\n\n      Runner.prototype.runTest = function (fn) {\n        var self = this;\n        var test = this.test;\n\n        if (this.asyncOnly) {\n          test.asyncOnly = true;\n        }\n\n        if (this.allowUncaught) {\n          test.allowUncaught = true;\n          return test.run(fn);\n        }\n\n        try {\n          test.on('error', function (err) {\n            self.fail(test, err);\n          });\n          test.run(fn);\n        } catch (err) {\n          fn(err);\n        }\n      }; /**\n          * Run tests in the given `suite` and invoke the callback `fn()` when complete.\n          *\n          * @api private\n          * @param {Suite} suite\n          * @param {Function} fn\n          */\n\n      Runner.prototype.runTests = function (suite, fn) {\n        var self = this;\n        var tests = suite.tests.slice();\n        var test;\n\n        function hookErr(_, errSuite, after) {\n          // before/after Each hook for errSuite failed:\n          var orig = self.suite; // for failed 'after each' hook start from errSuite parent,\n          // otherwise start from errSuite itself\n\n          self.suite = after ? errSuite.parent : errSuite;\n\n          if (self.suite) {\n            // call hookUp afterEach\n            self.hookUp('afterEach', function (err2, errSuite2) {\n              self.suite = orig; // some hooks may fail even now\n\n              if (err2) {\n                return hookErr(err2, errSuite2, true);\n              } // report error suite\n\n\n              fn(errSuite);\n            });\n          } else {\n            // there is no need calling other 'after each' hooks\n            self.suite = orig;\n            fn(errSuite);\n          }\n        }\n\n        function next(err, errSuite) {\n          // if we bail after first err\n          if (self.failures && suite._bail) {\n            return fn();\n          }\n\n          if (self._abort) {\n            return fn();\n          }\n\n          if (err) {\n            return hookErr(err, errSuite, true);\n          } // next test\n\n\n          test = tests.shift(); // all done\n\n          if (!test) {\n            return fn();\n          } // grep\n\n\n          var match = self._grep.test(test.fullTitle());\n\n          if (self._invert) {\n            match = !match;\n          }\n\n          if (!match) {\n            // Run immediately only if we have defined a grep. When we\n            // define a grep — It can cause maximum callstack error if\n            // the grep is doing a large recursive loop by neglecting\n            // all tests. The run immediately function also comes with\n            // a performance cost. So we don't want to run immediately\n            // if we run the whole test suite, because running the whole\n            // test suite don't do any immediate recursive loops. Thus,\n            // allowing a JS runtime to breathe.\n            if (self._grep !== self._defaultGrep) {\n              Runner.immediately(next);\n            } else {\n              next();\n            }\n\n            return;\n          } // pending\n\n\n          if (test.pending) {\n            self.emit('pending', test);\n            self.emit('test end', test);\n            return next();\n          } // execute test and hook(s)\n\n\n          self.emit('test', self.test = test);\n          self.hookDown('beforeEach', function (err, errSuite) {\n            if (suite.pending) {\n              self.emit('pending', test);\n              self.emit('test end', test);\n              return next();\n            }\n\n            if (err) {\n              return hookErr(err, errSuite, false);\n            }\n\n            self.currentRunnable = self.test;\n            self.runTest(function (err) {\n              test = self.test;\n\n              if (err) {\n                if (err instanceof Pending) {\n                  self.emit('pending', test);\n                } else {\n                  self.fail(test, err);\n                }\n\n                self.emit('test end', test);\n\n                if (err instanceof Pending) {\n                  return next();\n                }\n\n                return self.hookUp('afterEach', next);\n              }\n\n              test.state = 'passed';\n              self.emit('pass', test);\n              self.emit('test end', test);\n              self.hookUp('afterEach', next);\n            });\n          });\n        }\n\n        this.next = next;\n        this.hookErr = hookErr;\n        next();\n      }; /**\n          * Run the given `suite` and invoke the callback `fn()` when complete.\n          *\n          * @api private\n          * @param {Suite} suite\n          * @param {Function} fn\n          */\n\n      Runner.prototype.runSuite = function (suite, fn) {\n        var i = 0;\n        var self = this;\n        var total = this.grepTotal(suite);\n        var afterAllHookCalled = false;\n        debug('run suite %s', suite.fullTitle());\n\n        if (!total || self.failures && suite._bail) {\n          return fn();\n        }\n\n        this.emit('suite', this.suite = suite);\n\n        function next(errSuite) {\n          if (errSuite) {\n            // current suite failed on a hook from errSuite\n            if (errSuite === suite) {\n              // if errSuite is current suite\n              // continue to the next sibling suite\n              return done();\n            } // errSuite is among the parents of current suite\n            // stop execution of errSuite and all sub-suites\n\n\n            return done(errSuite);\n          }\n\n          if (self._abort) {\n            return done();\n          }\n\n          var curr = suite.suites[i++];\n\n          if (!curr) {\n            return done();\n          } // Avoid grep neglecting large number of tests causing a\n          // huge recursive loop and thus a maximum call stack error.\n          // See comment in `this.runTests()` for more information.\n\n\n          if (self._grep !== self._defaultGrep) {\n            Runner.immediately(function () {\n              self.runSuite(curr, next);\n            });\n          } else {\n            self.runSuite(curr, next);\n          }\n        }\n\n        function done(errSuite) {\n          self.suite = suite;\n          self.nextSuite = next;\n\n          if (afterAllHookCalled) {\n            fn(errSuite);\n          } else {\n            // mark that the afterAll block has been called once\n            // and so can be skipped if there is an error in it.\n            afterAllHookCalled = true;\n            self.hook('afterAll', function () {\n              self.emit('suite end', suite);\n              fn(errSuite);\n            });\n          }\n        }\n\n        this.nextSuite = next;\n        this.hook('beforeAll', function (err) {\n          if (err) {\n            return done();\n          }\n\n          self.runTests(suite, next);\n        });\n      }; /**\n          * Handle uncaught exceptions.\n          *\n          * @param {Error} err\n          * @api private\n          */\n\n      Runner.prototype.uncaught = function (err) {\n        if (err) {\n          debug('uncaught exception %s', err !== function () {\n            return this;\n          }.call(err) ? err : err.message || err);\n        } else {\n          debug('uncaught undefined exception');\n          err = undefinedError();\n        }\n\n        err.uncaught = true;\n        var runnable = this.currentRunnable;\n\n        if (!runnable) {\n          runnable = new Runnable('Uncaught error outside test suite');\n          runnable.parent = this.suite;\n\n          if (this.started) {\n            this.fail(runnable, err);\n          } else {\n            // Can't recover from this failure\n            this.emit('start');\n            this.fail(runnable, err);\n            this.emit('end');\n          }\n\n          return;\n        }\n\n        runnable.clearTimeout(); // Ignore errors if complete\n\n        if (runnable.state) {\n          return;\n        }\n\n        this.fail(runnable, err); // recover from test\n\n        if (runnable.type === 'test') {\n          this.emit('test end', runnable);\n          this.hookUp('afterEach', this.next);\n          return;\n        } // recover from hooks\n\n\n        if (runnable.type === 'hook') {\n          var errSuite = this.suite; // if hook failure is in afterEach block\n\n          if (runnable.fullTitle().indexOf('after each') > -1) {\n            return this.hookErr(err, errSuite, true);\n          } // if hook failure is in beforeEach block\n\n\n          if (runnable.fullTitle().indexOf('before each') > -1) {\n            return this.hookErr(err, errSuite, false);\n          } // if hook failure is in after or before blocks\n\n\n          return this.nextSuite(errSuite);\n        } // bail\n\n\n        this.emit('end');\n      }; /**\n          * Run the root suite and invoke `fn(failures)`\n          * on completion.\n          *\n          * @param {Function} fn\n          * @return {Runner} for chaining\n          * @api public\n          * @param {Function} fn\n          * @return {Runner} Runner instance.\n          */\n\n      Runner.prototype.run = function (fn) {\n        var self = this;\n        var rootSuite = this.suite;\n\n        fn = fn || function () {};\n\n        function uncaught(err) {\n          self.uncaught(err);\n        }\n\n        function start() {\n          self.started = true;\n          self.emit('start');\n          self.runSuite(rootSuite, function () {\n            debug('finished running');\n            self.emit('end');\n          });\n        }\n\n        debug('start'); // callback\n\n        this.on('end', function () {\n          debug('end');\n          process.removeListener('uncaughtException', uncaught);\n          fn(self.failures);\n        }); // uncaught exception\n\n        process.on('uncaughtException', uncaught);\n\n        if (this._delay) {\n          // for reporters, I guess.\n          // might be nice to debounce some dots while we wait.\n          this.emit('waiting', rootSuite);\n          rootSuite.once('run', start);\n        } else {\n          start();\n        }\n\n        return this;\n      }; /**\n          * Cleanly abort execution.\n          *\n          * @api public\n          * @return {Runner} Runner instance.\n          */\n\n      Runner.prototype.abort = function () {\n        debug('aborting');\n        this._abort = true;\n        return this;\n      }; /**\n          * Filter leaks with the given globals flagged as `ok`.\n          *\n          * @api private\n          * @param {Array} ok\n          * @param {Array} globals\n          * @return {Array}\n          */\n\n      function filterLeaks(ok, globals) {\n        return filter(globals, function (key) {\n          // Firefox and Chrome exposes iframes as index inside the window object\n          if (/^d+/.test(key)) {\n            return false;\n          } // in firefox\n          // if runner runs in an iframe, this iframe's window.getInterface method not init at first\n          // it is assigned in some seconds\n\n\n          if (global.navigator && /^getInterface/.test(key)) {\n            return false;\n          } // an iframe could be approached by window[iframeIndex]\n          // in ie6,7,8 and opera, iframeIndex is enumerable, this could cause leak\n\n\n          if (global.navigator && /^\\d+/.test(key)) {\n            return false;\n          } // Opera and IE expose global variables for HTML element IDs (issue #243)\n\n\n          if (/^mocha-/.test(key)) {\n            return false;\n          }\n\n          var matched = filter(ok, function (ok) {\n            if (~ok.indexOf('*')) {\n              return key.indexOf(ok.split('*')[0]) === 0;\n            }\n\n            return key === ok;\n          });\n          return !matched.length && (!global.navigator || key !== 'onerror');\n        });\n      } /**\n         * Array of globals dependent on the environment.\n         *\n         * @return {Array}\n         * @api private\n         */\n\n      function extraGlobals() {\n        if ((typeof process === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(process)) === 'object' && typeof process.version === 'string') {\n          var parts = process.version.split('.');\n          var nodeVersion = utils.reduce(parts, function (a, v) {\n            return a << 8 | v;\n          }); // 'errno' was renamed to process._errno in v0.9.11.\n\n          if (nodeVersion < 0x00090B) {\n            return ['errno'];\n          }\n        }\n\n        return [];\n      }\n    }).call(this, require('_process'), typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n  }, {\n    \"./pending\": 16,\n    \"./runnable\": 35,\n    \"./utils\": 39,\n    \"_process\": 51,\n    \"debug\": 2,\n    \"events\": 3\n  }],\n  37: [function (require, module, exports) {\n    /**\n     * Module dependencies.\n     */var EventEmitter = require('events').EventEmitter;\n\n    var Hook = require('./hook');\n\n    var utils = require('./utils');\n\n    var inherits = utils.inherits;\n\n    var debug = require('debug')('mocha:suite');\n\n    var milliseconds = require('./ms'); /**\n                                         * Expose `Suite`.\n                                         */\n\n    exports = module.exports = Suite; /**\n                                       * Create a new `Suite` with the given `title` and parent `Suite`. When a suite\n                                       * with the same title is already present, that suite is returned to provide\n                                       * nicer reporter and more flexible meta-testing.\n                                       *\n                                       * @api public\n                                       * @param {Suite} parent\n                                       * @param {string} title\n                                       * @return {Suite}\n                                       */\n\n    exports.create = function (parent, title) {\n      var suite = new Suite(title, parent.ctx);\n      suite.parent = parent;\n\n      if (parent.pending) {\n        suite.pending = true;\n      }\n\n      title = suite.fullTitle();\n      parent.addSuite(suite);\n      return suite;\n    }; /**\n        * Initialize a new `Suite` with the given `title` and `ctx`.\n        *\n        * @api private\n        * @param {string} title\n        * @param {Context} parentContext\n        */\n\n    function Suite(title, parentContext) {\n      this.title = title;\n\n      function Context() {}\n\n      Context.prototype = parentContext;\n      this.ctx = new Context();\n      this.suites = [];\n      this.tests = [];\n      this.pending = false;\n      this._beforeEach = [];\n      this._beforeAll = [];\n      this._afterEach = [];\n      this._afterAll = [];\n      this.root = !title;\n      this._timeout = 2000;\n      this._enableTimeouts = true;\n      this._slow = 75;\n      this._bail = false;\n      this.delayed = false;\n    } /**\n       * Inherit from `EventEmitter.prototype`.\n       */\n\n    inherits(Suite, EventEmitter); /**\n                                    * Return a clone of this `Suite`.\n                                    *\n                                    * @api private\n                                    * @return {Suite}\n                                    */\n\n    Suite.prototype.clone = function () {\n      var suite = new Suite(this.title);\n      debug('clone');\n      suite.ctx = this.ctx;\n      suite.timeout(this.timeout());\n      suite.enableTimeouts(this.enableTimeouts());\n      suite.slow(this.slow());\n      suite.bail(this.bail());\n      return suite;\n    }; /**\n        * Set timeout `ms` or short-hand such as \"2s\".\n        *\n        * @api private\n        * @param {number|string} ms\n        * @return {Suite|number} for chaining\n        */\n\n    Suite.prototype.timeout = function (ms) {\n      if (!arguments.length) {\n        return this._timeout;\n      }\n\n      if (ms.toString() === '0') {\n        this._enableTimeouts = false;\n      }\n\n      if (typeof ms === 'string') {\n        ms = milliseconds(ms);\n      }\n\n      debug('timeout %d', ms);\n      this._timeout = parseInt(ms, 10);\n      return this;\n    }; /**\n         * Set timeout to `enabled`.\n         *\n         * @api private\n         * @param {boolean} enabled\n         * @return {Suite|boolean} self or enabled\n         */\n\n    Suite.prototype.enableTimeouts = function (enabled) {\n      if (!arguments.length) {\n        return this._enableTimeouts;\n      }\n\n      debug('enableTimeouts %s', enabled);\n      this._enableTimeouts = enabled;\n      return this;\n    }; /**\n        * Set slow `ms` or short-hand such as \"2s\".\n        *\n        * @api private\n        * @param {number|string} ms\n        * @return {Suite|number} for chaining\n        */\n\n    Suite.prototype.slow = function (ms) {\n      if (!arguments.length) {\n        return this._slow;\n      }\n\n      if (typeof ms === 'string') {\n        ms = milliseconds(ms);\n      }\n\n      debug('slow %d', ms);\n      this._slow = ms;\n      return this;\n    }; /**\n        * Sets whether to bail after first error.\n        *\n        * @api private\n        * @param {boolean} bail\n        * @return {Suite|number} for chaining\n        */\n\n    Suite.prototype.bail = function (bail) {\n      if (!arguments.length) {\n        return this._bail;\n      }\n\n      debug('bail %s', bail);\n      this._bail = bail;\n      return this;\n    }; /**\n        * Run `fn(test[, done])` before running tests.\n        *\n        * @api private\n        * @param {string} title\n        * @param {Function} fn\n        * @return {Suite} for chaining\n        */\n\n    Suite.prototype.beforeAll = function (title, fn) {\n      if (this.pending) {\n        return this;\n      }\n\n      if (typeof title === 'function') {\n        fn = title;\n        title = fn.name;\n      }\n\n      title = '\"before all\" hook' + (title ? ': ' + title : '');\n      var hook = new Hook(title, fn);\n      hook.parent = this;\n      hook.timeout(this.timeout());\n      hook.enableTimeouts(this.enableTimeouts());\n      hook.slow(this.slow());\n      hook.ctx = this.ctx;\n\n      this._beforeAll.push(hook);\n\n      this.emit('beforeAll', hook);\n      return this;\n    }; /**\n        * Run `fn(test[, done])` after running tests.\n        *\n        * @api private\n        * @param {string} title\n        * @param {Function} fn\n        * @return {Suite} for chaining\n        */\n\n    Suite.prototype.afterAll = function (title, fn) {\n      if (this.pending) {\n        return this;\n      }\n\n      if (typeof title === 'function') {\n        fn = title;\n        title = fn.name;\n      }\n\n      title = '\"after all\" hook' + (title ? ': ' + title : '');\n      var hook = new Hook(title, fn);\n      hook.parent = this;\n      hook.timeout(this.timeout());\n      hook.enableTimeouts(this.enableTimeouts());\n      hook.slow(this.slow());\n      hook.ctx = this.ctx;\n\n      this._afterAll.push(hook);\n\n      this.emit('afterAll', hook);\n      return this;\n    }; /**\n        * Run `fn(test[, done])` before each test case.\n        *\n        * @api private\n        * @param {string} title\n        * @param {Function} fn\n        * @return {Suite} for chaining\n        */\n\n    Suite.prototype.beforeEach = function (title, fn) {\n      if (this.pending) {\n        return this;\n      }\n\n      if (typeof title === 'function') {\n        fn = title;\n        title = fn.name;\n      }\n\n      title = '\"before each\" hook' + (title ? ': ' + title : '');\n      var hook = new Hook(title, fn);\n      hook.parent = this;\n      hook.timeout(this.timeout());\n      hook.enableTimeouts(this.enableTimeouts());\n      hook.slow(this.slow());\n      hook.ctx = this.ctx;\n\n      this._beforeEach.push(hook);\n\n      this.emit('beforeEach', hook);\n      return this;\n    }; /**\n        * Run `fn(test[, done])` after each test case.\n        *\n        * @api private\n        * @param {string} title\n        * @param {Function} fn\n        * @return {Suite} for chaining\n        */\n\n    Suite.prototype.afterEach = function (title, fn) {\n      if (this.pending) {\n        return this;\n      }\n\n      if (typeof title === 'function') {\n        fn = title;\n        title = fn.name;\n      }\n\n      title = '\"after each\" hook' + (title ? ': ' + title : '');\n      var hook = new Hook(title, fn);\n      hook.parent = this;\n      hook.timeout(this.timeout());\n      hook.enableTimeouts(this.enableTimeouts());\n      hook.slow(this.slow());\n      hook.ctx = this.ctx;\n\n      this._afterEach.push(hook);\n\n      this.emit('afterEach', hook);\n      return this;\n    }; /**\n        * Add a test `suite`.\n        *\n        * @api private\n        * @param {Suite} suite\n        * @return {Suite} for chaining\n        */\n\n    Suite.prototype.addSuite = function (suite) {\n      suite.parent = this;\n      suite.timeout(this.timeout());\n      suite.enableTimeouts(this.enableTimeouts());\n      suite.slow(this.slow());\n      suite.bail(this.bail());\n      this.suites.push(suite);\n      this.emit('suite', suite);\n      return this;\n    }; /**\n        * Add a `test` to this suite.\n        *\n        * @api private\n        * @param {Test} test\n        * @return {Suite} for chaining\n        */\n\n    Suite.prototype.addTest = function (test) {\n      test.parent = this;\n      test.timeout(this.timeout());\n      test.enableTimeouts(this.enableTimeouts());\n      test.slow(this.slow());\n      test.ctx = this.ctx;\n      this.tests.push(test);\n      this.emit('test', test);\n      return this;\n    }; /**\n        * Return the full title generated by recursively concatenating the parent's\n        * full title.\n        *\n        * @api public\n        * @return {string}\n        */\n\n    Suite.prototype.fullTitle = function () {\n      if (this.parent) {\n        var full = this.parent.fullTitle();\n\n        if (full) {\n          return full + ' ' + this.title;\n        }\n      }\n\n      return this.title;\n    }; /**\n        * Return the total number of tests.\n        *\n        * @api public\n        * @return {number}\n        */\n\n    Suite.prototype.total = function () {\n      return utils.reduce(this.suites, function (sum, suite) {\n        return sum + suite.total();\n      }, 0) + this.tests.length;\n    }; /**\n        * Iterates through each suite recursively to find all tests. Applies a\n        * function in the format `fn(test)`.\n        *\n        * @api private\n        * @param {Function} fn\n        * @return {Suite}\n        */\n\n    Suite.prototype.eachTest = function (fn) {\n      utils.forEach(this.tests, fn);\n      utils.forEach(this.suites, function (suite) {\n        suite.eachTest(fn);\n      });\n      return this;\n    }; /**\n        * This will run the root suite if we happen to be running in delayed mode.\n        */\n\n    Suite.prototype.run = function () {\n      function run() {\n        if (this.root) {\n          this.emit('run');\n        }\n      }\n\n      return run;\n    }();\n  }, {\n    \"./hook\": 7,\n    \"./ms\": 15,\n    \"./utils\": 39,\n    \"debug\": 2,\n    \"events\": 3\n  }],\n  38: [function (require, module, exports) {\n    /**\n     * Module dependencies.\n     */var Runnable = require('./runnable');\n\n    var inherits = require('./utils').inherits; /**\n                                                 * Expose `Test`.\n                                                 */\n\n    module.exports = Test; /**\n                            * Initialize a new `Test` with the given `title` and callback `fn`.\n                            *\n                            * @api private\n                            * @param {String} title\n                            * @param {Function} fn\n                            */\n\n    function Test(title, fn) {\n      Runnable.call(this, title, fn);\n      this.pending = !fn;\n      this.type = 'test';\n    } /**\n       * Inherit from `Runnable.prototype`.\n       */\n\n    inherits(Test, Runnable);\n  }, {\n    \"./runnable\": 35,\n    \"./utils\": 39\n  }],\n  39: [function (require, module, exports) {\n    (function (process, Buffer) {\n      /* eslint-env browser */ /**\n                                * Module dependencies.\n                                */var basename = require('path').basename;\n\n      var debug = require('debug')('mocha:watch');\n\n      var exists = require('fs').existsSync || require('path').existsSync;\n\n      var glob = require('glob');\n\n      var join = require('path').join;\n\n      var readdirSync = require('fs').readdirSync;\n\n      var statSync = require('fs').statSync;\n\n      var watchFile = require('fs').watchFile; /**\n                                                * Ignored directories.\n                                                */\n\n      var ignore = ['node_modules', '.git'];\n      exports.inherits = require('util').inherits; /**\n                                                    * Escape special characters in the given string of html.\n                                                    *\n                                                    * @api private\n                                                    * @param  {string} html\n                                                    * @return {string}\n                                                    */\n\n      exports.escape = function (html) {\n        return String(html).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n      }; /**\n          * Array#forEach (<=IE8)\n          *\n          * @api private\n          * @param {Array} arr\n          * @param {Function} fn\n          * @param {Object} scope\n          */\n\n      exports.forEach = function (arr, fn, scope) {\n        for (var i = 0, l = arr.length; i < l; i++) {\n          fn.call(scope, arr[i], i);\n        }\n      }; /**\n          * Test if the given obj is type of string.\n          *\n          * @api private\n          * @param {Object} obj\n          * @return {boolean}\n          */\n\n      exports.isString = function (obj) {\n        return typeof obj === 'string';\n      }; /**\n          * Array#map (<=IE8)\n          *\n          * @api private\n          * @param {Array} arr\n          * @param {Function} fn\n          * @param {Object} scope\n          * @return {Array}\n          */\n\n      exports.map = function (arr, fn, scope) {\n        var result = [];\n\n        for (var i = 0, l = arr.length; i < l; i++) {\n          result.push(fn.call(scope, arr[i], i, arr));\n        }\n\n        return result;\n      }; /**\n          * Array#indexOf (<=IE8)\n          *\n          * @api private\n          * @param {Array} arr\n          * @param {Object} obj to find index of\n          * @param {number} start\n          * @return {number}\n          */\n\n      exports.indexOf = function (arr, obj, start) {\n        for (var i = start || 0, l = arr.length; i < l; i++) {\n          if (arr[i] === obj) {\n            return i;\n          }\n        }\n\n        return -1;\n      }; /**\n          * Array#reduce (<=IE8)\n          *\n          * @api private\n          * @param {Array} arr\n          * @param {Function} fn\n          * @param {Object} val Initial value.\n          * @return {*}\n          */\n\n      exports.reduce = function (arr, fn, val) {\n        var rval = val;\n\n        for (var i = 0, l = arr.length; i < l; i++) {\n          rval = fn(rval, arr[i], i, arr);\n        }\n\n        return rval;\n      }; /**\n          * Array#filter (<=IE8)\n          *\n          * @api private\n          * @param {Array} arr\n          * @param {Function} fn\n          * @return {Array}\n          */\n\n      exports.filter = function (arr, fn) {\n        var ret = [];\n\n        for (var i = 0, l = arr.length; i < l; i++) {\n          var val = arr[i];\n\n          if (fn(val, i, arr)) {\n            ret.push(val);\n          }\n        }\n\n        return ret;\n      }; /**\n          * Object.keys (<=IE8)\n          *\n          * @api private\n          * @param {Object} obj\n          * @return {Array} keys\n          */\n\n      exports.keys = typeof Object.keys === 'function' ? Object.keys : function (obj) {\n        var keys = [];\n        var has = Object.prototype.hasOwnProperty; // for `window` on <=IE8\n\n        for (var key in meteorBabelHelpers.sanitizeForInObject(obj)) {\n          if (has.call(obj, key)) {\n            keys.push(key);\n          }\n        }\n\n        return keys;\n      }; /**\n          * Watch the given `files` for changes\n          * and invoke `fn(file)` on modification.\n          *\n          * @api private\n          * @param {Array} files\n          * @param {Function} fn\n          */\n\n      exports.watch = function (files, fn) {\n        var options = {\n          interval: 100\n        };\n        files.forEach(function (file) {\n          debug('file %s', file);\n          watchFile(file, options, function (curr, prev) {\n            if (prev.mtime < curr.mtime) {\n              fn(file);\n            }\n          });\n        });\n      }; /**\n          * Array.isArray (<=IE8)\n          *\n          * @api private\n          * @param {Object} obj\n          * @return {Boolean}\n          */\n\n      var isArray = typeof Array.isArray === 'function' ? Array.isArray : function (obj) {\n        return Object.prototype.toString.call(obj) === '[object Array]';\n      }; /**\n          * Buffer.prototype.toJSON polyfill.\n          *\n          * @type {Function}\n          */\n\n      if (typeof Buffer !== 'undefined' && Buffer.prototype) {\n        Buffer.prototype.toJSON = Buffer.prototype.toJSON || function () {\n          return Array.prototype.slice.call(this, 0);\n        };\n      } /**\n         * Ignored files.\n         *\n         * @api private\n         * @param {string} path\n         * @return {boolean}\n         */\n\n      function ignored(path) {\n        return !~ignore.indexOf(path);\n      } /**\n         * Lookup files in the given `dir`.\n         *\n         * @api private\n         * @param {string} dir\n         * @param {string[]} [ext=['.js']]\n         * @param {Array} [ret=[]]\n         * @return {Array}\n         */\n\n      exports.files = function (dir, ext, ret) {\n        ret = ret || [];\n        ext = ext || ['js'];\n        var re = new RegExp('\\\\.(' + ext.join('|') + ')$');\n        readdirSync(dir).filter(ignored).forEach(function (path) {\n          path = join(dir, path);\n\n          if (statSync(path).isDirectory()) {\n            exports.files(path, ext, ret);\n          } else if (path.match(re)) {\n            ret.push(path);\n          }\n        });\n        return ret;\n      }; /**\n          * Compute a slug from the given `str`.\n          *\n          * @api private\n          * @param {string} str\n          * @return {string}\n          */\n\n      exports.slug = function (str) {\n        return str.toLowerCase().replace(/ +/g, '-').replace(/[^-\\w]/g, '');\n      }; /**\n          * Strip the function definition from `str`, and re-indent for pre whitespace.\n          *\n          * @param {string} str\n          * @return {string}\n          */\n\n      exports.clean = function (str) {\n        str = str.replace(/\\r\\n?|[\\n\\u2028\\u2029]/g, '\\n').replace(/^\\uFEFF/, '').replace(/^function *\\(.*\\)\\s*{|\\(.*\\) *=> *{?/, '').replace(/\\s+\\}$/, '');\n        var spaces = str.match(/^\\n?( *)/)[1].length;\n        var tabs = str.match(/^\\n?(\\t*)/)[1].length;\n        var re = new RegExp('^\\n?' + (tabs ? '\\t' : ' ') + '{' + (tabs ? tabs : spaces) + '}', 'gm');\n        str = str.replace(re, '');\n        return exports.trim(str);\n      }; /**\n          * Trim the given `str`.\n          *\n          * @api private\n          * @param {string} str\n          * @return {string}\n          */\n\n      exports.trim = function (str) {\n        return str.replace(/^\\s+|\\s+$/g, '');\n      }; /**\n          * Parse the given `qs`.\n          *\n          * @api private\n          * @param {string} qs\n          * @return {Object}\n          */\n\n      exports.parseQuery = function (qs) {\n        return exports.reduce(qs.replace('?', '').split('&'), function (obj, pair) {\n          var i = pair.indexOf('=');\n          var key = pair.slice(0, i);\n          var val = pair.slice(++i);\n          obj[key] = decodeURIComponent(val);\n          return obj;\n        }, {});\n      }; /**\n          * Highlight the given string of `js`.\n          *\n          * @api private\n          * @param {string} js\n          * @return {string}\n          */\n\n      function highlight(js) {\n        return js.replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\/\\/(.*)/gm, '<span class=\"comment\">//$1</span>').replace(/('.*?')/gm, '<span class=\"string\">$1</span>').replace(/(\\d+\\.\\d+)/gm, '<span class=\"number\">$1</span>').replace(/(\\d+)/gm, '<span class=\"number\">$1</span>').replace(/\\bnew[ \\t]+(\\w+)/gm, '<span class=\"keyword\">new</span> <span class=\"init\">$1</span>').replace(/\\b(function|new|throw|return|var|if|else)\\b/gm, '<span class=\"keyword\">$1</span>');\n      } /**\n         * Highlight the contents of tag `name`.\n         *\n         * @api private\n         * @param {string} name\n         */\n\n      exports.highlightTags = function (name) {\n        var code = document.getElementById('mocha').getElementsByTagName(name);\n\n        for (var i = 0, len = code.length; i < len; ++i) {\n          code[i].innerHTML = highlight(code[i].innerHTML);\n        }\n      }; /**\n          * If a value could have properties, and has none, this function is called,\n          * which returns a string representation of the empty value.\n          *\n          * Functions w/ no properties return `'[Function]'`\n          * Arrays w/ length === 0 return `'[]'`\n          * Objects w/ no properties return `'{}'`\n          * All else: return result of `value.toString()`\n          *\n          * @api private\n          * @param {*} value The value to inspect.\n          * @param {string} [type] The type of the value, if known.\n          * @returns {string}\n          */\n\n      function emptyRepresentation(value, type) {\n        type = type || exports.type(value);\n\n        switch (type) {\n          case 'function':\n            return '[Function]';\n\n          case 'object':\n            return '{}';\n\n          case 'array':\n            return '[]';\n\n          default:\n            return value.toString();\n        }\n      } /**\n         * Takes some variable and asks `Object.prototype.toString()` what it thinks it\n         * is.\n         *\n         * @api private\n         * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString\n         * @param {*} value The value to test.\n         * @returns {string}\n         * @example\n         * type({}) // 'object'\n         * type([]) // 'array'\n         * type(1) // 'number'\n         * type(false) // 'boolean'\n         * type(Infinity) // 'number'\n         * type(null) // 'null'\n         * type(new Date()) // 'date'\n         * type(/foo/) // 'regexp'\n         * type('type') // 'string'\n         * type(global) // 'global'\n         */\n\n      exports.type = function () {\n        function type(value) {\n          if (value === undefined) {\n            return 'undefined';\n          } else if (value === null) {\n            return 'null';\n          } else if (typeof Buffer !== 'undefined' && Buffer.isBuffer(value)) {\n            return 'buffer';\n          }\n\n          return Object.prototype.toString.call(value).replace(/^\\[.+\\s(.+?)\\]$/, '$1').toLowerCase();\n        }\n\n        return type;\n      }(); /**\n            * Stringify `value`. Different behavior depending on type of value:\n            *\n            * - If `value` is undefined or null, return `'[undefined]'` or `'[null]'`, respectively.\n            * - If `value` is not an object, function or array, return result of `value.toString()` wrapped in double-quotes.\n            * - If `value` is an *empty* object, function, or array, return result of function\n            *   {@link emptyRepresentation}.\n            * - If `value` has properties, call {@link exports.canonicalize} on it, then return result of\n            *   JSON.stringify().\n            *\n            * @api private\n            * @see exports.type\n            * @param {*} value\n            * @return {string}\n            */\n\n      exports.stringify = function (value) {\n        var type = exports.type(value);\n\n        if (!~exports.indexOf(['object', 'array', 'function'], type)) {\n          if (type !== 'buffer') {\n            return jsonStringify(value);\n          }\n\n          var json = value.toJSON(); // Based on the toJSON result\n\n          return jsonStringify(json.data && json.type ? json.data : json, 2).replace(/,(\\n|$)/g, '$1');\n        }\n\n        for (var prop in meteorBabelHelpers.sanitizeForInObject(value)) {\n          if (Object.prototype.hasOwnProperty.call(value, prop)) {\n            return jsonStringify(exports.canonicalize(value), 2).replace(/,(\\n|$)/g, '$1');\n          }\n        }\n\n        return emptyRepresentation(value, type);\n      }; /**\n          * like JSON.stringify but more sense.\n          *\n          * @api private\n          * @param {Object}  object\n          * @param {number=} spaces\n          * @param {number=} depth\n          * @returns {*}\n          */\n\n      function jsonStringify(object, spaces, depth) {\n        if (typeof spaces === 'undefined') {\n          // primitive types\n          return _stringify(object);\n        }\n\n        depth = depth || 1;\n        var space = spaces * depth;\n        var str = isArray(object) ? '[' : '{';\n        var end = isArray(object) ? ']' : '}';\n        var length = object.length || exports.keys(object).length; // `.repeat()` polyfill\n\n        function repeat(s, n) {\n          return new Array(n).join(s);\n        }\n\n        function _stringify(val) {\n          switch (exports.type(val)) {\n            case 'null':\n            case 'undefined':\n              val = '[' + val + ']';\n              break;\n\n            case 'array':\n            case 'object':\n              val = jsonStringify(val, spaces, depth + 1);\n              break;\n\n            case 'boolean':\n            case 'regexp':\n            case 'number':\n              val = val === 0 && 1 / val === -Infinity // `-0`\n              ? '-0' : val.toString();\n              break;\n\n            case 'date':\n              var sDate = isNaN(val.getTime()) // Invalid date\n              ? val.toString() : val.toISOString();\n              val = '[Date: ' + sDate + ']';\n              break;\n\n            case 'buffer':\n              var json = val.toJSON(); // Based on the toJSON result\n\n              json = json.data && json.type ? json.data : json;\n              val = '[Buffer: ' + jsonStringify(json, 2, depth + 1) + ']';\n              break;\n\n            default:\n              val = val === '[Function]' || val === '[Circular]' ? val : JSON.stringify(val);\n            // string\n          }\n\n          return val;\n        }\n\n        for (var i in meteorBabelHelpers.sanitizeForInObject(object)) {\n          if (!object.hasOwnProperty(i)) {\n            continue; // not my business\n          }\n\n          --length;\n          str += '\\n ' + repeat(' ', space) + (isArray(object) ? '' : '\"' + i + '\": ') // key\n          + _stringify(object[i]) // value\n          + (length ? ',' : ''); // comma\n        }\n\n        return str // [], {}\n        + (str.length !== 1 ? '\\n' + repeat(' ', --space) + end : end);\n      } /**\n         * Test if a value is a buffer.\n         *\n         * @api private\n         * @param {*} value The value to test.\n         * @return {boolean} True if `value` is a buffer, otherwise false\n         */\n\n      exports.isBuffer = function (value) {\n        return typeof Buffer !== 'undefined' && Buffer.isBuffer(value);\n      }; /**\n          * Return a new Thing that has the keys in sorted order. Recursive.\n          *\n          * If the Thing...\n          * - has already been seen, return string `'[Circular]'`\n          * - is `undefined`, return string `'[undefined]'`\n          * - is `null`, return value `null`\n          * - is some other primitive, return the value\n          * - is not a primitive or an `Array`, `Object`, or `Function`, return the value of the Thing's `toString()` method\n          * - is a non-empty `Array`, `Object`, or `Function`, return the result of calling this function again.\n          * - is an empty `Array`, `Object`, or `Function`, return the result of calling `emptyRepresentation()`\n          *\n          * @api private\n          * @see {@link exports.stringify}\n          * @param {*} value Thing to inspect.  May or may not have properties.\n          * @param {Array} [stack=[]] Stack of seen values\n          * @return {(Object|Array|Function|string|undefined)}\n          */\n\n      exports.canonicalize = function (value, stack) {\n        var canonicalizedObj; /* eslint-disable no-unused-vars */\n        var prop; /* eslint-enable no-unused-vars */\n        var type = exports.type(value);\n\n        function withStack(value, fn) {\n          stack.push(value);\n          fn();\n          stack.pop();\n        }\n\n        stack = stack || [];\n\n        if (exports.indexOf(stack, value) !== -1) {\n          return '[Circular]';\n        }\n\n        switch (type) {\n          case 'undefined':\n          case 'buffer':\n          case 'null':\n            canonicalizedObj = value;\n            break;\n\n          case 'array':\n            withStack(value, function () {\n              canonicalizedObj = exports.map(value, function (item) {\n                return exports.canonicalize(item, stack);\n              });\n            });\n            break;\n\n          case 'function':\n            /* eslint-disable guard-for-in */for (prop in meteorBabelHelpers.sanitizeForInObject(value)) {\n              canonicalizedObj = {};\n              break;\n            } /* eslint-enable guard-for-in */\n\n            if (!canonicalizedObj) {\n              canonicalizedObj = emptyRepresentation(value, type);\n              break;\n            }\n\n          /* falls through */\n\n          case 'object':\n            canonicalizedObj = canonicalizedObj || {};\n            withStack(value, function () {\n              exports.forEach(exports.keys(value).sort(), function (key) {\n                canonicalizedObj[key] = exports.canonicalize(value[key], stack);\n              });\n            });\n            break;\n\n          case 'date':\n          case 'number':\n          case 'regexp':\n          case 'boolean':\n            canonicalizedObj = value;\n            break;\n\n          default:\n            canonicalizedObj = value.toString();\n        }\n\n        return canonicalizedObj;\n      }; /**\n          * Lookup file names at the given `path`.\n          *\n          * @api public\n          * @param {string} path Base path to start searching from.\n          * @param {string[]} extensions File extensions to look for.\n          * @param {boolean} recursive Whether or not to recurse into subdirectories.\n          * @return {string[]} An array of paths.\n          */\n\n      exports.lookupFiles = function () {\n        function lookupFiles(path, extensions, recursive) {\n          var files = [];\n          var re = new RegExp('\\\\.(' + extensions.join('|') + ')$');\n\n          if (!exists(path)) {\n            if (exists(path + '.js')) {\n              path += '.js';\n            } else {\n              files = glob.sync(path);\n\n              if (!files.length) {\n                throw new Error(\"cannot resolve path (or pattern) '\" + path + \"'\");\n              }\n\n              return files;\n            }\n          }\n\n          try {\n            var stat = statSync(path);\n\n            if (stat.isFile()) {\n              return path;\n            }\n          } catch (err) {\n            // ignore error\n            return;\n          }\n\n          readdirSync(path).forEach(function (file) {\n            file = join(path, file);\n\n            try {\n              var stat = statSync(file);\n\n              if (stat.isDirectory()) {\n                if (recursive) {\n                  files = files.concat(lookupFiles(file, extensions, recursive));\n                }\n\n                return;\n              }\n            } catch (err) {\n              // ignore error\n              return;\n            }\n\n            if (!stat.isFile() || !re.test(file) || basename(file)[0] === '.') {\n              return;\n            }\n\n            files.push(file);\n          });\n          return files;\n        }\n\n        return lookupFiles;\n      }(); /**\n            * Generate an undefined error with a message warning the user.\n            *\n            * @return {Error}\n            */\n\n      exports.undefinedError = function () {\n        return new Error('Caught undefined error, did you throw without specifying what?');\n      }; /**\n          * Generate an undefined error if `err` is not defined.\n          *\n          * @param {Error} err\n          * @return {Error}\n          */\n\n      exports.getError = function (err) {\n        return err || exports.undefinedError();\n      }; /**\n          * @summary\n          * This Filter based on `mocha-clean` module.(see: `github.com/rstacruz/mocha-clean`)\n          * @description\n          * When invoking this function you get a filter function that get the Error.stack as an input,\n          * and return a prettify output.\n          * (i.e: strip Mocha and internal node functions from stack trace).\n          * @returns {Function}\n          */\n\n      exports.stackTraceFilter = function () {\n        // TODO: Replace with `process.browser`\n        var slash = '/';\n        var is = typeof document === 'undefined' ? {\n          node: true\n        } : {\n          browser: true\n        };\n        var cwd = is.node ? process.cwd() + slash : (typeof location === 'undefined' ? window.location : location).href.replace(/\\/[^\\/]*$/, '/');\n\n        function isMochaInternal(line) {\n          return ~line.indexOf('node_modules' + slash + 'mocha' + slash) || ~line.indexOf('components' + slash + 'mochajs' + slash) || ~line.indexOf('components' + slash + 'mocha' + slash) || ~line.indexOf(slash + 'mocha.js');\n        }\n\n        function isNodeInternal(line) {\n          return ~line.indexOf('(timers.js:') || ~line.indexOf('(events.js:') || ~line.indexOf('(node.js:') || ~line.indexOf('(module.js:') || ~line.indexOf('GeneratorFunctionPrototype.next (native)') || false;\n        }\n\n        return function (stack) {\n          stack = stack.split('\\n');\n          stack = exports.reduce(stack, function (list, line) {\n            if (isMochaInternal(line)) {\n              return list;\n            }\n\n            if (is.node && isNodeInternal(line)) {\n              return list;\n            } // Clean up cwd(absolute)\n\n\n            list.push(line.replace(cwd, ''));\n            return list;\n          }, []);\n          return stack.join('\\n');\n        };\n      };\n    }).call(this, require('_process'), require(\"buffer\").Buffer);\n  }, {\n    \"_process\": 51,\n    \"buffer\": 43,\n    \"debug\": 2,\n    \"fs\": 41,\n    \"glob\": 41,\n    \"path\": 41,\n    \"util\": 66\n  }],\n  40: [function (require, module, exports) {\n    (function (process) {\n      var WritableStream = require('stream').Writable;\n\n      var inherits = require('util').inherits;\n\n      module.exports = BrowserStdout;\n      inherits(BrowserStdout, WritableStream);\n\n      function BrowserStdout(opts) {\n        if (!(this instanceof BrowserStdout)) return new BrowserStdout(opts);\n        opts = opts || {};\n        WritableStream.call(this, opts);\n        this.label = opts.label !== undefined ? opts.label : 'stdout';\n      }\n\n      BrowserStdout.prototype._write = function (chunks, encoding, cb) {\n        var output = chunks.toString ? chunks.toString() : chunks;\n\n        if (this.label === false) {\n          console.log(output);\n        } else {\n          console.log(this.label + ':', output);\n        }\n\n        process.nextTick(cb);\n      };\n    }).call(this, require('_process'));\n  }, {\n    \"_process\": 51,\n    \"stream\": 63,\n    \"util\": 66\n  }],\n  41: [function (require, module, exports) {}, {}],\n  42: [function (require, module, exports) {\n    arguments[4][41][0].apply(exports, arguments);\n  }, {\n    \"dup\": 41\n  }],\n  43: [function (require, module, exports) {\n    /*!\n     * The buffer module from node.js, for the browser.\n     *\n     * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n     * @license  MIT\n     */var base64 = require('base64-js');\n\n    var ieee754 = require('ieee754');\n\n    var isArray = require('is-array');\n\n    exports.Buffer = Buffer;\n    exports.SlowBuffer = SlowBuffer;\n    exports.INSPECT_MAX_BYTES = 50;\n    Buffer.poolSize = 8192; // not used by this implementation\n\n    var rootParent = {}; /**\n                          * If `Buffer.TYPED_ARRAY_SUPPORT`:\n                          *   === true    Use Uint8Array implementation (fastest)\n                          *   === false   Use Object implementation (most compatible, even IE6)\n                          *\n                          * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n                          * Opera 11.6+, iOS 4.2+.\n                          *\n                          * Due to various browser bugs, sometimes the Object implementation will be used even\n                          * when the browser supports typed arrays.\n                          *\n                          * Note:\n                          *\n                          *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n                          *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n                          *\n                          *   - Safari 5-7 lacks support for changing the `Object.prototype.constructor` property\n                          *     on objects.\n                          *\n                          *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n                          *\n                          *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n                          *     incorrect length in some situations.\n                         \n                          * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n                          * get the Object implementation, which is slower but behaves correctly.\n                          */\n\n    Buffer.TYPED_ARRAY_SUPPORT = function () {\n      function Bar() {}\n\n      try {\n        var arr = new Uint8Array(1);\n\n        arr.foo = function () {\n          return 42;\n        };\n\n        arr.constructor = Bar;\n        return arr.foo() === 42 && // typed array instances can be augmented\n        arr.constructor === Bar && // constructor can be set\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0; // ie10 has broken `subarray`\n      } catch (e) {\n        return false;\n      }\n    }();\n\n    function kMaxLength() {\n      return Buffer.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff;\n    } /**\n       * Class: Buffer\n       * =============\n       *\n       * The Buffer constructor returns instances of `Uint8Array` that are augmented\n       * with function properties for all the node `Buffer` API functions. We use\n       * `Uint8Array` so that square bracket notation works as expected -- it returns\n       * a single octet.\n       *\n       * By augmenting the instances, we can avoid modifying the `Uint8Array`\n       * prototype.\n       */\n\n    function Buffer(arg) {\n      if (!(this instanceof Buffer)) {\n        // Avoid going through an ArgumentsAdaptorTrampoline in the common case.\n        if (arguments.length > 1) return new Buffer(arg, arguments[1]);\n        return new Buffer(arg);\n      }\n\n      this.length = 0;\n      this.parent = undefined; // Common case.\n\n      if (typeof arg === 'number') {\n        return fromNumber(this, arg);\n      } // Slightly less common case.\n\n\n      if (typeof arg === 'string') {\n        return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8');\n      } // Unusual.\n\n\n      return fromObject(this, arg);\n    }\n\n    function fromNumber(that, length) {\n      that = allocate(that, length < 0 ? 0 : checked(length) | 0);\n\n      if (!Buffer.TYPED_ARRAY_SUPPORT) {\n        for (var i = 0; i < length; i++) {\n          that[i] = 0;\n        }\n      }\n\n      return that;\n    }\n\n    function fromString(that, string, encoding) {\n      if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'; // Assumption: byteLength() return value is always < kMaxLength.\n\n      var length = byteLength(string, encoding) | 0;\n      that = allocate(that, length);\n      that.write(string, encoding);\n      return that;\n    }\n\n    function fromObject(that, object) {\n      if (Buffer.isBuffer(object)) return fromBuffer(that, object);\n      if (isArray(object)) return fromArray(that, object);\n\n      if (object == null) {\n        throw new TypeError('must start with number, buffer, array or string');\n      }\n\n      if (typeof ArrayBuffer !== 'undefined') {\n        if (object.buffer instanceof ArrayBuffer) {\n          return fromTypedArray(that, object);\n        }\n\n        if (object instanceof ArrayBuffer) {\n          return fromArrayBuffer(that, object);\n        }\n      }\n\n      if (object.length) return fromArrayLike(that, object);\n      return fromJsonObject(that, object);\n    }\n\n    function fromBuffer(that, buffer) {\n      var length = checked(buffer.length) | 0;\n      that = allocate(that, length);\n      buffer.copy(that, 0, 0, length);\n      return that;\n    }\n\n    function fromArray(that, array) {\n      var length = checked(array.length) | 0;\n      that = allocate(that, length);\n\n      for (var i = 0; i < length; i += 1) {\n        that[i] = array[i] & 255;\n      }\n\n      return that;\n    } // Duplicate of fromArray() to keep fromArray() monomorphic.\n\n\n    function fromTypedArray(that, array) {\n      var length = checked(array.length) | 0;\n      that = allocate(that, length); // Truncating the elements is probably not what people expect from typed\n      // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior\n      // of the old Buffer constructor.\n\n      for (var i = 0; i < length; i += 1) {\n        that[i] = array[i] & 255;\n      }\n\n      return that;\n    }\n\n    function fromArrayBuffer(that, array) {\n      if (Buffer.TYPED_ARRAY_SUPPORT) {\n        // Return an augmented `Uint8Array` instance, for best performance\n        array.byteLength;\n        that = Buffer._augment(new Uint8Array(array));\n      } else {\n        // Fallback: Return an object instance of the Buffer class\n        that = fromTypedArray(that, new Uint8Array(array));\n      }\n\n      return that;\n    }\n\n    function fromArrayLike(that, array) {\n      var length = checked(array.length) | 0;\n      that = allocate(that, length);\n\n      for (var i = 0; i < length; i += 1) {\n        that[i] = array[i] & 255;\n      }\n\n      return that;\n    } // Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.\n    // Returns a zero-length buffer for inputs that don't conform to the spec.\n\n\n    function fromJsonObject(that, object) {\n      var array;\n      var length = 0;\n\n      if (object.type === 'Buffer' && isArray(object.data)) {\n        array = object.data;\n        length = checked(array.length) | 0;\n      }\n\n      that = allocate(that, length);\n\n      for (var i = 0; i < length; i += 1) {\n        that[i] = array[i] & 255;\n      }\n\n      return that;\n    }\n\n    function allocate(that, length) {\n      if (Buffer.TYPED_ARRAY_SUPPORT) {\n        // Return an augmented `Uint8Array` instance, for best performance\n        that = Buffer._augment(new Uint8Array(length));\n      } else {\n        // Fallback: Return an object instance of the Buffer class\n        that.length = length;\n        that._isBuffer = true;\n      }\n\n      var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1;\n      if (fromPool) that.parent = rootParent;\n      return that;\n    }\n\n    function checked(length) {\n      // Note: cannot use `length < kMaxLength` here because that fails when\n      // length is NaN (which is otherwise coerced to zero.)\n      if (length >= kMaxLength()) {\n        throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + kMaxLength().toString(16) + ' bytes');\n      }\n\n      return length | 0;\n    }\n\n    function SlowBuffer(subject, encoding) {\n      if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding);\n      var buf = new Buffer(subject, encoding);\n      delete buf.parent;\n      return buf;\n    }\n\n    Buffer.isBuffer = function () {\n      function isBuffer(b) {\n        return !!(b != null && b._isBuffer);\n      }\n\n      return isBuffer;\n    }();\n\n    Buffer.compare = function () {\n      function compare(a, b) {\n        if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n          throw new TypeError('Arguments must be Buffers');\n        }\n\n        if (a === b) return 0;\n        var x = a.length;\n        var y = b.length;\n        var i = 0;\n        var len = Math.min(x, y);\n\n        while (i < len) {\n          if (a[i] !== b[i]) break;\n          ++i;\n        }\n\n        if (i !== len) {\n          x = a[i];\n          y = b[i];\n        }\n\n        if (x < y) return -1;\n        if (y < x) return 1;\n        return 0;\n      }\n\n      return compare;\n    }();\n\n    Buffer.isEncoding = function () {\n      function isEncoding(encoding) {\n        switch (String(encoding).toLowerCase()) {\n          case 'hex':\n          case 'utf8':\n          case 'utf-8':\n          case 'ascii':\n          case 'binary':\n          case 'base64':\n          case 'raw':\n          case 'ucs2':\n          case 'ucs-2':\n          case 'utf16le':\n          case 'utf-16le':\n            return true;\n\n          default:\n            return false;\n        }\n      }\n\n      return isEncoding;\n    }();\n\n    Buffer.concat = function () {\n      function concat(list, length) {\n        if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.');\n\n        if (list.length === 0) {\n          return new Buffer(0);\n        }\n\n        var i;\n\n        if (length === undefined) {\n          length = 0;\n\n          for (i = 0; i < list.length; i++) {\n            length += list[i].length;\n          }\n        }\n\n        var buf = new Buffer(length);\n        var pos = 0;\n\n        for (i = 0; i < list.length; i++) {\n          var item = list[i];\n          item.copy(buf, pos);\n          pos += item.length;\n        }\n\n        return buf;\n      }\n\n      return concat;\n    }();\n\n    function byteLength(string, encoding) {\n      if (typeof string !== 'string') string = '' + string;\n      var len = string.length;\n      if (len === 0) return 0; // Use a for loop to avoid recursion\n\n      var loweredCase = false;\n\n      for (;;) {\n        switch (encoding) {\n          case 'ascii':\n          case 'binary': // Deprecated\n\n          case 'raw':\n          case 'raws':\n            return len;\n\n          case 'utf8':\n          case 'utf-8':\n            return utf8ToBytes(string).length;\n\n          case 'ucs2':\n          case 'ucs-2':\n          case 'utf16le':\n          case 'utf-16le':\n            return len * 2;\n\n          case 'hex':\n            return len >>> 1;\n\n          case 'base64':\n            return base64ToBytes(string).length;\n\n          default:\n            if (loweredCase) return utf8ToBytes(string).length; // assume utf8\n\n            encoding = ('' + encoding).toLowerCase();\n            loweredCase = true;\n        }\n      }\n    }\n\n    Buffer.byteLength = byteLength; // pre-set for values that may exist in the future\n\n    Buffer.prototype.length = undefined;\n    Buffer.prototype.parent = undefined;\n\n    function slowToString(encoding, start, end) {\n      var loweredCase = false;\n      start = start | 0;\n      end = end === undefined || end === Infinity ? this.length : end | 0;\n      if (!encoding) encoding = 'utf8';\n      if (start < 0) start = 0;\n      if (end > this.length) end = this.length;\n      if (end <= start) return '';\n\n      while (true) {\n        switch (encoding) {\n          case 'hex':\n            return hexSlice(this, start, end);\n\n          case 'utf8':\n          case 'utf-8':\n            return utf8Slice(this, start, end);\n\n          case 'ascii':\n            return asciiSlice(this, start, end);\n\n          case 'binary':\n            return binarySlice(this, start, end);\n\n          case 'base64':\n            return base64Slice(this, start, end);\n\n          case 'ucs2':\n          case 'ucs-2':\n          case 'utf16le':\n          case 'utf-16le':\n            return utf16leSlice(this, start, end);\n\n          default:\n            if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n            encoding = (encoding + '').toLowerCase();\n            loweredCase = true;\n        }\n      }\n    }\n\n    Buffer.prototype.toString = function () {\n      function toString() {\n        var length = this.length | 0;\n        if (length === 0) return '';\n        if (arguments.length === 0) return utf8Slice(this, 0, length);\n        return slowToString.apply(this, arguments);\n      }\n\n      return toString;\n    }();\n\n    Buffer.prototype.equals = function () {\n      function equals(b) {\n        if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');\n        if (this === b) return true;\n        return Buffer.compare(this, b) === 0;\n      }\n\n      return equals;\n    }();\n\n    Buffer.prototype.inspect = function () {\n      function inspect() {\n        var str = '';\n        var max = exports.INSPECT_MAX_BYTES;\n\n        if (this.length > 0) {\n          str = this.toString('hex', 0, max).match(/.{2}/g).join(' ');\n          if (this.length > max) str += ' ... ';\n        }\n\n        return '<Buffer ' + str + '>';\n      }\n\n      return inspect;\n    }();\n\n    Buffer.prototype.compare = function () {\n      function compare(b) {\n        if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');\n        if (this === b) return 0;\n        return Buffer.compare(this, b);\n      }\n\n      return compare;\n    }();\n\n    Buffer.prototype.indexOf = function () {\n      function indexOf(val, byteOffset) {\n        if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff;else if (byteOffset < -0x80000000) byteOffset = -0x80000000;\n        byteOffset >>= 0;\n        if (this.length === 0) return -1;\n        if (byteOffset >= this.length) return -1; // Negative offsets start from the end of the buffer\n\n        if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0);\n\n        if (typeof val === 'string') {\n          if (val.length === 0) return -1; // special case: looking for empty string always fails\n\n          return String.prototype.indexOf.call(this, val, byteOffset);\n        }\n\n        if (Buffer.isBuffer(val)) {\n          return arrayIndexOf(this, val, byteOffset);\n        }\n\n        if (typeof val === 'number') {\n          if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n            return Uint8Array.prototype.indexOf.call(this, val, byteOffset);\n          }\n\n          return arrayIndexOf(this, [val], byteOffset);\n        }\n\n        function arrayIndexOf(arr, val, byteOffset) {\n          var foundIndex = -1;\n\n          for (var i = 0; byteOffset + i < arr.length; i++) {\n            if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n              if (foundIndex === -1) foundIndex = i;\n              if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex;\n            } else {\n              foundIndex = -1;\n            }\n          }\n\n          return -1;\n        }\n\n        throw new TypeError('val must be string, number or Buffer');\n      }\n\n      return indexOf;\n    }(); // `get` is deprecated\n\n\n    Buffer.prototype.get = function () {\n      function get(offset) {\n        console.log('.get() is deprecated. Access using array indexes instead.');\n        return this.readUInt8(offset);\n      }\n\n      return get;\n    }(); // `set` is deprecated\n\n\n    Buffer.prototype.set = function () {\n      function set(v, offset) {\n        console.log('.set() is deprecated. Access using array indexes instead.');\n        return this.writeUInt8(v, offset);\n      }\n\n      return set;\n    }();\n\n    function hexWrite(buf, string, offset, length) {\n      offset = Number(offset) || 0;\n      var remaining = buf.length - offset;\n\n      if (!length) {\n        length = remaining;\n      } else {\n        length = Number(length);\n\n        if (length > remaining) {\n          length = remaining;\n        }\n      } // must be an even number of digits\n\n\n      var strLen = string.length;\n      if (strLen % 2 !== 0) throw new Error('Invalid hex string');\n\n      if (length > strLen / 2) {\n        length = strLen / 2;\n      }\n\n      for (var i = 0; i < length; i++) {\n        var parsed = parseInt(string.substr(i * 2, 2), 16);\n        if (isNaN(parsed)) throw new Error('Invalid hex string');\n        buf[offset + i] = parsed;\n      }\n\n      return i;\n    }\n\n    function utf8Write(buf, string, offset, length) {\n      return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n    }\n\n    function asciiWrite(buf, string, offset, length) {\n      return blitBuffer(asciiToBytes(string), buf, offset, length);\n    }\n\n    function binaryWrite(buf, string, offset, length) {\n      return asciiWrite(buf, string, offset, length);\n    }\n\n    function base64Write(buf, string, offset, length) {\n      return blitBuffer(base64ToBytes(string), buf, offset, length);\n    }\n\n    function ucs2Write(buf, string, offset, length) {\n      return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n    }\n\n    Buffer.prototype.write = function () {\n      function write(string, offset, length, encoding) {\n        // Buffer#write(string)\n        if (offset === undefined) {\n          encoding = 'utf8';\n          length = this.length;\n          offset = 0; // Buffer#write(string, encoding)\n        } else if (length === undefined && typeof offset === 'string') {\n          encoding = offset;\n          length = this.length;\n          offset = 0; // Buffer#write(string, offset[, length][, encoding])\n        } else if (isFinite(offset)) {\n          offset = offset | 0;\n\n          if (isFinite(length)) {\n            length = length | 0;\n            if (encoding === undefined) encoding = 'utf8';\n          } else {\n            encoding = length;\n            length = undefined;\n          } // legacy write(string, encoding, offset, length) - remove in v0.13\n\n        } else {\n          var swap = encoding;\n          encoding = offset;\n          offset = length | 0;\n          length = swap;\n        }\n\n        var remaining = this.length - offset;\n        if (length === undefined || length > remaining) length = remaining;\n\n        if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n          throw new RangeError('attempt to write outside buffer bounds');\n        }\n\n        if (!encoding) encoding = 'utf8';\n        var loweredCase = false;\n\n        for (;;) {\n          switch (encoding) {\n            case 'hex':\n              return hexWrite(this, string, offset, length);\n\n            case 'utf8':\n            case 'utf-8':\n              return utf8Write(this, string, offset, length);\n\n            case 'ascii':\n              return asciiWrite(this, string, offset, length);\n\n            case 'binary':\n              return binaryWrite(this, string, offset, length);\n\n            case 'base64':\n              // Warning: maxLength not taken into account in base64Write\n              return base64Write(this, string, offset, length);\n\n            case 'ucs2':\n            case 'ucs-2':\n            case 'utf16le':\n            case 'utf-16le':\n              return ucs2Write(this, string, offset, length);\n\n            default:\n              if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n              encoding = ('' + encoding).toLowerCase();\n              loweredCase = true;\n          }\n        }\n      }\n\n      return write;\n    }();\n\n    Buffer.prototype.toJSON = function () {\n      function toJSON() {\n        return {\n          type: 'Buffer',\n          data: Array.prototype.slice.call(this._arr || this, 0)\n        };\n      }\n\n      return toJSON;\n    }();\n\n    function base64Slice(buf, start, end) {\n      if (start === 0 && end === buf.length) {\n        return base64.fromByteArray(buf);\n      } else {\n        return base64.fromByteArray(buf.slice(start, end));\n      }\n    }\n\n    function utf8Slice(buf, start, end) {\n      end = Math.min(buf.length, end);\n      var res = [];\n      var i = start;\n\n      while (i < end) {\n        var firstByte = buf[i];\n        var codePoint = null;\n        var bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;\n\n        if (i + bytesPerSequence <= end) {\n          var secondByte, thirdByte, fourthByte, tempCodePoint;\n\n          switch (bytesPerSequence) {\n            case 1:\n              if (firstByte < 0x80) {\n                codePoint = firstByte;\n              }\n\n              break;\n\n            case 2:\n              secondByte = buf[i + 1];\n\n              if ((secondByte & 0xC0) === 0x80) {\n                tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;\n\n                if (tempCodePoint > 0x7F) {\n                  codePoint = tempCodePoint;\n                }\n              }\n\n              break;\n\n            case 3:\n              secondByte = buf[i + 1];\n              thirdByte = buf[i + 2];\n\n              if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n                tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;\n\n                if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n                  codePoint = tempCodePoint;\n                }\n              }\n\n              break;\n\n            case 4:\n              secondByte = buf[i + 1];\n              thirdByte = buf[i + 2];\n              fourthByte = buf[i + 3];\n\n              if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n                tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;\n\n                if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n                  codePoint = tempCodePoint;\n                }\n              }\n\n          }\n        }\n\n        if (codePoint === null) {\n          // we did not generate a valid codePoint so insert a\n          // replacement char (U+FFFD) and advance only 1 byte\n          codePoint = 0xFFFD;\n          bytesPerSequence = 1;\n        } else if (codePoint > 0xFFFF) {\n          // encode to utf16 (surrogate pair dance)\n          codePoint -= 0x10000;\n          res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n          codePoint = 0xDC00 | codePoint & 0x3FF;\n        }\n\n        res.push(codePoint);\n        i += bytesPerSequence;\n      }\n\n      return decodeCodePointsArray(res);\n    } // Based on http://stackoverflow.com/a/22747272/680742, the browser with\n    // the lowest limit is Chrome, with 0x10000 args.\n    // We go 1 magnitude less, for safety\n\n\n    var MAX_ARGUMENTS_LENGTH = 0x1000;\n\n    function decodeCodePointsArray(codePoints) {\n      var len = codePoints.length;\n\n      if (len <= MAX_ARGUMENTS_LENGTH) {\n        return String.fromCharCode.apply(String, codePoints); // avoid extra slice()\n      } // Decode in chunks to avoid \"call stack size exceeded\".\n\n\n      var res = '';\n      var i = 0;\n\n      while (i < len) {\n        res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n      }\n\n      return res;\n    }\n\n    function asciiSlice(buf, start, end) {\n      var ret = '';\n      end = Math.min(buf.length, end);\n\n      for (var i = start; i < end; i++) {\n        ret += String.fromCharCode(buf[i] & 0x7F);\n      }\n\n      return ret;\n    }\n\n    function binarySlice(buf, start, end) {\n      var ret = '';\n      end = Math.min(buf.length, end);\n\n      for (var i = start; i < end; i++) {\n        ret += String.fromCharCode(buf[i]);\n      }\n\n      return ret;\n    }\n\n    function hexSlice(buf, start, end) {\n      var len = buf.length;\n      if (!start || start < 0) start = 0;\n      if (!end || end < 0 || end > len) end = len;\n      var out = '';\n\n      for (var i = start; i < end; i++) {\n        out += toHex(buf[i]);\n      }\n\n      return out;\n    }\n\n    function utf16leSlice(buf, start, end) {\n      var bytes = buf.slice(start, end);\n      var res = '';\n\n      for (var i = 0; i < bytes.length; i += 2) {\n        res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n      }\n\n      return res;\n    }\n\n    Buffer.prototype.slice = function () {\n      function slice(start, end) {\n        var len = this.length;\n        start = ~~start;\n        end = end === undefined ? len : ~~end;\n\n        if (start < 0) {\n          start += len;\n          if (start < 0) start = 0;\n        } else if (start > len) {\n          start = len;\n        }\n\n        if (end < 0) {\n          end += len;\n          if (end < 0) end = 0;\n        } else if (end > len) {\n          end = len;\n        }\n\n        if (end < start) end = start;\n        var newBuf;\n\n        if (Buffer.TYPED_ARRAY_SUPPORT) {\n          newBuf = Buffer._augment(this.subarray(start, end));\n        } else {\n          var sliceLen = end - start;\n          newBuf = new Buffer(sliceLen, undefined);\n\n          for (var i = 0; i < sliceLen; i++) {\n            newBuf[i] = this[i + start];\n          }\n        }\n\n        if (newBuf.length) newBuf.parent = this.parent || this;\n        return newBuf;\n      }\n\n      return slice;\n    }(); /*\n          * Need to make sure that buffer isn't trying to write out of bounds.\n          */\n\n    function checkOffset(offset, ext, length) {\n      if (offset % 1 !== 0 || offset < 0) throw new RangeError('offset is not uint');\n      if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length');\n    }\n\n    Buffer.prototype.readUIntLE = function () {\n      function readUIntLE(offset, byteLength, noAssert) {\n        offset = offset | 0;\n        byteLength = byteLength | 0;\n        if (!noAssert) checkOffset(offset, byteLength, this.length);\n        var val = this[offset];\n        var mul = 1;\n        var i = 0;\n\n        while (++i < byteLength && (mul *= 0x100)) {\n          val += this[offset + i] * mul;\n        }\n\n        return val;\n      }\n\n      return readUIntLE;\n    }();\n\n    Buffer.prototype.readUIntBE = function () {\n      function readUIntBE(offset, byteLength, noAssert) {\n        offset = offset | 0;\n        byteLength = byteLength | 0;\n\n        if (!noAssert) {\n          checkOffset(offset, byteLength, this.length);\n        }\n\n        var val = this[offset + --byteLength];\n        var mul = 1;\n\n        while (byteLength > 0 && (mul *= 0x100)) {\n          val += this[offset + --byteLength] * mul;\n        }\n\n        return val;\n      }\n\n      return readUIntBE;\n    }();\n\n    Buffer.prototype.readUInt8 = function () {\n      function readUInt8(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 1, this.length);\n        return this[offset];\n      }\n\n      return readUInt8;\n    }();\n\n    Buffer.prototype.readUInt16LE = function () {\n      function readUInt16LE(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 2, this.length);\n        return this[offset] | this[offset + 1] << 8;\n      }\n\n      return readUInt16LE;\n    }();\n\n    Buffer.prototype.readUInt16BE = function () {\n      function readUInt16BE(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 2, this.length);\n        return this[offset] << 8 | this[offset + 1];\n      }\n\n      return readUInt16BE;\n    }();\n\n    Buffer.prototype.readUInt32LE = function () {\n      function readUInt32LE(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 4, this.length);\n        return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;\n      }\n\n      return readUInt32LE;\n    }();\n\n    Buffer.prototype.readUInt32BE = function () {\n      function readUInt32BE(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 4, this.length);\n        return this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n      }\n\n      return readUInt32BE;\n    }();\n\n    Buffer.prototype.readIntLE = function () {\n      function readIntLE(offset, byteLength, noAssert) {\n        offset = offset | 0;\n        byteLength = byteLength | 0;\n        if (!noAssert) checkOffset(offset, byteLength, this.length);\n        var val = this[offset];\n        var mul = 1;\n        var i = 0;\n\n        while (++i < byteLength && (mul *= 0x100)) {\n          val += this[offset + i] * mul;\n        }\n\n        mul *= 0x80;\n        if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n        return val;\n      }\n\n      return readIntLE;\n    }();\n\n    Buffer.prototype.readIntBE = function () {\n      function readIntBE(offset, byteLength, noAssert) {\n        offset = offset | 0;\n        byteLength = byteLength | 0;\n        if (!noAssert) checkOffset(offset, byteLength, this.length);\n        var i = byteLength;\n        var mul = 1;\n        var val = this[offset + --i];\n\n        while (i > 0 && (mul *= 0x100)) {\n          val += this[offset + --i] * mul;\n        }\n\n        mul *= 0x80;\n        if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n        return val;\n      }\n\n      return readIntBE;\n    }();\n\n    Buffer.prototype.readInt8 = function () {\n      function readInt8(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 1, this.length);\n        if (!(this[offset] & 0x80)) return this[offset];\n        return (0xff - this[offset] + 1) * -1;\n      }\n\n      return readInt8;\n    }();\n\n    Buffer.prototype.readInt16LE = function () {\n      function readInt16LE(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 2, this.length);\n        var val = this[offset] | this[offset + 1] << 8;\n        return val & 0x8000 ? val | 0xFFFF0000 : val;\n      }\n\n      return readInt16LE;\n    }();\n\n    Buffer.prototype.readInt16BE = function () {\n      function readInt16BE(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 2, this.length);\n        var val = this[offset + 1] | this[offset] << 8;\n        return val & 0x8000 ? val | 0xFFFF0000 : val;\n      }\n\n      return readInt16BE;\n    }();\n\n    Buffer.prototype.readInt32LE = function () {\n      function readInt32LE(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 4, this.length);\n        return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n      }\n\n      return readInt32LE;\n    }();\n\n    Buffer.prototype.readInt32BE = function () {\n      function readInt32BE(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 4, this.length);\n        return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n      }\n\n      return readInt32BE;\n    }();\n\n    Buffer.prototype.readFloatLE = function () {\n      function readFloatLE(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 4, this.length);\n        return ieee754.read(this, offset, true, 23, 4);\n      }\n\n      return readFloatLE;\n    }();\n\n    Buffer.prototype.readFloatBE = function () {\n      function readFloatBE(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 4, this.length);\n        return ieee754.read(this, offset, false, 23, 4);\n      }\n\n      return readFloatBE;\n    }();\n\n    Buffer.prototype.readDoubleLE = function () {\n      function readDoubleLE(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 8, this.length);\n        return ieee754.read(this, offset, true, 52, 8);\n      }\n\n      return readDoubleLE;\n    }();\n\n    Buffer.prototype.readDoubleBE = function () {\n      function readDoubleBE(offset, noAssert) {\n        if (!noAssert) checkOffset(offset, 8, this.length);\n        return ieee754.read(this, offset, false, 52, 8);\n      }\n\n      return readDoubleBE;\n    }();\n\n    function checkInt(buf, value, offset, ext, max, min) {\n      if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance');\n      if (value > max || value < min) throw new RangeError('value is out of bounds');\n      if (offset + ext > buf.length) throw new RangeError('index out of range');\n    }\n\n    Buffer.prototype.writeUIntLE = function () {\n      function writeUIntLE(value, offset, byteLength, noAssert) {\n        value = +value;\n        offset = offset | 0;\n        byteLength = byteLength | 0;\n        if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0);\n        var mul = 1;\n        var i = 0;\n        this[offset] = value & 0xFF;\n\n        while (++i < byteLength && (mul *= 0x100)) {\n          this[offset + i] = value / mul & 0xFF;\n        }\n\n        return offset + byteLength;\n      }\n\n      return writeUIntLE;\n    }();\n\n    Buffer.prototype.writeUIntBE = function () {\n      function writeUIntBE(value, offset, byteLength, noAssert) {\n        value = +value;\n        offset = offset | 0;\n        byteLength = byteLength | 0;\n        if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0);\n        var i = byteLength - 1;\n        var mul = 1;\n        this[offset + i] = value & 0xFF;\n\n        while (--i >= 0 && (mul *= 0x100)) {\n          this[offset + i] = value / mul & 0xFF;\n        }\n\n        return offset + byteLength;\n      }\n\n      return writeUIntBE;\n    }();\n\n    Buffer.prototype.writeUInt8 = function () {\n      function writeUInt8(value, offset, noAssert) {\n        value = +value;\n        offset = offset | 0;\n        if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n        if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n        this[offset] = value;\n        return offset + 1;\n      }\n\n      return writeUInt8;\n    }();\n\n    function objectWriteUInt16(buf, value, offset, littleEndian) {\n      if (value < 0) value = 0xffff + value + 1;\n\n      for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n        buf[offset + i] = (value & 0xff << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;\n      }\n    }\n\n    Buffer.prototype.writeUInt16LE = function () {\n      function writeUInt16LE(value, offset, noAssert) {\n        value = +value;\n        offset = offset | 0;\n        if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\n        if (Buffer.TYPED_ARRAY_SUPPORT) {\n          this[offset] = value;\n          this[offset + 1] = value >>> 8;\n        } else {\n          objectWriteUInt16(this, value, offset, true);\n        }\n\n        return offset + 2;\n      }\n\n      return writeUInt16LE;\n    }();\n\n    Buffer.prototype.writeUInt16BE = function () {\n      function writeUInt16BE(value, offset, noAssert) {\n        value = +value;\n        offset = offset | 0;\n        if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\n        if (Buffer.TYPED_ARRAY_SUPPORT) {\n          this[offset] = value >>> 8;\n          this[offset + 1] = value;\n        } else {\n          objectWriteUInt16(this, value, offset, false);\n        }\n\n        return offset + 2;\n      }\n\n      return writeUInt16BE;\n    }();\n\n    function objectWriteUInt32(buf, value, offset, littleEndian) {\n      if (value < 0) value = 0xffffffff + value + 1;\n\n      for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n        buf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 0xff;\n      }\n    }\n\n    Buffer.prototype.writeUInt32LE = function () {\n      function writeUInt32LE(value, offset, noAssert) {\n        value = +value;\n        offset = offset | 0;\n        if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\n        if (Buffer.TYPED_ARRAY_SUPPORT) {\n          this[offset + 3] = value >>> 24;\n          this[offset + 2] = value >>> 16;\n          this[offset + 1] = value >>> 8;\n          this[offset] = value;\n        } else {\n          objectWriteUInt32(this, value, offset, true);\n        }\n\n        return offset + 4;\n      }\n\n      return writeUInt32LE;\n    }();\n\n    Buffer.prototype.writeUInt32BE = function () {\n      function writeUInt32BE(value, offset, noAssert) {\n        value = +value;\n        offset = offset | 0;\n        if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\n        if (Buffer.TYPED_ARRAY_SUPPORT) {\n          this[offset] = value >>> 24;\n          this[offset + 1] = value >>> 16;\n          this[offset + 2] = value >>> 8;\n          this[offset + 3] = value;\n        } else {\n          objectWriteUInt32(this, value, offset, false);\n        }\n\n        return offset + 4;\n      }\n\n      return writeUInt32BE;\n    }();\n\n    Buffer.prototype.writeIntLE = function () {\n      function writeIntLE(value, offset, byteLength, noAssert) {\n        value = +value;\n        offset = offset | 0;\n\n        if (!noAssert) {\n          var limit = Math.pow(2, 8 * byteLength - 1);\n          checkInt(this, value, offset, byteLength, limit - 1, -limit);\n        }\n\n        var i = 0;\n        var mul = 1;\n        var sub = value < 0 ? 1 : 0;\n        this[offset] = value & 0xFF;\n\n        while (++i < byteLength && (mul *= 0x100)) {\n          this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n        }\n\n        return offset + byteLength;\n      }\n\n      return writeIntLE;\n    }();\n\n    Buffer.prototype.writeIntBE = function () {\n      function writeIntBE(value, offset, byteLength, noAssert) {\n        value = +value;\n        offset = offset | 0;\n\n        if (!noAssert) {\n          var limit = Math.pow(2, 8 * byteLength - 1);\n          checkInt(this, value, offset, byteLength, limit - 1, -limit);\n        }\n\n        var i = byteLength - 1;\n        var mul = 1;\n        var sub = value < 0 ? 1 : 0;\n        this[offset + i] = value & 0xFF;\n\n        while (--i >= 0 && (mul *= 0x100)) {\n          this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n        }\n\n        return offset + byteLength;\n      }\n\n      return writeIntBE;\n    }();\n\n    Buffer.prototype.writeInt8 = function () {\n      function writeInt8(value, offset, noAssert) {\n        value = +value;\n        offset = offset | 0;\n        if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n        if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n        if (value < 0) value = 0xff + value + 1;\n        this[offset] = value;\n        return offset + 1;\n      }\n\n      return writeInt8;\n    }();\n\n    Buffer.prototype.writeInt16LE = function () {\n      function writeInt16LE(value, offset, noAssert) {\n        value = +value;\n        offset = offset | 0;\n        if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\n        if (Buffer.TYPED_ARRAY_SUPPORT) {\n          this[offset] = value;\n          this[offset + 1] = value >>> 8;\n        } else {\n          objectWriteUInt16(this, value, offset, true);\n        }\n\n        return offset + 2;\n      }\n\n      return writeInt16LE;\n    }();\n\n    Buffer.prototype.writeInt16BE = function () {\n      function writeInt16BE(value, offset, noAssert) {\n        value = +value;\n        offset = offset | 0;\n        if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\n        if (Buffer.TYPED_ARRAY_SUPPORT) {\n          this[offset] = value >>> 8;\n          this[offset + 1] = value;\n        } else {\n          objectWriteUInt16(this, value, offset, false);\n        }\n\n        return offset + 2;\n      }\n\n      return writeInt16BE;\n    }();\n\n    Buffer.prototype.writeInt32LE = function () {\n      function writeInt32LE(value, offset, noAssert) {\n        value = +value;\n        offset = offset | 0;\n        if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\n        if (Buffer.TYPED_ARRAY_SUPPORT) {\n          this[offset] = value;\n          this[offset + 1] = value >>> 8;\n          this[offset + 2] = value >>> 16;\n          this[offset + 3] = value >>> 24;\n        } else {\n          objectWriteUInt32(this, value, offset, true);\n        }\n\n        return offset + 4;\n      }\n\n      return writeInt32LE;\n    }();\n\n    Buffer.prototype.writeInt32BE = function () {\n      function writeInt32BE(value, offset, noAssert) {\n        value = +value;\n        offset = offset | 0;\n        if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n        if (value < 0) value = 0xffffffff + value + 1;\n\n        if (Buffer.TYPED_ARRAY_SUPPORT) {\n          this[offset] = value >>> 24;\n          this[offset + 1] = value >>> 16;\n          this[offset + 2] = value >>> 8;\n          this[offset + 3] = value;\n        } else {\n          objectWriteUInt32(this, value, offset, false);\n        }\n\n        return offset + 4;\n      }\n\n      return writeInt32BE;\n    }();\n\n    function checkIEEE754(buf, value, offset, ext, max, min) {\n      if (value > max || value < min) throw new RangeError('value is out of bounds');\n      if (offset + ext > buf.length) throw new RangeError('index out of range');\n      if (offset < 0) throw new RangeError('index out of range');\n    }\n\n    function writeFloat(buf, value, offset, littleEndian, noAssert) {\n      if (!noAssert) {\n        checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);\n      }\n\n      ieee754.write(buf, value, offset, littleEndian, 23, 4);\n      return offset + 4;\n    }\n\n    Buffer.prototype.writeFloatLE = function () {\n      function writeFloatLE(value, offset, noAssert) {\n        return writeFloat(this, value, offset, true, noAssert);\n      }\n\n      return writeFloatLE;\n    }();\n\n    Buffer.prototype.writeFloatBE = function () {\n      function writeFloatBE(value, offset, noAssert) {\n        return writeFloat(this, value, offset, false, noAssert);\n      }\n\n      return writeFloatBE;\n    }();\n\n    function writeDouble(buf, value, offset, littleEndian, noAssert) {\n      if (!noAssert) {\n        checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);\n      }\n\n      ieee754.write(buf, value, offset, littleEndian, 52, 8);\n      return offset + 8;\n    }\n\n    Buffer.prototype.writeDoubleLE = function () {\n      function writeDoubleLE(value, offset, noAssert) {\n        return writeDouble(this, value, offset, true, noAssert);\n      }\n\n      return writeDoubleLE;\n    }();\n\n    Buffer.prototype.writeDoubleBE = function () {\n      function writeDoubleBE(value, offset, noAssert) {\n        return writeDouble(this, value, offset, false, noAssert);\n      }\n\n      return writeDoubleBE;\n    }(); // copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n\n\n    Buffer.prototype.copy = function () {\n      function copy(target, targetStart, start, end) {\n        if (!start) start = 0;\n        if (!end && end !== 0) end = this.length;\n        if (targetStart >= target.length) targetStart = target.length;\n        if (!targetStart) targetStart = 0;\n        if (end > 0 && end < start) end = start; // Copy 0 bytes; we're done\n\n        if (end === start) return 0;\n        if (target.length === 0 || this.length === 0) return 0; // Fatal error conditions\n\n        if (targetStart < 0) {\n          throw new RangeError('targetStart out of bounds');\n        }\n\n        if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds');\n        if (end < 0) throw new RangeError('sourceEnd out of bounds'); // Are we oob?\n\n        if (end > this.length) end = this.length;\n\n        if (target.length - targetStart < end - start) {\n          end = target.length - targetStart + start;\n        }\n\n        var len = end - start;\n        var i;\n\n        if (this === target && start < targetStart && targetStart < end) {\n          // descending copy from end\n          for (i = len - 1; i >= 0; i--) {\n            target[i + targetStart] = this[i + start];\n          }\n        } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n          // ascending copy from start\n          for (i = 0; i < len; i++) {\n            target[i + targetStart] = this[i + start];\n          }\n        } else {\n          target._set(this.subarray(start, start + len), targetStart);\n        }\n\n        return len;\n      }\n\n      return copy;\n    }(); // fill(value, start=0, end=buffer.length)\n\n\n    Buffer.prototype.fill = function () {\n      function fill(value, start, end) {\n        if (!value) value = 0;\n        if (!start) start = 0;\n        if (!end) end = this.length;\n        if (end < start) throw new RangeError('end < start'); // Fill 0 bytes; we're done\n\n        if (end === start) return;\n        if (this.length === 0) return;\n        if (start < 0 || start >= this.length) throw new RangeError('start out of bounds');\n        if (end < 0 || end > this.length) throw new RangeError('end out of bounds');\n        var i;\n\n        if (typeof value === 'number') {\n          for (i = start; i < end; i++) {\n            this[i] = value;\n          }\n        } else {\n          var bytes = utf8ToBytes(value.toString());\n          var len = bytes.length;\n\n          for (i = start; i < end; i++) {\n            this[i] = bytes[i % len];\n          }\n        }\n\n        return this;\n      }\n\n      return fill;\n    }(); /**\n          * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n          * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n          */\n\n    Buffer.prototype.toArrayBuffer = function () {\n      function toArrayBuffer() {\n        if (typeof Uint8Array !== 'undefined') {\n          if (Buffer.TYPED_ARRAY_SUPPORT) {\n            return new Buffer(this).buffer;\n          } else {\n            var buf = new Uint8Array(this.length);\n\n            for (var i = 0, len = buf.length; i < len; i += 1) {\n              buf[i] = this[i];\n            }\n\n            return buf.buffer;\n          }\n        } else {\n          throw new TypeError('Buffer.toArrayBuffer not supported in this browser');\n        }\n      }\n\n      return toArrayBuffer;\n    }(); // HELPER FUNCTIONS\n    // ================\n\n\n    var BP = Buffer.prototype; /**\n                                * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n                                */\n\n    Buffer._augment = function () {\n      function _augment(arr) {\n        arr.constructor = Buffer;\n        arr._isBuffer = true; // save reference to original Uint8Array set method before overwriting\n\n        arr._set = arr.set; // deprecated\n\n        arr.get = BP.get;\n        arr.set = BP.set;\n        arr.write = BP.write;\n        arr.toString = BP.toString;\n        arr.toLocaleString = BP.toString;\n        arr.toJSON = BP.toJSON;\n        arr.equals = BP.equals;\n        arr.compare = BP.compare;\n        arr.indexOf = BP.indexOf;\n        arr.copy = BP.copy;\n        arr.slice = BP.slice;\n        arr.readUIntLE = BP.readUIntLE;\n        arr.readUIntBE = BP.readUIntBE;\n        arr.readUInt8 = BP.readUInt8;\n        arr.readUInt16LE = BP.readUInt16LE;\n        arr.readUInt16BE = BP.readUInt16BE;\n        arr.readUInt32LE = BP.readUInt32LE;\n        arr.readUInt32BE = BP.readUInt32BE;\n        arr.readIntLE = BP.readIntLE;\n        arr.readIntBE = BP.readIntBE;\n        arr.readInt8 = BP.readInt8;\n        arr.readInt16LE = BP.readInt16LE;\n        arr.readInt16BE = BP.readInt16BE;\n        arr.readInt32LE = BP.readInt32LE;\n        arr.readInt32BE = BP.readInt32BE;\n        arr.readFloatLE = BP.readFloatLE;\n        arr.readFloatBE = BP.readFloatBE;\n        arr.readDoubleLE = BP.readDoubleLE;\n        arr.readDoubleBE = BP.readDoubleBE;\n        arr.writeUInt8 = BP.writeUInt8;\n        arr.writeUIntLE = BP.writeUIntLE;\n        arr.writeUIntBE = BP.writeUIntBE;\n        arr.writeUInt16LE = BP.writeUInt16LE;\n        arr.writeUInt16BE = BP.writeUInt16BE;\n        arr.writeUInt32LE = BP.writeUInt32LE;\n        arr.writeUInt32BE = BP.writeUInt32BE;\n        arr.writeIntLE = BP.writeIntLE;\n        arr.writeIntBE = BP.writeIntBE;\n        arr.writeInt8 = BP.writeInt8;\n        arr.writeInt16LE = BP.writeInt16LE;\n        arr.writeInt16BE = BP.writeInt16BE;\n        arr.writeInt32LE = BP.writeInt32LE;\n        arr.writeInt32BE = BP.writeInt32BE;\n        arr.writeFloatLE = BP.writeFloatLE;\n        arr.writeFloatBE = BP.writeFloatBE;\n        arr.writeDoubleLE = BP.writeDoubleLE;\n        arr.writeDoubleBE = BP.writeDoubleBE;\n        arr.fill = BP.fill;\n        arr.inspect = BP.inspect;\n        arr.toArrayBuffer = BP.toArrayBuffer;\n        return arr;\n      }\n\n      return _augment;\n    }();\n\n    var INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g;\n\n    function base64clean(str) {\n      // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n      str = stringtrim(str).replace(INVALID_BASE64_RE, ''); // Node converts strings with length < 2 to ''\n\n      if (str.length < 2) return ''; // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n\n      while (str.length % 4 !== 0) {\n        str = str + '=';\n      }\n\n      return str;\n    }\n\n    function stringtrim(str) {\n      if (str.trim) return str.trim();\n      return str.replace(/^\\s+|\\s+$/g, '');\n    }\n\n    function toHex(n) {\n      if (n < 16) return '0' + n.toString(16);\n      return n.toString(16);\n    }\n\n    function utf8ToBytes(string, units) {\n      units = units || Infinity;\n      var codePoint;\n      var length = string.length;\n      var leadSurrogate = null;\n      var bytes = [];\n\n      for (var i = 0; i < length; i++) {\n        codePoint = string.charCodeAt(i); // is surrogate component\n\n        if (codePoint > 0xD7FF && codePoint < 0xE000) {\n          // last char was a lead\n          if (!leadSurrogate) {\n            // no lead yet\n            if (codePoint > 0xDBFF) {\n              // unexpected trail\n              if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n              continue;\n            } else if (i + 1 === length) {\n              // unpaired lead\n              if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n              continue;\n            } // valid lead\n\n\n            leadSurrogate = codePoint;\n            continue;\n          } // 2 leads in a row\n\n\n          if (codePoint < 0xDC00) {\n            if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n            leadSurrogate = codePoint;\n            continue;\n          } // valid surrogate pair\n\n\n          codePoint = leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00 | 0x10000;\n        } else if (leadSurrogate) {\n          // valid bmp char, but last char was a lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        }\n\n        leadSurrogate = null; // encode utf8\n\n        if (codePoint < 0x80) {\n          if ((units -= 1) < 0) break;\n          bytes.push(codePoint);\n        } else if (codePoint < 0x800) {\n          if ((units -= 2) < 0) break;\n          bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n        } else if (codePoint < 0x10000) {\n          if ((units -= 3) < 0) break;\n          bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n        } else if (codePoint < 0x110000) {\n          if ((units -= 4) < 0) break;\n          bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n        } else {\n          throw new Error('Invalid code point');\n        }\n      }\n\n      return bytes;\n    }\n\n    function asciiToBytes(str) {\n      var byteArray = [];\n\n      for (var i = 0; i < str.length; i++) {\n        // Node's code seems to be doing this and not & 0x7F..\n        byteArray.push(str.charCodeAt(i) & 0xFF);\n      }\n\n      return byteArray;\n    }\n\n    function utf16leToBytes(str, units) {\n      var c, hi, lo;\n      var byteArray = [];\n\n      for (var i = 0; i < str.length; i++) {\n        if ((units -= 2) < 0) break;\n        c = str.charCodeAt(i);\n        hi = c >> 8;\n        lo = c % 256;\n        byteArray.push(lo);\n        byteArray.push(hi);\n      }\n\n      return byteArray;\n    }\n\n    function base64ToBytes(str) {\n      return base64.toByteArray(base64clean(str));\n    }\n\n    function blitBuffer(src, dst, offset, length) {\n      for (var i = 0; i < length; i++) {\n        if (i + offset >= dst.length || i >= src.length) break;\n        dst[i + offset] = src[i];\n      }\n\n      return i;\n    }\n  }, {\n    \"base64-js\": 44,\n    \"ieee754\": 45,\n    \"is-array\": 46\n  }],\n  44: [function (require, module, exports) {\n    var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    ;\n\n    (function (exports) {\n      'use strict';\n\n      var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\n      var PLUS = '+'.charCodeAt(0);\n      var SLASH = '/'.charCodeAt(0);\n      var NUMBER = '0'.charCodeAt(0);\n      var LOWER = 'a'.charCodeAt(0);\n      var UPPER = 'A'.charCodeAt(0);\n      var PLUS_URL_SAFE = '-'.charCodeAt(0);\n      var SLASH_URL_SAFE = '_'.charCodeAt(0);\n\n      function decode(elt) {\n        var code = elt.charCodeAt(0);\n        if (code === PLUS || code === PLUS_URL_SAFE) return 62; // '+'\n\n        if (code === SLASH || code === SLASH_URL_SAFE) return 63; // '/'\n\n        if (code < NUMBER) return -1; //no match\n\n        if (code < NUMBER + 10) return code - NUMBER + 26 + 26;\n        if (code < UPPER + 26) return code - UPPER;\n        if (code < LOWER + 26) return code - LOWER + 26;\n      }\n\n      function b64ToByteArray(b64) {\n        var i, j, l, tmp, placeHolders, arr;\n\n        if (b64.length % 4 > 0) {\n          throw new Error('Invalid string. Length must be a multiple of 4');\n        } // the number of equal signs (place holders)\n        // if there are two placeholders, than the two characters before it\n        // represent one byte\n        // if there is only one, then the three characters before it represent 2 bytes\n        // this is just a cheap hack to not do indexOf twice\n\n\n        var len = b64.length;\n        placeHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0; // base64 is 4/3 + up to two characters of the original data\n\n        arr = new Arr(b64.length * 3 / 4 - placeHolders); // if there are placeholders, only get up to the last complete 4 chars\n\n        l = placeHolders > 0 ? b64.length - 4 : b64.length;\n        var L = 0;\n\n        function push(v) {\n          arr[L++] = v;\n        }\n\n        for (i = 0, j = 0; i < l; i += 4, j += 3) {\n          tmp = decode(b64.charAt(i)) << 18 | decode(b64.charAt(i + 1)) << 12 | decode(b64.charAt(i + 2)) << 6 | decode(b64.charAt(i + 3));\n          push((tmp & 0xFF0000) >> 16);\n          push((tmp & 0xFF00) >> 8);\n          push(tmp & 0xFF);\n        }\n\n        if (placeHolders === 2) {\n          tmp = decode(b64.charAt(i)) << 2 | decode(b64.charAt(i + 1)) >> 4;\n          push(tmp & 0xFF);\n        } else if (placeHolders === 1) {\n          tmp = decode(b64.charAt(i)) << 10 | decode(b64.charAt(i + 1)) << 4 | decode(b64.charAt(i + 2)) >> 2;\n          push(tmp >> 8 & 0xFF);\n          push(tmp & 0xFF);\n        }\n\n        return arr;\n      }\n\n      function uint8ToBase64(uint8) {\n        var i,\n            extraBytes = uint8.length % 3,\n            // if we have 1 byte left, pad 2 bytes\n        output = \"\",\n            temp,\n            length;\n\n        function encode(num) {\n          return lookup.charAt(num);\n        }\n\n        function tripletToBase64(num) {\n          return encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F);\n        } // go through the array every three bytes, we'll deal with trailing stuff later\n\n\n        for (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n          temp = (uint8[i] << 16) + (uint8[i + 1] << 8) + uint8[i + 2];\n          output += tripletToBase64(temp);\n        } // pad the end with zeros, but make sure to not forget the extra bytes\n\n\n        switch (extraBytes) {\n          case 1:\n            temp = uint8[uint8.length - 1];\n            output += encode(temp >> 2);\n            output += encode(temp << 4 & 0x3F);\n            output += '==';\n            break;\n\n          case 2:\n            temp = (uint8[uint8.length - 2] << 8) + uint8[uint8.length - 1];\n            output += encode(temp >> 10);\n            output += encode(temp >> 4 & 0x3F);\n            output += encode(temp << 2 & 0x3F);\n            output += '=';\n            break;\n        }\n\n        return output;\n      }\n\n      exports.toByteArray = b64ToByteArray;\n      exports.fromByteArray = uint8ToBase64;\n    })(typeof exports === 'undefined' ? this.base64js = {} : exports);\n  }, {}],\n  45: [function (require, module, exports) {\n    exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n      var e, m;\n      var eLen = nBytes * 8 - mLen - 1;\n      var eMax = (1 << eLen) - 1;\n      var eBias = eMax >> 1;\n      var nBits = -7;\n      var i = isLE ? nBytes - 1 : 0;\n      var d = isLE ? -1 : 1;\n      var s = buffer[offset + i];\n      i += d;\n      e = s & (1 << -nBits) - 1;\n      s >>= -nBits;\n      nBits += eLen;\n\n      for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n      m = e & (1 << -nBits) - 1;\n      e >>= -nBits;\n      nBits += mLen;\n\n      for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n      if (e === 0) {\n        e = 1 - eBias;\n      } else if (e === eMax) {\n        return m ? NaN : (s ? -1 : 1) * Infinity;\n      } else {\n        m = m + Math.pow(2, mLen);\n        e = e - eBias;\n      }\n\n      return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n    };\n\n    exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n      var e, m, c;\n      var eLen = nBytes * 8 - mLen - 1;\n      var eMax = (1 << eLen) - 1;\n      var eBias = eMax >> 1;\n      var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n      var i = isLE ? 0 : nBytes - 1;\n      var d = isLE ? 1 : -1;\n      var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n      value = Math.abs(value);\n\n      if (isNaN(value) || value === Infinity) {\n        m = isNaN(value) ? 1 : 0;\n        e = eMax;\n      } else {\n        e = Math.floor(Math.log(value) / Math.LN2);\n\n        if (value * (c = Math.pow(2, -e)) < 1) {\n          e--;\n          c *= 2;\n        }\n\n        if (e + eBias >= 1) {\n          value += rt / c;\n        } else {\n          value += rt * Math.pow(2, 1 - eBias);\n        }\n\n        if (value * c >= 2) {\n          e++;\n          c /= 2;\n        }\n\n        if (e + eBias >= eMax) {\n          m = 0;\n          e = eMax;\n        } else if (e + eBias >= 1) {\n          m = (value * c - 1) * Math.pow(2, mLen);\n          e = e + eBias;\n        } else {\n          m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n          e = 0;\n        }\n      }\n\n      for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n      e = e << mLen | m;\n      eLen += mLen;\n\n      for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n      buffer[offset + i - d] |= s * 128;\n    };\n  }, {}],\n  46: [function (require, module, exports) {\n    /**\n     * isArray\n     */var isArray = Array.isArray; /**\n                                     * toString\n                                     */\n    var str = Object.prototype.toString; /**\n                                          * Whether or not the given `val`\n                                          * is an array.\n                                          *\n                                          * example:\n                                          *\n                                          *        isArray([]);\n                                          *        // > true\n                                          *        isArray(arguments);\n                                          *        // > false\n                                          *        isArray('');\n                                          *        // > false\n                                          *\n                                          * @param {mixed} val\n                                          * @return {bool}\n                                          */\n\n    module.exports = isArray || function (val) {\n      return !!val && '[object Array]' == str.call(val);\n    };\n  }, {}],\n  47: [function (require, module, exports) {\n    // Copyright Joyent, Inc. and other Node contributors.\n    //\n    // Permission is hereby granted, free of charge, to any person obtaining a\n    // copy of this software and associated documentation files (the\n    // \"Software\"), to deal in the Software without restriction, including\n    // without limitation the rights to use, copy, modify, merge, publish,\n    // distribute, sublicense, and/or sell copies of the Software, and to permit\n    // persons to whom the Software is furnished to do so, subject to the\n    // following conditions:\n    //\n    // The above copyright notice and this permission notice shall be included\n    // in all copies or substantial portions of the Software.\n    //\n    // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n    // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n    // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n    // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n    // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n    // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n    // USE OR OTHER DEALINGS IN THE SOFTWARE.\n    function EventEmitter() {\n      this._events = this._events || {};\n      this._maxListeners = this._maxListeners || undefined;\n    }\n\n    module.exports = EventEmitter; // Backwards-compat with node 0.10.x\n\n    EventEmitter.EventEmitter = EventEmitter;\n    EventEmitter.prototype._events = undefined;\n    EventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n    // added to it. This is a useful default which helps finding memory leaks.\n\n    EventEmitter.defaultMaxListeners = 10; // Obviously not all Emitters should be limited to 10. This function allows\n    // that to be increased. Set to zero for unlimited.\n\n    EventEmitter.prototype.setMaxListeners = function (n) {\n      if (!isNumber(n) || n < 0 || isNaN(n)) throw TypeError('n must be a positive number');\n      this._maxListeners = n;\n      return this;\n    };\n\n    EventEmitter.prototype.emit = function (type) {\n      var er, handler, len, args, i, listeners;\n      if (!this._events) this._events = {}; // If there is no 'error' event listener then throw.\n\n      if (type === 'error') {\n        if (!this._events.error || isObject(this._events.error) && !this._events.error.length) {\n          er = arguments[1];\n\n          if (er instanceof Error) {\n            throw er; // Unhandled 'error' event\n          }\n\n          throw TypeError('Uncaught, unspecified \"error\" event.');\n        }\n      }\n\n      handler = this._events[type];\n      if (isUndefined(handler)) return false;\n\n      if (isFunction(handler)) {\n        switch (arguments.length) {\n          // fast cases\n          case 1:\n            handler.call(this);\n            break;\n\n          case 2:\n            handler.call(this, arguments[1]);\n            break;\n\n          case 3:\n            handler.call(this, arguments[1], arguments[2]);\n            break;\n          // slower\n\n          default:\n            len = arguments.length;\n            args = new Array(len - 1);\n\n            for (i = 1; i < len; i++) {\n              args[i - 1] = arguments[i];\n            }\n\n            handler.apply(this, args);\n        }\n      } else if (isObject(handler)) {\n        len = arguments.length;\n        args = new Array(len - 1);\n\n        for (i = 1; i < len; i++) {\n          args[i - 1] = arguments[i];\n        }\n\n        listeners = handler.slice();\n        len = listeners.length;\n\n        for (i = 0; i < len; i++) {\n          listeners[i].apply(this, args);\n        }\n      }\n\n      return true;\n    };\n\n    EventEmitter.prototype.addListener = function (type, listener) {\n      var m;\n      if (!isFunction(listener)) throw TypeError('listener must be a function');\n      if (!this._events) this._events = {}; // To avoid recursion in the case that type === \"newListener\"! Before\n      // adding it to the listeners, first emit \"newListener\".\n\n      if (this._events.newListener) this.emit('newListener', type, isFunction(listener.listener) ? listener.listener : listener);\n      if (!this._events[type]) // Optimize the case of one listener. Don't need the extra array object.\n        this._events[type] = listener;else if (isObject(this._events[type])) // If we've already got an array, just append.\n        this._events[type].push(listener);else // Adding the second element, need to change to array.\n        this._events[type] = [this._events[type], listener]; // Check for listener leak\n\n      if (isObject(this._events[type]) && !this._events[type].warned) {\n        var m;\n\n        if (!isUndefined(this._maxListeners)) {\n          m = this._maxListeners;\n        } else {\n          m = EventEmitter.defaultMaxListeners;\n        }\n\n        if (m && m > 0 && this._events[type].length > m) {\n          this._events[type].warned = true;\n          console.error('(node) warning: possible EventEmitter memory ' + 'leak detected. %d listeners added. ' + 'Use emitter.setMaxListeners() to increase limit.', this._events[type].length);\n\n          if (typeof console.trace === 'function') {\n            // not supported in IE 10\n            console.trace();\n          }\n        }\n      }\n\n      return this;\n    };\n\n    EventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\n    EventEmitter.prototype.once = function (type, listener) {\n      if (!isFunction(listener)) throw TypeError('listener must be a function');\n      var fired = false;\n\n      function g() {\n        this.removeListener(type, g);\n\n        if (!fired) {\n          fired = true;\n          listener.apply(this, arguments);\n        }\n      }\n\n      g.listener = listener;\n      this.on(type, g);\n      return this;\n    }; // emits a 'removeListener' event iff the listener was removed\n\n\n    EventEmitter.prototype.removeListener = function (type, listener) {\n      var list, position, length, i;\n      if (!isFunction(listener)) throw TypeError('listener must be a function');\n      if (!this._events || !this._events[type]) return this;\n      list = this._events[type];\n      length = list.length;\n      position = -1;\n\n      if (list === listener || isFunction(list.listener) && list.listener === listener) {\n        delete this._events[type];\n        if (this._events.removeListener) this.emit('removeListener', type, listener);\n      } else if (isObject(list)) {\n        for (i = length; i-- > 0;) {\n          if (list[i] === listener || list[i].listener && list[i].listener === listener) {\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0) return this;\n\n        if (list.length === 1) {\n          list.length = 0;\n          delete this._events[type];\n        } else {\n          list.splice(position, 1);\n        }\n\n        if (this._events.removeListener) this.emit('removeListener', type, listener);\n      }\n\n      return this;\n    };\n\n    EventEmitter.prototype.removeAllListeners = function (type) {\n      var key, listeners;\n      if (!this._events) return this; // not listening for removeListener, no need to emit\n\n      if (!this._events.removeListener) {\n        if (arguments.length === 0) this._events = {};else if (this._events[type]) delete this._events[type];\n        return this;\n      } // emit removeListener for all listeners on all events\n\n\n      if (arguments.length === 0) {\n        for (key in meteorBabelHelpers.sanitizeForInObject(this._events)) {\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n\n        this.removeAllListeners('removeListener');\n        this._events = {};\n        return this;\n      }\n\n      listeners = this._events[type];\n\n      if (isFunction(listeners)) {\n        this.removeListener(type, listeners);\n      } else {\n        // LIFO order\n        while (listeners.length) {\n          this.removeListener(type, listeners[listeners.length - 1]);\n        }\n      }\n\n      delete this._events[type];\n      return this;\n    };\n\n    EventEmitter.prototype.listeners = function (type) {\n      var ret;\n      if (!this._events || !this._events[type]) ret = [];else if (isFunction(this._events[type])) ret = [this._events[type]];else ret = this._events[type].slice();\n      return ret;\n    };\n\n    EventEmitter.listenerCount = function (emitter, type) {\n      var ret;\n      if (!emitter._events || !emitter._events[type]) ret = 0;else if (isFunction(emitter._events[type])) ret = 1;else ret = emitter._events[type].length;\n      return ret;\n    };\n\n    function isFunction(arg) {\n      return typeof arg === 'function';\n    }\n\n    function isNumber(arg) {\n      return typeof arg === 'number';\n    }\n\n    function isObject(arg) {\n      return (typeof arg === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(arg)) === 'object' && arg !== null;\n    }\n\n    function isUndefined(arg) {\n      return arg === void 0;\n    }\n  }, {}],\n  48: [function (require, module, exports) {\n    if (typeof Object.create === 'function') {\n      // implementation from standard node.js 'util' module\n      module.exports = function () {\n        function inherits(ctor, superCtor) {\n          ctor.super_ = superCtor;\n          ctor.prototype = Object.create(superCtor.prototype, {\n            constructor: {\n              value: ctor,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n        }\n\n        return inherits;\n      }();\n    } else {\n      // old school shim for old browsers\n      module.exports = function () {\n        function inherits(ctor, superCtor) {\n          ctor.super_ = superCtor;\n\n          var TempCtor = function () {};\n\n          TempCtor.prototype = superCtor.prototype;\n          ctor.prototype = new TempCtor();\n          ctor.prototype.constructor = ctor;\n        }\n\n        return inherits;\n      }();\n    }\n  }, {}],\n  49: [function (require, module, exports) {\n    module.exports = Array.isArray || function (arr) {\n      return Object.prototype.toString.call(arr) == '[object Array]';\n    };\n  }, {}],\n  50: [function (require, module, exports) {\n    exports.endianness = function () {\n      return 'LE';\n    };\n\n    exports.hostname = function () {\n      if (typeof location !== 'undefined') {\n        return location.hostname;\n      } else return '';\n    };\n\n    exports.loadavg = function () {\n      return [];\n    };\n\n    exports.uptime = function () {\n      return 0;\n    };\n\n    exports.freemem = function () {\n      return Number.MAX_VALUE;\n    };\n\n    exports.totalmem = function () {\n      return Number.MAX_VALUE;\n    };\n\n    exports.cpus = function () {\n      return [];\n    };\n\n    exports.type = function () {\n      return 'Browser';\n    };\n\n    exports.release = function () {\n      if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n      }\n\n      return '';\n    };\n\n    exports.networkInterfaces = exports.getNetworkInterfaces = function () {\n      return {};\n    };\n\n    exports.arch = function () {\n      return 'javascript';\n    };\n\n    exports.platform = function () {\n      return 'browser';\n    };\n\n    exports.tmpdir = exports.tmpDir = function () {\n      return '/tmp';\n    };\n\n    exports.EOL = '\\n';\n  }, {}],\n  51: [function (require, module, exports) {\n    // shim for using process in browser\n    var process = module.exports = {};\n    var queue = [];\n    var draining = false;\n    var currentQueue;\n    var queueIndex = -1;\n\n    function cleanUpNextTick() {\n      draining = false;\n\n      if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n      } else {\n        queueIndex = -1;\n      }\n\n      if (queue.length) {\n        drainQueue();\n      }\n    }\n\n    function drainQueue() {\n      if (draining) {\n        return;\n      }\n\n      var timeout = setTimeout(cleanUpNextTick);\n      draining = true;\n      var len = queue.length;\n\n      while (len) {\n        currentQueue = queue;\n        queue = [];\n\n        while (++queueIndex < len) {\n          if (currentQueue) {\n            currentQueue[queueIndex].run();\n          }\n        }\n\n        queueIndex = -1;\n        len = queue.length;\n      }\n\n      currentQueue = null;\n      draining = false;\n      clearTimeout(timeout);\n    }\n\n    process.nextTick = function (fun) {\n      var args = new Array(arguments.length - 1);\n\n      if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n          args[i - 1] = arguments[i];\n        }\n      }\n\n      queue.push(new Item(fun, args));\n\n      if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n      }\n    }; // v8 likes predictible objects\n\n\n    function Item(fun, array) {\n      this.fun = fun;\n      this.array = array;\n    }\n\n    Item.prototype.run = function () {\n      this.fun.apply(null, this.array);\n    };\n\n    process.title = 'browser';\n    process.browser = true;\n    process.env = {};\n    process.argv = [];\n    process.version = ''; // empty string to avoid regexp issues\n\n    process.versions = {};\n\n    function noop() {}\n\n    process.on = noop;\n    process.addListener = noop;\n    process.once = noop;\n    process.off = noop;\n    process.removeListener = noop;\n    process.removeAllListeners = noop;\n    process.emit = noop;\n\n    process.binding = function (name) {\n      throw new Error('process.binding is not supported');\n    };\n\n    process.cwd = function () {\n      return '/';\n    };\n\n    process.chdir = function (dir) {\n      throw new Error('process.chdir is not supported');\n    };\n\n    process.umask = function () {\n      return 0;\n    };\n  }, {}],\n  52: [function (require, module, exports) {\n    module.exports = require(\"./lib/_stream_duplex.js\");\n  }, {\n    \"./lib/_stream_duplex.js\": 53\n  }],\n  53: [function (require, module, exports) {\n    (function (process) {\n      // Copyright Joyent, Inc. and other Node contributors.\n      //\n      // Permission is hereby granted, free of charge, to any person obtaining a\n      // copy of this software and associated documentation files (the\n      // \"Software\"), to deal in the Software without restriction, including\n      // without limitation the rights to use, copy, modify, merge, publish,\n      // distribute, sublicense, and/or sell copies of the Software, and to permit\n      // persons to whom the Software is furnished to do so, subject to the\n      // following conditions:\n      //\n      // The above copyright notice and this permission notice shall be included\n      // in all copies or substantial portions of the Software.\n      //\n      // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n      // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n      // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n      // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n      // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n      // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n      // USE OR OTHER DEALINGS IN THE SOFTWARE.\n      // a duplex stream is just a stream that is both readable and writable.\n      // Since JS doesn't have multiple prototypal inheritance, this class\n      // prototypally inherits from Readable, and then parasitically from\n      // Writable.\n      module.exports = Duplex; /*<replacement>*/\n\n      var objectKeys = Object.keys || function (obj) {\n        var keys = [];\n\n        for (var key in meteorBabelHelpers.sanitizeForInObject(obj)) {\n          keys.push(key);\n        }\n\n        return keys;\n      }; /*</replacement>*/ /*<replacement>*/\n\n      var util = require('core-util-is');\n\n      util.inherits = require('inherits'); /*</replacement>*/\n\n      var Readable = require('./_stream_readable');\n\n      var Writable = require('./_stream_writable');\n\n      util.inherits(Duplex, Readable);\n      forEach(objectKeys(Writable.prototype), function (method) {\n        if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n      });\n\n      function Duplex(options) {\n        if (!(this instanceof Duplex)) return new Duplex(options);\n        Readable.call(this, options);\n        Writable.call(this, options);\n        if (options && options.readable === false) this.readable = false;\n        if (options && options.writable === false) this.writable = false;\n        this.allowHalfOpen = true;\n        if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n        this.once('end', onend);\n      } // the no-half-open enforcer\n\n\n      function onend() {\n        // if we allow half-open state, or if the writable side ended,\n        // then we're ok.\n        if (this.allowHalfOpen || this._writableState.ended) return; // no more data can be written.\n        // But allow more writes to happen in this tick.\n\n        process.nextTick(this.end.bind(this));\n      }\n\n      function forEach(xs, f) {\n        for (var i = 0, l = xs.length; i < l; i++) {\n          f(xs[i], i);\n        }\n      }\n    }).call(this, require('_process'));\n  }, {\n    \"./_stream_readable\": 55,\n    \"./_stream_writable\": 57,\n    \"_process\": 51,\n    \"core-util-is\": 58,\n    \"inherits\": 48\n  }],\n  54: [function (require, module, exports) {\n    // Copyright Joyent, Inc. and other Node contributors.\n    //\n    // Permission is hereby granted, free of charge, to any person obtaining a\n    // copy of this software and associated documentation files (the\n    // \"Software\"), to deal in the Software without restriction, including\n    // without limitation the rights to use, copy, modify, merge, publish,\n    // distribute, sublicense, and/or sell copies of the Software, and to permit\n    // persons to whom the Software is furnished to do so, subject to the\n    // following conditions:\n    //\n    // The above copyright notice and this permission notice shall be included\n    // in all copies or substantial portions of the Software.\n    //\n    // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n    // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n    // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n    // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n    // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n    // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n    // USE OR OTHER DEALINGS IN THE SOFTWARE.\n    // a passthrough stream.\n    // basically just the most minimal sort of Transform stream.\n    // Every written chunk gets output as-is.\n    module.exports = PassThrough;\n\n    var Transform = require('./_stream_transform'); /*<replacement>*/\n\n    var util = require('core-util-is');\n\n    util.inherits = require('inherits'); /*</replacement>*/\n    util.inherits(PassThrough, Transform);\n\n    function PassThrough(options) {\n      if (!(this instanceof PassThrough)) return new PassThrough(options);\n      Transform.call(this, options);\n    }\n\n    PassThrough.prototype._transform = function (chunk, encoding, cb) {\n      cb(null, chunk);\n    };\n  }, {\n    \"./_stream_transform\": 56,\n    \"core-util-is\": 58,\n    \"inherits\": 48\n  }],\n  55: [function (require, module, exports) {\n    (function (process) {\n      // Copyright Joyent, Inc. and other Node contributors.\n      //\n      // Permission is hereby granted, free of charge, to any person obtaining a\n      // copy of this software and associated documentation files (the\n      // \"Software\"), to deal in the Software without restriction, including\n      // without limitation the rights to use, copy, modify, merge, publish,\n      // distribute, sublicense, and/or sell copies of the Software, and to permit\n      // persons to whom the Software is furnished to do so, subject to the\n      // following conditions:\n      //\n      // The above copyright notice and this permission notice shall be included\n      // in all copies or substantial portions of the Software.\n      //\n      // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n      // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n      // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n      // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n      // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n      // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n      // USE OR OTHER DEALINGS IN THE SOFTWARE.\n      module.exports = Readable; /*<replacement>*/\n\n      var isArray = require('isarray'); /*</replacement>*/ /*<replacement>*/\n\n      var Buffer = require('buffer').Buffer; /*</replacement>*/\n\n      Readable.ReadableState = ReadableState;\n\n      var EE = require('events').EventEmitter; /*<replacement>*/\n\n      if (!EE.listenerCount) EE.listenerCount = function (emitter, type) {\n        return emitter.listeners(type).length;\n      }; /*</replacement>*/\n\n      var Stream = require('stream'); /*<replacement>*/\n\n      var util = require('core-util-is');\n\n      util.inherits = require('inherits'); /*</replacement>*/\n      var StringDecoder; /*<replacement>*/\n\n      var debug = require('util');\n\n      if (debug && debug.debuglog) {\n        debug = debug.debuglog('stream');\n      } else {\n        debug = function () {};\n      } /*</replacement>*/\n\n      util.inherits(Readable, Stream);\n\n      function ReadableState(options, stream) {\n        var Duplex = require('./_stream_duplex');\n\n        options = options || {}; // the point at which it stops calling _read() to fill the buffer\n        // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n        var hwm = options.highWaterMark;\n        var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n        this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm; // cast to ints.\n\n        this.highWaterMark = ~~this.highWaterMark;\n        this.buffer = [];\n        this.length = 0;\n        this.pipes = null;\n        this.pipesCount = 0;\n        this.flowing = null;\n        this.ended = false;\n        this.endEmitted = false;\n        this.reading = false; // a flag to be able to tell if the onwrite cb is called immediately,\n        // or on a later tick.  We set this to true at first, because any\n        // actions that shouldn't happen until \"later\" should generally also\n        // not happen before the first write call.\n\n        this.sync = true; // whenever we return null, then we set a flag to say\n        // that we're awaiting a 'readable' event emission.\n\n        this.needReadable = false;\n        this.emittedReadable = false;\n        this.readableListening = false; // object stream flag. Used to make read(n) ignore n and to\n        // make all the buffer merging and length checks go away\n\n        this.objectMode = !!options.objectMode;\n        if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // Crypto is kind of old and crusty.  Historically, its default string\n        // encoding is 'binary' so we have to make this configurable.\n        // Everything else in the universe uses 'utf8', though.\n\n        this.defaultEncoding = options.defaultEncoding || 'utf8'; // when piping, we only care about 'readable' events that happen\n        // after read()ing all the bytes and not getting any pushback.\n\n        this.ranOut = false; // the number of writers that are awaiting a drain event in .pipe()s\n\n        this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n        this.readingMore = false;\n        this.decoder = null;\n        this.encoding = null;\n\n        if (options.encoding) {\n          if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n          this.decoder = new StringDecoder(options.encoding);\n          this.encoding = options.encoding;\n        }\n      }\n\n      function Readable(options) {\n        var Duplex = require('./_stream_duplex');\n\n        if (!(this instanceof Readable)) return new Readable(options);\n        this._readableState = new ReadableState(options, this); // legacy\n\n        this.readable = true;\n        Stream.call(this);\n      } // Manually shove something into the read() buffer.\n      // This returns true if the highWaterMark has not been hit yet,\n      // similar to how Writable.write() returns true if you should\n      // write() some more.\n\n\n      Readable.prototype.push = function (chunk, encoding) {\n        var state = this._readableState;\n\n        if (util.isString(chunk) && !state.objectMode) {\n          encoding = encoding || state.defaultEncoding;\n\n          if (encoding !== state.encoding) {\n            chunk = new Buffer(chunk, encoding);\n            encoding = '';\n          }\n        }\n\n        return readableAddChunk(this, state, chunk, encoding, false);\n      }; // Unshift should *always* be something directly out of read()\n\n\n      Readable.prototype.unshift = function (chunk) {\n        var state = this._readableState;\n        return readableAddChunk(this, state, chunk, '', true);\n      };\n\n      function readableAddChunk(stream, state, chunk, encoding, addToFront) {\n        var er = chunkInvalid(state, chunk);\n\n        if (er) {\n          stream.emit('error', er);\n        } else if (util.isNullOrUndefined(chunk)) {\n          state.reading = false;\n          if (!state.ended) onEofChunk(stream, state);\n        } else if (state.objectMode || chunk && chunk.length > 0) {\n          if (state.ended && !addToFront) {\n            var e = new Error('stream.push() after EOF');\n            stream.emit('error', e);\n          } else if (state.endEmitted && addToFront) {\n            var e = new Error('stream.unshift() after end event');\n            stream.emit('error', e);\n          } else {\n            if (state.decoder && !addToFront && !encoding) chunk = state.decoder.write(chunk);\n            if (!addToFront) state.reading = false; // if we want the data now, just emit it.\n\n            if (state.flowing && state.length === 0 && !state.sync) {\n              stream.emit('data', chunk);\n              stream.read(0);\n            } else {\n              // update the buffer info.\n              state.length += state.objectMode ? 1 : chunk.length;\n              if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n              if (state.needReadable) emitReadable(stream);\n            }\n\n            maybeReadMore(stream, state);\n          }\n        } else if (!addToFront) {\n          state.reading = false;\n        }\n\n        return needMoreData(state);\n      } // if it's past the high water mark, we can push in some more.\n      // Also, if we have no data yet, we can stand some\n      // more bytes.  This is to work around cases where hwm=0,\n      // such as the repl.  Also, if the push() triggered a\n      // readable event, and the user called read(largeNumber) such that\n      // needReadable was set, then we ought to push more, so that another\n      // 'readable' event will be triggered.\n\n\n      function needMoreData(state) {\n        return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n      } // backwards compatibility.\n\n\n      Readable.prototype.setEncoding = function (enc) {\n        if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n        this._readableState.decoder = new StringDecoder(enc);\n        this._readableState.encoding = enc;\n        return this;\n      }; // Don't raise the hwm > 128MB\n\n\n      var MAX_HWM = 0x800000;\n\n      function roundUpToNextPowerOf2(n) {\n        if (n >= MAX_HWM) {\n          n = MAX_HWM;\n        } else {\n          // Get the next highest power of 2\n          n--;\n\n          for (var p = 1; p < 32; p <<= 1) {\n            n |= n >> p;\n          }\n\n          n++;\n        }\n\n        return n;\n      }\n\n      function howMuchToRead(n, state) {\n        if (state.length === 0 && state.ended) return 0;\n        if (state.objectMode) return n === 0 ? 0 : 1;\n\n        if (isNaN(n) || util.isNull(n)) {\n          // only flow one buffer at a time\n          if (state.flowing && state.buffer.length) return state.buffer[0].length;else return state.length;\n        }\n\n        if (n <= 0) return 0; // If we're asking for more than the target buffer level,\n        // then raise the water mark.  Bump up to the next highest\n        // power of 2, to prevent increasing it excessively in tiny\n        // amounts.\n\n        if (n > state.highWaterMark) state.highWaterMark = roundUpToNextPowerOf2(n); // don't have that much.  return null, unless we've ended.\n\n        if (n > state.length) {\n          if (!state.ended) {\n            state.needReadable = true;\n            return 0;\n          } else return state.length;\n        }\n\n        return n;\n      } // you can override either this method, or the async _read(n) below.\n\n\n      Readable.prototype.read = function (n) {\n        debug('read', n);\n        var state = this._readableState;\n        var nOrig = n;\n        if (!util.isNumber(n) || n > 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n        // already have a bunch of data in the buffer, then just trigger\n        // the 'readable' event and move on.\n\n        if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n          debug('read: emitReadable', state.length, state.ended);\n          if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n          return null;\n        }\n\n        n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n        if (n === 0 && state.ended) {\n          if (state.length === 0) endReadable(this);\n          return null;\n        } // All the actual chunk generation logic needs to be\n        // *below* the call to _read.  The reason is that in certain\n        // synthetic stream cases, such as passthrough streams, _read\n        // may be a completely synchronous operation which may change\n        // the state of the read buffer, providing enough data when\n        // before there was *not* enough.\n        //\n        // So, the steps are:\n        // 1. Figure out what the state of things will be after we do\n        // a read from the buffer.\n        //\n        // 2. If that resulting state will trigger a _read, then call _read.\n        // Note that this may be asynchronous, or synchronous.  Yes, it is\n        // deeply ugly to write APIs this way, but that still doesn't mean\n        // that the Readable class should behave improperly, as streams are\n        // designed to be sync/async agnostic.\n        // Take note if the _read call is sync or async (ie, if the read call\n        // has returned yet), so that we know whether or not it's safe to emit\n        // 'readable' etc.\n        //\n        // 3. Actually pull the requested chunks out of the buffer and return.\n        // if we need a readable event, then we need to do some reading.\n\n\n        var doRead = state.needReadable;\n        debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n        if (state.length === 0 || state.length - n < state.highWaterMark) {\n          doRead = true;\n          debug('length less than watermark', doRead);\n        } // however, if we've ended, then there's no point, and if we're already\n        // reading, then it's unnecessary.\n\n\n        if (state.ended || state.reading) {\n          doRead = false;\n          debug('reading or ended', doRead);\n        }\n\n        if (doRead) {\n          debug('do read');\n          state.reading = true;\n          state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n          if (state.length === 0) state.needReadable = true; // call internal read method\n\n          this._read(state.highWaterMark);\n\n          state.sync = false;\n        } // If _read pushed data synchronously, then `reading` will be false,\n        // and we need to re-evaluate how much data we can return to the user.\n\n\n        if (doRead && !state.reading) n = howMuchToRead(nOrig, state);\n        var ret;\n        if (n > 0) ret = fromList(n, state);else ret = null;\n\n        if (util.isNull(ret)) {\n          state.needReadable = true;\n          n = 0;\n        }\n\n        state.length -= n; // If we have nothing in the buffer, then we want to know\n        // as soon as we *do* get something into the buffer.\n\n        if (state.length === 0 && !state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n        if (nOrig !== n && state.ended && state.length === 0) endReadable(this);\n        if (!util.isNull(ret)) this.emit('data', ret);\n        return ret;\n      };\n\n      function chunkInvalid(state, chunk) {\n        var er = null;\n\n        if (!util.isBuffer(chunk) && !util.isString(chunk) && !util.isNullOrUndefined(chunk) && !state.objectMode) {\n          er = new TypeError('Invalid non-string/buffer chunk');\n        }\n\n        return er;\n      }\n\n      function onEofChunk(stream, state) {\n        if (state.decoder && !state.ended) {\n          var chunk = state.decoder.end();\n\n          if (chunk && chunk.length) {\n            state.buffer.push(chunk);\n            state.length += state.objectMode ? 1 : chunk.length;\n          }\n        }\n\n        state.ended = true; // emit 'readable' now to make sure it gets picked up.\n\n        emitReadable(stream);\n      } // Don't emit readable right away in sync mode, because this can trigger\n      // another read() call => stack overflow.  This way, it might trigger\n      // a nextTick recursion warning, but that's not so bad.\n\n\n      function emitReadable(stream) {\n        var state = stream._readableState;\n        state.needReadable = false;\n\n        if (!state.emittedReadable) {\n          debug('emitReadable', state.flowing);\n          state.emittedReadable = true;\n          if (state.sync) process.nextTick(function () {\n            emitReadable_(stream);\n          });else emitReadable_(stream);\n        }\n      }\n\n      function emitReadable_(stream) {\n        debug('emit readable');\n        stream.emit('readable');\n        flow(stream);\n      } // at this point, the user has presumably seen the 'readable' event,\n      // and called read() to consume some data.  that may have triggered\n      // in turn another _read(n) call, in which case reading = true if\n      // it's in progress.\n      // However, if we're not ended, or reading, and the length < hwm,\n      // then go ahead and try to read some more preemptively.\n\n\n      function maybeReadMore(stream, state) {\n        if (!state.readingMore) {\n          state.readingMore = true;\n          process.nextTick(function () {\n            maybeReadMore_(stream, state);\n          });\n        }\n      }\n\n      function maybeReadMore_(stream, state) {\n        var len = state.length;\n\n        while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n          debug('maybeReadMore read 0');\n          stream.read(0);\n          if (len === state.length) // didn't get any data, stop spinning.\n            break;else len = state.length;\n        }\n\n        state.readingMore = false;\n      } // abstract method.  to be overridden in specific implementation classes.\n      // call cb(er, data) where data is <= n in length.\n      // for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n      // arbitrary, and perhaps not very meaningful.\n\n\n      Readable.prototype._read = function (n) {\n        this.emit('error', new Error('not implemented'));\n      };\n\n      Readable.prototype.pipe = function (dest, pipeOpts) {\n        var src = this;\n        var state = this._readableState;\n\n        switch (state.pipesCount) {\n          case 0:\n            state.pipes = dest;\n            break;\n\n          case 1:\n            state.pipes = [state.pipes, dest];\n            break;\n\n          default:\n            state.pipes.push(dest);\n            break;\n        }\n\n        state.pipesCount += 1;\n        debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n        var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n        var endFn = doEnd ? onend : cleanup;\n        if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n        dest.on('unpipe', onunpipe);\n\n        function onunpipe(readable) {\n          debug('onunpipe');\n\n          if (readable === src) {\n            cleanup();\n          }\n        }\n\n        function onend() {\n          debug('onend');\n          dest.end();\n        } // when the dest drains, it reduces the awaitDrain counter\n        // on the source.  This would be more elegant with a .once()\n        // handler in flow(), but adding and removing repeatedly is\n        // too slow.\n\n\n        var ondrain = pipeOnDrain(src);\n        dest.on('drain', ondrain);\n\n        function cleanup() {\n          debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n          dest.removeListener('close', onclose);\n          dest.removeListener('finish', onfinish);\n          dest.removeListener('drain', ondrain);\n          dest.removeListener('error', onerror);\n          dest.removeListener('unpipe', onunpipe);\n          src.removeListener('end', onend);\n          src.removeListener('end', cleanup);\n          src.removeListener('data', ondata); // if the reader is waiting for a drain event from this\n          // specific writer, then it would cause it to never start\n          // flowing again.\n          // So, if this is awaiting a drain, then we just call it now.\n          // If we don't know, then assume that we are waiting for one.\n\n          if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n        }\n\n        src.on('data', ondata);\n\n        function ondata(chunk) {\n          debug('ondata');\n          var ret = dest.write(chunk);\n\n          if (false === ret) {\n            debug('false write response, pause', src._readableState.awaitDrain);\n            src._readableState.awaitDrain++;\n            src.pause();\n          }\n        } // if the dest has an error, then stop piping into it.\n        // however, don't suppress the throwing behavior for this.\n\n\n        function onerror(er) {\n          debug('onerror', er);\n          unpipe();\n          dest.removeListener('error', onerror);\n          if (EE.listenerCount(dest, 'error') === 0) dest.emit('error', er);\n        } // This is a brutally ugly hack to make sure that our error handler\n        // is attached before any userland ones.  NEVER DO THIS.\n\n\n        if (!dest._events || !dest._events.error) dest.on('error', onerror);else if (isArray(dest._events.error)) dest._events.error.unshift(onerror);else dest._events.error = [onerror, dest._events.error]; // Both close and finish should trigger unpipe, but only once.\n\n        function onclose() {\n          dest.removeListener('finish', onfinish);\n          unpipe();\n        }\n\n        dest.once('close', onclose);\n\n        function onfinish() {\n          debug('onfinish');\n          dest.removeListener('close', onclose);\n          unpipe();\n        }\n\n        dest.once('finish', onfinish);\n\n        function unpipe() {\n          debug('unpipe');\n          src.unpipe(dest);\n        } // tell the dest that it's being piped to\n\n\n        dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n        if (!state.flowing) {\n          debug('pipe resume');\n          src.resume();\n        }\n\n        return dest;\n      };\n\n      function pipeOnDrain(src) {\n        return function () {\n          var state = src._readableState;\n          debug('pipeOnDrain', state.awaitDrain);\n          if (state.awaitDrain) state.awaitDrain--;\n\n          if (state.awaitDrain === 0 && EE.listenerCount(src, 'data')) {\n            state.flowing = true;\n            flow(src);\n          }\n        };\n      }\n\n      Readable.prototype.unpipe = function (dest) {\n        var state = this._readableState; // if we're not piping anywhere, then do nothing.\n\n        if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n        if (state.pipesCount === 1) {\n          // passed in one, but it's not the right one.\n          if (dest && dest !== state.pipes) return this;\n          if (!dest) dest = state.pipes; // got a match.\n\n          state.pipes = null;\n          state.pipesCount = 0;\n          state.flowing = false;\n          if (dest) dest.emit('unpipe', this);\n          return this;\n        } // slow case. multiple pipe destinations.\n\n\n        if (!dest) {\n          // remove all.\n          var dests = state.pipes;\n          var len = state.pipesCount;\n          state.pipes = null;\n          state.pipesCount = 0;\n          state.flowing = false;\n\n          for (var i = 0; i < len; i++) {\n            dests[i].emit('unpipe', this);\n          }\n\n          return this;\n        } // try to find the right one.\n\n\n        var i = indexOf(state.pipes, dest);\n        if (i === -1) return this;\n        state.pipes.splice(i, 1);\n        state.pipesCount -= 1;\n        if (state.pipesCount === 1) state.pipes = state.pipes[0];\n        dest.emit('unpipe', this);\n        return this;\n      }; // set up data events if they are asked for\n      // Ensure readable listeners eventually get something\n\n\n      Readable.prototype.on = function (ev, fn) {\n        var res = Stream.prototype.on.call(this, ev, fn); // If listening to data, and it has not explicitly been paused,\n        // then call resume to start the flow of data on the next tick.\n\n        if (ev === 'data' && false !== this._readableState.flowing) {\n          this.resume();\n        }\n\n        if (ev === 'readable' && this.readable) {\n          var state = this._readableState;\n\n          if (!state.readableListening) {\n            state.readableListening = true;\n            state.emittedReadable = false;\n            state.needReadable = true;\n\n            if (!state.reading) {\n              var self = this;\n              process.nextTick(function () {\n                debug('readable nexttick read 0');\n                self.read(0);\n              });\n            } else if (state.length) {\n              emitReadable(this, state);\n            }\n          }\n        }\n\n        return res;\n      };\n\n      Readable.prototype.addListener = Readable.prototype.on; // pause() and resume() are remnants of the legacy readable stream API\n      // If the user uses them, then switch into old mode.\n\n      Readable.prototype.resume = function () {\n        var state = this._readableState;\n\n        if (!state.flowing) {\n          debug('resume');\n          state.flowing = true;\n\n          if (!state.reading) {\n            debug('resume read 0');\n            this.read(0);\n          }\n\n          resume(this, state);\n        }\n\n        return this;\n      };\n\n      function resume(stream, state) {\n        if (!state.resumeScheduled) {\n          state.resumeScheduled = true;\n          process.nextTick(function () {\n            resume_(stream, state);\n          });\n        }\n      }\n\n      function resume_(stream, state) {\n        state.resumeScheduled = false;\n        stream.emit('resume');\n        flow(stream);\n        if (state.flowing && !state.reading) stream.read(0);\n      }\n\n      Readable.prototype.pause = function () {\n        debug('call pause flowing=%j', this._readableState.flowing);\n\n        if (false !== this._readableState.flowing) {\n          debug('pause');\n          this._readableState.flowing = false;\n          this.emit('pause');\n        }\n\n        return this;\n      };\n\n      function flow(stream) {\n        var state = stream._readableState;\n        debug('flow', state.flowing);\n\n        if (state.flowing) {\n          do {\n            var chunk = stream.read();\n          } while (null !== chunk && state.flowing);\n        }\n      } // wrap an old-style stream as the async data source.\n      // This is *not* part of the readable stream interface.\n      // It is an ugly unfortunate mess of history.\n\n\n      Readable.prototype.wrap = function (stream) {\n        var state = this._readableState;\n        var paused = false;\n        var self = this;\n        stream.on('end', function () {\n          debug('wrapped end');\n\n          if (state.decoder && !state.ended) {\n            var chunk = state.decoder.end();\n            if (chunk && chunk.length) self.push(chunk);\n          }\n\n          self.push(null);\n        });\n        stream.on('data', function (chunk) {\n          debug('wrapped data');\n          if (state.decoder) chunk = state.decoder.write(chunk);\n          if (!chunk || !state.objectMode && !chunk.length) return;\n          var ret = self.push(chunk);\n\n          if (!ret) {\n            paused = true;\n            stream.pause();\n          }\n        }); // proxy all the other methods.\n        // important when wrapping filters and duplexes.\n\n        for (var i in meteorBabelHelpers.sanitizeForInObject(stream)) {\n          if (util.isFunction(stream[i]) && util.isUndefined(this[i])) {\n            this[i] = function (method) {\n              return function () {\n                return stream[method].apply(stream, arguments);\n              };\n            }(i);\n          }\n        } // proxy certain important events.\n\n\n        var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n        forEach(events, function (ev) {\n          stream.on(ev, self.emit.bind(self, ev));\n        }); // when we try to consume some more bytes, simply unpause the\n        // underlying stream.\n\n        self._read = function (n) {\n          debug('wrapped _read', n);\n\n          if (paused) {\n            paused = false;\n            stream.resume();\n          }\n        };\n\n        return self;\n      }; // exposed for testing purposes only.\n\n\n      Readable._fromList = fromList; // Pluck off n bytes from an array of buffers.\n      // Length is the combined lengths of all the buffers in the list.\n\n      function fromList(n, state) {\n        var list = state.buffer;\n        var length = state.length;\n        var stringMode = !!state.decoder;\n        var objectMode = !!state.objectMode;\n        var ret; // nothing in the list, definitely empty.\n\n        if (list.length === 0) return null;\n        if (length === 0) ret = null;else if (objectMode) ret = list.shift();else if (!n || n >= length) {\n          // read it all, truncate the array.\n          if (stringMode) ret = list.join('');else ret = Buffer.concat(list, length);\n          list.length = 0;\n        } else {\n          // read just some of it.\n          if (n < list[0].length) {\n            // just take a part of the first list item.\n            // slice is the same for buffers and strings.\n            var buf = list[0];\n            ret = buf.slice(0, n);\n            list[0] = buf.slice(n);\n          } else if (n === list[0].length) {\n            // first list is a perfect match\n            ret = list.shift();\n          } else {\n            // complex case.\n            // we have enough to cover it, but it spans past the first buffer.\n            if (stringMode) ret = '';else ret = new Buffer(n);\n            var c = 0;\n\n            for (var i = 0, l = list.length; i < l && c < n; i++) {\n              var buf = list[0];\n              var cpy = Math.min(n - c, buf.length);\n              if (stringMode) ret += buf.slice(0, cpy);else buf.copy(ret, c, 0, cpy);\n              if (cpy < buf.length) list[0] = buf.slice(cpy);else list.shift();\n              c += cpy;\n            }\n          }\n        }\n        return ret;\n      }\n\n      function endReadable(stream) {\n        var state = stream._readableState; // If we get here before consuming all the bytes, then that is a\n        // bug in node.  Should never happen.\n\n        if (state.length > 0) throw new Error('endReadable called on non-empty stream');\n\n        if (!state.endEmitted) {\n          state.ended = true;\n          process.nextTick(function () {\n            // Check that we didn't get one last unshift.\n            if (!state.endEmitted && state.length === 0) {\n              state.endEmitted = true;\n              stream.readable = false;\n              stream.emit('end');\n            }\n          });\n        }\n      }\n\n      function forEach(xs, f) {\n        for (var i = 0, l = xs.length; i < l; i++) {\n          f(xs[i], i);\n        }\n      }\n\n      function indexOf(xs, x) {\n        for (var i = 0, l = xs.length; i < l; i++) {\n          if (xs[i] === x) return i;\n        }\n\n        return -1;\n      }\n    }).call(this, require('_process'));\n  }, {\n    \"./_stream_duplex\": 53,\n    \"_process\": 51,\n    \"buffer\": 43,\n    \"core-util-is\": 58,\n    \"events\": 47,\n    \"inherits\": 48,\n    \"isarray\": 49,\n    \"stream\": 63,\n    \"string_decoder/\": 64,\n    \"util\": 42\n  }],\n  56: [function (require, module, exports) {\n    // Copyright Joyent, Inc. and other Node contributors.\n    //\n    // Permission is hereby granted, free of charge, to any person obtaining a\n    // copy of this software and associated documentation files (the\n    // \"Software\"), to deal in the Software without restriction, including\n    // without limitation the rights to use, copy, modify, merge, publish,\n    // distribute, sublicense, and/or sell copies of the Software, and to permit\n    // persons to whom the Software is furnished to do so, subject to the\n    // following conditions:\n    //\n    // The above copyright notice and this permission notice shall be included\n    // in all copies or substantial portions of the Software.\n    //\n    // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n    // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n    // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n    // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n    // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n    // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n    // USE OR OTHER DEALINGS IN THE SOFTWARE.\n    // a transform stream is a readable/writable stream where you do\n    // something with the data.  Sometimes it's called a \"filter\",\n    // but that's not a great name for it, since that implies a thing where\n    // some bits pass through, and others are simply ignored.  (That would\n    // be a valid example of a transform, of course.)\n    //\n    // While the output is causally related to the input, it's not a\n    // necessarily symmetric or synchronous transformation.  For example,\n    // a zlib stream might take multiple plain-text writes(), and then\n    // emit a single compressed chunk some time in the future.\n    //\n    // Here's how this works:\n    //\n    // The Transform stream has all the aspects of the readable and writable\n    // stream classes.  When you write(chunk), that calls _write(chunk,cb)\n    // internally, and returns false if there's a lot of pending writes\n    // buffered up.  When you call read(), that calls _read(n) until\n    // there's enough pending readable data buffered up.\n    //\n    // In a transform stream, the written data is placed in a buffer.  When\n    // _read(n) is called, it transforms the queued up data, calling the\n    // buffered _write cb's as it consumes chunks.  If consuming a single\n    // written chunk would result in multiple output chunks, then the first\n    // outputted bit calls the readcb, and subsequent chunks just go into\n    // the read buffer, and will cause it to emit 'readable' if necessary.\n    //\n    // This way, back-pressure is actually determined by the reading side,\n    // since _read has to be called to start processing a new chunk.  However,\n    // a pathological inflate type of transform can cause excessive buffering\n    // here.  For example, imagine a stream where every byte of input is\n    // interpreted as an integer from 0-255, and then results in that many\n    // bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n    // 1kb of data being output.  In this case, you could write a very small\n    // amount of input, and end up with a very large amount of output.  In\n    // such a pathological inflating mechanism, there'd be no way to tell\n    // the system to stop doing the transform.  A single 4MB write could\n    // cause the system to run out of memory.\n    //\n    // However, even in such a pathological case, only a single written chunk\n    // would be consumed, and then the rest would wait (un-transformed) until\n    // the results of the previous transformed chunk were consumed.\n    module.exports = Transform;\n\n    var Duplex = require('./_stream_duplex'); /*<replacement>*/\n\n    var util = require('core-util-is');\n\n    util.inherits = require('inherits'); /*</replacement>*/\n    util.inherits(Transform, Duplex);\n\n    function TransformState(options, stream) {\n      this.afterTransform = function (er, data) {\n        return afterTransform(stream, er, data);\n      };\n\n      this.needTransform = false;\n      this.transforming = false;\n      this.writecb = null;\n      this.writechunk = null;\n    }\n\n    function afterTransform(stream, er, data) {\n      var ts = stream._transformState;\n      ts.transforming = false;\n      var cb = ts.writecb;\n      if (!cb) return stream.emit('error', new Error('no writecb in Transform class'));\n      ts.writechunk = null;\n      ts.writecb = null;\n      if (!util.isNullOrUndefined(data)) stream.push(data);\n      if (cb) cb(er);\n      var rs = stream._readableState;\n      rs.reading = false;\n\n      if (rs.needReadable || rs.length < rs.highWaterMark) {\n        stream._read(rs.highWaterMark);\n      }\n    }\n\n    function Transform(options) {\n      if (!(this instanceof Transform)) return new Transform(options);\n      Duplex.call(this, options);\n      this._transformState = new TransformState(options, this); // when the writable side finishes, then flush out anything remaining.\n\n      var stream = this; // start out asking for a readable event once data is transformed.\n\n      this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n      // that Readable wants before the first _read call, so unset the\n      // sync guard flag.\n\n      this._readableState.sync = false;\n      this.once('prefinish', function () {\n        if (util.isFunction(this._flush)) this._flush(function (er) {\n          done(stream, er);\n        });else done(stream);\n      });\n    }\n\n    Transform.prototype.push = function (chunk, encoding) {\n      this._transformState.needTransform = false;\n      return Duplex.prototype.push.call(this, chunk, encoding);\n    }; // This is the part where you do stuff!\n    // override this function in implementation classes.\n    // 'chunk' is an input chunk.\n    //\n    // Call `push(newChunk)` to pass along transformed output\n    // to the readable side.  You may call 'push' zero or more times.\n    //\n    // Call `cb(err)` when you are done with this chunk.  If you pass\n    // an error, then that'll put the hurt on the whole operation.  If you\n    // never call cb(), then you'll never get another chunk.\n\n\n    Transform.prototype._transform = function (chunk, encoding, cb) {\n      throw new Error('not implemented');\n    };\n\n    Transform.prototype._write = function (chunk, encoding, cb) {\n      var ts = this._transformState;\n      ts.writecb = cb;\n      ts.writechunk = chunk;\n      ts.writeencoding = encoding;\n\n      if (!ts.transforming) {\n        var rs = this._readableState;\n        if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n      }\n    }; // Doesn't matter what the args are here.\n    // _transform does all the work.\n    // That we got here means that the readable side wants more data.\n\n\n    Transform.prototype._read = function (n) {\n      var ts = this._transformState;\n\n      if (!util.isNull(ts.writechunk) && ts.writecb && !ts.transforming) {\n        ts.transforming = true;\n\n        this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n      } else {\n        // mark that we need a transform, so that any data that comes in\n        // will get processed, now that we've asked for it.\n        ts.needTransform = true;\n      }\n    };\n\n    function done(stream, er) {\n      if (er) return stream.emit('error', er); // if there's nothing in the write buffer, then that means\n      // that nothing more will ever be provided\n\n      var ws = stream._writableState;\n      var ts = stream._transformState;\n      if (ws.length) throw new Error('calling transform done when ws.length != 0');\n      if (ts.transforming) throw new Error('calling transform done when still transforming');\n      return stream.push(null);\n    }\n  }, {\n    \"./_stream_duplex\": 53,\n    \"core-util-is\": 58,\n    \"inherits\": 48\n  }],\n  57: [function (require, module, exports) {\n    (function (process) {\n      // Copyright Joyent, Inc. and other Node contributors.\n      //\n      // Permission is hereby granted, free of charge, to any person obtaining a\n      // copy of this software and associated documentation files (the\n      // \"Software\"), to deal in the Software without restriction, including\n      // without limitation the rights to use, copy, modify, merge, publish,\n      // distribute, sublicense, and/or sell copies of the Software, and to permit\n      // persons to whom the Software is furnished to do so, subject to the\n      // following conditions:\n      //\n      // The above copyright notice and this permission notice shall be included\n      // in all copies or substantial portions of the Software.\n      //\n      // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n      // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n      // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n      // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n      // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n      // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n      // USE OR OTHER DEALINGS IN THE SOFTWARE.\n      // A bit simpler than readable streams.\n      // Implement an async ._write(chunk, cb), and it'll handle all\n      // the drain event emission and buffering.\n      module.exports = Writable; /*<replacement>*/\n\n      var Buffer = require('buffer').Buffer; /*</replacement>*/\n\n      Writable.WritableState = WritableState; /*<replacement>*/\n\n      var util = require('core-util-is');\n\n      util.inherits = require('inherits'); /*</replacement>*/\n\n      var Stream = require('stream');\n\n      util.inherits(Writable, Stream);\n\n      function WriteReq(chunk, encoding, cb) {\n        this.chunk = chunk;\n        this.encoding = encoding;\n        this.callback = cb;\n      }\n\n      function WritableState(options, stream) {\n        var Duplex = require('./_stream_duplex');\n\n        options = options || {}; // the point at which write() starts returning false\n        // Note: 0 is a valid value, means that we always return false if\n        // the entire buffer is not flushed immediately on write()\n\n        var hwm = options.highWaterMark;\n        var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n        this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm; // object stream flag to indicate whether or not this stream\n        // contains buffers or objects.\n\n        this.objectMode = !!options.objectMode;\n        if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // cast to ints.\n\n        this.highWaterMark = ~~this.highWaterMark;\n        this.needDrain = false; // at the start of calling end()\n\n        this.ending = false; // when end() has been called, and returned\n\n        this.ended = false; // when 'finish' is emitted\n\n        this.finished = false; // should we decode strings into buffers before passing to _write?\n        // this is here so that some node-core streams can optimize string\n        // handling at a lower level.\n\n        var noDecode = options.decodeStrings === false;\n        this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n        // encoding is 'binary' so we have to make this configurable.\n        // Everything else in the universe uses 'utf8', though.\n\n        this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n        // of how much we're waiting to get pushed to some underlying\n        // socket or file.\n\n        this.length = 0; // a flag to see when we're in the middle of a write.\n\n        this.writing = false; // when true all writes will be buffered until .uncork() call\n\n        this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n        // or on a later tick.  We set this to true at first, because any\n        // actions that shouldn't happen until \"later\" should generally also\n        // not happen before the first write call.\n\n        this.sync = true; // a flag to know if we're processing previously buffered items, which\n        // may call the _write() callback in the same tick, so that we don't\n        // end up in an overlapped onwrite situation.\n\n        this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n        this.onwrite = function (er) {\n          onwrite(stream, er);\n        }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n        this.writecb = null; // the amount that is being written when _write is called.\n\n        this.writelen = 0;\n        this.buffer = []; // number of pending user-supplied write callbacks\n        // this must be 0 before 'finish' can be emitted\n\n        this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n        // This is relevant for synchronous Transform streams\n\n        this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n        this.errorEmitted = false;\n      }\n\n      function Writable(options) {\n        var Duplex = require('./_stream_duplex'); // Writable ctor is applied to Duplexes, though they're not\n        // instanceof Writable, they're instanceof Readable.\n\n\n        if (!(this instanceof Writable) && !(this instanceof Duplex)) return new Writable(options);\n        this._writableState = new WritableState(options, this); // legacy.\n\n        this.writable = true;\n        Stream.call(this);\n      } // Otherwise people can pipe Writable streams, which is just wrong.\n\n\n      Writable.prototype.pipe = function () {\n        this.emit('error', new Error('Cannot pipe. Not readable.'));\n      };\n\n      function writeAfterEnd(stream, state, cb) {\n        var er = new Error('write after end'); // TODO: defer error events consistently everywhere, not just the cb\n\n        stream.emit('error', er);\n        process.nextTick(function () {\n          cb(er);\n        });\n      } // If we get something that is not a buffer, string, null, or undefined,\n      // and we're not in objectMode, then that's an error.\n      // Otherwise stream chunks are all considered to be of length=1, and the\n      // watermarks determine how many objects to keep in the buffer, rather than\n      // how many bytes or characters.\n\n\n      function validChunk(stream, state, chunk, cb) {\n        var valid = true;\n\n        if (!util.isBuffer(chunk) && !util.isString(chunk) && !util.isNullOrUndefined(chunk) && !state.objectMode) {\n          var er = new TypeError('Invalid non-string/buffer chunk');\n          stream.emit('error', er);\n          process.nextTick(function () {\n            cb(er);\n          });\n          valid = false;\n        }\n\n        return valid;\n      }\n\n      Writable.prototype.write = function (chunk, encoding, cb) {\n        var state = this._writableState;\n        var ret = false;\n\n        if (util.isFunction(encoding)) {\n          cb = encoding;\n          encoding = null;\n        }\n\n        if (util.isBuffer(chunk)) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n        if (!util.isFunction(cb)) cb = function () {};\n        if (state.ended) writeAfterEnd(this, state, cb);else if (validChunk(this, state, chunk, cb)) {\n          state.pendingcb++;\n          ret = writeOrBuffer(this, state, chunk, encoding, cb);\n        }\n        return ret;\n      };\n\n      Writable.prototype.cork = function () {\n        var state = this._writableState;\n        state.corked++;\n      };\n\n      Writable.prototype.uncork = function () {\n        var state = this._writableState;\n\n        if (state.corked) {\n          state.corked--;\n          if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.buffer.length) clearBuffer(this, state);\n        }\n      };\n\n      function decodeChunk(state, chunk, encoding) {\n        if (!state.objectMode && state.decodeStrings !== false && util.isString(chunk)) {\n          chunk = new Buffer(chunk, encoding);\n        }\n\n        return chunk;\n      } // if we're already writing something, then just put this\n      // in the queue, and wait our turn.  Otherwise, call _write\n      // If we return false, then we need a drain event, so set that flag.\n\n\n      function writeOrBuffer(stream, state, chunk, encoding, cb) {\n        chunk = decodeChunk(state, chunk, encoding);\n        if (util.isBuffer(chunk)) encoding = 'buffer';\n        var len = state.objectMode ? 1 : chunk.length;\n        state.length += len;\n        var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n        if (!ret) state.needDrain = true;\n        if (state.writing || state.corked) state.buffer.push(new WriteReq(chunk, encoding, cb));else doWrite(stream, state, false, len, chunk, encoding, cb);\n        return ret;\n      }\n\n      function doWrite(stream, state, writev, len, chunk, encoding, cb) {\n        state.writelen = len;\n        state.writecb = cb;\n        state.writing = true;\n        state.sync = true;\n        if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n        state.sync = false;\n      }\n\n      function onwriteError(stream, state, sync, er, cb) {\n        if (sync) process.nextTick(function () {\n          state.pendingcb--;\n          cb(er);\n        });else {\n          state.pendingcb--;\n          cb(er);\n        }\n        stream._writableState.errorEmitted = true;\n        stream.emit('error', er);\n      }\n\n      function onwriteStateUpdate(state) {\n        state.writing = false;\n        state.writecb = null;\n        state.length -= state.writelen;\n        state.writelen = 0;\n      }\n\n      function onwrite(stream, er) {\n        var state = stream._writableState;\n        var sync = state.sync;\n        var cb = state.writecb;\n        onwriteStateUpdate(state);\n        if (er) onwriteError(stream, state, sync, er, cb);else {\n          // Check if we're actually ready to finish, but don't emit yet\n          var finished = needFinish(stream, state);\n\n          if (!finished && !state.corked && !state.bufferProcessing && state.buffer.length) {\n            clearBuffer(stream, state);\n          }\n\n          if (sync) {\n            process.nextTick(function () {\n              afterWrite(stream, state, finished, cb);\n            });\n          } else {\n            afterWrite(stream, state, finished, cb);\n          }\n        }\n      }\n\n      function afterWrite(stream, state, finished, cb) {\n        if (!finished) onwriteDrain(stream, state);\n        state.pendingcb--;\n        cb();\n        finishMaybe(stream, state);\n      } // Must force callback to be called on nextTick, so that we don't\n      // emit 'drain' before the write() consumer gets the 'false' return\n      // value, and has a chance to attach a 'drain' listener.\n\n\n      function onwriteDrain(stream, state) {\n        if (state.length === 0 && state.needDrain) {\n          state.needDrain = false;\n          stream.emit('drain');\n        }\n      } // if there's something in the buffer waiting, then process it\n\n\n      function clearBuffer(stream, state) {\n        state.bufferProcessing = true;\n\n        if (stream._writev && state.buffer.length > 1) {\n          // Fast case, write everything using _writev()\n          var cbs = [];\n\n          for (var c = 0; c < state.buffer.length; c++) {\n            cbs.push(state.buffer[c].callback);\n          } // count the one we are adding, as well.\n          // TODO(isaacs) clean this up\n\n\n          state.pendingcb++;\n          doWrite(stream, state, true, state.length, state.buffer, '', function (err) {\n            for (var i = 0; i < cbs.length; i++) {\n              state.pendingcb--;\n              cbs[i](err);\n            }\n          }); // Clear buffer\n\n          state.buffer = [];\n        } else {\n          // Slow case, write chunks one-by-one\n          for (var c = 0; c < state.buffer.length; c++) {\n            var entry = state.buffer[c];\n            var chunk = entry.chunk;\n            var encoding = entry.encoding;\n            var cb = entry.callback;\n            var len = state.objectMode ? 1 : chunk.length;\n            doWrite(stream, state, false, len, chunk, encoding, cb); // if we didn't call the onwrite immediately, then\n            // it means that we need to wait until it does.\n            // also, that means that the chunk and cb are currently\n            // being processed, so move the buffer counter past them.\n\n            if (state.writing) {\n              c++;\n              break;\n            }\n          }\n\n          if (c < state.buffer.length) state.buffer = state.buffer.slice(c);else state.buffer.length = 0;\n        }\n\n        state.bufferProcessing = false;\n      }\n\n      Writable.prototype._write = function (chunk, encoding, cb) {\n        cb(new Error('not implemented'));\n      };\n\n      Writable.prototype._writev = null;\n\n      Writable.prototype.end = function (chunk, encoding, cb) {\n        var state = this._writableState;\n\n        if (util.isFunction(chunk)) {\n          cb = chunk;\n          chunk = null;\n          encoding = null;\n        } else if (util.isFunction(encoding)) {\n          cb = encoding;\n          encoding = null;\n        }\n\n        if (!util.isNullOrUndefined(chunk)) this.write(chunk, encoding); // .end() fully uncorks\n\n        if (state.corked) {\n          state.corked = 1;\n          this.uncork();\n        } // ignore unnecessary end() calls.\n\n\n        if (!state.ending && !state.finished) endWritable(this, state, cb);\n      };\n\n      function needFinish(stream, state) {\n        return state.ending && state.length === 0 && !state.finished && !state.writing;\n      }\n\n      function prefinish(stream, state) {\n        if (!state.prefinished) {\n          state.prefinished = true;\n          stream.emit('prefinish');\n        }\n      }\n\n      function finishMaybe(stream, state) {\n        var need = needFinish(stream, state);\n\n        if (need) {\n          if (state.pendingcb === 0) {\n            prefinish(stream, state);\n            state.finished = true;\n            stream.emit('finish');\n          } else prefinish(stream, state);\n        }\n\n        return need;\n      }\n\n      function endWritable(stream, state, cb) {\n        state.ending = true;\n        finishMaybe(stream, state);\n\n        if (cb) {\n          if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n        }\n\n        state.ended = true;\n      }\n    }).call(this, require('_process'));\n  }, {\n    \"./_stream_duplex\": 53,\n    \"_process\": 51,\n    \"buffer\": 43,\n    \"core-util-is\": 58,\n    \"inherits\": 48,\n    \"stream\": 63\n  }],\n  58: [function (require, module, exports) {\n    (function (Buffer) {\n      // Copyright Joyent, Inc. and other Node contributors.\n      //\n      // Permission is hereby granted, free of charge, to any person obtaining a\n      // copy of this software and associated documentation files (the\n      // \"Software\"), to deal in the Software without restriction, including\n      // without limitation the rights to use, copy, modify, merge, publish,\n      // distribute, sublicense, and/or sell copies of the Software, and to permit\n      // persons to whom the Software is furnished to do so, subject to the\n      // following conditions:\n      //\n      // The above copyright notice and this permission notice shall be included\n      // in all copies or substantial portions of the Software.\n      //\n      // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n      // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n      // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n      // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n      // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n      // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n      // USE OR OTHER DEALINGS IN THE SOFTWARE.\n      // NOTE: These type checking functions intentionally don't use `instanceof`\n      // because it is fragile and can be easily faked with `Object.create()`.\n      function isArray(ar) {\n        return Array.isArray(ar);\n      }\n\n      exports.isArray = isArray;\n\n      function isBoolean(arg) {\n        return typeof arg === 'boolean';\n      }\n\n      exports.isBoolean = isBoolean;\n\n      function isNull(arg) {\n        return arg === null;\n      }\n\n      exports.isNull = isNull;\n\n      function isNullOrUndefined(arg) {\n        return arg == null;\n      }\n\n      exports.isNullOrUndefined = isNullOrUndefined;\n\n      function isNumber(arg) {\n        return typeof arg === 'number';\n      }\n\n      exports.isNumber = isNumber;\n\n      function isString(arg) {\n        return typeof arg === 'string';\n      }\n\n      exports.isString = isString;\n\n      function isSymbol(arg) {\n        return (typeof arg === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(arg)) === 'symbol';\n      }\n\n      exports.isSymbol = isSymbol;\n\n      function isUndefined(arg) {\n        return arg === void 0;\n      }\n\n      exports.isUndefined = isUndefined;\n\n      function isRegExp(re) {\n        return isObject(re) && objectToString(re) === '[object RegExp]';\n      }\n\n      exports.isRegExp = isRegExp;\n\n      function isObject(arg) {\n        return (typeof arg === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(arg)) === 'object' && arg !== null;\n      }\n\n      exports.isObject = isObject;\n\n      function isDate(d) {\n        return isObject(d) && objectToString(d) === '[object Date]';\n      }\n\n      exports.isDate = isDate;\n\n      function isError(e) {\n        return isObject(e) && (objectToString(e) === '[object Error]' || e instanceof Error);\n      }\n\n      exports.isError = isError;\n\n      function isFunction(arg) {\n        return typeof arg === 'function';\n      }\n\n      exports.isFunction = isFunction;\n\n      function isPrimitive(arg) {\n        return arg === null || typeof arg === 'boolean' || typeof arg === 'number' || typeof arg === 'string' || (typeof arg === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(arg)) === 'symbol' || // ES6 symbol\n        typeof arg === 'undefined';\n      }\n\n      exports.isPrimitive = isPrimitive;\n\n      function isBuffer(arg) {\n        return Buffer.isBuffer(arg);\n      }\n\n      exports.isBuffer = isBuffer;\n\n      function objectToString(o) {\n        return Object.prototype.toString.call(o);\n      }\n    }).call(this, require(\"buffer\").Buffer);\n  }, {\n    \"buffer\": 43\n  }],\n  59: [function (require, module, exports) {\n    module.exports = require(\"./lib/_stream_passthrough.js\");\n  }, {\n    \"./lib/_stream_passthrough.js\": 54\n  }],\n  60: [function (require, module, exports) {\n    exports = module.exports = require('./lib/_stream_readable.js');\n    exports.Stream = require('stream');\n    exports.Readable = exports;\n    exports.Writable = require('./lib/_stream_writable.js');\n    exports.Duplex = require('./lib/_stream_duplex.js');\n    exports.Transform = require('./lib/_stream_transform.js');\n    exports.PassThrough = require('./lib/_stream_passthrough.js');\n  }, {\n    \"./lib/_stream_duplex.js\": 53,\n    \"./lib/_stream_passthrough.js\": 54,\n    \"./lib/_stream_readable.js\": 55,\n    \"./lib/_stream_transform.js\": 56,\n    \"./lib/_stream_writable.js\": 57,\n    \"stream\": 63\n  }],\n  61: [function (require, module, exports) {\n    module.exports = require(\"./lib/_stream_transform.js\");\n  }, {\n    \"./lib/_stream_transform.js\": 56\n  }],\n  62: [function (require, module, exports) {\n    module.exports = require(\"./lib/_stream_writable.js\");\n  }, {\n    \"./lib/_stream_writable.js\": 57\n  }],\n  63: [function (require, module, exports) {\n    // Copyright Joyent, Inc. and other Node contributors.\n    //\n    // Permission is hereby granted, free of charge, to any person obtaining a\n    // copy of this software and associated documentation files (the\n    // \"Software\"), to deal in the Software without restriction, including\n    // without limitation the rights to use, copy, modify, merge, publish,\n    // distribute, sublicense, and/or sell copies of the Software, and to permit\n    // persons to whom the Software is furnished to do so, subject to the\n    // following conditions:\n    //\n    // The above copyright notice and this permission notice shall be included\n    // in all copies or substantial portions of the Software.\n    //\n    // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n    // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n    // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n    // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n    // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n    // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n    // USE OR OTHER DEALINGS IN THE SOFTWARE.\n    module.exports = Stream;\n\n    var EE = require('events').EventEmitter;\n\n    var inherits = require('inherits');\n\n    inherits(Stream, EE);\n    Stream.Readable = require('readable-stream/readable.js');\n    Stream.Writable = require('readable-stream/writable.js');\n    Stream.Duplex = require('readable-stream/duplex.js');\n    Stream.Transform = require('readable-stream/transform.js');\n    Stream.PassThrough = require('readable-stream/passthrough.js'); // Backwards-compat with node 0.4.x\n\n    Stream.Stream = Stream; // old-style streams.  Note that the pipe method (the only relevant\n    // part of this class) is overridden in the Readable class.\n\n    function Stream() {\n      EE.call(this);\n    }\n\n    Stream.prototype.pipe = function (dest, options) {\n      var source = this;\n\n      function ondata(chunk) {\n        if (dest.writable) {\n          if (false === dest.write(chunk) && source.pause) {\n            source.pause();\n          }\n        }\n      }\n\n      source.on('data', ondata);\n\n      function ondrain() {\n        if (source.readable && source.resume) {\n          source.resume();\n        }\n      }\n\n      dest.on('drain', ondrain); // If the 'end' option is not supplied, dest.end() will be called when\n      // source gets the 'end' or 'close' events.  Only dest.end() once.\n\n      if (!dest._isStdio && (!options || options.end !== false)) {\n        source.on('end', onend);\n        source.on('close', onclose);\n      }\n\n      var didOnEnd = false;\n\n      function onend() {\n        if (didOnEnd) return;\n        didOnEnd = true;\n        dest.end();\n      }\n\n      function onclose() {\n        if (didOnEnd) return;\n        didOnEnd = true;\n        if (typeof dest.destroy === 'function') dest.destroy();\n      } // don't leave dangling pipes when there are errors.\n\n\n      function onerror(er) {\n        cleanup();\n\n        if (EE.listenerCount(this, 'error') === 0) {\n          throw er; // Unhandled stream error in pipe.\n        }\n      }\n\n      source.on('error', onerror);\n      dest.on('error', onerror); // remove all the event listeners that were added.\n\n      function cleanup() {\n        source.removeListener('data', ondata);\n        dest.removeListener('drain', ondrain);\n        source.removeListener('end', onend);\n        source.removeListener('close', onclose);\n        source.removeListener('error', onerror);\n        dest.removeListener('error', onerror);\n        source.removeListener('end', cleanup);\n        source.removeListener('close', cleanup);\n        dest.removeListener('close', cleanup);\n      }\n\n      source.on('end', cleanup);\n      source.on('close', cleanup);\n      dest.on('close', cleanup);\n      dest.emit('pipe', source); // Allow for unix-like usage: A.pipe(B).pipe(C)\n\n      return dest;\n    };\n  }, {\n    \"events\": 47,\n    \"inherits\": 48,\n    \"readable-stream/duplex.js\": 52,\n    \"readable-stream/passthrough.js\": 59,\n    \"readable-stream/readable.js\": 60,\n    \"readable-stream/transform.js\": 61,\n    \"readable-stream/writable.js\": 62\n  }],\n  64: [function (require, module, exports) {\n    // Copyright Joyent, Inc. and other Node contributors.\n    //\n    // Permission is hereby granted, free of charge, to any person obtaining a\n    // copy of this software and associated documentation files (the\n    // \"Software\"), to deal in the Software without restriction, including\n    // without limitation the rights to use, copy, modify, merge, publish,\n    // distribute, sublicense, and/or sell copies of the Software, and to permit\n    // persons to whom the Software is furnished to do so, subject to the\n    // following conditions:\n    //\n    // The above copyright notice and this permission notice shall be included\n    // in all copies or substantial portions of the Software.\n    //\n    // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n    // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n    // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n    // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n    // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n    // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n    // USE OR OTHER DEALINGS IN THE SOFTWARE.\n    var Buffer = require('buffer').Buffer;\n\n    var isBufferEncoding = Buffer.isEncoding || function (encoding) {\n      switch (encoding && encoding.toLowerCase()) {\n        case 'hex':\n        case 'utf8':\n        case 'utf-8':\n        case 'ascii':\n        case 'binary':\n        case 'base64':\n        case 'ucs2':\n        case 'ucs-2':\n        case 'utf16le':\n        case 'utf-16le':\n        case 'raw':\n          return true;\n\n        default:\n          return false;\n      }\n    };\n\n    function assertEncoding(encoding) {\n      if (encoding && !isBufferEncoding(encoding)) {\n        throw new Error('Unknown encoding: ' + encoding);\n      }\n    } // StringDecoder provides an interface for efficiently splitting a series of\n    // buffers into a series of JS strings without breaking apart multi-byte\n    // characters. CESU-8 is handled as part of the UTF-8 encoding.\n    //\n    // @TODO Handling all encodings inside a single object makes it very difficult\n    // to reason about this code, so it should be split up in the future.\n    // @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n    // points as used by CESU-8.\n\n\n    var StringDecoder = exports.StringDecoder = function (encoding) {\n      this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n      assertEncoding(encoding);\n\n      switch (this.encoding) {\n        case 'utf8':\n          // CESU-8 represents each of Surrogate Pair by 3-bytes\n          this.surrogateSize = 3;\n          break;\n\n        case 'ucs2':\n        case 'utf16le':\n          // UTF-16 represents each of Surrogate Pair by 2-bytes\n          this.surrogateSize = 2;\n          this.detectIncompleteChar = utf16DetectIncompleteChar;\n          break;\n\n        case 'base64':\n          // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n          this.surrogateSize = 3;\n          this.detectIncompleteChar = base64DetectIncompleteChar;\n          break;\n\n        default:\n          this.write = passThroughWrite;\n          return;\n      } // Enough space to store all bytes of a single character. UTF-8 needs 4\n      // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n\n\n      this.charBuffer = new Buffer(6); // Number of bytes received for the current incomplete multi-byte character.\n\n      this.charReceived = 0; // Number of bytes expected for the current incomplete multi-byte character.\n\n      this.charLength = 0;\n    }; // write decodes the given buffer and returns it as JS string that is\n    // guaranteed to not contain any partial multi-byte characters. Any partial\n    // character found at the end of the buffer is buffered up, and will be\n    // returned when calling write again with the remaining bytes.\n    //\n    // Note: Converting a Buffer containing an orphan surrogate to a String\n    // currently works, but converting a String to a Buffer (via `new Buffer`, or\n    // Buffer#write) will replace incomplete surrogates with the unicode\n    // replacement character. See https://codereview.chromium.org/121173009/ .\n\n\n    StringDecoder.prototype.write = function (buffer) {\n      var charStr = ''; // if our last write ended with an incomplete multibyte character\n\n      while (this.charLength) {\n        // determine how many remaining bytes this buffer has to offer for this char\n        var available = buffer.length >= this.charLength - this.charReceived ? this.charLength - this.charReceived : buffer.length; // add the new bytes to the char buffer\n\n        buffer.copy(this.charBuffer, this.charReceived, 0, available);\n        this.charReceived += available;\n\n        if (this.charReceived < this.charLength) {\n          // still not enough chars in this buffer? wait for more ...\n          return '';\n        } // remove bytes belonging to the current character from the buffer\n\n\n        buffer = buffer.slice(available, buffer.length); // get the character that was split\n\n        charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding); // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n\n        var charCode = charStr.charCodeAt(charStr.length - 1);\n\n        if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n          this.charLength += this.surrogateSize;\n          charStr = '';\n          continue;\n        }\n\n        this.charReceived = this.charLength = 0; // if there are no more bytes in this buffer, just emit our char\n\n        if (buffer.length === 0) {\n          return charStr;\n        }\n\n        break;\n      } // determine and set charLength / charReceived\n\n\n      this.detectIncompleteChar(buffer);\n      var end = buffer.length;\n\n      if (this.charLength) {\n        // buffer the incomplete character bytes we got\n        buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n        end -= this.charReceived;\n      }\n\n      charStr += buffer.toString(this.encoding, 0, end);\n      var end = charStr.length - 1;\n      var charCode = charStr.charCodeAt(end); // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n\n      if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n        var size = this.surrogateSize;\n        this.charLength += size;\n        this.charReceived += size;\n        this.charBuffer.copy(this.charBuffer, size, 0, size);\n        buffer.copy(this.charBuffer, 0, 0, size);\n        return charStr.substring(0, end);\n      } // or just emit the charStr\n\n\n      return charStr;\n    }; // detectIncompleteChar determines if there is an incomplete UTF-8 character at\n    // the end of the given buffer. If so, it sets this.charLength to the byte\n    // length that character, and sets this.charReceived to the number of bytes\n    // that are available for this character.\n\n\n    StringDecoder.prototype.detectIncompleteChar = function (buffer) {\n      // determine how many bytes we have to check at the end of this buffer\n      var i = buffer.length >= 3 ? 3 : buffer.length; // Figure out if one of the last i bytes of our buffer announces an\n      // incomplete char.\n\n      for (; i > 0; i--) {\n        var c = buffer[buffer.length - i]; // See http://en.wikipedia.org/wiki/UTF-8#Description\n        // 110XXXXX\n\n        if (i == 1 && c >> 5 == 0x06) {\n          this.charLength = 2;\n          break;\n        } // 1110XXXX\n\n\n        if (i <= 2 && c >> 4 == 0x0E) {\n          this.charLength = 3;\n          break;\n        } // 11110XXX\n\n\n        if (i <= 3 && c >> 3 == 0x1E) {\n          this.charLength = 4;\n          break;\n        }\n      }\n\n      this.charReceived = i;\n    };\n\n    StringDecoder.prototype.end = function (buffer) {\n      var res = '';\n      if (buffer && buffer.length) res = this.write(buffer);\n\n      if (this.charReceived) {\n        var cr = this.charReceived;\n        var buf = this.charBuffer;\n        var enc = this.encoding;\n        res += buf.slice(0, cr).toString(enc);\n      }\n\n      return res;\n    };\n\n    function passThroughWrite(buffer) {\n      return buffer.toString(this.encoding);\n    }\n\n    function utf16DetectIncompleteChar(buffer) {\n      this.charReceived = buffer.length % 2;\n      this.charLength = this.charReceived ? 2 : 0;\n    }\n\n    function base64DetectIncompleteChar(buffer) {\n      this.charReceived = buffer.length % 3;\n      this.charLength = this.charReceived ? 3 : 0;\n    }\n  }, {\n    \"buffer\": 43\n  }],\n  65: [function (require, module, exports) {\n    module.exports = function () {\n      function isBuffer(arg) {\n        return arg && (typeof arg === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(arg)) === 'object' && typeof arg.copy === 'function' && typeof arg.fill === 'function' && typeof arg.readUInt8 === 'function';\n      }\n\n      return isBuffer;\n    }();\n  }, {}],\n  66: [function (require, module, exports) {\n    (function (process, global) {\n      // Copyright Joyent, Inc. and other Node contributors.\n      //\n      // Permission is hereby granted, free of charge, to any person obtaining a\n      // copy of this software and associated documentation files (the\n      // \"Software\"), to deal in the Software without restriction, including\n      // without limitation the rights to use, copy, modify, merge, publish,\n      // distribute, sublicense, and/or sell copies of the Software, and to permit\n      // persons to whom the Software is furnished to do so, subject to the\n      // following conditions:\n      //\n      // The above copyright notice and this permission notice shall be included\n      // in all copies or substantial portions of the Software.\n      //\n      // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n      // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n      // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n      // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n      // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n      // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n      // USE OR OTHER DEALINGS IN THE SOFTWARE.\n      var formatRegExp = /%[sdj%]/g;\n\n      exports.format = function (f) {\n        if (!isString(f)) {\n          var objects = [];\n\n          for (var i = 0; i < arguments.length; i++) {\n            objects.push(inspect(arguments[i]));\n          }\n\n          return objects.join(' ');\n        }\n\n        var i = 1;\n        var args = arguments;\n        var len = args.length;\n        var str = String(f).replace(formatRegExp, function (x) {\n          if (x === '%%') return '%';\n          if (i >= len) return x;\n\n          switch (x) {\n            case '%s':\n              return String(args[i++]);\n\n            case '%d':\n              return Number(args[i++]);\n\n            case '%j':\n              try {\n                return JSON.stringify(args[i++]);\n              } catch (_) {\n                return '[Circular]';\n              }\n\n            default:\n              return x;\n          }\n        });\n\n        for (var x = args[i]; i < len; x = args[++i]) {\n          if (isNull(x) || !isObject(x)) {\n            str += ' ' + x;\n          } else {\n            str += ' ' + inspect(x);\n          }\n        }\n\n        return str;\n      }; // Mark that a method should not be used.\n      // Returns a modified function which warns once by default.\n      // If --no-deprecation is set, then it is a no-op.\n\n\n      exports.deprecate = function (fn, msg) {\n        // Allow for deprecating things in the process of starting up.\n        if (isUndefined(global.process)) {\n          return function () {\n            return exports.deprecate(fn, msg).apply(this, arguments);\n          };\n        }\n\n        if (process.noDeprecation === true) {\n          return fn;\n        }\n\n        var warned = false;\n\n        function deprecated() {\n          if (!warned) {\n            if (process.throwDeprecation) {\n              throw new Error(msg);\n            } else if (process.traceDeprecation) {\n              console.trace(msg);\n            } else {\n              console.error(msg);\n            }\n\n            warned = true;\n          }\n\n          return fn.apply(this, arguments);\n        }\n\n        return deprecated;\n      };\n\n      var debugs = {};\n      var debugEnviron;\n\n      exports.debuglog = function (set) {\n        if (isUndefined(debugEnviron)) debugEnviron = process.env.NODE_DEBUG || '';\n        set = set.toUpperCase();\n\n        if (!debugs[set]) {\n          if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n            var pid = process.pid;\n\n            debugs[set] = function () {\n              var msg = exports.format.apply(exports, arguments);\n              console.error('%s %d: %s', set, pid, msg);\n            };\n          } else {\n            debugs[set] = function () {};\n          }\n        }\n\n        return debugs[set];\n      }; /**\n          * Echos the value of a value. Trys to print the value out\n          * in the best way possible given the different types.\n          *\n          * @param {Object} obj The object to print out.\n          * @param {Object} opts Optional options object that alters the output.\n          */ /* legacy: obj, showHidden, depth, colors*/\n\n      function inspect(obj, opts) {\n        // default options\n        var ctx = {\n          seen: [],\n          stylize: stylizeNoColor\n        }; // legacy...\n\n        if (arguments.length >= 3) ctx.depth = arguments[2];\n        if (arguments.length >= 4) ctx.colors = arguments[3];\n\n        if (isBoolean(opts)) {\n          // legacy...\n          ctx.showHidden = opts;\n        } else if (opts) {\n          // got an \"options\" object\n          exports._extend(ctx, opts);\n        } // set default options\n\n\n        if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n        if (isUndefined(ctx.depth)) ctx.depth = 2;\n        if (isUndefined(ctx.colors)) ctx.colors = false;\n        if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n        if (ctx.colors) ctx.stylize = stylizeWithColor;\n        return formatValue(ctx, obj, ctx.depth);\n      }\n\n      exports.inspect = inspect; // http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\n\n      inspect.colors = {\n        'bold': [1, 22],\n        'italic': [3, 23],\n        'underline': [4, 24],\n        'inverse': [7, 27],\n        'white': [37, 39],\n        'grey': [90, 39],\n        'black': [30, 39],\n        'blue': [34, 39],\n        'cyan': [36, 39],\n        'green': [32, 39],\n        'magenta': [35, 39],\n        'red': [31, 39],\n        'yellow': [33, 39]\n      }; // Don't use 'blue' not visible on cmd.exe\n\n      inspect.styles = {\n        'special': 'cyan',\n        'number': 'yellow',\n        'boolean': 'yellow',\n        'undefined': 'grey',\n        'null': 'bold',\n        'string': 'green',\n        'date': 'magenta',\n        // \"name\": intentionally not styling\n        'regexp': 'red'\n      };\n\n      function stylizeWithColor(str, styleType) {\n        var style = inspect.styles[styleType];\n\n        if (style) {\n          return \"\\x1B[\" + inspect.colors[style][0] + 'm' + str + \"\\x1B[\" + inspect.colors[style][1] + 'm';\n        } else {\n          return str;\n        }\n      }\n\n      function stylizeNoColor(str, styleType) {\n        return str;\n      }\n\n      function arrayToHash(array) {\n        var hash = {};\n        array.forEach(function (val, idx) {\n          hash[val] = true;\n        });\n        return hash;\n      }\n\n      function formatValue(ctx, value, recurseTimes) {\n        // Provide a hook for user-specified inspect functions.\n        // Check that value is an object with an inspect function on it\n        if (ctx.customInspect && value && isFunction(value.inspect) && // Filter out the util module, it's inspect function is special\n        value.inspect !== exports.inspect && // Also filter out any prototype objects using the circular check.\n        !(value.constructor && value.constructor.prototype === value)) {\n          var ret = value.inspect(recurseTimes, ctx);\n\n          if (!isString(ret)) {\n            ret = formatValue(ctx, ret, recurseTimes);\n          }\n\n          return ret;\n        } // Primitive types cannot have properties\n\n\n        var primitive = formatPrimitive(ctx, value);\n\n        if (primitive) {\n          return primitive;\n        } // Look up the keys of the object.\n\n\n        var keys = Object.keys(value);\n        var visibleKeys = arrayToHash(keys);\n\n        if (ctx.showHidden) {\n          keys = Object.getOwnPropertyNames(value);\n        } // IE doesn't make error fields non-enumerable\n        // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n\n\n        if (isError(value) && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n          return formatError(value);\n        } // Some type of object without properties can be shortcutted.\n\n\n        if (keys.length === 0) {\n          if (isFunction(value)) {\n            var name = value.name ? ': ' + value.name : '';\n            return ctx.stylize('[Function' + name + ']', 'special');\n          }\n\n          if (isRegExp(value)) {\n            return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n          }\n\n          if (isDate(value)) {\n            return ctx.stylize(Date.prototype.toString.call(value), 'date');\n          }\n\n          if (isError(value)) {\n            return formatError(value);\n          }\n        }\n\n        var base = '',\n            array = false,\n            braces = ['{', '}']; // Make Array say that they are Array\n\n        if (isArray(value)) {\n          array = true;\n          braces = ['[', ']'];\n        } // Make functions say that they are functions\n\n\n        if (isFunction(value)) {\n          var n = value.name ? ': ' + value.name : '';\n          base = ' [Function' + n + ']';\n        } // Make RegExps say that they are RegExps\n\n\n        if (isRegExp(value)) {\n          base = ' ' + RegExp.prototype.toString.call(value);\n        } // Make dates with properties first say the date\n\n\n        if (isDate(value)) {\n          base = ' ' + Date.prototype.toUTCString.call(value);\n        } // Make error with message first say the error\n\n\n        if (isError(value)) {\n          base = ' ' + formatError(value);\n        }\n\n        if (keys.length === 0 && (!array || value.length == 0)) {\n          return braces[0] + base + braces[1];\n        }\n\n        if (recurseTimes < 0) {\n          if (isRegExp(value)) {\n            return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n          } else {\n            return ctx.stylize('[Object]', 'special');\n          }\n        }\n\n        ctx.seen.push(value);\n        var output;\n\n        if (array) {\n          output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n        } else {\n          output = keys.map(function (key) {\n            return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n          });\n        }\n\n        ctx.seen.pop();\n        return reduceToSingleString(output, base, braces);\n      }\n\n      function formatPrimitive(ctx, value) {\n        if (isUndefined(value)) return ctx.stylize('undefined', 'undefined');\n\n        if (isString(value)) {\n          var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '').replace(/'/g, \"\\\\'\").replace(/\\\\\"/g, '\"') + '\\'';\n          return ctx.stylize(simple, 'string');\n        }\n\n        if (isNumber(value)) return ctx.stylize('' + value, 'number');\n        if (isBoolean(value)) return ctx.stylize('' + value, 'boolean'); // For some reason typeof null is \"object\", so special case here.\n\n        if (isNull(value)) return ctx.stylize('null', 'null');\n      }\n\n      function formatError(value) {\n        return '[' + Error.prototype.toString.call(value) + ']';\n      }\n\n      function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n        var output = [];\n\n        for (var i = 0, l = value.length; i < l; ++i) {\n          if (hasOwnProperty(value, String(i))) {\n            output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, String(i), true));\n          } else {\n            output.push('');\n          }\n        }\n\n        keys.forEach(function (key) {\n          if (!key.match(/^\\d+$/)) {\n            output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, key, true));\n          }\n        });\n        return output;\n      }\n\n      function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n        var name, str, desc;\n        desc = Object.getOwnPropertyDescriptor(value, key) || {\n          value: value[key]\n        };\n\n        if (desc.get) {\n          if (desc.set) {\n            str = ctx.stylize('[Getter/Setter]', 'special');\n          } else {\n            str = ctx.stylize('[Getter]', 'special');\n          }\n        } else {\n          if (desc.set) {\n            str = ctx.stylize('[Setter]', 'special');\n          }\n        }\n\n        if (!hasOwnProperty(visibleKeys, key)) {\n          name = '[' + key + ']';\n        }\n\n        if (!str) {\n          if (ctx.seen.indexOf(desc.value) < 0) {\n            if (isNull(recurseTimes)) {\n              str = formatValue(ctx, desc.value, null);\n            } else {\n              str = formatValue(ctx, desc.value, recurseTimes - 1);\n            }\n\n            if (str.indexOf('\\n') > -1) {\n              if (array) {\n                str = str.split('\\n').map(function (line) {\n                  return '  ' + line;\n                }).join('\\n').substr(2);\n              } else {\n                str = '\\n' + str.split('\\n').map(function (line) {\n                  return '   ' + line;\n                }).join('\\n');\n              }\n            }\n          } else {\n            str = ctx.stylize('[Circular]', 'special');\n          }\n        }\n\n        if (isUndefined(name)) {\n          if (array && key.match(/^\\d+$/)) {\n            return str;\n          }\n\n          name = JSON.stringify('' + key);\n\n          if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n            name = name.substr(1, name.length - 2);\n            name = ctx.stylize(name, 'name');\n          } else {\n            name = name.replace(/'/g, \"\\\\'\").replace(/\\\\\"/g, '\"').replace(/(^\"|\"$)/g, \"'\");\n            name = ctx.stylize(name, 'string');\n          }\n        }\n\n        return name + ': ' + str;\n      }\n\n      function reduceToSingleString(output, base, braces) {\n        var numLinesEst = 0;\n        var length = output.reduce(function (prev, cur) {\n          numLinesEst++;\n          if (cur.indexOf('\\n') >= 0) numLinesEst++;\n          return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n        }, 0);\n\n        if (length > 60) {\n          return braces[0] + (base === '' ? '' : base + '\\n ') + ' ' + output.join(',\\n  ') + ' ' + braces[1];\n        }\n\n        return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n      } // NOTE: These type checking functions intentionally don't use `instanceof`\n      // because it is fragile and can be easily faked with `Object.create()`.\n\n\n      function isArray(ar) {\n        return Array.isArray(ar);\n      }\n\n      exports.isArray = isArray;\n\n      function isBoolean(arg) {\n        return typeof arg === 'boolean';\n      }\n\n      exports.isBoolean = isBoolean;\n\n      function isNull(arg) {\n        return arg === null;\n      }\n\n      exports.isNull = isNull;\n\n      function isNullOrUndefined(arg) {\n        return arg == null;\n      }\n\n      exports.isNullOrUndefined = isNullOrUndefined;\n\n      function isNumber(arg) {\n        return typeof arg === 'number';\n      }\n\n      exports.isNumber = isNumber;\n\n      function isString(arg) {\n        return typeof arg === 'string';\n      }\n\n      exports.isString = isString;\n\n      function isSymbol(arg) {\n        return (typeof arg === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(arg)) === 'symbol';\n      }\n\n      exports.isSymbol = isSymbol;\n\n      function isUndefined(arg) {\n        return arg === void 0;\n      }\n\n      exports.isUndefined = isUndefined;\n\n      function isRegExp(re) {\n        return isObject(re) && objectToString(re) === '[object RegExp]';\n      }\n\n      exports.isRegExp = isRegExp;\n\n      function isObject(arg) {\n        return (typeof arg === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(arg)) === 'object' && arg !== null;\n      }\n\n      exports.isObject = isObject;\n\n      function isDate(d) {\n        return isObject(d) && objectToString(d) === '[object Date]';\n      }\n\n      exports.isDate = isDate;\n\n      function isError(e) {\n        return isObject(e) && (objectToString(e) === '[object Error]' || e instanceof Error);\n      }\n\n      exports.isError = isError;\n\n      function isFunction(arg) {\n        return typeof arg === 'function';\n      }\n\n      exports.isFunction = isFunction;\n\n      function isPrimitive(arg) {\n        return arg === null || typeof arg === 'boolean' || typeof arg === 'number' || typeof arg === 'string' || (typeof arg === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(arg)) === 'symbol' || // ES6 symbol\n        typeof arg === 'undefined';\n      }\n\n      exports.isPrimitive = isPrimitive;\n      exports.isBuffer = require('./support/isBuffer');\n\n      function objectToString(o) {\n        return Object.prototype.toString.call(o);\n      }\n\n      function pad(n) {\n        return n < 10 ? '0' + n.toString(10) : n.toString(10);\n      }\n\n      var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']; // 26 Feb 16:19:34\n\n      function timestamp() {\n        var d = new Date();\n        var time = [pad(d.getHours()), pad(d.getMinutes()), pad(d.getSeconds())].join(':');\n        return [d.getDate(), months[d.getMonth()], time].join(' ');\n      } // log is just a thin wrapper to console.log that prepends a timestamp\n\n\n      exports.log = function () {\n        console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n      }; /**\n          * Inherit the prototype methods from one constructor into another.\n          *\n          * The Function.prototype.inherits from lang.js rewritten as a standalone\n          * function (not on Function.prototype). NOTE: If this file is to be loaded\n          * during bootstrapping this function needs to be rewritten using some native\n          * functions as prototype setup using normal JavaScript does not work as\n          * expected during bootstrapping (see mirror.js in r114903).\n          *\n          * @param {function} ctor Constructor function which needs to inherit the\n          *     prototype.\n          * @param {function} superCtor Constructor function to inherit prototype from.\n          */\n\n      exports.inherits = require('inherits');\n\n      exports._extend = function (origin, add) {\n        // Don't do anything if add isn't an object\n        if (!add || !isObject(add)) return origin;\n        var keys = Object.keys(add);\n        var i = keys.length;\n\n        while (i--) {\n          origin[keys[i]] = add[keys[i]];\n        }\n\n        return origin;\n      };\n\n      function hasOwnProperty(obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop);\n      }\n    }).call(this, require('_process'), typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n  }, {\n    \"./support/isBuffer\": 65,\n    \"_process\": 51,\n    \"inherits\": 48\n  }],\n  67: [function (require, module, exports) {\n    /* See LICENSE file for terms of use */ /*\n                                             * Text diff implementation.\n                                             *\n                                             * This library supports the following APIS:\n                                             * JsDiff.diffChars: Character by character diff\n                                             * JsDiff.diffWords: Word (as defined by \\b regex) diff which ignores whitespace\n                                             * JsDiff.diffLines: Line based diff\n                                             *\n                                             * JsDiff.diffCss: Diff targeted at CSS content\n                                             *\n                                             * These methods are based on the implementation proposed in\n                                             * \"An O(ND) Difference Algorithm and its Variations\" (Myers, 1986).\n                                             * http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.4.6927\n                                             */(function (global, undefined) {\n      var objectPrototypeToString = Object.prototype.toString; /*istanbul ignore next*/\n\n      function map(arr, mapper, that) {\n        if (Array.prototype.map) {\n          return Array.prototype.map.call(arr, mapper, that);\n        }\n\n        var other = new Array(arr.length);\n\n        for (var i = 0, n = arr.length; i < n; i++) {\n          other[i] = mapper.call(that, arr[i], i, arr);\n        }\n\n        return other;\n      }\n\n      function clonePath(path) {\n        return {\n          newPos: path.newPos,\n          components: path.components.slice(0)\n        };\n      }\n\n      function removeEmpty(array) {\n        var ret = [];\n\n        for (var i = 0; i < array.length; i++) {\n          if (array[i]) {\n            ret.push(array[i]);\n          }\n        }\n\n        return ret;\n      }\n\n      function escapeHTML(s) {\n        var n = s;\n        n = n.replace(/&/g, '&amp;');\n        n = n.replace(/</g, '&lt;');\n        n = n.replace(/>/g, '&gt;');\n        n = n.replace(/\"/g, '&quot;');\n        return n;\n      } // This function handles the presence of circular references by bailing out when encountering an\n      // object that is already on the \"stack\" of items being processed.\n\n\n      function canonicalize(obj, stack, replacementStack) {\n        stack = stack || [];\n        replacementStack = replacementStack || [];\n        var i;\n\n        for (i = 0; i < stack.length; i += 1) {\n          if (stack[i] === obj) {\n            return replacementStack[i];\n          }\n        }\n\n        var canonicalizedObj;\n\n        if ('[object Array]' === objectPrototypeToString.call(obj)) {\n          stack.push(obj);\n          canonicalizedObj = new Array(obj.length);\n          replacementStack.push(canonicalizedObj);\n\n          for (i = 0; i < obj.length; i += 1) {\n            canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack);\n          }\n\n          stack.pop();\n          replacementStack.pop();\n        } else if ((typeof obj === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(obj)) === 'object' && obj !== null) {\n          stack.push(obj);\n          canonicalizedObj = {};\n          replacementStack.push(canonicalizedObj);\n          var sortedKeys = [],\n              key;\n\n          for (key in meteorBabelHelpers.sanitizeForInObject(obj)) {\n            sortedKeys.push(key);\n          }\n\n          sortedKeys.sort();\n\n          for (i = 0; i < sortedKeys.length; i += 1) {\n            key = sortedKeys[i];\n            canonicalizedObj[key] = canonicalize(obj[key], stack, replacementStack);\n          }\n\n          stack.pop();\n          replacementStack.pop();\n        } else {\n          canonicalizedObj = obj;\n        }\n\n        return canonicalizedObj;\n      }\n\n      function buildValues(components, newString, oldString, useLongestToken) {\n        var componentPos = 0,\n            componentLen = components.length,\n            newPos = 0,\n            oldPos = 0;\n\n        for (; componentPos < componentLen; componentPos++) {\n          var component = components[componentPos];\n\n          if (!component.removed) {\n            if (!component.added && useLongestToken) {\n              var value = newString.slice(newPos, newPos + component.count);\n              value = map(value, function (value, i) {\n                var oldValue = oldString[oldPos + i];\n                return oldValue.length > value.length ? oldValue : value;\n              });\n              component.value = value.join('');\n            } else {\n              component.value = newString.slice(newPos, newPos + component.count).join('');\n            }\n\n            newPos += component.count; // Common case\n\n            if (!component.added) {\n              oldPos += component.count;\n            }\n          } else {\n            component.value = oldString.slice(oldPos, oldPos + component.count).join('');\n            oldPos += component.count; // Reverse add and remove so removes are output first to match common convention\n            // The diffing algorithm is tied to add then remove output and this is the simplest\n            // route to get the desired output with minimal overhead.\n\n            if (componentPos && components[componentPos - 1].added) {\n              var tmp = components[componentPos - 1];\n              components[componentPos - 1] = components[componentPos];\n              components[componentPos] = tmp;\n            }\n          }\n        }\n\n        return components;\n      }\n\n      function Diff(ignoreWhitespace) {\n        this.ignoreWhitespace = ignoreWhitespace;\n      }\n\n      Diff.prototype = {\n        diff: function (oldString, newString, callback) {\n          var self = this;\n\n          function done(value) {\n            if (callback) {\n              setTimeout(function () {\n                callback(undefined, value);\n              }, 0);\n              return true;\n            } else {\n              return value;\n            }\n          } // Handle the identity case (this is due to unrolling editLength == 0\n\n\n          if (newString === oldString) {\n            return done([{\n              value: newString\n            }]);\n          }\n\n          if (!newString) {\n            return done([{\n              value: oldString,\n              removed: true\n            }]);\n          }\n\n          if (!oldString) {\n            return done([{\n              value: newString,\n              added: true\n            }]);\n          }\n\n          newString = this.tokenize(newString);\n          oldString = this.tokenize(oldString);\n          var newLen = newString.length,\n              oldLen = oldString.length;\n          var editLength = 1;\n          var maxEditLength = newLen + oldLen;\n          var bestPath = [{\n            newPos: -1,\n            components: []\n          }]; // Seed editLength = 0, i.e. the content starts with the same values\n\n          var oldPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n\n          if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n            // Identity per the equality and tokenizer\n            return done([{\n              value: newString.join('')\n            }]);\n          } // Main worker method. checks all permutations of a given edit length for acceptance.\n\n\n          function execEditLength() {\n            for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n              var basePath;\n              var addPath = bestPath[diagonalPath - 1],\n                  removePath = bestPath[diagonalPath + 1],\n                  oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n\n              if (addPath) {\n                // No one else is going to attempt to use this value, clear it\n                bestPath[diagonalPath - 1] = undefined;\n              }\n\n              var canAdd = addPath && addPath.newPos + 1 < newLen,\n                  canRemove = removePath && 0 <= oldPos && oldPos < oldLen;\n\n              if (!canAdd && !canRemove) {\n                // If this path is a terminal then prune\n                bestPath[diagonalPath] = undefined;\n                continue;\n              } // Select the diagonal that we want to branch from. We select the prior\n              // path whose position in the new string is the farthest from the origin\n              // and does not pass the bounds of the diff graph\n\n\n              if (!canAdd || canRemove && addPath.newPos < removePath.newPos) {\n                basePath = clonePath(removePath);\n                self.pushComponent(basePath.components, undefined, true);\n              } else {\n                basePath = addPath; // No need to clone, we've pulled it from the list\n\n                basePath.newPos++;\n                self.pushComponent(basePath.components, true, undefined);\n              }\n\n              oldPos = self.extractCommon(basePath, newString, oldString, diagonalPath); // If we have hit the end of both strings, then we are done\n\n              if (basePath.newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n                return done(buildValues(basePath.components, newString, oldString, self.useLongestToken));\n              } else {\n                // Otherwise track this path as a potential candidate and continue.\n                bestPath[diagonalPath] = basePath;\n              }\n            }\n\n            editLength++;\n          } // Performs the length of edit iteration. Is a bit fugly as this has to support the\n          // sync and async mode which is never fun. Loops over execEditLength until a value\n          // is produced.\n\n\n          if (callback) {\n            (function () {\n              function exec() {\n                setTimeout(function () {\n                  // This should not happen, but we want to be safe.\n                  /*istanbul ignore next */if (editLength > maxEditLength) {\n                    return callback();\n                  }\n\n                  if (!execEditLength()) {\n                    exec();\n                  }\n                }, 0);\n              }\n\n              return exec;\n            })()();\n          } else {\n            while (editLength <= maxEditLength) {\n              var ret = execEditLength();\n\n              if (ret) {\n                return ret;\n              }\n            }\n          }\n        },\n        pushComponent: function (components, added, removed) {\n          var last = components[components.length - 1];\n\n          if (last && last.added === added && last.removed === removed) {\n            // We need to clone here as the component clone operation is just\n            // as shallow array clone\n            components[components.length - 1] = {\n              count: last.count + 1,\n              added: added,\n              removed: removed\n            };\n          } else {\n            components.push({\n              count: 1,\n              added: added,\n              removed: removed\n            });\n          }\n        },\n        extractCommon: function (basePath, newString, oldString, diagonalPath) {\n          var newLen = newString.length,\n              oldLen = oldString.length,\n              newPos = basePath.newPos,\n              oldPos = newPos - diagonalPath,\n              commonCount = 0;\n\n          while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n            newPos++;\n            oldPos++;\n            commonCount++;\n          }\n\n          if (commonCount) {\n            basePath.components.push({\n              count: commonCount\n            });\n          }\n\n          basePath.newPos = newPos;\n          return oldPos;\n        },\n        equals: function (left, right) {\n          var reWhitespace = /\\S/;\n          return left === right || this.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right);\n        },\n        tokenize: function (value) {\n          return value.split('');\n        }\n      };\n      var CharDiff = new Diff();\n      var WordDiff = new Diff(true);\n      var WordWithSpaceDiff = new Diff();\n\n      WordDiff.tokenize = WordWithSpaceDiff.tokenize = function (value) {\n        return removeEmpty(value.split(/(\\s+|\\b)/));\n      };\n\n      var CssDiff = new Diff(true);\n\n      CssDiff.tokenize = function (value) {\n        return removeEmpty(value.split(/([{}:;,]|\\s+)/));\n      };\n\n      var LineDiff = new Diff();\n      var TrimmedLineDiff = new Diff();\n      TrimmedLineDiff.ignoreTrim = true;\n\n      LineDiff.tokenize = TrimmedLineDiff.tokenize = function (value) {\n        var retLines = [],\n            lines = value.split(/^/m);\n\n        for (var i = 0; i < lines.length; i++) {\n          var line = lines[i],\n              lastLine = lines[i - 1],\n              lastLineLastChar = lastLine && lastLine[lastLine.length - 1]; // Merge lines that may contain windows new lines\n\n          if (line === '\\n' && lastLineLastChar === '\\r') {\n            retLines[retLines.length - 1] = retLines[retLines.length - 1].slice(0, -1) + '\\r\\n';\n          } else {\n            if (this.ignoreTrim) {\n              line = line.trim(); // add a newline unless this is the last line.\n\n              if (i < lines.length - 1) {\n                line += '\\n';\n              }\n            }\n\n            retLines.push(line);\n          }\n        }\n\n        return retLines;\n      };\n\n      var PatchDiff = new Diff();\n\n      PatchDiff.tokenize = function (value) {\n        var ret = [],\n            linesAndNewlines = value.split(/(\\n|\\r\\n)/); // Ignore the final empty token that occurs if the string ends with a new line\n\n        if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n          linesAndNewlines.pop();\n        } // Merge the content and line separators into single tokens\n\n\n        for (var i = 0; i < linesAndNewlines.length; i++) {\n          var line = linesAndNewlines[i];\n\n          if (i % 2) {\n            ret[ret.length - 1] += line;\n          } else {\n            ret.push(line);\n          }\n        }\n\n        return ret;\n      };\n\n      var SentenceDiff = new Diff();\n\n      SentenceDiff.tokenize = function (value) {\n        return removeEmpty(value.split(/(\\S.+?[.!?])(?=\\s+|$)/));\n      };\n\n      var JsonDiff = new Diff(); // Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n      // dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\n\n      JsonDiff.useLongestToken = true;\n      JsonDiff.tokenize = LineDiff.tokenize;\n\n      JsonDiff.equals = function (left, right) {\n        return LineDiff.equals(left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'));\n      };\n\n      var JsDiff = {\n        Diff: Diff,\n        diffChars: function (oldStr, newStr, callback) {\n          return CharDiff.diff(oldStr, newStr, callback);\n        },\n        diffWords: function (oldStr, newStr, callback) {\n          return WordDiff.diff(oldStr, newStr, callback);\n        },\n        diffWordsWithSpace: function (oldStr, newStr, callback) {\n          return WordWithSpaceDiff.diff(oldStr, newStr, callback);\n        },\n        diffLines: function (oldStr, newStr, callback) {\n          return LineDiff.diff(oldStr, newStr, callback);\n        },\n        diffTrimmedLines: function (oldStr, newStr, callback) {\n          return TrimmedLineDiff.diff(oldStr, newStr, callback);\n        },\n        diffSentences: function (oldStr, newStr, callback) {\n          return SentenceDiff.diff(oldStr, newStr, callback);\n        },\n        diffCss: function (oldStr, newStr, callback) {\n          return CssDiff.diff(oldStr, newStr, callback);\n        },\n        diffJson: function (oldObj, newObj, callback) {\n          return JsonDiff.diff(typeof oldObj === 'string' ? oldObj : JSON.stringify(canonicalize(oldObj), undefined, '  '), typeof newObj === 'string' ? newObj : JSON.stringify(canonicalize(newObj), undefined, '  '), callback);\n        },\n        createTwoFilesPatch: function (oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader) {\n          var ret = [];\n\n          if (oldFileName == newFileName) {\n            ret.push('Index: ' + oldFileName);\n          }\n\n          ret.push('===================================================================');\n          ret.push('--- ' + oldFileName + (typeof oldHeader === 'undefined' ? '' : '\\t' + oldHeader));\n          ret.push('+++ ' + newFileName + (typeof newHeader === 'undefined' ? '' : '\\t' + newHeader));\n          var diff = PatchDiff.diff(oldStr, newStr);\n          diff.push({\n            value: '',\n            lines: []\n          }); // Append an empty value to make cleanup easier\n          // Formats a given set of lines for printing as context lines in a patch\n\n          function contextLines(lines) {\n            return map(lines, function (entry) {\n              return ' ' + entry;\n            });\n          } // Outputs the no newline at end of file warning if needed\n\n\n          function eofNL(curRange, i, current) {\n            var last = diff[diff.length - 2],\n                isLast = i === diff.length - 2,\n                isLastOfType = i === diff.length - 3 && current.added !== last.added; // Figure out if this is the last line for the given file and missing NL\n\n            if (!/\\n$/.test(current.value) && (isLast || isLastOfType)) {\n              curRange.push('\\\\ No newline at end of file');\n            }\n          }\n\n          var oldRangeStart = 0,\n              newRangeStart = 0,\n              curRange = [],\n              oldLine = 1,\n              newLine = 1;\n\n          for (var i = 0; i < diff.length; i++) {\n            var current = diff[i],\n                lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n            current.lines = lines;\n\n            if (current.added || current.removed) {\n              // If we have previous context, start with that\n              if (!oldRangeStart) {\n                var prev = diff[i - 1];\n                oldRangeStart = oldLine;\n                newRangeStart = newLine;\n\n                if (prev) {\n                  curRange = contextLines(prev.lines.slice(-4));\n                  oldRangeStart -= curRange.length;\n                  newRangeStart -= curRange.length;\n                }\n              } // Output our changes\n\n\n              curRange.push.apply(curRange, map(lines, function (entry) {\n                return (current.added ? '+' : '-') + entry;\n              }));\n              eofNL(curRange, i, current); // Track the updated file position\n\n              if (current.added) {\n                newLine += lines.length;\n              } else {\n                oldLine += lines.length;\n              }\n            } else {\n              // Identical context lines. Track line changes\n              if (oldRangeStart) {\n                // Close out any changes that have been output (or join overlapping)\n                if (lines.length <= 8 && i < diff.length - 2) {\n                  // Overlapping\n                  curRange.push.apply(curRange, contextLines(lines));\n                } else {\n                  // end the range and output\n                  var contextSize = Math.min(lines.length, 4);\n                  ret.push('@@ -' + oldRangeStart + ',' + (oldLine - oldRangeStart + contextSize) + ' +' + newRangeStart + ',' + (newLine - newRangeStart + contextSize) + ' @@');\n                  ret.push.apply(ret, curRange);\n                  ret.push.apply(ret, contextLines(lines.slice(0, contextSize)));\n\n                  if (lines.length <= 4) {\n                    eofNL(ret, i, current);\n                  }\n\n                  oldRangeStart = 0;\n                  newRangeStart = 0;\n                  curRange = [];\n                }\n              }\n\n              oldLine += lines.length;\n              newLine += lines.length;\n            }\n          }\n\n          return ret.join('\\n') + '\\n';\n        },\n        createPatch: function (fileName, oldStr, newStr, oldHeader, newHeader) {\n          return JsDiff.createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader);\n        },\n        applyPatch: function (oldStr, uniDiff) {\n          var diffstr = uniDiff.split('\\n'),\n              hunks = [],\n              i = 0,\n              remEOFNL = false,\n              addEOFNL = false; // Skip to the first change hunk\n\n          while (i < diffstr.length && !/^@@/.test(diffstr[i])) {\n            i++;\n          } // Parse the unified diff\n\n\n          for (; i < diffstr.length; i++) {\n            if (diffstr[i][0] === '@') {\n              var chnukHeader = diffstr[i].split(/@@ -(\\d+),(\\d+) \\+(\\d+),(\\d+) @@/);\n              hunks.unshift({\n                start: chnukHeader[3],\n                oldlength: +chnukHeader[2],\n                removed: [],\n                newlength: chnukHeader[4],\n                added: []\n              });\n            } else if (diffstr[i][0] === '+') {\n              hunks[0].added.push(diffstr[i].substr(1));\n            } else if (diffstr[i][0] === '-') {\n              hunks[0].removed.push(diffstr[i].substr(1));\n            } else if (diffstr[i][0] === ' ') {\n              hunks[0].added.push(diffstr[i].substr(1));\n              hunks[0].removed.push(diffstr[i].substr(1));\n            } else if (diffstr[i][0] === '\\\\') {\n              if (diffstr[i - 1][0] === '+') {\n                remEOFNL = true;\n              } else if (diffstr[i - 1][0] === '-') {\n                addEOFNL = true;\n              }\n            }\n          } // Apply the diff to the input\n\n\n          var lines = oldStr.split('\\n');\n\n          for (i = hunks.length - 1; i >= 0; i--) {\n            var hunk = hunks[i]; // Sanity check the input string. Bail if we don't match.\n\n            for (var j = 0; j < hunk.oldlength; j++) {\n              if (lines[hunk.start - 1 + j] !== hunk.removed[j]) {\n                return false;\n              }\n            }\n\n            Array.prototype.splice.apply(lines, [hunk.start - 1, hunk.oldlength].concat(hunk.added));\n          } // Handle EOFNL insertion/removal\n\n\n          if (remEOFNL) {\n            while (!lines[lines.length - 1]) {\n              lines.pop();\n            }\n          } else if (addEOFNL) {\n            lines.push('');\n          }\n\n          return lines.join('\\n');\n        },\n        convertChangesToXML: function (changes) {\n          var ret = [];\n\n          for (var i = 0; i < changes.length; i++) {\n            var change = changes[i];\n\n            if (change.added) {\n              ret.push('<ins>');\n            } else if (change.removed) {\n              ret.push('<del>');\n            }\n\n            ret.push(escapeHTML(change.value));\n\n            if (change.added) {\n              ret.push('</ins>');\n            } else if (change.removed) {\n              ret.push('</del>');\n            }\n          }\n\n          return ret.join('');\n        },\n        // See: http://code.google.com/p/google-diff-match-patch/wiki/API\n        convertChangesToDMP: function (changes) {\n          var ret = [],\n              change,\n              operation;\n\n          for (var i = 0; i < changes.length; i++) {\n            change = changes[i];\n\n            if (change.added) {\n              operation = 1;\n            } else if (change.removed) {\n              operation = -1;\n            } else {\n              operation = 0;\n            }\n\n            ret.push([operation, change.value]);\n          }\n\n          return ret;\n        },\n        canonicalize: canonicalize\n      }; /*istanbul ignore next */ /*global module */\n\n      if (typeof module !== 'undefined' && module.exports) {\n        module.exports = JsDiff;\n      } else if (typeof define === 'function' && define.amd) {\n        /*global define */define([], function () {\n          return JsDiff;\n        });\n      } else if (typeof global.JsDiff === 'undefined') {\n        global.JsDiff = JsDiff;\n      }\n    })(this);\n  }, {}],\n  68: [function (require, module, exports) {\n    'use strict';\n\n    var matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\n\n    module.exports = function (str) {\n      if (typeof str !== 'string') {\n        throw new TypeError('Expected a string');\n      }\n\n      return str.replace(matchOperatorsRe, '\\\\$&');\n    };\n  }, {}],\n  69: [function (require, module, exports) {\n    (function (process) {\n      // Growl - Copyright TJ Holowaychuk <tj@vision-media.ca> (MIT Licensed)\n      /**\n       * Module dependencies.\n       */var exec = require('child_process').exec,\n          fs = require('fs'),\n          path = require('path'),\n          exists = fs.existsSync || path.existsSync,\n          os = require('os'),\n          quote = JSON.stringify,\n          cmd;\n\n      function which(name) {\n        var paths = process.env.PATH.split(':');\n        var loc;\n\n        for (var i = 0, len = paths.length; i < len; ++i) {\n          loc = path.join(paths[i], name);\n          if (exists(loc)) return loc;\n        }\n      }\n\n      switch (os.type()) {\n        case 'Darwin':\n          if (which('terminal-notifier')) {\n            cmd = {\n              type: \"Darwin-NotificationCenter\",\n              pkg: \"terminal-notifier\",\n              msg: '-message',\n              title: '-title',\n              subtitle: '-subtitle',\n              priority: {\n                cmd: '-execute',\n                range: []\n              }\n            };\n          } else {\n            cmd = {\n              type: \"Darwin-Growl\",\n              pkg: \"growlnotify\",\n              msg: '-m',\n              sticky: '--sticky',\n              priority: {\n                cmd: '--priority',\n                range: [-2, -1, 0, 1, 2, \"Very Low\", \"Moderate\", \"Normal\", \"High\", \"Emergency\"]\n              }\n            };\n          }\n\n          break;\n\n        case 'Linux':\n          cmd = {\n            type: \"Linux\",\n            pkg: \"notify-send\",\n            msg: '',\n            sticky: '-t 0',\n            icon: '-i',\n            priority: {\n              cmd: '-u',\n              range: [\"low\", \"normal\", \"critical\"]\n            }\n          };\n          break;\n\n        case 'Windows_NT':\n          cmd = {\n            type: \"Windows\",\n            pkg: \"growlnotify\",\n            msg: '',\n            sticky: '/s:true',\n            title: '/t:',\n            icon: '/i:',\n            priority: {\n              cmd: '/p:',\n              range: [-2, -1, 0, 1, 2]\n            }\n          };\n          break;\n      } /**\n         * Expose `growl`.\n         */\n\n      exports = module.exports = growl; /**\n                                         * Node-growl version.\n                                         */\n      exports.version = '1.4.1'; /**\n                                  * Send growl notification _msg_ with _options_.\n                                  *\n                                  * Options:\n                                  *\n                                  *  - title   Notification title\n                                  *  - sticky  Make the notification stick (defaults to false)\n                                  *  - priority  Specify an int or named key (default is 0)\n                                  *  - name    Application name (defaults to growlnotify)\n                                  *  - image\n                                  *    - path to an icon sets --iconpath\n                                  *    - path to an image sets --image\n                                  *    - capitalized word sets --appIcon\n                                  *    - filename uses extname as --icon\n                                  *    - otherwise treated as --icon\n                                  *\n                                  * Examples:\n                                  *\n                                  *   growl('New email')\n                                  *   growl('5 new emails', { title: 'Thunderbird' })\n                                  *   growl('Email sent', function(){\n                                  *     // ... notification sent\n                                  *   })\n                                  *\n                                  * @param {string} msg\n                                  * @param {object} options\n                                  * @param {function} fn\n                                  * @api public\n                                  */\n\n      function growl(msg, options, fn) {\n        var image,\n            args,\n            options = options || {},\n            fn = fn || function () {}; // noop\n\n\n        if (!cmd) return fn(new Error('growl not supported on this platform'));\n        args = [cmd.pkg]; // image\n\n        if (image = options.image) {\n          switch (cmd.type) {\n            case 'Darwin-Growl':\n              var flag,\n                  ext = path.extname(image).substr(1);\n              flag = flag || ext == 'icns' && 'iconpath';\n              flag = flag || /^[A-Z]/.test(image) && 'appIcon';\n              flag = flag || /^png|gif|jpe?g$/.test(ext) && 'image';\n              flag = flag || ext && (image = ext) && 'icon';\n              flag = flag || 'icon';\n              args.push('--' + flag, quote(image));\n              break;\n\n            case 'Linux':\n              args.push(cmd.icon, quote(image)); // libnotify defaults to sticky, set a hint for transient notifications\n\n              if (!options.sticky) args.push('--hint=int:transient:1');\n              break;\n\n            case 'Windows':\n              args.push(cmd.icon + quote(image));\n              break;\n          }\n        } // sticky\n\n\n        if (options.sticky) args.push(cmd.sticky); // priority\n\n        if (options.priority) {\n          var priority = options.priority + '';\n          var checkindexOf = cmd.priority.range.indexOf(priority);\n\n          if (~cmd.priority.range.indexOf(priority)) {\n            args.push(cmd.priority, options.priority);\n          }\n        } // name\n\n\n        if (options.name && cmd.type === \"Darwin-Growl\") {\n          args.push('--name', options.name);\n        }\n\n        switch (cmd.type) {\n          case 'Darwin-Growl':\n            args.push(cmd.msg);\n            args.push(quote(msg));\n            if (options.title) args.push(quote(options.title));\n            break;\n\n          case 'Darwin-NotificationCenter':\n            args.push(cmd.msg);\n            args.push(quote(msg));\n\n            if (options.title) {\n              args.push(cmd.title);\n              args.push(quote(options.title));\n            }\n\n            if (options.subtitle) {\n              args.push(cmd.subtitle);\n              args.push(quote(options.subtitle));\n            }\n\n            break;\n\n          case 'Darwin-Growl':\n            args.push(cmd.msg);\n            args.push(quote(msg));\n            if (options.title) args.push(quote(options.title));\n            break;\n\n          case 'Linux':\n            if (options.title) {\n              args.push(quote(options.title));\n              args.push(cmd.msg);\n              args.push(quote(msg));\n            } else {\n              args.push(quote(msg));\n            }\n\n            break;\n\n          case 'Windows':\n            args.push(quote(msg));\n            if (options.title) args.push(cmd.title + quote(options.title));\n            break;\n        } // execute\n\n\n        exec(args.join(' '), fn);\n      }\n\n      ;\n    }).call(this, require('_process'));\n  }, {\n    \"_process\": 51,\n    \"child_process\": 41,\n    \"fs\": 41,\n    \"os\": 50,\n    \"path\": 41\n  }],\n  70: [function (require, module, exports) {\n    (function (process, global) {\n      /**\n       * Shim process.stdout.\n       */process.stdout = require('browser-stdout')();\n\n      var Mocha = require('../'); /**\n                                   * Create a Mocha instance.\n                                   *\n                                   * @return {undefined}\n                                   */\n\n      var mocha = new Mocha({\n        reporter: 'html'\n      }); /**\n           * Save timer references to avoid Sinon interfering (see GH-237).\n           */\n      var Date = global.Date;\n      var setTimeout = global.setTimeout;\n      var setInterval = global.setInterval;\n      var clearTimeout = global.clearTimeout;\n      var clearInterval = global.clearInterval;\n      var uncaughtExceptionHandlers = [];\n      var originalOnerrorHandler = global.onerror; /**\n                                                    * Remove uncaughtException listener.\n                                                    * Revert to original onerror handler if previously defined.\n                                                    */\n\n      process.removeListener = function (e, fn) {\n        if ('uncaughtException' == e) {\n          if (originalOnerrorHandler) {\n            global.onerror = originalOnerrorHandler;\n          } else {\n            global.onerror = function () {};\n          }\n\n          var i = Mocha.utils.indexOf(uncaughtExceptionHandlers, fn);\n\n          if (i != -1) {\n            uncaughtExceptionHandlers.splice(i, 1);\n          }\n        }\n      }; /**\n          * Implements uncaughtException listener.\n          */\n\n      process.on = function (e, fn) {\n        if ('uncaughtException' == e) {\n          global.onerror = function (err, url, line) {\n            fn(new Error(err + ' (' + url + ':' + line + ')'));\n            return !mocha.allowUncaught;\n          };\n\n          uncaughtExceptionHandlers.push(fn);\n        }\n      }; // The BDD UI is registered by default, but no UI will be functional in the\n      // browser without an explicit call to the overridden `mocha.ui` (see below).\n      // Ensure that this default UI does not expose its methods to the global scope.\n\n\n      mocha.suite.removeAllListeners('pre-require');\n      var immediateQueue = [],\n          immediateTimeout;\n\n      function timeslice() {\n        var immediateStart = new Date().getTime();\n\n        while (immediateQueue.length && new Date().getTime() - immediateStart < 100) {\n          immediateQueue.shift()();\n        }\n\n        if (immediateQueue.length) {\n          immediateTimeout = setTimeout(timeslice, 0);\n        } else {\n          immediateTimeout = null;\n        }\n      } /**\n         * High-performance override of Runner.immediately.\n         */\n\n      Mocha.Runner.immediately = function (callback) {\n        immediateQueue.push(callback);\n\n        if (!immediateTimeout) {\n          immediateTimeout = setTimeout(timeslice, 0);\n        }\n      }; /**\n          * Function to allow assertion libraries to throw errors directly into mocha.\n          * This is useful when running tests in a browser because window.onerror will\n          * only receive the 'message' attribute of the Error.\n          */\n\n      mocha.throwError = function (err) {\n        Mocha.utils.forEach(uncaughtExceptionHandlers, function (fn) {\n          fn(err);\n        });\n        throw err;\n      }; /**\n          * Override ui to ensure that the ui functions are initialized.\n          * Normally this would happen in Mocha.prototype.loadFiles.\n          */\n\n      mocha.ui = function (ui) {\n        Mocha.prototype.ui.call(this, ui);\n        this.suite.emit('pre-require', global, null, this);\n        return this;\n      }; /**\n          * Setup mocha with the given setting options.\n          */\n\n      mocha.setup = function (opts) {\n        if ('string' == typeof opts) opts = {\n          ui: opts\n        };\n\n        for (var opt in meteorBabelHelpers.sanitizeForInObject(opts)) {\n          this[opt](opts[opt]);\n        }\n\n        return this;\n      }; /**\n          * Run mocha, returning the Runner.\n          */\n\n      mocha.run = function (fn) {\n        var options = mocha.options;\n        mocha.globals('location');\n        var query = Mocha.utils.parseQuery(global.location.search || '');\n        if (query.grep) mocha.grep(new RegExp(query.grep));\n        if (query.fgrep) mocha.grep(query.fgrep);\n        if (query.invert) mocha.invert();\n        return Mocha.prototype.run.call(mocha, function (err) {\n          // The DOM Document is not available in Web Workers.\n          var document = global.document;\n\n          if (document && document.getElementById('mocha') && options.noHighlighting !== true) {\n            Mocha.utils.highlightTags('code');\n          }\n\n          if (fn) fn(err);\n        });\n      }; /**\n          * Expose the process shim.\n          * https://github.com/mochajs/mocha/pull/916\n          */\n\n      Mocha.process = process; /**\n                                * Expose mocha.\n                                */\n      window.Mocha = Mocha;\n      window.mocha = mocha;\n    }).call(this, require('_process'), typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n  }, {\n    \"../\": 1,\n    \"_process\": 51,\n    \"browser-stdout\": 40\n  }]\n}, {}, [70]);","map":{"version":3,"sources":["packages/zurb:foundation-sites/test/javascript/lib/mocha.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","module","process","env","COV","undefined","type","EventEmitter","objToString","Object","prototype","toString","isArray","val","on","name","fn","$events","push","addListener","once","self","removeListener","apply","arguments","listener","list","pos","splice","removeAllListeners","listeners","emit","handler","args","Array","slice","Progress","percent","size","fontSize","font","_size","text","_text","_fontSize","family","_font","update","draw","ctx","Math","min","half","x","y","rad","angle","PI","clearRect","strokeStyle","beginPath","arc","stroke","w","measureText","width","fillText","err","global","isatty","getWindowSize","innerHeight","innerWidth","window","Context","runnable","_runnable","test","timeout","ms","enableTimeouts","enabled","slow","skip","inspect","JSON","stringify","key","Runnable","inherits","Hook","title","error","_error","Suite","Test","escapeRe","suite","suites","context","file","mocha","common","before","after","beforeEach","afterEach","run","options","delay","runWithSuite","describe","create","unshift","shift","xdescribe","xcontext","pending","only","grep","fullTitle","it","specify","addTest","reString","RegExp","xit","xspecify","beforeAll","afterAll","visit","obj","bdd","tdd","qunit","setup","teardown","suiteSetup","suiteTeardown","__dirname","path","reporters","utils","Mocha","browser","cwd","paths","join","interfaces","Runner","image","files","fgrep","ui","bail","reporter","reporterOptions","useColors","addFile","_reporter","message","indexOf","console","warn","stack","_ui","loadFiles","forEach","resolve","_growl","runner","notify","stats","failures","msg","total","passes","duration","re","invert","ignoreLeaks","ignore","Boolean","checkLeaks","fullTrace","fullStackTrace","growl","globals","concat","colors","useInlineDiffs","inlineDiffs","asyncOnly","noHighlighting","allowUncaught","Base","done","m","h","d","parse","longFormat","shortFormat","str","match","exec","parseFloat","toLowerCase","round","plural","floor","ceil","Pending","tty","diff","supportsColor","Date","setTimeout","setInterval","clearTimeout","clearInterval","MOCHA_COLORS","pass","fail","checkmark","fast","medium","green","light","symbols","ok","dot","platform","color","String","stdout","cursor","hide","write","show","deleteLine","beginningOfLine","CR","log","fmt","index","actual","expected","escape","uncaught","showDiff","sameType","isString","inlineDiff","unifiedDiff","replace","tests","start","root","speed","end","epilogue","pad","len","errorDiff","lines","split","map","indent","cleanUp","line","escapeInvisibles","colorLines","notBlank","createPatch","filter","added","value","removed","b","Doc","indents","clean","Dot","JSONCov","readFileSync","HTMLCov","jade","compile","filename","cov","coverageClass","coveragePctg","HTML","statsTemplate","stat","fragment","items","getElementsByTagName","passesLink","failuresLink","canvas","report","progress","document","getElementById","getContext","ratio","devicePixelRatio","style","height","scale","unhide","className","trim","hideSuitesWithout","appendChild","url","suiteURL","el","createElement","toFixed","state","testURL","stackString","indexOfMessage","substr","sourceURL","htmlMessage","h2","pre","display","makeUrl","search","location","pathname","encodeURIComponent","body","html","div","innerHTML","_","firstChild","classname","getElementsByClassName","els","contents","textContent","innerText","event","addEventListener","attachEvent","base","doc","TAP","tap","json","List","Min","Spec","spec","Nyan","nyan","XUnit","xunit","Markdown","markdown","Landing","landing","JSONStream","output","_$jscoverage","result","ret","instrumentation","sloc","hits","misses","coverage","hasOwnProperty","data","sort","localeCompare","source","num","JSONReporter","testResults","errorJSON","res","getOwnPropertyNames","plane","runway","stream","crashed","buf","col","bind","SUITE_PREFIX","level","mapTOC","stringifyTOC","link","substring","slug","generateTOC","NyanCat","nyanCatWidth","colorIndex","numberOfLines","rainbowColors","generateColors","scoreboardWidth","tick","trajectories","trajectoryWidthMax","appendRainbow","drawScoreboard","drawRainbow","drawNyanCat","cursorUp","segment","rainbowified","rainbowify","trajectory","startWidth","dist","padding","tail","face","cursorDown","pi3","sin","g","string","complete","lastN","open","incomplete","close","verbose","grepTotal","fs","createWriteStream","fileStream","tag","errors","skipped","timestamp","toUTCString","time","attrs","parent","cdata","content","pairs","debug","milliseconds","async","sync","_timeout","_slow","_enableTimeouts","timedOut","_trace","timer","resetTimeout","callback","_allowedGlobals","finished","emitted","multiple","callFnAsync","getError","callFn","then","reason","keys","stackFilter","stackTraceFilter","undefinedError","_globals","_abort","_delay","started","checkGlobals","hook","_defaultGrep","globalProps","extraGlobals","immediately","setImmediate","nextTick","_grep","_invert","eachTest","props","arr","leaks","prevGlobalsLength","filterLeaks","failHook","currentTest","originalTitle","hooks","next","currentRunnable","testError","orig","errSuite","pop","hookUp","parents","reverse","hookDown","runTest","runTests","hookErr","err2","errSuite2","_bail","runSuite","afterAllHookCalled","curr","nextSuite","rootSuite","abort","navigator","matched","version","parts","nodeVersion","reduce","v","addSuite","parentContext","_beforeEach","_beforeAll","_afterEach","_afterAll","delayed","clone","parseInt","full","sum","Buffer","basename","exists","existsSync","glob","readdirSync","statSync","watchFile","scope","rval","has","watch","interval","prev","mtime","toJSON","ignored","dir","ext","isDirectory","spaces","tabs","parseQuery","qs","pair","decodeURIComponent","highlight","js","highlightTags","emptyRepresentation","isBuffer","jsonStringify","prop","canonicalize","object","depth","_stringify","space","repeat","Infinity","sDate","isNaN","getTime","toISOString","canonicalizedObj","withStack","item","lookupFiles","extensions","recursive","isFile","slash","is","node","href","isMochaInternal","isNodeInternal","WritableStream","Writable","BrowserStdout","opts","label","_write","chunks","encoding","cb","base64","ieee754","SlowBuffer","INSPECT_MAX_BYTES","poolSize","rootParent","TYPED_ARRAY_SUPPORT","Bar","Uint8Array","foo","constructor","subarray","byteLength","kMaxLength","arg","fromNumber","fromString","fromObject","that","allocate","checked","fromBuffer","fromArray","TypeError","ArrayBuffer","buffer","fromTypedArray","fromArrayBuffer","fromArrayLike","fromJsonObject","copy","array","_augment","_isBuffer","fromPool","RangeError","subject","compare","isEncoding","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","binarySlice","base64Slice","utf16leSlice","equals","max","byteOffset","arrayIndexOf","foundIndex","get","offset","readUInt8","set","writeUInt8","hexWrite","Number","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","binaryWrite","base64Write","ucs2Write","utf16leToBytes","isFinite","swap","_arr","fromByteArray","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","fromCharCode","out","toHex","bytes","newBuf","sliceLen","checkOffset","readUIntLE","noAssert","mul","readUIntBE","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","read","readFloatBE","readDoubleLE","readDoubleBE","checkInt","writeUIntLE","writeUIntBE","objectWriteUInt16","littleEndian","j","writeUInt16LE","writeUInt16BE","objectWriteUInt32","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","checkIEEE754","writeFloat","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","target","targetStart","_set","fill","toArrayBuffer","BP","toLocaleString","INVALID_BASE64_RE","base64clean","stringtrim","units","leadSurrogate","charCodeAt","byteArray","c","hi","lo","toByteArray","src","dst","lookup","Arr","PLUS","SLASH","NUMBER","LOWER","UPPER","PLUS_URL_SAFE","SLASH_URL_SAFE","decode","elt","b64ToByteArray","b64","tmp","placeHolders","charAt","L","uint8ToBase64","uint8","extraBytes","temp","encode","tripletToBase64","base64js","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","_events","_maxListeners","defaultMaxListeners","setMaxListeners","isNumber","er","isObject","isUndefined","isFunction","newListener","warned","trace","fired","position","listenerCount","emitter","ctor","superCtor","super_","enumerable","writable","configurable","TempCtor","endianness","hostname","loadavg","uptime","freemem","MAX_VALUE","totalmem","cpus","release","appVersion","networkInterfaces","getNetworkInterfaces","arch","tmpdir","tmpDir","EOL","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","fun","Item","argv","versions","noop","off","binding","chdir","umask","Duplex","objectKeys","util","Readable","method","readable","allowHalfOpen","onend","_writableState","ended","xs","PassThrough","Transform","_transform","chunk","ReadableState","EE","Stream","StringDecoder","debuglog","hwm","highWaterMark","defaultHwm","objectMode","pipes","pipesCount","flowing","endEmitted","reading","needReadable","emittedReadable","readableListening","readableObjectMode","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","_readableState","readableAddChunk","addToFront","chunkInvalid","isNullOrUndefined","onEofChunk","emitReadable","maybeReadMore","needMoreData","setEncoding","enc","MAX_HWM","roundUpToNextPowerOf2","p","howMuchToRead","isNull","nOrig","endReadable","doRead","_read","fromList","emitReadable_","flow","maybeReadMore_","pipe","dest","pipeOpts","doEnd","stderr","endFn","cleanup","onunpipe","ondrain","pipeOnDrain","onclose","onfinish","onerror","ondata","needDrain","pause","unpipe","resume","dests","ev","resumeScheduled","resume_","wrap","paused","events","_fromList","stringMode","cpy","TransformState","afterTransform","needTransform","transforming","writecb","writechunk","ts","_transformState","rs","_flush","writeencoding","ws","WritableState","WriteReq","writableObjectMode","ending","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","pendingcb","prefinished","errorEmitted","writeAfterEnd","validChunk","valid","writeOrBuffer","cork","uncork","clearBuffer","decodeChunk","doWrite","writev","_writev","onwriteError","onwriteStateUpdate","needFinish","afterWrite","onwriteDrain","finishMaybe","cbs","entry","endWritable","prefinish","need","ar","isBoolean","isSymbol","isRegExp","objectToString","isDate","isError","isPrimitive","_isStdio","didOnEnd","destroy","isBufferEncoding","assertEncoding","surrogateSize","detectIncompleteChar","utf16DetectIncompleteChar","base64DetectIncompleteChar","passThroughWrite","charBuffer","charReceived","charLength","charStr","available","charCode","cr","formatRegExp","format","objects","deprecate","noDeprecation","deprecated","throwDeprecation","traceDeprecation","debugs","debugEnviron","NODE_DEBUG","toUpperCase","pid","seen","stylize","stylizeNoColor","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styles","styleType","arrayToHash","hash","idx","recurseTimes","primitive","formatPrimitive","visibleKeys","formatError","braces","formatArray","formatProperty","reduceToSingleString","simple","desc","getOwnPropertyDescriptor","numLinesEst","cur","months","getHours","getMinutes","getSeconds","getDate","getMonth","origin","add","objectPrototypeToString","mapper","other","clonePath","newPos","components","removeEmpty","escapeHTML","replacementStack","sortedKeys","buildValues","newString","oldString","useLongestToken","componentPos","componentLen","oldPos","component","count","oldValue","Diff","ignoreWhitespace","tokenize","newLen","oldLen","editLength","maxEditLength","bestPath","extractCommon","execEditLength","diagonalPath","basePath","addPath","removePath","canAdd","canRemove","pushComponent","last","commonCount","left","right","reWhitespace","CharDiff","WordDiff","WordWithSpaceDiff","CssDiff","LineDiff","TrimmedLineDiff","ignoreTrim","retLines","lastLine","lastLineLastChar","PatchDiff","linesAndNewlines","SentenceDiff","JsonDiff","JsDiff","diffChars","oldStr","newStr","diffWords","diffWordsWithSpace","diffLines","diffTrimmedLines","diffSentences","diffCss","diffJson","oldObj","newObj","createTwoFilesPatch","oldFileName","newFileName","oldHeader","newHeader","contextLines","eofNL","curRange","current","isLast","isLastOfType","oldRangeStart","newRangeStart","oldLine","newLine","contextSize","fileName","applyPatch","uniDiff","diffstr","hunks","remEOFNL","addEOFNL","chnukHeader","oldlength","newlength","hunk","convertChangesToXML","changes","change","convertChangesToDMP","operation","define","amd","matchOperatorsRe","os","quote","cmd","which","PATH","loc","pkg","subtitle","priority","range","sticky","icon","flag","extname","checkindexOf","uncaughtExceptionHandlers","originalOnerrorHandler","immediateQueue","immediateTimeout","timeslice","immediateStart","throwError","opt","query"],"mappings":";;;;;;AAAA;AAAC,WAASA,CAAT,CAAWC,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;AAAC,aAASC,CAAT,CAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,UAAG,CAACJ,EAAEG,CAAF,CAAJ,EAAS;AAAC,YAAG,CAACJ,EAAEI,CAAF,CAAJ,EAAS;AAAC,cAAIE,IAAE,OAAOC,OAAP,IAAgB,UAAhB,IAA4BA,OAAlC;AAA0C,cAAG,CAACF,CAAD,IAAIC,CAAP,EAAS,OAAOA,EAAEF,CAAF,EAAI,CAAC,CAAL,CAAP;AAAe,cAAGI,CAAH,EAAK,OAAOA,EAAEJ,CAAF,EAAI,CAAC,CAAL,CAAP;AAAe,cAAIK,IAAE,IAAIC,KAAJ,CAAU,yBAAuBN,CAAvB,GAAyB,GAAnC,CAAN;AAA8C,gBAAMK,EAAEE,IAAF,GAAO,kBAAP,EAA0BF,CAAhC;AAAkC;;AAAA,YAAIG,IAAEX,EAAEG,CAAF,IAAK;AAACS,mBAAQ;AAAT,SAAX;AAAwBb,UAAEI,CAAF,EAAK,CAAL,EAAQU,IAAR,CAAaF,EAAEC,OAAf,EAAuB,UAASd,CAAT,EAAW;AAAC,cAAIE,IAAED,EAAEI,CAAF,EAAK,CAAL,EAAQL,CAAR,CAAN;AAAiB,iBAAOI,EAAEF,IAAEA,CAAF,GAAIF,CAAN,CAAP;AAAgB,SAApE,EAAqEa,CAArE,EAAuEA,EAAEC,OAAzE,EAAiFd,CAAjF,EAAmFC,CAAnF,EAAqFC,CAArF,EAAuFC,CAAvF;AAA0F;;AAAA,aAAOD,EAAEG,CAAF,EAAKS,OAAZ;AAAoB;;AAAA,QAAIL,IAAE,OAAOD,OAAP,IAAgB,UAAhB,IAA4BA,OAAlC;;AAA0C,SAAI,IAAIH,IAAE,CAAV,EAAYA,IAAEF,EAAEa,MAAhB,EAAuBX,GAAvB;AAA2BD,QAAED,EAAEE,CAAF,CAAF;AAA3B;;AAAmC,WAAOD,CAAP;AAAS;;AAAzb,SAAUJ,CAAV;AAAA,KAA2b;AAAC,KAAE,CAAC,UAASQ,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC/d,KAAC,UAAUI,OAAV,EAAkB;AACnBD,aAAOH,OAAP,GAAiBI,QAAQC,GAAR,CAAYC,GAAZ,GACbZ,QAAQ,iBAAR,CADa,GAEbA,QAAQ,aAAR,CAFJ;AAIC,KALD,EAKGO,IALH,CAKQ,IALR,EAKaP,QAAQ,UAAR,CALb;AAMC,GAP6b,EAO5b;AAAC,uBAAkBa,SAAnB;AAA6B,mBAAc,EAA3C;AAA8C,gBAAW;AAAzD,GAP4b,CAAH;AAO3X,KAAE,CAAC,UAASb,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACnG,uCACAG,OAAOH,OAAP,GAAiB,UAASQ,IAAT,EAAe;AAC9B,aAAO,YAAW,CAAE,CAApB;AACD,KAFD;AAIC,GANiE,EAMhE,EANgE,CAPyX;AAarb,KAAE,CAAC,UAASd,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACzC;;OAIAA,QAAQS,YAAR,GAAuBA,YAAvB,CALyC,CAOzC;;;AAGA,QAAIC,cAAcC,OAAOC,SAAP,CAAiBC,QAAnC,CAVyC,CAYzC;;;;;;;;AAOA,aAASC,OAAT,CAAiBC,GAAjB,EAAsB;AACpB,aAAOL,YAAYT,IAAZ,CAAiBc,GAAjB,MAA0B,gBAAjC;AACD,KArBwC,CAuBzC;;;;;;AAKA,aAASN,YAAT,GAAwB,CAAE,CA5Be,CA8BzC;;;;;;;;;AAQAA,iBAAaG,SAAb,CAAuBI,EAAvB,GAA4B,UAASC,IAAT,EAAeC,EAAf,EAAmB;AAC7C,UAAI,CAAC,KAAKC,OAAV,EAAmB;AACjB,aAAKA,OAAL,GAAe,EAAf;AACD;;AAED,UAAI,CAAC,KAAKA,OAAL,CAAaF,IAAb,CAAL,EAAyB;AACvB,aAAKE,OAAL,CAAaF,IAAb,IAAqBC,EAArB;AACD,OAFD,MAEO,IAAIJ,QAAQ,KAAKK,OAAL,CAAaF,IAAb,CAAR,CAAJ,EAAiC;AACtC,aAAKE,OAAL,CAAaF,IAAb,EAAmBG,IAAnB,CAAwBF,EAAxB;AACD,OAFM,MAEA;AACL,aAAKC,OAAL,CAAaF,IAAb,IAAqB,CAAC,KAAKE,OAAL,CAAaF,IAAb,CAAD,EAAqBC,EAArB,CAArB;AACD;;AAED,aAAO,IAAP;AACD,KAdD;;AAgBAT,iBAAaG,SAAb,CAAuBS,WAAvB,GAAqCZ,aAAaG,SAAb,CAAuBI,EAA5D,CAtDyC,CAwDzC;;;;;;;;;AAQAP,iBAAaG,SAAb,CAAuBU,IAAvB,GAA8B,UAASL,IAAT,EAAeC,EAAf,EAAmB;AAC/C,UAAIK,OAAO,IAAX;;AAEA,eAASP,EAAT,GAAc;AACZO,aAAKC,cAAL,CAAoBP,IAApB,EAA0BD,EAA1B;AACAE,WAAGO,KAAH,CAAS,IAAT,EAAeC,SAAf;AACD;;AAEDV,SAAGW,QAAH,GAAcT,EAAd;AACA,WAAKF,EAAL,CAAQC,IAAR,EAAcD,EAAd;AAEA,aAAO,IAAP;AACD,KAZD,CAhEyC,CA8EzC;;;;;;;;;AAQAP,iBAAaG,SAAb,CAAuBY,cAAvB,GAAwC,UAASP,IAAT,EAAeC,EAAf,EAAmB;AACzD,UAAI,KAAKC,OAAL,IAAgB,KAAKA,OAAL,CAAaF,IAAb,CAApB,EAAwC;AACtC,YAAIW,OAAO,KAAKT,OAAL,CAAaF,IAAb,CAAX;;AAEA,YAAIH,QAAQc,IAAR,CAAJ,EAAmB;AACjB,cAAIC,MAAM,CAAC,CAAX;;AAEA,eAAK,IAAIlC,IAAI,CAAR,EAAWI,IAAI6B,KAAK1B,MAAzB,EAAiCP,IAAII,CAArC,EAAwCJ,GAAxC,EAA6C;AAC3C,gBAAIiC,KAAKjC,CAAL,MAAYuB,EAAZ,IAAmBU,KAAKjC,CAAL,EAAQgC,QAAR,IAAoBC,KAAKjC,CAAL,EAAQgC,QAAR,KAAqBT,EAAhE,EAAqE;AACnEW,oBAAMlC,CAAN;AACA;AACD;AACF;;AAED,cAAIkC,MAAM,CAAV,EAAa;AACX,mBAAO,IAAP;AACD;;AAEDD,eAAKE,MAAL,CAAYD,GAAZ,EAAiB,CAAjB;;AAEA,cAAI,CAACD,KAAK1B,MAAV,EAAkB;AAChB,mBAAO,KAAKiB,OAAL,CAAaF,IAAb,CAAP;AACD;AACF,SAnBD,MAmBO,IAAIW,SAASV,EAAT,IAAgBU,KAAKD,QAAL,IAAiBC,KAAKD,QAAL,KAAkBT,EAAvD,EAA4D;AACjE,iBAAO,KAAKC,OAAL,CAAaF,IAAb,CAAP;AACD;AACF;;AAED,aAAO,IAAP;AACD,KA7BD,CAtFyC,CAqHzC;;;;;;;;AAOAR,iBAAaG,SAAb,CAAuBmB,kBAAvB,GAA4C,UAASd,IAAT,EAAe;AACzD,UAAIA,SAASV,SAAb,EAAwB;AACtB,aAAKY,OAAL,GAAe,EAAf;AACA,eAAO,IAAP;AACD;;AAED,UAAI,KAAKA,OAAL,IAAgB,KAAKA,OAAL,CAAaF,IAAb,CAApB,EAAwC;AACtC,aAAKE,OAAL,CAAaF,IAAb,IAAqB,IAArB;AACD;;AAED,aAAO,IAAP;AACD,KAXD,CA5HyC,CAyIzC;;;;;;;;AAOAR,iBAAaG,SAAb,CAAuBoB,SAAvB,GAAmC,UAASf,IAAT,EAAe;AAChD,UAAI,CAAC,KAAKE,OAAV,EAAmB;AACjB,aAAKA,OAAL,GAAe,EAAf;AACD;;AAED,UAAI,CAAC,KAAKA,OAAL,CAAaF,IAAb,CAAL,EAAyB;AACvB,aAAKE,OAAL,CAAaF,IAAb,IAAqB,EAArB;AACD;;AAED,UAAI,CAACH,QAAQ,KAAKK,OAAL,CAAaF,IAAb,CAAR,CAAL,EAAkC;AAChC,aAAKE,OAAL,CAAaF,IAAb,IAAqB,CAAC,KAAKE,OAAL,CAAaF,IAAb,CAAD,CAArB;AACD;;AAED,aAAO,KAAKE,OAAL,CAAaF,IAAb,CAAP;AACD,KAdD,CAhJyC,CAgKzC;;;;;;;;AAOAR,iBAAaG,SAAb,CAAuBqB,IAAvB,GAA8B,UAAShB,IAAT,EAAe;AAC3C,UAAI,CAAC,KAAKE,OAAV,EAAmB;AACjB,eAAO,KAAP;AACD;;AAED,UAAIe,UAAU,KAAKf,OAAL,CAAaF,IAAb,CAAd;;AAEA,UAAI,CAACiB,OAAL,EAAc;AACZ,eAAO,KAAP;AACD;;AAED,UAAIC,OAAOC,MAAMxB,SAAN,CAAgByB,KAAhB,CAAsBpC,IAAtB,CAA2ByB,SAA3B,EAAsC,CAAtC,CAAX;;AAEA,UAAI,OAAOQ,OAAP,KAAmB,UAAvB,EAAmC;AACjCA,gBAAQT,KAAR,CAAc,IAAd,EAAoBU,IAApB;AACD,OAFD,MAEO,IAAIrB,QAAQoB,OAAR,CAAJ,EAAsB;AAC3B,YAAIF,YAAYE,QAAQG,KAAR,EAAhB;;AAEA,aAAK,IAAI1C,IAAI,CAAR,EAAWI,IAAIiC,UAAU9B,MAA9B,EAAsCP,IAAII,CAA1C,EAA6CJ,GAA7C,EAAkD;AAChDqC,oBAAUrC,CAAV,EAAa8B,KAAb,CAAmB,IAAnB,EAAyBU,IAAzB;AACD;AACF,OANM,MAMA;AACL,eAAO,KAAP;AACD;;AAED,aAAO,IAAP;AACD,KA1BD;AA4BC,GAnMO,EAmMN,EAnMM,CAbmb;AAgNrb,KAAE,CAAC,UAASzC,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACzC;;OAIAG,OAAOH,OAAP,GAAiBsC,QAAjB,CALyC,CAOzC;;;;AAGA,aAASA,QAAT,GAAoB;AAClB,WAAKC,OAAL,GAAe,CAAf;AACA,WAAKC,IAAL,CAAU,CAAV;AACA,WAAKC,QAAL,CAAc,EAAd;AACA,WAAKC,IAAL,CAAU,8BAAV;AACD,KAfwC,CAiBzC;;;;;;;;AAOAJ,aAAS1B,SAAT,CAAmB4B,IAAnB,GAA0B,UAASA,IAAT,EAAe;AACvC,WAAKG,KAAL,GAAaH,IAAb;AACA,aAAO,IAAP;AACD,KAHD,CAxByC,CA6BzC;;;;;;;;AAOAF,aAAS1B,SAAT,CAAmBgC,IAAnB,GAA0B,UAASA,IAAT,EAAe;AACvC,WAAKC,KAAL,GAAaD,IAAb;AACA,aAAO,IAAP;AACD,KAHD,CApCyC,CAyCzC;;;;;;;;AAOAN,aAAS1B,SAAT,CAAmB6B,QAAnB,GAA8B,UAASD,IAAT,EAAe;AAC3C,WAAKM,SAAL,GAAiBN,IAAjB;AACA,aAAO,IAAP;AACD,KAHD,CAhDyC,CAqDzC;;;;;;;AAMAF,aAAS1B,SAAT,CAAmB8B,IAAnB,GAA0B,UAASK,MAAT,EAAiB;AACzC,WAAKC,KAAL,GAAaD,MAAb;AACA,aAAO,IAAP;AACD,KAHD,CA3DyC,CAgEzC;;;;;;;AAMAT,aAAS1B,SAAT,CAAmBqC,MAAnB,GAA4B,UAAS7D,CAAT,EAAY;AACtC,WAAKmD,OAAL,GAAenD,CAAf;AACA,aAAO,IAAP;AACD,KAHD,CAtEyC,CA2EzC;;;;;;;AAMAkD,aAAS1B,SAAT,CAAmBsC,IAAnB,GAA0B,UAASC,GAAT,EAAc;AACtC,UAAI;AACF,YAAIZ,UAAUa,KAAKC,GAAL,CAAS,KAAKd,OAAd,EAAuB,GAAvB,CAAd;AACA,YAAIC,OAAO,KAAKG,KAAhB;AACA,YAAIW,OAAOd,OAAO,CAAlB;AACA,YAAIe,IAAID,IAAR;AACA,YAAIE,IAAIF,IAAR;AACA,YAAIG,MAAMH,OAAO,CAAjB;AACA,YAAIb,WAAW,KAAKK,SAApB;AAEAK,YAAIT,IAAJ,GAAWD,WAAW,KAAX,GAAmB,KAAKO,KAAnC;AAEA,YAAIU,QAAQN,KAAKO,EAAL,GAAU,CAAV,IAAepB,UAAU,GAAzB,CAAZ;AACAY,YAAIS,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoBpB,IAApB,EAA0BA,IAA1B,EAZE,CAcF;;AACAW,YAAIU,WAAJ,GAAkB,SAAlB;AACAV,YAAIW,SAAJ;AACAX,YAAIY,GAAJ,CAAQR,CAAR,EAAWC,CAAX,EAAcC,GAAd,EAAmB,CAAnB,EAAsBC,KAAtB,EAA6B,KAA7B;AACAP,YAAIa,MAAJ,GAlBE,CAoBF;;AACAb,YAAIU,WAAJ,GAAkB,MAAlB;AACAV,YAAIW,SAAJ;AACAX,YAAIY,GAAJ,CAAQR,CAAR,EAAWC,CAAX,EAAcC,MAAM,CAApB,EAAuB,CAAvB,EAA0BC,KAA1B,EAAiC,IAAjC;AACAP,YAAIa,MAAJ,GAxBE,CA0BF;;AACA,YAAIpB,OAAO,KAAKC,KAAL,IAAc,CAACN,UAAU,CAAX,IAAgB,GAAzC;AACA,YAAI0B,IAAId,IAAIe,WAAJ,CAAgBtB,IAAhB,EAAsBuB,KAA9B;AAEAhB,YAAIiB,QAAJ,CAAaxB,IAAb,EAAmBW,IAAIU,IAAI,CAAR,GAAY,CAA/B,EAAkCT,IAAIf,WAAW,CAAf,GAAmB,CAArD;AACD,OA/BD,CA+BE,OAAO4B,GAAP,EAAY,CACZ;AACD;;AACD,aAAO,IAAP;AACD,KApCD;AAsCC,GAvHO,EAuHN,EAvHM,CAhNmb;AAuUrb,KAAE,CAAC,UAAS3E,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACzC,KAAC,UAAUsE,MAAV,EAAiB;AAClBtE,cAAQuE,MAAR;AAAiB,iBAASA,MAAT,GAAkB;AACjC,iBAAO,IAAP;AACD;;AAFD,eAA0BA,MAA1B;AAAA;;AAIAvE,cAAQwE,aAAR;AAAwB,iBAASA,aAAT,GAAyB;AAC/C,cAAI,iBAAiBF,MAArB,EAA6B;AAC3B,mBAAO,CAACA,OAAOG,WAAR,EAAqBH,OAAOI,UAA5B,CAAP;AACD,WAH8C,CAI/C;;;AACA,iBAAO,CAAC,GAAD,EAAM,GAAN,CAAP;AACD;;AAND,eAAiCF,aAAjC;AAAA;AAQC,KAbD,EAaGvE,IAbH,CAaQ,IAbR,EAaa,OAAOqE,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAO/C,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOoD,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAbpI;AAcC,GAfO,EAeN,EAfM,CAvUmb;AAsVrb,KAAE,CAAC,UAASjF,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACzC;;OAIAG,OAAOH,OAAP,GAAiB4E,OAAjB,CALyC,CAOzC;;;;;;AAKA,aAASA,OAAT,GAAmB,CAAE,CAZoB,CAczC;;;;;;;;AAOAA,YAAQhE,SAAR,CAAkBiE,QAAlB,GAA6B,UAASA,QAAT,EAAmB;AAC9C,UAAI,CAACnD,UAAUxB,MAAf,EAAuB;AACrB,eAAO,KAAK4E,SAAZ;AACD;;AACD,WAAKC,IAAL,GAAY,KAAKD,SAAL,GAAiBD,QAA7B;AACA,aAAO,IAAP;AACD,KAND,CArByC,CA6BzC;;;;;;;;AAOAD,YAAQhE,SAAR,CAAkBoE,OAAlB,GAA4B,UAASC,EAAT,EAAa;AACvC,UAAI,CAACvD,UAAUxB,MAAf,EAAuB;AACrB,eAAO,KAAK2E,QAAL,GAAgBG,OAAhB,EAAP;AACD;;AACD,WAAKH,QAAL,GAAgBG,OAAhB,CAAwBC,EAAxB;AACA,aAAO,IAAP;AACD,KAND,CApCyC,CA4CzC;;;;;;;;AAOAL,YAAQhE,SAAR,CAAkBsE,cAAlB,GAAmC,UAASC,OAAT,EAAkB;AACnD,WAAKN,QAAL,GAAgBK,cAAhB,CAA+BC,OAA/B;AACA,aAAO,IAAP;AACD,KAHD,CAnDyC,CAwDzC;;;;;;;;AAOAP,YAAQhE,SAAR,CAAkBwE,IAAlB,GAAyB,UAASH,EAAT,EAAa;AACpC,WAAKJ,QAAL,GAAgBO,IAAhB,CAAqBH,EAArB;AACA,aAAO,IAAP;AACD,KAHD,CA/DyC,CAoEzC;;;;;;;AAMAL,YAAQhE,SAAR,CAAkByE,IAAlB,GAAyB,YAAW;AAClC,WAAKR,QAAL,GAAgBQ,IAAhB;AACA,aAAO,IAAP;AACD,KAHD,CA1EyC,CA+EzC;;;;;;;AAMAT,YAAQhE,SAAR,CAAkB0E,OAAlB,GAA4B,YAAW;AACrC,aAAOC,KAAKC,SAAL,CAAe,IAAf,EAAqB,UAASC,GAAT,EAAc1E,GAAd,EAAmB;AAC7C,eAAO0E,QAAQ,UAAR,IAAsBA,QAAQ,MAA9B,GAAuClF,SAAvC,GAAmDQ,GAA1D;AACD,OAFM,EAEJ,CAFI,CAAP;AAGD,KAJD;AAMC,GA3FO,EA2FN,EA3FM,CAtVmb;AAibrb,KAAE,CAAC,UAASrB,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACzC;;OAIA,IAAI0F,WAAWhG,QAAQ,YAAR,CAAf;;AACA,QAAIiG,WAAWjG,QAAQ,SAAR,EAAmBiG,QAAlC,CANyC,CAQzC;;;;AAIAxF,WAAOH,OAAP,GAAiB4F,IAAjB,CAZyC,CAczC;;;;;;;;AAOA,aAASA,IAAT,CAAcC,KAAd,EAAqB3E,EAArB,EAAyB;AACvBwE,eAASzF,IAAT,CAAc,IAAd,EAAoB4F,KAApB,EAA2B3E,EAA3B;AACA,WAAKV,IAAL,GAAY,MAAZ;AACD,KAxBwC,CA0BzC;;;;AAGAmF,aAASC,IAAT,EAAeF,QAAf,EA7ByC,CA+BzC;;;;;;;;AAOAE,SAAKhF,SAAL,CAAekF,KAAf,GAAuB,UAASzB,GAAT,EAAc;AACnC,UAAI,CAAC3C,UAAUxB,MAAf,EAAuB;AACrBmE,cAAM,KAAK0B,MAAX;AACA,aAAKA,MAAL,GAAc,IAAd;AACA,eAAO1B,GAAP;AACD;;AAED,WAAK0B,MAAL,GAAc1B,GAAd;AACD,KARD;AAUC,GAhDO,EAgDN;AAAC,kBAAa,EAAd;AAAiB,eAAU;AAA3B,GAhDM,CAjbmb;AAiezZ,KAAE,CAAC,UAAS3E,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACrE;;OAIA,IAAIgG,QAAQtG,QAAQ,UAAR,CAAZ;;AACA,QAAIuG,OAAOvG,QAAQ,SAAR,CAAX;;AACA,QAAIwG,WAAWxG,QAAQ,sBAAR,CAAf,CAPqE,CASrE;;;;;;;;;;;;;;;;;;AAiBAS,WAAOH,OAAP,GAAiB,UAASmG,KAAT,EAAgB;AAC/B,UAAIC,SAAS,CAACD,KAAD,CAAb;AAEAA,YAAMnF,EAAN,CAAS,aAAT,EAAwB,UAASqF,OAAT,EAAkBC,IAAlB,EAAwBC,KAAxB,EAA+B;AACrD,YAAIC,SAAS9G,QAAQ,UAAR,EAAoB0G,MAApB,EAA4BC,OAA5B,CAAb;;AAEAA,gBAAQI,MAAR,GAAiBD,OAAOC,MAAxB;AACAJ,gBAAQK,KAAR,GAAgBF,OAAOE,KAAvB;AACAL,gBAAQM,UAAR,GAAqBH,OAAOG,UAA5B;AACAN,gBAAQO,SAAR,GAAoBJ,OAAOI,SAA3B;AACAP,gBAAQQ,GAAR,GAAcN,MAAMO,OAAN,CAAcC,KAAd,IAAuBP,OAAOQ,YAAP,CAAoBb,KAApB,CAArC,CAPqD,CAQrD;;;;;;AAMAE,gBAAQY,QAAR,GAAmBZ,QAAQA,OAAR,GAAkB,UAASR,KAAT,EAAgB3E,EAAhB,EAAoB;AACvD,cAAIiF,QAAQH,MAAMkB,MAAN,CAAad,OAAO,CAAP,CAAb,EAAwBP,KAAxB,CAAZ;AACAM,gBAAMG,IAAN,GAAaA,IAAb;AACAF,iBAAOe,OAAP,CAAehB,KAAf;AACAjF,aAAGjB,IAAH,CAAQkG,KAAR;AACAC,iBAAOgB,KAAP;AACA,iBAAOjB,KAAP;AACD,SAPD,CAdqD,CAuBrD;;;;AAIAE,gBAAQgB,SAAR,GAAoBhB,QAAQiB,QAAR,GAAmBjB,QAAQY,QAAR,CAAiB5B,IAAjB,GAAwB,UAASQ,KAAT,EAAgB3E,EAAhB,EAAoB;AACjF,cAAIiF,QAAQH,MAAMkB,MAAN,CAAad,OAAO,CAAP,CAAb,EAAwBP,KAAxB,CAAZ;AACAM,gBAAMoB,OAAN,GAAgB,IAAhB;AACAnB,iBAAOe,OAAP,CAAehB,KAAf;AACAjF,aAAGjB,IAAH,CAAQkG,KAAR;AACAC,iBAAOgB,KAAP;AACD,SAND,CA3BqD,CAmCrD;;;;AAIAf,gBAAQY,QAAR,CAAiBO,IAAjB,GAAwB,UAAS3B,KAAT,EAAgB3E,EAAhB,EAAoB;AAC1C,cAAIiF,QAAQE,QAAQY,QAAR,CAAiBpB,KAAjB,EAAwB3E,EAAxB,CAAZ;AACAqF,gBAAMkB,IAAN,CAAWtB,MAAMuB,SAAN,EAAX;AACA,iBAAOvB,KAAP;AACD,SAJD,CAvCqD,CA6CrD;;;;;;AAMAE,gBAAQsB,EAAR,GAAatB,QAAQuB,OAAR,GAAkB,UAAS/B,KAAT,EAAgB3E,EAAhB,EAAoB;AACjD,cAAIiF,QAAQC,OAAO,CAAP,CAAZ;;AACA,cAAID,MAAMoB,OAAV,EAAmB;AACjBrG,iBAAK,IAAL;AACD;;AACD,cAAI6D,OAAO,IAAIkB,IAAJ,CAASJ,KAAT,EAAgB3E,EAAhB,CAAX;AACA6D,eAAKuB,IAAL,GAAYA,IAAZ;AACAH,gBAAM0B,OAAN,CAAc9C,IAAd;AACA,iBAAOA,IAAP;AACD,SATD,CAnDqD,CA8DrD;;;;AAIAsB,gBAAQsB,EAAR,CAAWH,IAAX,GAAkB,UAAS3B,KAAT,EAAgB3E,EAAhB,EAAoB;AACpC,cAAI6D,OAAOsB,QAAQsB,EAAR,CAAW9B,KAAX,EAAkB3E,EAAlB,CAAX;AACA,cAAI4G,WAAW,MAAM5B,SAASnB,KAAK2C,SAAL,EAAT,CAAN,GAAmC,GAAlD;AACAnB,gBAAMkB,IAAN,CAAW,IAAIM,MAAJ,CAAWD,QAAX,CAAX;AACA,iBAAO/C,IAAP;AACD,SALD,CAlEqD,CAyErD;;;;AAIAsB,gBAAQ2B,GAAR,GAAc3B,QAAQ4B,QAAR,GAAmB5B,QAAQsB,EAAR,CAAWtC,IAAX,GAAkB,UAASQ,KAAT,EAAgB;AACjEQ,kBAAQsB,EAAR,CAAW9B,KAAX;AACD,SAFD;AAGD,OAhFD;AAiFD,KApFD;AAsFC,GAhHmC,EAgHlC;AAAC,gBAAW,EAAZ;AAAe,eAAU,EAAzB;AAA4B,gBAAW,CAAvC;AAAyC,4BAAuB;AAAhE,GAhHkC,CAjeuZ;AAilBpX,KAAE,CAAC,UAASnG,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1G,iBAD0G,CAG1G;;;;;;;;AAOAG,WAAOH,OAAP,GAAiB,UAASoG,MAAT,EAAiBC,OAAjB,EAA0B;AACzC,aAAO;AACL;;;;;;WAOAW;AAAc,mBAASA,YAAT,CAAsBb,KAAtB,EAA6B;AACzC;AAAO,uBAASU,GAAT,GAAe;AACpBV,sBAAMU,GAAN;AACD;;AAFD,qBAAgBA,GAAhB;AAAA;AAGD;;AAJD,iBAAuBG,YAAvB;AAAA,WARK;AAcL;;;;;WAMAP,QAAQ,UAASxF,IAAT,EAAeC,EAAf,EAAmB;AACzBkF,iBAAO,CAAP,EAAU8B,SAAV,CAAoBjH,IAApB,EAA0BC,EAA1B;AACD,SAtBI;AAwBL;;;;;WAMAwF,OAAO,UAASzF,IAAT,EAAeC,EAAf,EAAmB;AACxBkF,iBAAO,CAAP,EAAU+B,QAAV,CAAmBlH,IAAnB,EAAyBC,EAAzB;AACD,SAhCI;AAkCL;;;;;WAMAyF,YAAY,UAAS1F,IAAT,EAAeC,EAAf,EAAmB;AAC7BkF,iBAAO,CAAP,EAAUO,UAAV,CAAqB1F,IAArB,EAA2BC,EAA3B;AACD,SA1CI;AA4CL;;;;;WAMA0F,WAAW,UAAS3F,IAAT,EAAeC,EAAf,EAAmB;AAC5BkF,iBAAO,CAAP,EAAUQ,SAAV,CAAoB3F,IAApB,EAA0BC,EAA1B;AACD,SApDI;AAsDL6D,cAAM;AACJ;;;;aAKAM,MAAM,UAASQ,KAAT,EAAgB;AACpBQ,oBAAQtB,IAAR,CAAac,KAAb;AACD;AARG;AAtDD,OAAP;AAiED,KAlED;AAoEC,GA9EwE,EA8EvE,EA9EuE,CAjlBkX;AA+pBrb,MAAG,CAAC,UAASnG,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1C;;OAIA,IAAIgG,QAAQtG,QAAQ,UAAR,CAAZ;;AACA,QAAIuG,OAAOvG,QAAQ,SAAR,CAAX,CAN0C,CAQ1C;;;;;;;;;;;;;;;;;;AAiBAS,WAAOH,OAAP,GAAiB,UAASmG,KAAT,EAAgB;AAC/B,UAAIC,SAAS,CAACD,KAAD,CAAb;AAEAA,YAAMnF,EAAN,CAAS,SAAT,EAAoBoH,KAApB;;AAEA,eAASA,KAAT,CAAeC,GAAf,EAAoB/B,IAApB,EAA0B;AACxB,YAAIH,KAAJ;;AACA,aAAK,IAAIV,GAAT,2CAAgB4C,GAAhB,GAAqB;AACnB,cAAI,OAAOA,IAAI5C,GAAJ,CAAP,KAAoB,UAAxB,EAAoC;AAClC,gBAAIvE,KAAKmH,IAAI5C,GAAJ,CAAT;;AACA,oBAAQA,GAAR;AACE,mBAAK,QAAL;AACEW,uBAAO,CAAP,EAAU8B,SAAV,CAAoBhH,EAApB;AACA;;AACF,mBAAK,OAAL;AACEkF,uBAAO,CAAP,EAAU+B,QAAV,CAAmBjH,EAAnB;AACA;;AACF,mBAAK,YAAL;AACEkF,uBAAO,CAAP,EAAUO,UAAV,CAAqBzF,EAArB;AACA;;AACF,mBAAK,WAAL;AACEkF,uBAAO,CAAP,EAAUQ,SAAV,CAAoB1F,EAApB;AACA;;AACF;AACE,oBAAI6D,OAAO,IAAIkB,IAAJ,CAASR,GAAT,EAAcvE,EAAd,CAAX;AACA6D,qBAAKuB,IAAL,GAAYA,IAAZ;AACAF,uBAAO,CAAP,EAAUyB,OAAV,CAAkB9C,IAAlB;AAhBJ;AAkBD,WApBD,MAoBO;AACLoB,oBAAQH,MAAMkB,MAAN,CAAad,OAAO,CAAP,CAAb,EAAwBX,GAAxB,CAAR;AACAW,mBAAOe,OAAP,CAAehB,KAAf;AACAiC,kBAAMC,IAAI5C,GAAJ,CAAN;AACAW,mBAAOgB,KAAP;AACD;AACF;AACF;AACF,KApCD;AAsCC,GA/DQ,EA+DP;AAAC,gBAAW,EAAZ;AAAe,eAAU;AAAzB,GA/DO,CA/pBkb;AA8tB3Z,MAAG,CAAC,UAAS1H,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACpEA,YAAQsI,GAAR,GAAc5I,QAAQ,OAAR,CAAd;AACAM,YAAQuI,GAAR,GAAc7I,QAAQ,OAAR,CAAd;AACAM,YAAQwI,KAAR,GAAgB9I,QAAQ,SAAR,CAAhB;AACAM,YAAQA,OAAR,GAAkBN,QAAQ,WAAR,CAAlB;AAEC,GANkC,EAMjC;AAAC,aAAQ,CAAT;AAAW,iBAAY,EAAvB;AAA0B,eAAU,EAApC;AAAuC,aAAQ;AAA/C,GANiC,CA9tBwZ;AAouBrY,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1F;;OAIA,IAAIgG,QAAQtG,QAAQ,UAAR,CAAZ;;AACA,QAAIuG,OAAOvG,QAAQ,SAAR,CAAX;;AACA,QAAIwG,WAAWxG,QAAQ,sBAAR,CAAf,CAP0F,CAS1F;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBAS,WAAOH,OAAP,GAAiB,UAASmG,KAAT,EAAgB;AAC/B,UAAIC,SAAS,CAACD,KAAD,CAAb;AAEAA,YAAMnF,EAAN,CAAS,aAAT,EAAwB,UAASqF,OAAT,EAAkBC,IAAlB,EAAwBC,KAAxB,EAA+B;AACrD,YAAIC,SAAS9G,QAAQ,UAAR,EAAoB0G,MAApB,EAA4BC,OAA5B,CAAb;;AAEAA,gBAAQI,MAAR,GAAiBD,OAAOC,MAAxB;AACAJ,gBAAQK,KAAR,GAAgBF,OAAOE,KAAvB;AACAL,gBAAQM,UAAR,GAAqBH,OAAOG,UAA5B;AACAN,gBAAQO,SAAR,GAAoBJ,OAAOI,SAA3B;AACAP,gBAAQQ,GAAR,GAAcN,MAAMO,OAAN,CAAcC,KAAd,IAAuBP,OAAOQ,YAAP,CAAoBb,KAApB,CAArC,CAPqD,CAQrD;;;;AAIAE,gBAAQF,KAAR,GAAgB,UAASN,KAAT,EAAgB;AAC9B,cAAIO,OAAOlG,MAAP,GAAgB,CAApB,EAAuB;AACrBkG,mBAAOgB,KAAP;AACD;;AACD,cAAIjB,QAAQH,MAAMkB,MAAN,CAAad,OAAO,CAAP,CAAb,EAAwBP,KAAxB,CAAZ;AACAM,gBAAMG,IAAN,GAAaA,IAAb;AACAF,iBAAOe,OAAP,CAAehB,KAAf;AACA,iBAAOA,KAAP;AACD,SARD,CAZqD,CAsBrD;;;;AAIAE,gBAAQF,KAAR,CAAcqB,IAAd,GAAqB,UAAS3B,KAAT,EAAgB3E,EAAhB,EAAoB;AACvC,cAAIiF,QAAQE,QAAQF,KAAR,CAAcN,KAAd,EAAqB3E,EAArB,CAAZ;AACAqF,gBAAMkB,IAAN,CAAWtB,MAAMuB,SAAN,EAAX;AACD,SAHD,CA1BqD,CA+BrD;;;;;;AAMArB,gBAAQtB,IAAR,GAAe,UAASc,KAAT,EAAgB3E,EAAhB,EAAoB;AACjC,cAAI6D,OAAO,IAAIkB,IAAJ,CAASJ,KAAT,EAAgB3E,EAAhB,CAAX;AACA6D,eAAKuB,IAAL,GAAYA,IAAZ;AACAF,iBAAO,CAAP,EAAUyB,OAAV,CAAkB9C,IAAlB;AACA,iBAAOA,IAAP;AACD,SALD,CArCqD,CA4CrD;;;;AAIAsB,gBAAQtB,IAAR,CAAayC,IAAb,GAAoB,UAAS3B,KAAT,EAAgB3E,EAAhB,EAAoB;AACtC,cAAI6D,OAAOsB,QAAQtB,IAAR,CAAac,KAAb,EAAoB3E,EAApB,CAAX;AACA,cAAI4G,WAAW,MAAM5B,SAASnB,KAAK2C,SAAL,EAAT,CAAN,GAAmC,GAAlD;AACAnB,gBAAMkB,IAAN,CAAW,IAAIM,MAAJ,CAAWD,QAAX,CAAX;AACD,SAJD;;AAMAzB,gBAAQtB,IAAR,CAAaM,IAAb,GAAoBmB,OAAOzB,IAAP,CAAYM,IAAhC;AACD,OAvDD;AAwDD,KA3DD;AA6DC,GA/FwD,EA+FvD;AAAC,gBAAW,EAAZ;AAAe,eAAU,EAAzB;AAA4B,gBAAW,CAAvC;AAAyC,4BAAuB;AAAhE,GA/FuD,CApuBkY;AAm0BpX,MAAG,CAAC,UAAS3F,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC3G;;OAIA,IAAIgG,QAAQtG,QAAQ,UAAR,CAAZ;;AACA,QAAIuG,OAAOvG,QAAQ,SAAR,CAAX;;AACA,QAAIwG,WAAWxG,QAAQ,sBAAR,CAAf,CAP2G,CAS3G;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBAS,WAAOH,OAAP,GAAiB,UAASmG,KAAT,EAAgB;AAC/B,UAAIC,SAAS,CAACD,KAAD,CAAb;AAEAA,YAAMnF,EAAN,CAAS,aAAT,EAAwB,UAASqF,OAAT,EAAkBC,IAAlB,EAAwBC,KAAxB,EAA+B;AACrD,YAAIC,SAAS9G,QAAQ,UAAR,EAAoB0G,MAApB,EAA4BC,OAA5B,CAAb;;AAEAA,gBAAQoC,KAAR,GAAgBjC,OAAOG,UAAvB;AACAN,gBAAQqC,QAAR,GAAmBlC,OAAOI,SAA1B;AACAP,gBAAQsC,UAAR,GAAqBnC,OAAOC,MAA5B;AACAJ,gBAAQuC,aAAR,GAAwBpC,OAAOE,KAA/B;AACAL,gBAAQQ,GAAR,GAAcN,MAAMO,OAAN,CAAcC,KAAd,IAAuBP,OAAOQ,YAAP,CAAoBb,KAApB,CAArC,CAPqD,CASrD;;;;;AAIAE,gBAAQF,KAAR,GAAgB,UAASN,KAAT,EAAgB3E,EAAhB,EAAoB;AAClC,cAAIiF,QAAQH,MAAMkB,MAAN,CAAad,OAAO,CAAP,CAAb,EAAwBP,KAAxB,CAAZ;AACAM,gBAAMG,IAAN,GAAaA,IAAb;AACAF,iBAAOe,OAAP,CAAehB,KAAf;AACAjF,aAAGjB,IAAH,CAAQkG,KAAR;AACAC,iBAAOgB,KAAP;AACA,iBAAOjB,KAAP;AACD,SAPD,CAbqD,CAsBrD;;;;AAGAE,gBAAQF,KAAR,CAAcd,IAAd,GAAqB,UAASQ,KAAT,EAAgB3E,EAAhB,EAAoB;AACvC,cAAIiF,QAAQH,MAAMkB,MAAN,CAAad,OAAO,CAAP,CAAb,EAAwBP,KAAxB,CAAZ;AACAM,gBAAMoB,OAAN,GAAgB,IAAhB;AACAnB,iBAAOe,OAAP,CAAehB,KAAf;AACAjF,aAAGjB,IAAH,CAAQkG,KAAR;AACAC,iBAAOgB,KAAP;AACD,SAND,CAzBqD,CAiCrD;;;;AAGAf,gBAAQF,KAAR,CAAcqB,IAAd,GAAqB,UAAS3B,KAAT,EAAgB3E,EAAhB,EAAoB;AACvC,cAAIiF,QAAQE,QAAQF,KAAR,CAAcN,KAAd,EAAqB3E,EAArB,CAAZ;AACAqF,gBAAMkB,IAAN,CAAWtB,MAAMuB,SAAN,EAAX;AACD,SAHD,CApCqD,CAyCrD;;;;;AAIArB,gBAAQtB,IAAR,GAAe,UAASc,KAAT,EAAgB3E,EAAhB,EAAoB;AACjC,cAAIiF,QAAQC,OAAO,CAAP,CAAZ;;AACA,cAAID,MAAMoB,OAAV,EAAmB;AACjBrG,iBAAK,IAAL;AACD;;AACD,cAAI6D,OAAO,IAAIkB,IAAJ,CAASJ,KAAT,EAAgB3E,EAAhB,CAAX;AACA6D,eAAKuB,IAAL,GAAYA,IAAZ;AACAH,gBAAM0B,OAAN,CAAc9C,IAAd;AACA,iBAAOA,IAAP;AACD,SATD,CA7CqD,CAwDrD;;;;AAIAsB,gBAAQtB,IAAR,CAAayC,IAAb,GAAoB,UAAS3B,KAAT,EAAgB3E,EAAhB,EAAoB;AACtC,cAAI6D,OAAOsB,QAAQtB,IAAR,CAAac,KAAb,EAAoB3E,EAApB,CAAX;AACA,cAAI4G,WAAW,MAAM5B,SAASnB,KAAK2C,SAAL,EAAT,CAAN,GAAmC,GAAlD;AACAnB,gBAAMkB,IAAN,CAAW,IAAIM,MAAJ,CAAWD,QAAX,CAAX;AACD,SAJD;;AAMAzB,gBAAQtB,IAAR,CAAaM,IAAb,GAAoBmB,OAAOzB,IAAP,CAAYM,IAAhC;AACD,OAnED;AAoED,KAvED;AAyEC,GA3GyE,EA2GxE;AAAC,gBAAW,EAAZ;AAAe,eAAU,EAAzB;AAA4B,gBAAW,CAAvC;AAAyC,4BAAuB;AAAhE,GA3GwE,CAn0BiX;AA86BpX,MAAG,CAAC,UAAS3F,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC3G,KAAC,UAAUI,OAAV,EAAkBkE,MAAlB,EAAyBuE,SAAzB,EAAmC;AACpC;;;;SADoC,CAOpC;;aAIA,IAAI3C,WAAWxG,QAAQ,sBAAR,CAAf;;AACA,UAAIoJ,OAAOpJ,QAAQ,MAAR,CAAX;;AACA,UAAIqJ,YAAYrJ,QAAQ,aAAR,CAAhB;;AACA,UAAIsJ,QAAQtJ,QAAQ,SAAR,CAAZ,CAdoC,CAgBpC;;;;AAIAM,gBAAUG,OAAOH,OAAP,GAAiBiJ,KAA3B,CApBoC,CAsBpC;;;;AAIA,UAAI,CAAC7I,QAAQ8I,OAAb,EAAsB;AACpB,YAAIC,MAAM/I,QAAQ+I,GAAR,EAAV;AACAhJ,eAAOiJ,KAAP,CAAahI,IAAb,CAAkB+H,GAAlB,EAAuBL,KAAKO,IAAL,CAAUF,GAAV,EAAe,cAAf,CAAvB;AACD,OA7BmC,CA+BpC;;;;AAIAnJ,cAAQgJ,KAAR,GAAgBA,KAAhB;AACAhJ,cAAQsJ,UAAR,GAAqB5J,QAAQ,cAAR,CAArB;AACAM,cAAQ+I,SAAR,GAAoBA,SAApB;AACA/I,cAAQ0F,QAAR,GAAmBhG,QAAQ,YAAR,CAAnB;AACAM,cAAQ4E,OAAR,GAAkBlF,QAAQ,WAAR,CAAlB;AACAM,cAAQuJ,MAAR,GAAiB7J,QAAQ,UAAR,CAAjB;AACAM,cAAQgG,KAAR,GAAgBtG,QAAQ,SAAR,CAAhB;AACAM,cAAQ4F,IAAR,GAAelG,QAAQ,QAAR,CAAf;AACAM,cAAQiG,IAAR,GAAevG,QAAQ,QAAR,CAAf,CA3CoC,CA6CpC;;;;;;;;AAOA,eAAS8J,KAAT,CAAevI,IAAf,EAAqB;AACnB,eAAO6H,KAAKO,IAAL,CAAUR,SAAV,EAAqB,WAArB,EAAkC5H,OAAO,MAAzC,CAAP;AACD,OAtDmC,CAwDpC;;;;;;;;;;;;;;;;;;;AAkBA,eAASgI,KAAT,CAAenC,OAAf,EAAwB;AACtBA,kBAAUA,WAAW,EAArB;AACA,aAAK2C,KAAL,GAAa,EAAb;AACA,aAAK3C,OAAL,GAAeA,OAAf;;AACA,YAAIA,QAAQW,IAAZ,EAAkB;AAChB,eAAKA,IAAL,CAAU,IAAIM,MAAJ,CAAWjB,QAAQW,IAAnB,CAAV;AACD;;AACD,YAAIX,QAAQ4C,KAAZ,EAAmB;AACjB,eAAKjC,IAAL,CAAUX,QAAQ4C,KAAlB;AACD;;AACD,aAAKvD,KAAL,GAAa,IAAInG,QAAQgG,KAAZ,CAAkB,EAAlB,EAAsB,IAAIhG,QAAQ4E,OAAZ,EAAtB,CAAb;AACA,aAAK+E,EAAL,CAAQ7C,QAAQ6C,EAAhB;AACA,aAAKC,IAAL,CAAU9C,QAAQ8C,IAAlB;AACA,aAAKC,QAAL,CAAc/C,QAAQ+C,QAAtB,EAAgC/C,QAAQgD,eAAxC;;AACA,YAAI,OAAOhD,QAAQ9B,OAAf,KAA2B,WAA3B,IAA0C8B,QAAQ9B,OAAR,KAAoB,IAAlE,EAAwE;AACtE,eAAKA,OAAL,CAAa8B,QAAQ9B,OAArB;AACD;;AACD,aAAK+E,SAAL,CAAejD,QAAQiD,SAAvB;;AACA,YAAIjD,QAAQ5B,cAAR,KAA2B,IAA/B,EAAqC;AACnC,eAAKA,cAAL,CAAoB4B,QAAQ5B,cAA5B;AACD;;AACD,YAAI4B,QAAQ1B,IAAZ,EAAkB;AAChB,eAAKA,IAAL,CAAU0B,QAAQ1B,IAAlB;AACD;;AAED,aAAKe,KAAL,CAAWnF,EAAX,CAAc,aAAd,EAA6B,UAASqF,OAAT,EAAkB;AAC7CrG,kBAAQ4G,SAAR,GAAoBP,QAAQO,SAAR,IAAqBP,QAAQqC,QAAjD;AACA1I,kBAAQ0G,KAAR,GAAgBL,QAAQK,KAAR,IAAiBL,QAAQuC,aAAzC;AACA5I,kBAAQ2G,UAAR,GAAqBN,QAAQM,UAAR,IAAsBN,QAAQoC,KAAnD;AACAzI,kBAAQyG,MAAR,GAAiBJ,QAAQI,MAAR,IAAkBJ,QAAQsC,UAA3C;AACA3I,kBAAQiH,QAAR,GAAmBZ,QAAQY,QAAR,IAAoBZ,QAAQF,KAA/C;AACAnG,kBAAQ2H,EAAR,GAAatB,QAAQsB,EAAR,IAActB,QAAQtB,IAAnC;AACA/E,kBAAQyI,KAAR,GAAgBpC,QAAQoC,KAAR,IAAiBpC,QAAQM,UAAzC;AACA3G,kBAAQ2I,UAAR,GAAqBtC,QAAQsC,UAAR,IAAsBtC,QAAQI,MAAnD;AACAzG,kBAAQ4I,aAAR,GAAwBvC,QAAQuC,aAAR,IAAyBvC,QAAQK,KAAzD;AACA1G,kBAAQmG,KAAR,GAAgBE,QAAQF,KAAR,IAAiBE,QAAQY,QAAzC;AACAjH,kBAAQ0I,QAAR,GAAmBrC,QAAQqC,QAAR,IAAoBrC,QAAQO,SAA/C;AACA5G,kBAAQ+E,IAAR,GAAesB,QAAQtB,IAAR,IAAgBsB,QAAQsB,EAAvC;AACA3H,kBAAQ6G,GAAR,GAAcR,QAAQQ,GAAtB;AACD,SAdD;AAeD,OAlHmC,CAoHpC;;;;;;;AAMAoC,YAAMrI,SAAN,CAAgBgJ,IAAhB,GAAuB,UAASA,IAAT,EAAe;AACpC,YAAI,CAAClI,UAAUxB,MAAf,EAAuB;AACrB0J,iBAAO,IAAP;AACD;;AACD,aAAKzD,KAAL,CAAWyD,IAAX,CAAgBA,IAAhB;AACA,eAAO,IAAP;AACD,OAND,CA1HoC,CAkIpC;;;;;;;AAMAX,YAAMrI,SAAN,CAAgBoJ,OAAhB,GAA0B,UAAS1D,IAAT,EAAe;AACvC,aAAKmD,KAAL,CAAWrI,IAAX,CAAgBkF,IAAhB;AACA,eAAO,IAAP;AACD,OAHD,CAxIoC,CA6IpC;;;;;;;;;;AASA2C,YAAMrI,SAAN,CAAgBiJ,QAAhB,GAA2B,UAASA,QAAT,EAAmBC,eAAnB,EAAoC;AAC7D,YAAI,OAAOD,QAAP,KAAoB,UAAxB,EAAoC;AAClC,eAAKI,SAAL,GAAiBJ,QAAjB;AACD,SAFD,MAEO;AACLA,qBAAWA,YAAY,MAAvB;;AACA,cAAII,SAAJ,CAFK,CAGL;;;AACA,cAAIlB,UAAUc,QAAV,CAAJ,EAAyB;AACvBI,wBAAYlB,UAAUc,QAAV,CAAZ;AACD,WANI,CAOL;;;AACA,cAAI,CAACI,SAAL,EAAgB;AACd,gBAAI;AACFA,0BAAYvK,QAAQmK,QAAR,CAAZ;AACD,aAFD,CAEE,OAAOxF,GAAP,EAAY;AACZA,kBAAI6F,OAAJ,CAAYC,OAAZ,CAAoB,oBAApB,MAA8C,CAAC,CAA/C,GACIC,QAAQC,IAAR,CAAa,MAAMR,QAAN,GAAiB,sBAA9B,CADJ,GAEIO,QAAQC,IAAR,CAAa,MAAMR,QAAN,GAAiB,kCAAjB,GAAsDxF,IAAIiG,KAAvE,CAFJ;AAGD;AACF;;AACD,cAAI,CAACL,SAAD,IAAcJ,aAAa,UAA/B,EAA2C;AACzCO,oBAAQC,IAAR,CAAa,wDACT,0BADS,GAET,sDAFJ;AAGD;;AACD,cAAI,CAACJ,SAAL,EAAgB;AACd,kBAAM,IAAIpK,KAAJ,CAAU,uBAAuBgK,QAAvB,GAAkC,GAA5C,CAAN;AACD;;AACD,eAAKI,SAAL,GAAiBA,SAAjB;AACD;;AACD,aAAKnD,OAAL,CAAagD,eAAb,GAA+BA,eAA/B;AACA,eAAO,IAAP;AACD,OAhCD,CAtJoC,CAwLpC;;;;;;;AAMAb,YAAMrI,SAAN,CAAgB+I,EAAhB,GAAqB,UAAS1I,IAAT,EAAe;AAClCA,eAAOA,QAAQ,KAAf;AACA,aAAKsJ,GAAL,GAAWvK,QAAQsJ,UAAR,CAAmBrI,IAAnB,CAAX;;AACA,YAAI,CAAC,KAAKsJ,GAAV,EAAe;AACb,cAAI;AACF,iBAAKA,GAAL,GAAW7K,QAAQuB,IAAR,CAAX;AACD,WAFD,CAEE,OAAOoD,GAAP,EAAY;AACZ,kBAAM,IAAIxE,KAAJ,CAAU,wBAAwBoB,IAAxB,GAA+B,GAAzC,CAAN;AACD;AACF;;AACD,aAAKsJ,GAAL,GAAW,KAAKA,GAAL,CAAS,KAAKpE,KAAd,CAAX;AACA,eAAO,IAAP;AACD,OAZD,CA9LoC,CA4MpC;;;;;;AAKA8C,YAAMrI,SAAN,CAAgB4J,SAAhB,GAA4B,UAAStJ,EAAT,EAAa;AACvC,YAAIK,OAAO,IAAX;AACA,YAAI4E,QAAQ,KAAKA,KAAjB;AACA,YAAIoB,UAAU,KAAKkC,KAAL,CAAWvJ,MAAzB;AACA,aAAKuJ,KAAL,CAAWgB,OAAX,CAAmB,UAASnE,IAAT,EAAe;AAChCA,iBAAOwC,KAAK4B,OAAL,CAAapE,IAAb,CAAP;AACAH,gBAAMlE,IAAN,CAAW,aAAX,EAA0BqC,MAA1B,EAAkCgC,IAAlC,EAAwC/E,IAAxC;AACA4E,gBAAMlE,IAAN,CAAW,SAAX,EAAsBvC,QAAQ4G,IAAR,CAAtB,EAAqCA,IAArC,EAA2C/E,IAA3C;AACA4E,gBAAMlE,IAAN,CAAW,cAAX,EAA2BqC,MAA3B,EAAmCgC,IAAnC,EAAyC/E,IAAzC;AACA,YAAEgG,OAAF,IAAcrG,MAAMA,IAApB;AACD,SAND;AAOD,OAXD,CAjNoC,CA8NpC;;;;;;AAKA+H,YAAMrI,SAAN,CAAgB+J,MAAhB,GAAyB,UAASC,MAAT,EAAiBf,QAAjB,EAA2B;AAClD,YAAIgB,SAASnL,QAAQ,OAAR,CAAb;;AAEAkL,eAAO5J,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1B,cAAI8J,QAAQjB,SAASiB,KAArB;;AACA,cAAIA,MAAMC,QAAV,EAAoB;AAClB,gBAAIC,MAAMF,MAAMC,QAAN,GAAiB,MAAjB,GAA0BH,OAAOK,KAAjC,GAAyC,eAAnD;AACAJ,mBAAOG,GAAP,EAAY;AAAE/J,oBAAM,OAAR;AAAiB4E,qBAAO,QAAxB;AAAkC2D,qBAAOA,MAAM,OAAN;AAAzC,aAAZ;AACD,WAHD,MAGO;AACLqB,mBAAOC,MAAMI,MAAN,GAAe,mBAAf,GAAqCJ,MAAMK,QAA3C,GAAsD,IAA7D,EAAmE;AACjElK,oBAAM,OAD2D;AAEjE4E,qBAAO,QAF0D;AAGjE2D,qBAAOA,MAAM,IAAN;AAH0D,aAAnE;AAKD;AACF,SAZD;AAaD,OAhBD,CAnOoC,CAqPpC;;;;;;;;;;AASAP,YAAMrI,SAAN,CAAgB6G,IAAhB,GAAuB,UAAS2D,EAAT,EAAa;AAClC,aAAKtE,OAAL,CAAaW,IAAb,GAAoB,OAAO2D,EAAP,KAAc,QAAd,GAAyB,IAAIrD,MAAJ,CAAW7B,SAASkF,EAAT,CAAX,CAAzB,GAAoDA,EAAxE;AACA,eAAO,IAAP;AACD,OAHD,CA9PoC,CAmQpC;;;;;;;AAMAnC,YAAMrI,SAAN,CAAgByK,MAAhB,GAAyB,YAAW;AAClC,aAAKvE,OAAL,CAAauE,MAAb,GAAsB,IAAtB;AACA,eAAO,IAAP;AACD,OAHD,CAzQoC,CA8QpC;;;;;;;;;;AASApC,YAAMrI,SAAN,CAAgB0K,WAAhB,GAA8B,UAASC,MAAT,EAAiB;AAC7C,aAAKzE,OAAL,CAAawE,WAAb,GAA2BE,QAAQD,MAAR,CAA3B;AACA,eAAO,IAAP;AACD,OAHD,CAvRoC,CA4RpC;;;;;;;AAMAtC,YAAMrI,SAAN,CAAgB6K,UAAhB,GAA6B,YAAW;AACtC,aAAK3E,OAAL,CAAawE,WAAb,GAA2B,KAA3B;AACA,eAAO,IAAP;AACD,OAHD,CAlSoC,CAuSpC;;;;;;;AAMArC,YAAMrI,SAAN,CAAgB8K,SAAhB,GAA4B,YAAW;AACrC,aAAK5E,OAAL,CAAa6E,cAAb,GAA8B,IAA9B;AACA,eAAO,IAAP;AACD,OAHD,CA7SoC,CAkTpC;;;;;;;AAMA1C,YAAMrI,SAAN,CAAgBgL,KAAhB,GAAwB,YAAW;AACjC,aAAK9E,OAAL,CAAa8E,KAAb,GAAqB,IAArB;AACA,eAAO,IAAP;AACD,OAHD,CAxToC,CA6TpC;;;;;;;;;;AASA3C,YAAMrI,SAAN,CAAgBiL,OAAhB,GAA0B,UAASA,OAAT,EAAkB;AAC1C,aAAK/E,OAAL,CAAa+E,OAAb,GAAuB,CAAC,KAAK/E,OAAL,CAAa+E,OAAb,IAAwB,EAAzB,EAA6BC,MAA7B,CAAoCD,OAApC,CAAvB;AACA,eAAO,IAAP;AACD,OAHD,CAtUoC,CA2UpC;;;;;;;;;;AASA5C,YAAMrI,SAAN,CAAgBmJ,SAAhB,GAA4B,UAASgC,MAAT,EAAiB;AAC3C,YAAIA,WAAWxL,SAAf,EAA0B;AACxB,eAAKuG,OAAL,CAAaiD,SAAb,GAAyBgC,MAAzB;AACD;;AACD,eAAO,IAAP;AACD,OALD,CApVoC,CA2VpC;;;;;;;;;;AASA9C,YAAMrI,SAAN,CAAgBoL,cAAhB,GAAiC,UAASC,WAAT,EAAsB;AACrD,aAAKnF,OAAL,CAAakF,cAAb,GAA8BC,gBAAgB1L,SAAhB,IAA6B0L,WAA3D;AACA,eAAO,IAAP;AACD,OAHD,CApWoC,CAyWpC;;;;;;;;;;AASAhD,YAAMrI,SAAN,CAAgBoE,OAAhB,GAA0B,UAASA,OAAT,EAAkB;AAC1C,aAAKmB,KAAL,CAAWnB,OAAX,CAAmBA,OAAnB;AACA,eAAO,IAAP;AACD,OAHD,CAlXoC,CAuXpC;;;;;;;;;;AASAiE,YAAMrI,SAAN,CAAgBwE,IAAhB,GAAuB,UAASA,IAAT,EAAe;AACpC,aAAKe,KAAL,CAAWf,IAAX,CAAgBA,IAAhB;AACA,eAAO,IAAP;AACD,OAHD,CAhYoC,CAqYpC;;;;;;;;;;AASA6D,YAAMrI,SAAN,CAAgBsE,cAAhB,GAAiC,UAASC,OAAT,EAAkB;AACjD,aAAKgB,KAAL,CAAWjB,cAAX,CAA0BxD,UAAUxB,MAAV,IAAoBiF,YAAY5E,SAAhC,GAA4C4E,OAA5C,GAAsD,IAAhF;AACA,eAAO,IAAP;AACD,OAHD,CA9YoC,CAmZpC;;;;;;;AAMA8D,YAAMrI,SAAN,CAAgBsL,SAAhB,GAA4B,YAAW;AACrC,aAAKpF,OAAL,CAAaoF,SAAb,GAAyB,IAAzB;AACA,eAAO,IAAP;AACD,OAHD,CAzZoC,CA8ZpC;;;;;;AAKAjD,YAAMrI,SAAN,CAAgBuL,cAAhB,GAAiC,YAAW;AAC1C,aAAKrF,OAAL,CAAaqF,cAAb,GAA8B,IAA9B;AACA,eAAO,IAAP;AACD,OAHD,CAnaoC,CAwapC;;;;;;;AAMAlD,YAAMrI,SAAN,CAAgBwL,aAAhB,GAAgC,YAAW;AACzC,aAAKtF,OAAL,CAAasF,aAAb,GAA6B,IAA7B;AACA,eAAO,IAAP;AACD,OAHD,CA9aoC,CAmbpC;;;;;AAIAnD,YAAMrI,SAAN,CAAgBmG,KAAhB;AAAwB,iBAASA,KAAT,GAAiB;AACvC,eAAKD,OAAL,CAAaC,KAAb,GAAqB,IAArB;AACA,iBAAO,IAAP;AACD;;AAHD,eAAiCA,KAAjC;AAAA,UAvboC,CA4bpC;;;;;;;;AAOAkC,YAAMrI,SAAN,CAAgBiG,GAAhB,GAAsB,UAAS3F,EAAT,EAAa;AACjC,YAAI,KAAKuI,KAAL,CAAWvJ,MAAf,EAAuB;AACrB,eAAKsK,SAAL;AACD;;AACD,YAAIrE,QAAQ,KAAKA,KAAjB;AACA,YAAIW,UAAU,KAAKA,OAAnB;AACAA,gBAAQ2C,KAAR,GAAgB,KAAKA,KAArB;AACA,YAAImB,SAAS,IAAI5K,QAAQuJ,MAAZ,CAAmBpD,KAAnB,EAA0BW,QAAQC,KAAlC,CAAb;AACA,YAAI8C,WAAW,IAAI,KAAKI,SAAT,CAAmBW,MAAnB,EAA2B9D,OAA3B,CAAf;AACA8D,eAAOU,WAAP,GAAqBxE,QAAQwE,WAAR,KAAwB,KAA7C;AACAV,eAAOe,cAAP,GAAwB7E,QAAQ6E,cAAhC;AACAf,eAAOsB,SAAP,GAAmBpF,QAAQoF,SAA3B;AACAtB,eAAOwB,aAAP,GAAuBtF,QAAQsF,aAA/B;;AACA,YAAItF,QAAQW,IAAZ,EAAkB;AAChBmD,iBAAOnD,IAAP,CAAYX,QAAQW,IAApB,EAA0BX,QAAQuE,MAAlC;AACD;;AACD,YAAIvE,QAAQ+E,OAAZ,EAAqB;AACnBjB,iBAAOiB,OAAP,CAAe/E,QAAQ+E,OAAvB;AACD;;AACD,YAAI/E,QAAQ8E,KAAZ,EAAmB;AACjB,eAAKjB,MAAL,CAAYC,MAAZ,EAAoBf,QAApB;AACD;;AACD,YAAI/C,QAAQiD,SAAR,KAAsBxJ,SAA1B,EAAqC;AACnCP,kBAAQ+I,SAAR,CAAkBsD,IAAlB,CAAuBtC,SAAvB,GAAmCjD,QAAQiD,SAA3C;AACD;;AACD/J,gBAAQ+I,SAAR,CAAkBsD,IAAlB,CAAuBJ,WAAvB,GAAqCnF,QAAQkF,cAA7C;;AAEA,iBAASM,IAAT,CAAcvB,QAAd,EAAwB;AACtB,cAAIlB,SAASyC,IAAb,EAAmB;AACjBzC,qBAASyC,IAAT,CAAcvB,QAAd,EAAwB7J,EAAxB;AACD,WAFD,MAEO;AACLA,kBAAMA,GAAG6J,QAAH,CAAN;AACD;AACF;;AAED,eAAOH,OAAO/D,GAAP,CAAWyF,IAAX,CAAP;AACD,OApCD;AAsCC,KAzeD,EAyeGrM,IAzeH,CAyeQ,IAzeR,EAyeaP,QAAQ,UAAR,CAzeb,EAyeiC,OAAO4E,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAO/C,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOoD,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAzexJ,EAye2J,MAze3J;AA0eC,GA3eyE,EA2exE;AAAC,iBAAY,CAAb;AAAe,cAAS,CAAxB;AAA0B,oBAAe,EAAzC;AAA4C,mBAAc,EAA1D;AAA6D,kBAAa,EAA1E;AAA6E,gBAAW,EAAxF;AAA2F,eAAU,EAArG;AAAwG,cAAS,EAAjH;AAAoH,eAAU,EAA9H;AAAiI,gBAAW,EAA5I;AAA+I,4BAAuB,EAAtK;AAAyK,aAAQ,EAAjL;AAAoL,YAAO;AAA3L,GA3ewE,CA96BiX;AAy5CzP,MAAG,CAAC,UAASjF,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACtO;;OAIA,IAAIV,IAAI,IAAR;AACA,QAAIiN,IAAIjN,IAAI,EAAZ;AACA,QAAIkN,IAAID,IAAI,EAAZ;AACA,QAAIE,IAAID,IAAI,EAAZ;AACA,QAAIhJ,IAAIiJ,IAAI,MAAZ,CATsO,CAWtO;;;;;;;;;;;;;AAYAtM,WAAOH,OAAP,GAAiB,UAASe,GAAT,EAAc+F,OAAd,EAAuB;AACtCA,gBAAUA,WAAW,EAArB;;AACA,UAAI,OAAO/F,GAAP,KAAe,QAAnB,EAA6B;AAC3B,eAAO2L,MAAM3L,GAAN,CAAP;AACD,OAJqC,CAKtC;;;AACA,aAAO+F,QAAQ,MAAR,IAAkB6F,WAAW5L,GAAX,CAAlB,GAAoC6L,YAAY7L,GAAZ,CAA3C;AACD,KAPD,CAvBsO,CAgCtO;;;;;;;;AAOA,aAAS2L,KAAT,CAAeG,GAAf,EAAoB;AAClB,UAAIC,QAAS,4EAAD,CAA+EC,IAA/E,CAAoFF,GAApF,CAAZ;;AACA,UAAI,CAACC,KAAL,EAAY;AACV;AACD;;AACD,UAAI1N,IAAI4N,WAAWF,MAAM,CAAN,CAAX,CAAR;AACA,UAAItM,OAAO,CAACsM,MAAM,CAAN,KAAY,IAAb,EAAmBG,WAAnB,EAAX;;AACA,cAAQzM,IAAR;AACE,aAAK,OAAL;AACA,aAAK,MAAL;AACA,aAAK,GAAL;AACE,iBAAOpB,IAAIoE,CAAX;;AACF,aAAK,MAAL;AACA,aAAK,KAAL;AACA,aAAK,GAAL;AACE,iBAAOpE,IAAIqN,CAAX;;AACF,aAAK,OAAL;AACA,aAAK,MAAL;AACA,aAAK,GAAL;AACE,iBAAOrN,IAAIoN,CAAX;;AACF,aAAK,SAAL;AACA,aAAK,QAAL;AACA,aAAK,GAAL;AACE,iBAAOpN,IAAImN,CAAX;;AACF,aAAK,SAAL;AACA,aAAK,QAAL;AACA,aAAK,GAAL;AACE,iBAAOnN,IAAIE,CAAX;;AACF,aAAK,IAAL;AACE,iBAAOF,CAAP;;AACF,gBAvBF,CAwBI;AAxBJ;AA0BD,KAxEqO,CA0EtO;;;;;;;;AAOA,aAASwN,WAAT,CAAqB3H,EAArB,EAAyB;AACvB,UAAIA,MAAMwH,CAAV,EAAa;AACX,eAAOrJ,KAAK8J,KAAL,CAAWjI,KAAKwH,CAAhB,IAAqB,GAA5B;AACD;;AACD,UAAIxH,MAAMuH,CAAV,EAAa;AACX,eAAOpJ,KAAK8J,KAAL,CAAWjI,KAAKuH,CAAhB,IAAqB,GAA5B;AACD;;AACD,UAAIvH,MAAMsH,CAAV,EAAa;AACX,eAAOnJ,KAAK8J,KAAL,CAAWjI,KAAKsH,CAAhB,IAAqB,GAA5B;AACD;;AACD,UAAItH,MAAM3F,CAAV,EAAa;AACX,eAAO8D,KAAK8J,KAAL,CAAWjI,KAAK3F,CAAhB,IAAqB,GAA5B;AACD;;AACD,aAAO2F,KAAK,IAAZ;AACD,KA/FqO,CAiGtO;;;;;;;;AAOA,aAAS0H,UAAT,CAAoB1H,EAApB,EAAwB;AACtB,aAAOkI,OAAOlI,EAAP,EAAWwH,CAAX,EAAc,KAAd,KACFU,OAAOlI,EAAP,EAAWuH,CAAX,EAAc,MAAd,CADE,IAEFW,OAAOlI,EAAP,EAAWsH,CAAX,EAAc,QAAd,CAFE,IAGFY,OAAOlI,EAAP,EAAW3F,CAAX,EAAc,QAAd,CAHE,IAIF2F,KAAK,KAJV;AAKD,KA9GqO,CAgHtO;;;;;;;;;AAQA,aAASkI,MAAT,CAAgBlI,EAAhB,EAAoB7F,CAApB,EAAuB6B,IAAvB,EAA6B;AAC3B,UAAIgE,KAAK7F,CAAT,EAAY;AACV;AACD;;AACD,UAAI6F,KAAK7F,IAAI,GAAb,EAAkB;AAChB,eAAOgE,KAAKgK,KAAL,CAAWnI,KAAK7F,CAAhB,IAAqB,GAArB,GAA2B6B,IAAlC;AACD;;AACD,aAAOmC,KAAKiK,IAAL,CAAUpI,KAAK7F,CAAf,IAAoB,GAApB,GAA0B6B,IAA1B,GAAiC,GAAxC;AACD;AAEA,GAlIoM,EAkInM,EAlImM,CAz5CsP;AA2hDrb,MAAG,CAAC,UAASvB,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAE1C;;OAIAG,OAAOH,OAAP,GAAiBsN,OAAjB,CAN0C,CAQ1C;;;;;;AAKA,aAASA,OAAT,CAAiBpD,OAAjB,EAA0B;AACxB,WAAKA,OAAL,GAAeA,OAAf;AACD;AAEA,GAjBQ,EAiBP,EAjBO,CA3hDkb;AA4iDrb,MAAG,CAAC,UAASxK,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1C,KAAC,UAAUI,OAAV,EAAkBkE,MAAlB,EAAyB;AAC1B;;SAIA,IAAIiJ,MAAM7N,QAAQ,KAAR,CAAV;;AACA,UAAI8N,OAAO9N,QAAQ,MAAR,CAAX;;AACA,UAAIuF,KAAKvF,QAAQ,OAAR,CAAT;;AACA,UAAIsJ,QAAQtJ,QAAQ,UAAR,CAAZ;;AACA,UAAI+N,gBAAgBrN,QAAQ8I,OAAR,GAAkB,IAAlB,GAAyBxJ,QAAQ,gBAAR,CAA7C,CAT0B,CAW1B;;;AAIAM,gBAAUG,OAAOH,OAAP,GAAiBqM,IAA3B,CAf0B,CAiB1B;;;0CAjB0B,CAsB1B;AACA,UAAIqB,OAAOpJ,OAAOoJ,IAAlB;AACA,UAAIC,aAAarJ,OAAOqJ,UAAxB;AACA,UAAIC,cAActJ,OAAOsJ,WAAzB;AACA,UAAIC,eAAevJ,OAAOuJ,YAA1B;AACA,UAAIC,gBAAgBxJ,OAAOwJ,aAA3B,CA3B0B,CA4B1B,sDA5B0B,CA8B1B;;;AAIA,UAAIvJ,SAASgJ,IAAIhJ,MAAJ,CAAW,CAAX,KAAiBgJ,IAAIhJ,MAAJ,CAAW,CAAX,CAA9B,CAlC0B,CAoC1B;;;AAIAvE,cAAQ+J,SAAR,GAAoB,CAAC3J,QAAQ8I,OAAT,KAAqBuE,iBAAkBrN,QAAQC,GAAR,CAAY0N,YAAZ,KAA6BxN,SAApE,CAApB,CAxC0B,CA0C1B;;;AAIAP,cAAQiM,WAAR,GAAsB,KAAtB,CA9C0B,CAgD1B;;;AAIAjM,cAAQ+L,MAAR,GAAiB;AACfiC,cAAM,EADS;AAEfC,cAAM,EAFS;AAGf,uBAAe,EAHA;AAIf,uBAAe,EAJA;AAKf,yBAAiB,EALF;AAMf1G,iBAAS,EANM;AAOfpB,eAAO,CAPQ;AAQf,uBAAe,CARA;AASf,yBAAiB,EATF;AAUf,uBAAe,EAVA;AAWf+H,mBAAW,EAXI;AAYfC,cAAM,EAZS;AAafC,gBAAQ,EAbO;AAcfhJ,cAAM,EAdS;AAefiJ,eAAO,EAfQ;AAgBfC,eAAO,EAhBQ;AAiBf,uBAAe,EAjBA;AAkBf,sBAAc,EAlBC;AAmBf,wBAAgB;AAnBD,OAAjB,CApD0B,CA0E1B;;;AAIAtO,cAAQuO,OAAR,GAAkB;AAChBC,YAAI,GADY;AAEhBnK,aAAK,GAFW;AAGhBoK,aAAK;AAHW,OAAlB,CA9E0B,CAoF1B;;AACA,UAAIrO,QAAQsO,QAAR,KAAqB,OAAzB,EAAkC;AAChC1O,gBAAQuO,OAAR,CAAgBC,EAAhB,GAAqB,QAArB;AACAxO,gBAAQuO,OAAR,CAAgBlK,GAAhB,GAAsB,MAAtB;AACArE,gBAAQuO,OAAR,CAAgBE,GAAhB,GAAsB,GAAtB;AACD,OAzFyB,CA2F1B;;;;;;;;;;;;AAWA,UAAIE,QAAQ3O,QAAQ2O,KAAR,GAAgB,UAASnO,IAAT,EAAeqM,GAAf,EAAoB;AAC9C,YAAI,CAAC7M,QAAQ+J,SAAb,EAAwB;AACtB,iBAAO6E,OAAO/B,GAAP,CAAP;AACD;;AACD,eAAO,UAAY7M,QAAQ+L,MAAR,CAAevL,IAAf,CAAZ,GAAmC,GAAnC,GAAyCqM,GAAzC,GAA+C,SAAtD;AACD,OALD,CAtG0B,CA6G1B;;;;AAIA7M,cAAQ2E,MAAR,GAAiB;AACfR,eAAO;AADQ,OAAjB;;AAIA,UAAII,MAAJ,EAAY;AACVvE,gBAAQ2E,MAAR,CAAeR,KAAf,GAAuB/D,QAAQyO,MAAR,CAAerK,aAAf,GACjBpE,QAAQyO,MAAR,CAAerK,aAAf,CAA6B,CAA7B,EAAgC,CAAhC,CADiB,GAEjB+I,IAAI/I,aAAJ,GAAoB,CAApB,CAFN;AAGD,OAzHyB,CA2H1B;;;;AAIAxE,cAAQ8O,MAAR,GAAiB;AACfC,cAAM,YAAW;AACfxK,oBAAUnE,QAAQyO,MAAR,CAAeG,KAAf,CAAqB,WAArB,CAAV;AACD,SAHc;AAKfC,cAAM,YAAW;AACf1K,oBAAUnE,QAAQyO,MAAR,CAAeG,KAAf,CAAqB,WAArB,CAAV;AACD,SAPc;AASfE,oBAAY,YAAW;AACrB3K,oBAAUnE,QAAQyO,MAAR,CAAeG,KAAf,CAAqB,SAArB,CAAV;AACD,SAXc;AAafG,yBAAiB,YAAW;AAC1B5K,oBAAUnE,QAAQyO,MAAR,CAAeG,KAAf,CAAqB,SAArB,CAAV;AACD,SAfc;AAiBfI,YAAI,YAAW;AACb,cAAI7K,MAAJ,EAAY;AACVvE,oBAAQ8O,MAAR,CAAeI,UAAf;AACAlP,oBAAQ8O,MAAR,CAAeK,eAAf;AACD,WAHD,MAGO;AACL/O,oBAAQyO,MAAR,CAAeG,KAAf,CAAqB,IAArB;AACD;AACF;AAxBc,OAAjB,CA/H0B,CA0J1B;;;;;;;AAOAhP,cAAQ4B,IAAR,GAAe,UAASmJ,QAAT,EAAmB;AAChCX,gBAAQiF,GAAR;AACAtE,iBAASN,OAAT,CAAiB,UAAS1F,IAAT,EAAepF,CAAf,EAAkB;AACjC;AACA,cAAI2P,MAAMX,MAAM,aAAN,EAAqB,aAArB,IACNA,MAAM,eAAN,EAAuB,SAAvB,CADM,GAENA,MAAM,aAAN,EAAqB,QAArB,CAFJ,CAFiC,CAMjC;;AACA,cAAI3D,GAAJ;AACA,cAAI3G,MAAMU,KAAKV,GAAf;AACA,cAAI6F,OAAJ;;AACA,cAAI7F,IAAI6F,OAAR,EAAiB;AACfA,sBAAU7F,IAAI6F,OAAd;AACD,WAFD,MAEO,IAAI,OAAO7F,IAAIiB,OAAX,KAAuB,UAA3B,EAAuC;AAC5C4E,sBAAU7F,IAAIiB,OAAJ,KAAgB,EAA1B;AACD,WAFM,MAEA;AACL4E,sBAAU,EAAV;AACD;;AACD,cAAII,QAAQjG,IAAIiG,KAAJ,IAAaJ,OAAzB;AACA,cAAIqF,QAAQjF,MAAMH,OAAN,CAAcD,OAAd,CAAZ;AACA,cAAIsF,SAASnL,IAAImL,MAAjB;AACA,cAAIC,WAAWpL,IAAIoL,QAAnB;AACA,cAAIC,SAAS,IAAb;;AAEA,cAAIH,UAAU,CAAC,CAAf,EAAkB;AAChBvE,kBAAMd,OAAN;AACD,WAFD,MAEO;AACLqF,qBAASrF,QAAQhK,MAAjB;AACA8K,kBAAMV,MAAMjI,KAAN,CAAY,CAAZ,EAAekN,KAAf,CAAN,CAFK,CAGL;;AACAjF,oBAAQA,MAAMjI,KAAN,CAAYkN,QAAQ,CAApB,CAAR;AACD,WA9BgC,CAgCjC;;;AACA,cAAIlL,IAAIsL,QAAR,EAAkB;AAChB3E,kBAAM,cAAcA,GAApB;AACD,WAnCgC,CAoCjC;;;AACA,cAAI3G,IAAIuL,QAAJ,KAAiB,KAAjB,IAA0BC,SAASL,MAAT,EAAiBC,QAAjB,CAA1B,IAAwDA,aAAalP,SAAzE,EAAoF;AAClFmP,qBAAS,KAAT;;AACA,gBAAI,EAAE1G,MAAM8G,QAAN,CAAeN,MAAf,KAA0BxG,MAAM8G,QAAN,CAAeL,QAAf,CAA5B,CAAJ,EAA2D;AACzDpL,kBAAImL,MAAJ,GAAaA,SAASxG,MAAMxD,SAAN,CAAgBgK,MAAhB,CAAtB;AACAnL,kBAAIoL,QAAJ,GAAeA,WAAWzG,MAAMxD,SAAN,CAAgBiK,QAAhB,CAA1B;AACD;;AAEDH,kBAAMX,MAAM,aAAN,EAAqB,eAArB,IAAwCA,MAAM,aAAN,EAAqB,QAArB,CAA9C;AACA,gBAAI7B,QAAQ5C,QAAQ4C,KAAR,CAAc,oBAAd,CAAZ;AACA9B,kBAAM,aAAa2D,MAAM,eAAN,EAAuB7B,QAAQA,MAAM,CAAN,CAAR,GAAmB9B,GAA1C,CAAnB;;AAEA,gBAAIhL,QAAQiM,WAAZ,EAAyB;AACvBjB,qBAAO+E,WAAW1L,GAAX,EAAgBqL,MAAhB,CAAP;AACD,aAFD,MAEO;AACL1E,qBAAOgF,YAAY3L,GAAZ,EAAiBqL,MAAjB,CAAP;AACD;AACF,WArDgC,CAuDjC;;;AACApF,kBAAQA,MAAM2F,OAAN,CAAc,KAAd,EAAqB,IAArB,CAAR;AAEA7F,kBAAQiF,GAAR,CAAYC,GAAZ,EAAkB3P,IAAI,CAAtB,EAA0BoF,KAAK2C,SAAL,EAA1B,EAA4CsD,GAA5C,EAAiDV,KAAjD;AACD,SA3DD;AA4DD,OA9DD,CAjK0B,CAiO1B;;;;;;;;;;;;AAYA,eAAS+B,IAAT,CAAczB,MAAd,EAAsB;AACpB,YAAIE,QAAQ,KAAKA,KAAL,GAAa;AAAE1E,kBAAQ,CAAV;AAAa8J,iBAAO,CAApB;AAAuBhF,kBAAQ,CAA/B;AAAkC3D,mBAAS,CAA3C;AAA8CwD,oBAAU;AAAxD,SAAzB;AACA,YAAIA,WAAW,KAAKA,QAAL,GAAgB,EAA/B;;AAEA,YAAI,CAACH,MAAL,EAAa;AACX;AACD;;AACD,aAAKA,MAAL,GAAcA,MAAd;AAEAA,eAAOE,KAAP,GAAeA,KAAf;AAEAF,eAAO5J,EAAP,CAAU,OAAV,EAAmB,YAAW;AAC5B8J,gBAAMqF,KAAN,GAAc,IAAIzC,IAAJ,EAAd;AACD,SAFD;AAIA9C,eAAO5J,EAAP,CAAU,OAAV,EAAmB,UAASmF,KAAT,EAAgB;AACjC2E,gBAAM1E,MAAN,GAAe0E,MAAM1E,MAAN,IAAgB,CAA/B;AACAD,gBAAMiK,IAAN,IAActF,MAAM1E,MAAN,EAAd;AACD,SAHD;AAKAwE,eAAO5J,EAAP,CAAU,UAAV,EAAsB,YAAW;AAC/B8J,gBAAMoF,KAAN,GAAcpF,MAAMoF,KAAN,IAAe,CAA7B;AACApF,gBAAMoF,KAAN;AACD,SAHD;AAKAtF,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/B+F,gBAAMI,MAAN,GAAeJ,MAAMI,MAAN,IAAgB,CAA/B;;AAEA,cAAInG,KAAKoG,QAAL,GAAgBpG,KAAKK,IAAL,EAApB,EAAiC;AAC/BL,iBAAKsL,KAAL,GAAa,MAAb;AACD,WAFD,MAEO,IAAItL,KAAKoG,QAAL,GAAgBpG,KAAKK,IAAL,KAAc,CAAlC,EAAqC;AAC1CL,iBAAKsL,KAAL,GAAa,QAAb;AACD,WAFM,MAEA;AACLtL,iBAAKsL,KAAL,GAAa,MAAb;AACD;;AAEDvF,gBAAMI,MAAN;AACD,SAZD;AAcAN,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAeV,GAAf,EAAoB;AACpCyG,gBAAMC,QAAN,GAAiBD,MAAMC,QAAN,IAAkB,CAAnC;AACAD,gBAAMC,QAAN;AACAhG,eAAKV,GAAL,GAAWA,GAAX;AACA0G,mBAAS3J,IAAT,CAAc2D,IAAd;AACD,SALD;AAOA6F,eAAO5J,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1B8J,gBAAMwF,GAAN,GAAY,IAAI5C,IAAJ,EAAZ;AACA5C,gBAAMK,QAAN,GAAiB,IAAIuC,IAAJ,KAAa5C,MAAMqF,KAApC;AACD,SAHD;AAKAvF,eAAO5J,EAAP,CAAU,SAAV,EAAqB,YAAW;AAC9B8J,gBAAMvD,OAAN;AACD,SAFD;AAGD,OAnSyB,CAqS1B;;;;;;;AAMA8E,WAAKzL,SAAL,CAAe2P,QAAf,GAA0B,YAAW;AACnC,YAAIzF,QAAQ,KAAKA,KAAjB;AACA,YAAIwE,GAAJ;AAEAlF,gBAAQiF,GAAR,GAJmC,CAMnC;;AACAC,cAAMX,MAAM,aAAN,EAAqB,GAArB,IACFA,MAAM,OAAN,EAAe,aAAf,CADE,GAEFA,MAAM,OAAN,EAAe,OAAf,CAFJ;AAIAvE,gBAAQiF,GAAR,CAAYC,GAAZ,EACExE,MAAMI,MAAN,IAAgB,CADlB,EAEEjG,GAAG6F,MAAMK,QAAT,CAFF,EAXmC,CAenC;;AACA,YAAIL,MAAMvD,OAAV,EAAmB;AACjB+H,gBAAMX,MAAM,SAAN,EAAiB,GAAjB,IACFA,MAAM,SAAN,EAAiB,aAAjB,CADJ;AAGAvE,kBAAQiF,GAAR,CAAYC,GAAZ,EAAiBxE,MAAMvD,OAAvB;AACD,SArBkC,CAuBnC;;;AACA,YAAIuD,MAAMC,QAAV,EAAoB;AAClBuE,gBAAMX,MAAM,MAAN,EAAc,cAAd,CAAN;AAEAvE,kBAAQiF,GAAR,CAAYC,GAAZ,EAAiBxE,MAAMC,QAAvB;AAEAsB,eAAKzK,IAAL,CAAU,KAAKmJ,QAAf;AACAX,kBAAQiF,GAAR;AACD;;AAEDjF,gBAAQiF,GAAR;AACD,OAlCD,CA3S0B,CA+U1B;;;;;;;;;AAQA,eAASmB,GAAT,CAAa3D,GAAb,EAAkB4D,GAAlB,EAAuB;AACrB5D,cAAM+B,OAAO/B,GAAP,CAAN;AACA,eAAOzK,MAAMqO,MAAM5D,IAAI3M,MAAV,GAAmB,CAAzB,EAA4BmJ,IAA5B,CAAiC,GAAjC,IAAwCwD,GAA/C;AACD,OA1VyB,CA4V1B;;;;;;;;;AAQA,eAASkD,UAAT,CAAoB1L,GAApB,EAAyBqL,MAAzB,EAAiC;AAC/B,YAAI1E,MAAM0F,UAAUrM,GAAV,EAAe,gBAAf,EAAiCqL,MAAjC,CAAV,CAD+B,CAG/B;;AACA,YAAIiB,QAAQ3F,IAAI4F,KAAJ,CAAU,IAAV,CAAZ;;AACA,YAAID,MAAMzQ,MAAN,GAAe,CAAnB,EAAsB;AACpB,cAAIiE,QAAQyK,OAAO+B,MAAMzQ,MAAb,EAAqBA,MAAjC;AACA8K,gBAAM2F,MAAME,GAAN,CAAU,UAAShE,GAAT,EAAclN,CAAd,EAAiB;AAC/B,mBAAO6Q,IAAI,EAAE7Q,CAAN,EAASwE,KAAT,IAAkB,IAAlB,GAAyB,GAAzB,GAA+B0I,GAAtC;AACD,WAFK,EAEHxD,IAFG,CAEE,IAFF,CAAN;AAGD,SAV8B,CAY/B;;;AACA2B,cAAM,OACF2D,MAAM,cAAN,EAAsB,QAAtB,CADE,GAEF,GAFE,GAGFA,MAAM,YAAN,EAAoB,UAApB,CAHE,GAIF,MAJE,GAKF3D,GALE,GAMF,IANJ,CAb+B,CAqB/B;;AACAA,cAAMA,IAAIiF,OAAJ,CAAY,KAAZ,EAAmB,QAAnB,CAAN;AACA,eAAOjF,GAAP;AACD,OA5XyB,CA8X1B;;;;;;;;;AAQA,eAASgF,WAAT,CAAqB3L,GAArB,EAA0BqL,MAA1B,EAAkC;AAChC,YAAIoB,SAAS,QAAb;;AACA,iBAASC,OAAT,CAAiBC,IAAjB,EAAuB;AACrB,cAAItB,MAAJ,EAAY;AACVsB,mBAAOC,iBAAiBD,IAAjB,CAAP;AACD;;AACD,cAAIA,KAAK,CAAL,MAAY,GAAhB,EAAqB;AACnB,mBAAOF,SAASI,WAAW,YAAX,EAAyBF,IAAzB,CAAhB;AACD;;AACD,cAAIA,KAAK,CAAL,MAAY,GAAhB,EAAqB;AACnB,mBAAOF,SAASI,WAAW,cAAX,EAA2BF,IAA3B,CAAhB;AACD;;AACD,cAAIA,KAAKlE,KAAL,CAAW,MAAX,CAAJ,EAAwB;AACtB,mBAAO,IAAP;AACD;;AACD,cAAIkE,KAAKlE,KAAL,CAAW,eAAX,CAAJ,EAAiC;AAC/B,mBAAO,IAAP;AACD;;AACD,iBAAOgE,SAASE,IAAhB;AACD;;AACD,iBAASG,QAAT,CAAkBH,IAAlB,EAAwB;AACtB,iBAAO,OAAOA,IAAP,KAAgB,WAAhB,IAA+BA,SAAS,IAA/C;AACD;;AACD,YAAIhG,MAAMwC,KAAK4D,WAAL,CAAiB,QAAjB,EAA2B/M,IAAImL,MAA/B,EAAuCnL,IAAIoL,QAA3C,CAAV;AACA,YAAIkB,QAAQ3F,IAAI4F,KAAJ,CAAU,IAAV,EAAgB9O,MAAhB,CAAuB,CAAvB,CAAZ;AACA,eAAO,aACHoP,WAAW,YAAX,EAAyB,YAAzB,CADG,GACsC,GADtC,GAEHA,WAAW,cAAX,EAA2B,UAA3B,CAFG,GAGH,MAHG,GAIHP,MAAME,GAAN,CAAUE,OAAV,EAAmBM,MAAnB,CAA0BF,QAA1B,EAAoC9H,IAApC,CAAyC,IAAzC,CAJJ;AAKD,OApayB,CAsa1B;;;;;;;;;;AASA,eAASqH,SAAT,CAAmBrM,GAAnB,EAAwB7D,IAAxB,EAA8BkP,MAA9B,EAAsC;AACpC,YAAIF,SAASE,SAASuB,iBAAiB5M,IAAImL,MAArB,CAAT,GAAwCnL,IAAImL,MAAzD;AACA,YAAIC,WAAWC,SAASuB,iBAAiB5M,IAAIoL,QAArB,CAAT,GAA0CpL,IAAIoL,QAA7D;AACA,eAAOjC,KAAK,SAAShN,IAAd,EAAoBgP,MAApB,EAA4BC,QAA5B,EAAsCoB,GAAtC,CAA0C,UAAShE,GAAT,EAAc;AAC7D,cAAIA,IAAIyE,KAAR,EAAe;AACb,mBAAOJ,WAAW,YAAX,EAAyBrE,IAAI0E,KAA7B,CAAP;AACD;;AACD,cAAI1E,IAAI2E,OAAR,EAAiB;AACf,mBAAON,WAAW,cAAX,EAA2BrE,IAAI0E,KAA/B,CAAP;AACD;;AACD,iBAAO1E,IAAI0E,KAAX;AACD,SARM,EAQJlI,IARI,CAQC,EARD,CAAP;AASD,OA3byB,CA6b1B;;;;;;;;AAOA,eAAS4H,gBAAT,CAA0BD,IAA1B,EAAgC;AAC9B,eAAOA,KAAKf,OAAL,CAAa,KAAb,EAAoB,OAApB,EACJA,OADI,CACI,KADJ,EACW,MADX,EAEJA,OAFI,CAEI,KAFJ,EAEW,QAFX,CAAP;AAGD,OAxcyB,CA0c1B;;;;;;;;;AAQA,eAASiB,UAAT,CAAoBjQ,IAApB,EAA0B4L,GAA1B,EAA+B;AAC7B,eAAOA,IAAI+D,KAAJ,CAAU,IAAV,EAAgBC,GAAhB,CAAoB,UAAShE,GAAT,EAAc;AACvC,iBAAO8B,MAAM1N,IAAN,EAAY4L,GAAZ,CAAP;AACD,SAFM,EAEJxD,IAFI,CAEC,IAFD,CAAP;AAGD,OAtdyB,CAwd1B;;;;AAGA,UAAI3I,cAAcC,OAAOC,SAAP,CAAiBC,QAAnC,CA3d0B,CA6d1B;;;;;;;;;AAQA,eAASgP,QAAT,CAAkBpQ,CAAlB,EAAqBgS,CAArB,EAAwB;AACtB,eAAO/Q,YAAYT,IAAZ,CAAiBR,CAAjB,MAAwBiB,YAAYT,IAAZ,CAAiBwR,CAAjB,CAA/B;AACD;AAEA,KAzeD,EAyeGxR,IAzeH,CAyeQ,IAzeR,EAyeaP,QAAQ,UAAR,CAzeb,EAyeiC,OAAO4E,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAO/C,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOoD,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAzexJ;AA0eC,GA3eQ,EA2eP;AAAC,aAAQ,EAAT;AAAY,gBAAW,EAAvB;AAA0B,gBAAW,EAArC;AAAwC,YAAO,EAA/C;AAAkD,sBAAiB,EAAnE;AAAsE,WAAM;AAA5E,GA3eO,CA5iDkb;AAuhEzW,MAAG,CAAC,UAASjF,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACtH;;OAIA,IAAIqM,OAAO3M,QAAQ,QAAR,CAAX;;AACA,QAAIsJ,QAAQtJ,QAAQ,UAAR,CAAZ,CANsH,CAQtH;;;;AAIAM,cAAUG,OAAOH,OAAP,GAAiB0R,GAA3B,CAZsH,CActH;;;;;;;AAMA,aAASA,GAAT,CAAa9G,MAAb,EAAqB;AACnByB,WAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEA,UAAI+G,UAAU,CAAd;;AAEA,eAASb,MAAT,GAAkB;AAChB,eAAO1O,MAAMuP,OAAN,EAAetI,IAAf,CAAoB,IAApB,CAAP;AACD;;AAEDuB,aAAO5J,EAAP,CAAU,OAAV,EAAmB,UAASmF,KAAT,EAAgB;AACjC,YAAIA,MAAMiK,IAAV,EAAgB;AACd;AACD;;AACD,UAAEuB,OAAF;AACAvH,gBAAQiF,GAAR,CAAY,2BAAZ,EAAyCyB,QAAzC;AACA,UAAEa,OAAF;AACAvH,gBAAQiF,GAAR,CAAY,eAAZ,EAA6ByB,QAA7B,EAAuC9H,MAAM0G,MAAN,CAAavJ,MAAMN,KAAnB,CAAvC;AACAuE,gBAAQiF,GAAR,CAAY,QAAZ,EAAsByB,QAAtB;AACD,OATD;AAWAlG,aAAO5J,EAAP,CAAU,WAAV,EAAuB,UAASmF,KAAT,EAAgB;AACrC,YAAIA,MAAMiK,IAAV,EAAgB;AACd;AACD;;AACDhG,gBAAQiF,GAAR,CAAY,SAAZ,EAAuByB,QAAvB;AACA,UAAEa,OAAF;AACAvH,gBAAQiF,GAAR,CAAY,cAAZ,EAA4ByB,QAA5B;AACA,UAAEa,OAAF;AACD,OARD;AAUA/G,aAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/BqF,gBAAQiF,GAAR,CAAY,iBAAZ,EAA+ByB,QAA/B,EAAyC9H,MAAM0G,MAAN,CAAa3K,KAAKc,KAAlB,CAAzC;AACA,YAAI/F,OAAOkJ,MAAM0G,MAAN,CAAa1G,MAAM4I,KAAN,CAAY7M,KAAK7D,EAAL,CAAQL,QAAR,EAAZ,CAAb,CAAX;AACAuJ,gBAAQiF,GAAR,CAAY,yCAAZ,EAAuDyB,QAAvD,EAAiEhR,IAAjE;AACD,OAJD;AAMA8K,aAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAeV,GAAf,EAAoB;AACpC+F,gBAAQiF,GAAR,CAAY,+BAAZ,EAA6CyB,QAA7C,EAAuD9H,MAAM0G,MAAN,CAAa3K,KAAKc,KAAlB,CAAvD;AACA,YAAI/F,OAAOkJ,MAAM0G,MAAN,CAAa1G,MAAM4I,KAAN,CAAY7M,KAAK7D,EAAL,CAAQL,QAAR,EAAZ,CAAb,CAAX;AACAuJ,gBAAQiF,GAAR,CAAY,uDAAZ,EAAqEyB,QAArE,EAA+EhR,IAA/E;AACAsK,gBAAQiF,GAAR,CAAY,+BAAZ,EAA6CyB,QAA7C,EAAuD9H,MAAM0G,MAAN,CAAarL,GAAb,CAAvD;AACD,OALD;AAMD;AAEA,GAhEoF,EAgEnF;AAAC,gBAAW,EAAZ;AAAe,cAAS;AAAxB,GAhEmF,CAvhEsW;AAulE5Z,MAAG,CAAC,UAAS3E,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACnE,KAAC,UAAUI,OAAV,EAAkB;AACnB;;SAIA,IAAIiM,OAAO3M,QAAQ,QAAR,CAAX;;AACA,UAAIiG,WAAWjG,QAAQ,UAAR,EAAoBiG,QAAnC;;AACA,UAAIgJ,QAAQtC,KAAKsC,KAAjB,CAPmB,CASnB;;;AAIA3O,gBAAUG,OAAOH,OAAP,GAAiB6R,GAA3B,CAbmB,CAenB;;;;;;;AAMA,eAASA,GAAT,CAAajH,MAAb,EAAqB;AACnByB,aAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEA,YAAIrJ,OAAO,IAAX;AACA,YAAI4C,QAAQkI,KAAK1H,MAAL,CAAYR,KAAZ,GAAoB,GAApB,GAA0B,CAAtC;AACA,YAAI/E,IAAI,CAAC,CAAT;AAEAwL,eAAO5J,EAAP,CAAU,OAAV,EAAmB,YAAW;AAC5BZ,kBAAQyO,MAAR,CAAeG,KAAf,CAAqB,IAArB;AACD,SAFD;AAIApE,eAAO5J,EAAP,CAAU,SAAV,EAAqB,YAAW;AAC9B,cAAI,EAAE5B,CAAF,GAAM+E,KAAN,KAAgB,CAApB,EAAuB;AACrB/D,oBAAQyO,MAAR,CAAeG,KAAf,CAAqB,MAArB;AACD;;AACD5O,kBAAQyO,MAAR,CAAeG,KAAf,CAAqBL,MAAM,SAAN,EAAiBtC,KAAKkC,OAAL,CAAaE,GAA9B,CAArB;AACD,SALD;AAOA7D,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/B,cAAI,EAAE3F,CAAF,GAAM+E,KAAN,KAAgB,CAApB,EAAuB;AACrB/D,oBAAQyO,MAAR,CAAeG,KAAf,CAAqB,MAArB;AACD;;AACD,cAAIjK,KAAKsL,KAAL,KAAe,MAAnB,EAA2B;AACzBjQ,oBAAQyO,MAAR,CAAeG,KAAf,CAAqBL,MAAM,eAAN,EAAuBtC,KAAKkC,OAAL,CAAaE,GAApC,CAArB;AACD,WAFD,MAEO;AACLrO,oBAAQyO,MAAR,CAAeG,KAAf,CAAqBL,MAAM5J,KAAKsL,KAAX,EAAkBhE,KAAKkC,OAAL,CAAaE,GAA/B,CAArB;AACD;AACF,SATD;AAWA7D,eAAO5J,EAAP,CAAU,MAAV,EAAkB,YAAW;AAC3B,cAAI,EAAE5B,CAAF,GAAM+E,KAAN,KAAgB,CAApB,EAAuB;AACrB/D,oBAAQyO,MAAR,CAAeG,KAAf,CAAqB,MAArB;AACD;;AACD5O,kBAAQyO,MAAR,CAAeG,KAAf,CAAqBL,MAAM,MAAN,EAActC,KAAKkC,OAAL,CAAaE,GAA3B,CAArB;AACD,SALD;AAOA7D,eAAO5J,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1BoJ,kBAAQiF,GAAR;AACA9N,eAAKgP,QAAL;AACD,SAHD;AAID,OA7DkB,CA+DnB;;;;AAGA5K,eAASkM,GAAT,EAAcxF,IAAd;AAEC,KApED,EAoEGpM,IApEH,CAoEQ,IApER,EAoEaP,QAAQ,UAAR,CApEb;AAqEC,GAtEiC,EAsEhC;AAAC,gBAAW,EAAZ;AAAe,cAAS,EAAxB;AAA2B,gBAAW;AAAtC,GAtEgC,CAvlEyZ;AA6pE9Y,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACjF,KAAC,UAAUI,OAAV,EAAkByI,SAAlB,EAA4B;AAC7B;;SAIA,IAAIiJ,UAAUpS,QAAQ,YAAR,CAAd;;AACA,UAAIqS,eAAerS,QAAQ,IAAR,EAAcqS,YAAjC;;AACA,UAAI1I,OAAO3J,QAAQ,MAAR,EAAgB2J,IAA3B,CAP6B,CAS7B;;;;AAIArJ,gBAAUG,OAAOH,OAAP,GAAiBgS,OAA3B,CAb6B,CAe7B;;;;;;;AAMA,eAASA,OAAT,CAAiBpH,MAAjB,EAAyB;AACvB,YAAIqH,OAAOvS,QAAQ,MAAR,CAAX;;AACA,YAAI4G,OAAO+C,KAAKR,SAAL,EAAgB,0BAAhB,CAAX;AACA,YAAIgE,MAAMkF,aAAazL,IAAb,EAAmB,MAAnB,CAAV;AACA,YAAIpF,KAAK+Q,KAAKC,OAAL,CAAarF,GAAb,EAAkB;AAAEsF,oBAAU7L;AAAZ,SAAlB,CAAT;AACA,YAAI/E,OAAO,IAAX;AAEAuQ,gBAAQ7R,IAAR,CAAa,IAAb,EAAmB2K,MAAnB,EAA2B,KAA3B;AAEAA,eAAO5J,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1BZ,kBAAQyO,MAAR,CAAeG,KAAf,CAAqB9N,GAAG;AACtBkR,iBAAK7Q,KAAK6Q,GADY;AAEtBC,2BAAeA;AAFO,WAAH,CAArB;AAID,SALD;AAMD,OApC4B,CAsC7B;;;;;;;;AAOA,eAASA,aAAT,CAAuBC,YAAvB,EAAqC;AACnC,YAAIA,gBAAgB,EAApB,EAAwB;AACtB,iBAAO,MAAP;AACD;;AACD,YAAIA,gBAAgB,EAApB,EAAwB;AACtB,iBAAO,QAAP;AACD;;AACD,YAAIA,gBAAgB,EAApB,EAAwB;AACtB,iBAAO,KAAP;AACD;;AACD,eAAO,UAAP;AACD;AAEA,KA1DD,EA0DGrS,IA1DH,CA0DQ,IA1DR,EA0DaP,QAAQ,UAAR,CA1Db,EA0DiC,gBA1DjC;AA2DC,GA5D+C,EA4D9C;AAAC,kBAAa,EAAd;AAAiB,gBAAW,EAA5B;AAA+B,UAAK,EAApC;AAAuC,YAAO,EAA9C;AAAiD,YAAO;AAAxD,GA5D8C,CA7pE2Y;AAytE5X,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACnG,KAAC,UAAUsE,MAAV,EAAiB;AAClB,8BADkB,CAGlB;;kCAIA,IAAI+H,OAAO3M,QAAQ,QAAR,CAAX;;AACA,UAAIsJ,QAAQtJ,QAAQ,UAAR,CAAZ;;AACA,UAAI4C,WAAW5C,QAAQ,qBAAR,CAAf;;AACA,UAAIwG,WAAWxG,QAAQ,sBAAR,CAAf;;AACA,UAAIgQ,SAAS1G,MAAM0G,MAAnB,CAXkB,CAalB;;oCAbkB,CAiBlB;AACA,UAAIhC,OAAOpJ,OAAOoJ,IAAlB;AACA,UAAIC,aAAarJ,OAAOqJ,UAAxB;AACA,UAAIC,cAActJ,OAAOsJ,WAAzB;AACA,UAAIC,eAAevJ,OAAOuJ,YAA1B;AACA,UAAIC,gBAAgBxJ,OAAOwJ,aAA3B,CAtBkB,CAuBlB,sDAvBkB,CAyBlB;;;AAIA9N,gBAAUG,OAAOH,OAAP,GAAiBuS,IAA3B,CA7BkB,CA+BlB;;;AAIA,UAAIC,gBAAgB,0BAChB,oEADgB,GAEhB,8EAFgB,GAGhB,kFAHgB,GAIhB,iDAJgB,GAKhB,OALJ,CAnCkB,CA0ClB;;;;;;;AAMA,eAASD,IAAT,CAAc3H,MAAd,EAAsB;AACpByB,aAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEA,YAAIrJ,OAAO,IAAX;AACA,YAAIuJ,QAAQ,KAAKA,KAAjB;AACA,YAAI2H,OAAOC,SAASF,aAAT,CAAX;AACA,YAAIG,QAAQF,KAAKG,oBAAL,CAA0B,IAA1B,CAAZ;AACA,YAAI1H,SAASyH,MAAM,CAAN,EAASC,oBAAT,CAA8B,IAA9B,EAAoC,CAApC,CAAb;AACA,YAAIC,aAAaF,MAAM,CAAN,EAASC,oBAAT,CAA8B,GAA9B,EAAmC,CAAnC,CAAjB;AACA,YAAI7H,WAAW4H,MAAM,CAAN,EAASC,oBAAT,CAA8B,IAA9B,EAAoC,CAApC,CAAf;AACA,YAAIE,eAAeH,MAAM,CAAN,EAASC,oBAAT,CAA8B,GAA9B,EAAmC,CAAnC,CAAnB;AACA,YAAIzH,WAAWwH,MAAM,CAAN,EAASC,oBAAT,CAA8B,IAA9B,EAAoC,CAApC,CAAf;AACA,YAAIG,SAASN,KAAKG,oBAAL,CAA0B,QAA1B,EAAoC,CAApC,CAAb;AACA,YAAII,SAASN,SAAS,6BAAT,CAAb;AACA,YAAIpI,QAAQ,CAAC0I,MAAD,CAAZ;AACA,YAAIC,QAAJ;AACA,YAAI9P,GAAJ;AACA,YAAIiN,OAAO8C,SAASC,cAAT,CAAwB,OAAxB,CAAX;;AAEA,YAAIJ,OAAOK,UAAX,EAAuB;AACrB,cAAIC,QAAQ1O,OAAO2O,gBAAP,IAA2B,CAAvC;AACAP,iBAAOQ,KAAP,CAAapP,KAAb,GAAqB4O,OAAO5O,KAA5B;AACA4O,iBAAOQ,KAAP,CAAaC,MAAb,GAAsBT,OAAOS,MAA7B;AACAT,iBAAO5O,KAAP,IAAgBkP,KAAhB;AACAN,iBAAOS,MAAP,IAAiBH,KAAjB;AACAlQ,gBAAM4P,OAAOK,UAAP,CAAkB,IAAlB,CAAN;AACAjQ,cAAIsQ,KAAJ,CAAUJ,KAAV,EAAiBA,KAAjB;AACAJ,qBAAW,IAAI3Q,QAAJ,EAAX;AACD;;AAED,YAAI,CAAC8N,IAAL,EAAW;AACT,iBAAOtK,MAAM,6CAAN,CAAP;AACD,SAhCmB,CAkCpB;;;AACA9E,WAAG6R,UAAH,EAAe,OAAf,EAAwB,YAAW;AACjCa;AACA,cAAIzS,OAAQ,MAAD,CAAS8D,IAAT,CAAciO,OAAOW,SAArB,IAAkC,EAAlC,GAAuC,OAAlD;AACAX,iBAAOW,SAAP,GAAmBX,OAAOW,SAAP,CAAiB1D,OAAjB,CAAyB,YAAzB,EAAuC,EAAvC,IAA6ChP,IAAhE;;AACA,cAAI+R,OAAOW,SAAP,CAAiBC,IAAjB,EAAJ,EAA6B;AAC3BC,8BAAkB,WAAlB;AACD;AACF,SAPD,EAnCoB,CA4CpB;;AACA7S,WAAG8R,YAAH,EAAiB,OAAjB,EAA0B,YAAW;AACnCY;AACA,cAAIzS,OAAQ,MAAD,CAAS8D,IAAT,CAAciO,OAAOW,SAArB,IAAkC,EAAlC,GAAuC,OAAlD;AACAX,iBAAOW,SAAP,GAAmBX,OAAOW,SAAP,CAAiB1D,OAAjB,CAAyB,YAAzB,EAAuC,EAAvC,IAA6ChP,IAAhE;;AACA,cAAI+R,OAAOW,SAAP,CAAiBC,IAAjB,EAAJ,EAA6B;AAC3BC,8BAAkB,WAAlB;AACD;AACF,SAPD;AASAzD,aAAK0D,WAAL,CAAiBrB,IAAjB;AACArC,aAAK0D,WAAL,CAAiBd,MAAjB;;AAEA,YAAIC,QAAJ,EAAc;AACZA,mBAASzQ,IAAT,CAAc,EAAd;AACD;;AAEDoI,eAAO5J,EAAP,CAAU,OAAV,EAAmB,UAASmF,KAAT,EAAgB;AACjC,cAAIA,MAAMiK,IAAV,EAAgB;AACd;AACD,WAHgC,CAKjC;;;AACA,cAAI2D,MAAMxS,KAAKyS,QAAL,CAAc7N,KAAd,CAAV;AACA,cAAI8N,KAAKvB,SAAS,qDAAT,EAAgEqB,GAAhE,EAAqErE,OAAOvJ,MAAMN,KAAb,CAArE,CAAT,CAPiC,CASjC;;AACAyE,gBAAM,CAAN,EAASwJ,WAAT,CAAqBG,EAArB;AACA3J,gBAAMnD,OAAN,CAAc+L,SAASgB,aAAT,CAAuB,IAAvB,CAAd;AACAD,aAAGH,WAAH,CAAexJ,MAAM,CAAN,CAAf;AACD,SAbD;AAeAM,eAAO5J,EAAP,CAAU,WAAV,EAAuB,UAASmF,KAAT,EAAgB;AACrC,cAAIA,MAAMiK,IAAV,EAAgB;AACd;AACD;;AACD9F,gBAAMlD,KAAN;AACD,SALD;AAOAwD,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/B,cAAIA,KAAKvE,IAAL,KAAc,MAAlB,EAA0B;AACxBoK,mBAAO3I,IAAP,CAAY,UAAZ,EAAwB8C,IAAxB;AACD;AACF,SAJD;AAMA6F,eAAO5J,EAAP,CAAU,UAAV,EAAsB,UAAS+D,IAAT,EAAe;AACnC;AACA,cAAIxC,UAAUuI,MAAMoF,KAAN,GAAc,KAAKjF,KAAnB,GAA2B,GAA3B,GAAiC,CAA/C;;AACA,cAAIgI,QAAJ,EAAc;AACZA,qBAAShQ,MAAT,CAAgBV,OAAhB,EAAyBW,IAAzB,CAA8BC,GAA9B;AACD,WALkC,CAOnC;;;AACA,cAAI8B,KAAK,IAAIyI,IAAJ,KAAa5C,MAAMqF,KAA5B;AACAvN,eAAKsI,MAAL,EAAaJ,MAAMI,MAAnB;AACAtI,eAAKmI,QAAL,EAAeD,MAAMC,QAArB;AACAnI,eAAKuI,QAAL,EAAe,CAAClG,KAAK,IAAN,EAAYkP,OAAZ,CAAoB,CAApB,CAAf,EAXmC,CAanC;;AACA,cAAIF,EAAJ;;AACA,cAAIlP,KAAKqP,KAAL,KAAe,QAAnB,EAA6B;AAC3B,gBAAIL,MAAMxS,KAAK8S,OAAL,CAAatP,IAAb,CAAV;AACAkP,iBAAKvB,SAAS,+GAAT,EAA0H3N,KAAKsL,KAA/H,EAAsItL,KAAKc,KAA3I,EAAkJd,KAAKoG,QAAvJ,EAAiK4I,GAAjK,CAAL;AACD,WAHD,MAGO,IAAIhP,KAAKwC,OAAT,EAAkB;AACvB0M,iBAAKvB,SAAS,gDAAT,EAA2D3N,KAAKc,KAAhE,CAAL;AACD,WAFM,MAEA;AACLoO,iBAAKvB,SAAS,0EAAT,EAAqF3N,KAAKc,KAA1F,EAAiGtE,KAAK8S,OAAL,CAAatP,IAAb,CAAjG,CAAL;AACA,gBAAIuP,WAAJ,CAFK,CAEY;;AACjB,gBAAIpK,UAAUnF,KAAKV,GAAL,CAASxD,QAAT,EAAd,CAHK,CAKL;AACA;;AACA,gBAAIqJ,YAAY,gBAAhB,EAAkC;AAChCA,wBAAUnF,KAAKV,GAAL,CAAS6F,OAAnB;AACD;;AAED,gBAAInF,KAAKV,GAAL,CAASiG,KAAb,EAAoB;AAClB,kBAAIiK,iBAAiBxP,KAAKV,GAAL,CAASiG,KAAT,CAAeH,OAAf,CAAuBpF,KAAKV,GAAL,CAAS6F,OAAhC,CAArB;;AACA,kBAAIqK,mBAAmB,CAAC,CAAxB,EAA2B;AACzBD,8BAAcvP,KAAKV,GAAL,CAASiG,KAAvB;AACD,eAFD,MAEO;AACLgK,8BAAcvP,KAAKV,GAAL,CAASiG,KAAT,CAAekK,MAAf,CAAsBzP,KAAKV,GAAL,CAAS6F,OAAT,CAAiBhK,MAAjB,GAA0BqU,cAAhD,CAAd;AACD;AACF,aAPD,MAOO,IAAIxP,KAAKV,GAAL,CAASoQ,SAAT,IAAsB1P,KAAKV,GAAL,CAAS2M,IAAT,KAAkBzQ,SAA5C,EAAuD;AAC5D;AACA+T,4BAAc,QAAQvP,KAAKV,GAAL,CAASoQ,SAAjB,GAA6B,GAA7B,GAAmC1P,KAAKV,GAAL,CAAS2M,IAA5C,GAAmD,GAAjE;AACD;;AAEDsD,0BAAcA,eAAe,EAA7B;;AAEA,gBAAIvP,KAAKV,GAAL,CAASqQ,WAAT,IAAwBJ,WAA5B,EAAyC;AACvCL,iBAAGH,WAAH,CAAepB,SAAS,+DAAT,EAA0E3N,KAAKV,GAAL,CAASqQ,WAAnF,EAAgGJ,WAAhG,CAAf;AACD,aAFD,MAEO,IAAIvP,KAAKV,GAAL,CAASqQ,WAAb,EAA0B;AAC/BT,iBAAGH,WAAH,CAAepB,SAAS,kCAAT,EAA6C3N,KAAKV,GAAL,CAASqQ,WAAtD,CAAf;AACD,aAFM,MAEA;AACLT,iBAAGH,WAAH,CAAepB,SAAS,+BAAT,EAA0CxI,OAA1C,EAAmDoK,WAAnD,CAAf;AACD;AACF,WApDkC,CAsDnC;AACA;;;AACA,cAAI,CAACvP,KAAKwC,OAAV,EAAmB;AACjB,gBAAIoN,KAAKV,GAAGrB,oBAAH,CAAwB,IAAxB,EAA8B,CAA9B,CAAT;AAEA5R,eAAG2T,EAAH,EAAO,OAAP,EAAgB,YAAW;AACzBC,kBAAIrB,KAAJ,CAAUsB,OAAV,GAAoBD,IAAIrB,KAAJ,CAAUsB,OAAV,KAAsB,MAAtB,GAA+B,OAA/B,GAAyC,MAA7D;AACD,aAFD;AAIA,gBAAID,MAAMlC,SAAS,4BAAT,EAAuC1J,MAAM4I,KAAN,CAAY7M,KAAK7D,EAAL,CAAQL,QAAR,EAAZ,CAAvC,CAAV;AACAoT,eAAGH,WAAH,CAAec,GAAf;AACAA,gBAAIrB,KAAJ,CAAUsB,OAAV,GAAoB,MAApB;AACD,WAlEkC,CAoEnC;;;AACA,cAAIvK,MAAM,CAAN,CAAJ,EAAc;AACZA,kBAAM,CAAN,EAASwJ,WAAT,CAAqBG,EAArB;AACD;AACF,SAxED;AAyED,OAlNiB,CAoNlB;;;;;;;AAMA,eAASa,OAAT,CAAiBxV,CAAjB,EAAoB;AAClB,YAAIyV,SAASpQ,OAAOqQ,QAAP,CAAgBD,MAA7B,CADkB,CAGlB;;AACA,YAAIA,MAAJ,EAAY;AACVA,mBAASA,OAAO9E,OAAP,CAAe,mBAAf,EAAoC,EAApC,EAAwCA,OAAxC,CAAgD,IAAhD,EAAsD,GAAtD,CAAT;AACD;;AAED,eAAOtL,OAAOqQ,QAAP,CAAgBC,QAAhB,IAA4BF,SAASA,SAAS,GAAlB,GAAwB,GAApD,IAA2D,OAA3D,GAAqEG,mBAAmBhP,SAAS5G,CAAT,CAAnB,CAA5E;AACD,OAnOiB,CAqOlB;;;;;;AAKAiT,WAAK3R,SAAL,CAAeoT,QAAf,GAA0B,UAAS7N,KAAT,EAAgB;AACxC,eAAO2O,QAAQ3O,MAAMuB,SAAN,EAAR,CAAP;AACD,OAFD,CA1OkB,CA8OlB;;;;;;AAKA6K,WAAK3R,SAAL,CAAeyT,OAAf,GAAyB,UAAStP,IAAT,EAAe;AACtC,eAAO+P,QAAQ/P,KAAK2C,SAAL,EAAR,CAAP;AACD,OAFD,CAnPkB,CAuPlB;;;;;;AAKA,eAAS5B,KAAT,CAAekF,GAAf,EAAoB;AAClBkI,iBAASiC,IAAT,CAAcrB,WAAd,CAA0BpB,SAAS,gCAAT,EAA2C1H,GAA3C,CAA1B;AACD,OA9PiB,CAgQlB;;;;;;AAKA,eAAS0H,QAAT,CAAkB0C,IAAlB,EAAwB;AACtB,YAAIjT,OAAOT,SAAX;AACA,YAAI2T,MAAMnC,SAASgB,aAAT,CAAuB,KAAvB,CAAV;AACA,YAAIvU,IAAI,CAAR;AAEA0V,YAAIC,SAAJ,GAAgBF,KAAKnF,OAAL,CAAa,UAAb,EAAyB,UAASsF,CAAT,EAAY/U,IAAZ,EAAkB;AACzD,kBAAQA,IAAR;AACE,iBAAK,GAAL;AAAU,qBAAOoO,OAAOzM,KAAKxC,GAAL,CAAP,CAAP;;AACV,iBAAK,GAAL;AAAU,qBAAO+P,OAAOvN,KAAKxC,GAAL,CAAP,CAAP;AACV;AAHF;AAKD,SANe,CAAhB;AAQA,eAAO0V,IAAIG,UAAX;AACD,OAnRiB,CAqRlB;;;;;;;AAMA,eAAS3B,iBAAT,CAA2B4B,SAA3B,EAAsC;AACpC,YAAIrP,SAAS8M,SAASwC,sBAAT,CAAgC,OAAhC,CAAb;;AACA,aAAK,IAAI/V,IAAI,CAAb,EAAgBA,IAAIyG,OAAOlG,MAA3B,EAAmCP,GAAnC,EAAwC;AACtC,cAAIgW,MAAMvP,OAAOzG,CAAP,EAAU+V,sBAAV,CAAiCD,SAAjC,CAAV;;AACA,cAAI,CAACE,IAAIzV,MAAT,EAAiB;AACfkG,mBAAOzG,CAAP,EAAUgU,SAAV,IAAuB,SAAvB;AACD;AACF;AACF,OAnSiB,CAqSlB;;;;AAGA,eAASD,MAAT,GAAkB;AAChB,YAAIiC,MAAMzC,SAASwC,sBAAT,CAAgC,cAAhC,CAAV;;AACA,aAAK,IAAI/V,IAAI,CAAb,EAAgBA,IAAIgW,IAAIzV,MAAxB,EAAgC,EAAEP,CAAlC,EAAqC;AACnCgW,cAAIhW,CAAJ,EAAOgU,SAAP,GAAmBgC,IAAIhW,CAAJ,EAAOgU,SAAP,CAAiB1D,OAAjB,CAAyB,cAAzB,EAAyC,OAAzC,CAAnB;AACD;AACF,OA7SiB,CA+SlB;;;;;;;AAMA,eAASrN,IAAT,CAAcqR,EAAd,EAAkB2B,QAAlB,EAA4B;AAC1B,YAAI3B,GAAG4B,WAAP,EAAoB;AAClB5B,aAAG4B,WAAH,GAAiBD,QAAjB;AACD,SAFD,MAEO;AACL3B,aAAG6B,SAAH,GAAeF,QAAf;AACD;AACF,OA3TiB,CA6TlB;;;;AAGA,eAAS5U,EAAT,CAAYiT,EAAZ,EAAgB8B,KAAhB,EAAuB7U,EAAvB,EAA2B;AACzB,YAAI+S,GAAG+B,gBAAP,EAAyB;AACvB/B,aAAG+B,gBAAH,CAAoBD,KAApB,EAA2B7U,EAA3B,EAA+B,KAA/B;AACD,SAFD,MAEO;AACL+S,aAAGgC,WAAH,CAAe,OAAOF,KAAtB,EAA6B7U,EAA7B;AACD;AACF;AAEA,KAxUD,EAwUGjB,IAxUH,CAwUQ,IAxUR,EAwUa,OAAOqE,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAO/C,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOoD,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAxUpI;AAyUC,GA1UiE,EA0UhE;AAAC,2BAAsB,CAAvB;AAAyB,gBAAW,EAApC;AAAuC,cAAS,EAAhD;AAAmD,4BAAuB;AAA1E,GA1UgE,CAztEyX;AAmiF1W,MAAG,CAAC,UAASjF,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACrH;AACA;AACAA,YAAQqM,IAAR,GAAerM,QAAQkW,IAAR,GAAexW,QAAQ,QAAR,CAA9B;AACAM,YAAQ6R,GAAR,GAAc7R,QAAQyO,GAAR,GAAc/O,QAAQ,OAAR,CAA5B;AACAM,YAAQ0R,GAAR,GAAc1R,QAAQmW,GAAR,GAAczW,QAAQ,OAAR,CAA5B;AACAM,YAAQoW,GAAR,GAAcpW,QAAQqW,GAAR,GAAc3W,QAAQ,OAAR,CAA5B;AACAM,YAAQuF,IAAR,GAAevF,QAAQsW,IAAR,GAAe5W,QAAQ,QAAR,CAA9B;AACAM,YAAQuS,IAAR,GAAevS,QAAQoV,IAAR,GAAe1V,QAAQ,QAAR,CAA9B;AACAM,YAAQuW,IAAR,GAAevW,QAAQ4B,IAAR,GAAelC,QAAQ,QAAR,CAA9B;AACAM,YAAQwW,GAAR,GAAcxW,QAAQqD,GAAR,GAAc3D,QAAQ,OAAR,CAA5B;AACAM,YAAQyW,IAAR,GAAezW,QAAQ0W,IAAR,GAAehX,QAAQ,QAAR,CAA9B;AACAM,YAAQ2W,IAAR,GAAe3W,QAAQ4W,IAAR,GAAelX,QAAQ,QAAR,CAA9B;AACAM,YAAQ6W,KAAR,GAAgB7W,QAAQ8W,KAAR,GAAgBpX,QAAQ,SAAR,CAAhC;AACAM,YAAQ+W,QAAR,GAAmB/W,QAAQgX,QAAR,GAAmBtX,QAAQ,YAAR,CAAtC;AACAM,YAAQsC,QAAR,GAAmBtC,QAAQiT,QAAR,GAAmBvT,QAAQ,YAAR,CAAtC;AACAM,YAAQiX,OAAR,GAAkBjX,QAAQkX,OAAR,GAAkBxX,QAAQ,WAAR,CAApC;AACAM,YAAQ8R,OAAR,GAAkB9R,QAAQ,UAAR,IAAsBN,QAAQ,YAAR,CAAxC;AACAM,YAAQgS,OAAR,GAAkBhS,QAAQ,UAAR,IAAsBN,QAAQ,YAAR,CAAxC;AACAM,YAAQmX,UAAR,GAAqBnX,QAAQ,aAAR,IAAyBN,QAAQ,eAAR,CAA9C;AAEC,GArBmF,EAqBlF;AAAC,cAAS,EAAV;AAAa,aAAQ,EAArB;AAAwB,aAAQ,EAAhC;AAAmC,cAAS,EAA5C;AAA+C,kBAAa,EAA5D;AAA+D,cAAS,EAAxE;AAA2E,kBAAa,EAAxF;AAA2F,qBAAgB,EAA3G;AAA8G,iBAAY,EAA1H;AAA6H,cAAS,EAAtI;AAAyI,kBAAa,EAAtJ;AAAyJ,aAAQ,EAAjK;AAAoK,cAAS,EAA7K;AAAgL,kBAAa,EAA7L;AAAgM,cAAS,EAAzM;AAA4M,aAAQ,EAApN;AAAuN,eAAU;AAAjO,GArBkF,CAniFuW;AAwjFnN,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC5Q,KAAC,UAAUI,OAAV,EAAkBkE,MAAlB,EAAyB;AAC1B;;SAIA,IAAI+H,OAAO3M,QAAQ,QAAR,CAAX,CAL0B,CAO1B;;;;AAIAM,gBAAUG,OAAOH,OAAP,GAAiB8R,OAA3B,CAX0B,CAa1B;;;;;;;;AAOA,eAASA,OAAT,CAAiBlH,MAAjB,EAAyBwM,MAAzB,EAAiC;AAC/B/K,aAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEAwM,iBAAS1V,UAAUxB,MAAV,KAAqB,CAArB,IAA0BkX,MAAnC;AACA,YAAI7V,OAAO,IAAX;AACA,YAAI2O,QAAQ,EAAZ;AACA,YAAInF,WAAW,EAAf;AACA,YAAIG,SAAS,EAAb;AAEAN,eAAO5J,EAAP,CAAU,UAAV,EAAsB,UAAS+D,IAAT,EAAe;AACnCmL,gBAAM9O,IAAN,CAAW2D,IAAX;AACD,SAFD;AAIA6F,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/BmG,iBAAO9J,IAAP,CAAY2D,IAAZ;AACD,SAFD;AAIA6F,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/BgG,mBAAS3J,IAAT,CAAc2D,IAAd;AACD,SAFD;AAIA6F,eAAO5J,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1B,cAAIoR,MAAM9N,OAAO+S,YAAP,IAAuB,EAAjC;AACA,cAAIC,SAAS/V,KAAK6Q,GAAL,GAAWvB,IAAIuB,GAAJ,CAAxB;AACAkF,iBAAOxM,KAAP,GAAevJ,KAAKuJ,KAApB;AACAwM,iBAAOpH,KAAP,GAAeA,MAAMW,GAAN,CAAUe,KAAV,CAAf;AACA0F,iBAAOvM,QAAP,GAAkBA,SAAS8F,GAAT,CAAae,KAAb,CAAlB;AACA0F,iBAAOpM,MAAP,GAAgBA,OAAO2F,GAAP,CAAWe,KAAX,CAAhB;;AACA,cAAI,CAACwF,MAAL,EAAa;AACX;AACD;;AACDhX,kBAAQyO,MAAR,CAAeG,KAAf,CAAqBzJ,KAAKC,SAAL,CAAe8R,MAAf,EAAuB,IAAvB,EAA6B,CAA7B,CAArB;AACD,SAXD;AAYD,OArDyB,CAuD1B;;;;;;;;;AASA,eAASzG,GAAT,CAAauB,GAAb,EAAkB;AAChB,YAAImF,MAAM;AACRC,2BAAiB,iBADT;AAERC,gBAAM,CAFE;AAGRC,gBAAM,CAHE;AAIRC,kBAAQ,CAJA;AAKRC,oBAAU,CALF;AAMRnO,iBAAO;AANC,SAAV;;AASA,aAAK,IAAI0I,QAAT,2CAAqBC,GAArB,GAA0B;AACxB,cAAIzR,OAAOC,SAAP,CAAiBiX,cAAjB,CAAgC5X,IAAhC,CAAqCmS,GAArC,EAA0CD,QAA1C,CAAJ,EAAyD;AACvD,gBAAI2F,OAAOF,SAASzF,QAAT,EAAmBC,IAAID,QAAJ,CAAnB,CAAX;AACAoF,gBAAI9N,KAAJ,CAAUrI,IAAV,CAAe0W,IAAf;AACAP,gBAAIG,IAAJ,IAAYI,KAAKJ,IAAjB;AACAH,gBAAII,MAAJ,IAAcG,KAAKH,MAAnB;AACAJ,gBAAIE,IAAJ,IAAYK,KAAKL,IAAjB;AACD;AACF;;AAEDF,YAAI9N,KAAJ,CAAUsO,IAAV,CAAe,UAAStY,CAAT,EAAYgS,CAAZ,EAAe;AAC5B,iBAAOhS,EAAE0S,QAAF,CAAW6F,aAAX,CAAyBvG,EAAEU,QAA3B,CAAP;AACD,SAFD;;AAIA,YAAIoF,IAAIE,IAAJ,GAAW,CAAf,EAAkB;AAChBF,cAAIK,QAAJ,GAAgBL,IAAIG,IAAJ,GAAWH,IAAIE,IAAhB,GAAwB,GAAvC;AACD;;AAED,eAAOF,GAAP;AACD,OA7FyB,CA+F1B;;;;;;;;;;AASA,eAASK,QAAT,CAAkBzF,QAAlB,EAA4B2F,IAA5B,EAAkC;AAChC,YAAIP,MAAM;AACRpF,oBAAUA,QADF;AAERyF,oBAAU,CAFF;AAGRF,gBAAM,CAHE;AAIRC,kBAAQ,CAJA;AAKRF,gBAAM,CALE;AAMRQ,kBAAQ;AANA,SAAV;AASAH,aAAKG,MAAL,CAAYxN,OAAZ,CAAoB,UAASuG,IAAT,EAAekH,GAAf,EAAoB;AACtCA;;AAEA,cAAIJ,KAAKI,GAAL,MAAc,CAAlB,EAAqB;AACnBX,gBAAII,MAAJ;AACAJ,gBAAIE,IAAJ;AACD,WAHD,MAGO,IAAIK,KAAKI,GAAL,MAAc3X,SAAlB,EAA6B;AAClCgX,gBAAIG,IAAJ;AACAH,gBAAIE,IAAJ;AACD;;AAEDF,cAAIU,MAAJ,CAAWC,GAAX,IAAkB;AAChBD,oBAAQjH,IADQ;AAEhB4G,sBAAUE,KAAKI,GAAL,MAAc3X,SAAd,GAA0B,EAA1B,GAA+BuX,KAAKI,GAAL;AAFzB,WAAlB;AAID,SAfD;AAiBAX,YAAIK,QAAJ,GAAeL,IAAIG,IAAJ,GAAWH,IAAIE,IAAf,GAAsB,GAArC;AAEA,eAAOF,GAAP;AACD,OAtIyB,CAwI1B;;;;;;;;;AAQA,eAAS3F,KAAT,CAAe7M,IAAf,EAAqB;AACnB,eAAO;AACLoG,oBAAUpG,KAAKoG,QADV;AAELzD,qBAAW3C,KAAK2C,SAAL,EAFN;AAGL7B,iBAAOd,KAAKc;AAHP,SAAP;AAKD;AAEA,KAxJD,EAwJG5F,IAxJH,CAwJQ,IAxJR,EAwJaP,QAAQ,UAAR,CAxJb,EAwJiC,OAAO4E,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAO/C,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOoD,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAxJxJ;AAyJC,GA1J0O,EA0JzO;AAAC,cAAS,EAAV;AAAa,gBAAW;AAAxB,GA1JyO,CAxjFgN;AAktF5Z,MAAG,CAAC,UAASjF,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACnE,KAAC,UAAUI,OAAV,EAAkB;AACnB;;SAIA,IAAIiM,OAAO3M,QAAQ,QAAR,CAAX,CALmB,CAOnB;;;;AAIAM,gBAAUG,OAAOH,OAAP,GAAiBuW,IAA3B,CAXmB,CAanB;;;;;;;AAMA,eAASA,IAAT,CAAc3L,MAAd,EAAsB;AACpByB,aAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEA,YAAIrJ,OAAO,IAAX;AACA,YAAI0J,QAAQL,OAAOK,KAAnB;AAEAL,eAAO5J,EAAP,CAAU,OAAV,EAAmB,YAAW;AAC5BoJ,kBAAQiF,GAAR,CAAY9J,KAAKC,SAAL,CAAe,CAAC,OAAD,EAAU;AAAEyF,mBAAOA;AAAT,WAAV,CAAf,CAAZ;AACD,SAFD;AAIAL,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/BqF,kBAAQiF,GAAR,CAAY9J,KAAKC,SAAL,CAAe,CAAC,MAAD,EAASoM,MAAM7M,IAAN,CAAT,CAAf,CAAZ;AACD,SAFD;AAIA6F,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAeV,GAAf,EAAoB;AACpCU,iBAAO6M,MAAM7M,IAAN,CAAP;AACAA,eAAKV,GAAL,GAAWA,IAAI6F,OAAf;AACAnF,eAAKuF,KAAL,GAAajG,IAAIiG,KAAJ,IAAa,IAA1B;AACAF,kBAAQiF,GAAR,CAAY9J,KAAKC,SAAL,CAAe,CAAC,MAAD,EAAST,IAAT,CAAf,CAAZ;AACD,SALD;AAOA6F,eAAO5J,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1BZ,kBAAQyO,MAAR,CAAeG,KAAf,CAAqBzJ,KAAKC,SAAL,CAAe,CAAC,KAAD,EAAQjE,KAAKuJ,KAAb,CAAf,CAArB;AACD,SAFD;AAGD,OA3CkB,CA6CnB;;;;;;;;;AAQA,eAAS8G,KAAT,CAAe7M,IAAf,EAAqB;AACnB,eAAO;AACLc,iBAAOd,KAAKc,KADP;AAEL6B,qBAAW3C,KAAK2C,SAAL,EAFN;AAGLyD,oBAAUpG,KAAKoG;AAHV,SAAP;AAKD;AAEA,KA7DD,EA6DGlL,IA7DH,CA6DQ,IA7DR,EA6DaP,QAAQ,UAAR,CA7Db;AA8DC,GA/DiC,EA+DhC;AAAC,cAAS,EAAV;AAAa,gBAAW;AAAxB,GA/DgC,CAltFyZ;AAixF5Z,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACnE,KAAC,UAAUI,OAAV,EAAkB;AACnB;;SAIA,IAAIiM,OAAO3M,QAAQ,QAAR,CAAX,CALmB,CAOnB;;;;AAIAM,gBAAUG,OAAOH,OAAP,GAAiBmY,YAA3B,CAXmB,CAanB;;;;;;;AAMA,eAASA,YAAT,CAAsBvN,MAAtB,EAA8B;AAC5ByB,aAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEA,YAAIrJ,OAAO,IAAX;AACA,YAAI2O,QAAQ,EAAZ;AACA,YAAI3I,UAAU,EAAd;AACA,YAAIwD,WAAW,EAAf;AACA,YAAIG,SAAS,EAAb;AAEAN,eAAO5J,EAAP,CAAU,UAAV,EAAsB,UAAS+D,IAAT,EAAe;AACnCmL,gBAAM9O,IAAN,CAAW2D,IAAX;AACD,SAFD;AAIA6F,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/BmG,iBAAO9J,IAAP,CAAY2D,IAAZ;AACD,SAFD;AAIA6F,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/BgG,mBAAS3J,IAAT,CAAc2D,IAAd;AACD,SAFD;AAIA6F,eAAO5J,EAAP,CAAU,SAAV,EAAqB,UAAS+D,IAAT,EAAe;AAClCwC,kBAAQnG,IAAR,CAAa2D,IAAb;AACD,SAFD;AAIA6F,eAAO5J,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1B,cAAIqH,MAAM;AACRyC,mBAAOvJ,KAAKuJ,KADJ;AAERoF,mBAAOA,MAAMW,GAAN,CAAUe,KAAV,CAFC;AAGRrK,qBAASA,QAAQsJ,GAAR,CAAYe,KAAZ,CAHD;AAIR7G,sBAAUA,SAAS8F,GAAT,CAAae,KAAb,CAJF;AAKR1G,oBAAQA,OAAO2F,GAAP,CAAWe,KAAX;AALA,WAAV;AAQAhH,iBAAOwN,WAAP,GAAqB/P,GAArB;AAEAjI,kBAAQyO,MAAR,CAAeG,KAAf,CAAqBzJ,KAAKC,SAAL,CAAe6C,GAAf,EAAoB,IAApB,EAA0B,CAA1B,CAArB;AACD,SAZD;AAaD,OAzDkB,CA2DnB;;;;;;;;;AAQA,eAASuJ,KAAT,CAAe7M,IAAf,EAAqB;AACnB,eAAO;AACLc,iBAAOd,KAAKc,KADP;AAEL6B,qBAAW3C,KAAK2C,SAAL,EAFN;AAGLyD,oBAAUpG,KAAKoG,QAHV;AAIL9G,eAAKgU,UAAUtT,KAAKV,GAAL,IAAY,EAAtB;AAJA,SAAP;AAMD,OA1EkB,CA4EnB;;;;;;;;AAOA,eAASgU,SAAT,CAAmBhU,GAAnB,EAAwB;AACtB,YAAIiU,MAAM,EAAV;AACA3X,eAAO4X,mBAAP,CAA2BlU,GAA3B,EAAgCoG,OAAhC,CAAwC,UAAShF,GAAT,EAAc;AACpD6S,cAAI7S,GAAJ,IAAWpB,IAAIoB,GAAJ,CAAX;AACD,SAFD,EAEGpB,GAFH;AAGA,eAAOiU,GAAP;AACD;AAEA,KA3FD,EA2FGrY,IA3FH,CA2FQ,IA3FR,EA2FaP,QAAQ,UAAR,CA3Fb;AA4FC,GA7FiC,EA6FhC;AAAC,cAAS,EAAV;AAAa,gBAAW;AAAxB,GA7FgC,CAjxFyZ;AA82F5Z,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACnE,KAAC,UAAUI,OAAV,EAAkB;AACnB;;SAIA,IAAIiM,OAAO3M,QAAQ,QAAR,CAAX;;AACA,UAAIiG,WAAWjG,QAAQ,UAAR,EAAoBiG,QAAnC;;AACA,UAAImJ,SAASzC,KAAKyC,MAAlB;AACA,UAAIH,QAAQtC,KAAKsC,KAAjB,CARmB,CAUnB;;;AAIA3O,gBAAUG,OAAOH,OAAP,GAAiBiX,OAA3B,CAdmB,CAgBnB;;;AAIA5K,WAAKN,MAAL,CAAYyM,KAAZ,GAAoB,CAApB,CApBmB,CAsBnB;;;AAIAnM,WAAKN,MAAL,CAAY,aAAZ,IAA6B,EAA7B,CA1BmB,CA4BnB;;;AAIAM,WAAKN,MAAL,CAAY0M,MAAZ,GAAqB,EAArB,CAhCmB,CAkCnB;;;;;;;AAMA,eAASxB,OAAT,CAAiBrM,MAAjB,EAAyB;AACvByB,aAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEA,YAAIrJ,OAAO,IAAX;AACA,YAAI4C,QAAQkI,KAAK1H,MAAL,CAAYR,KAAZ,GAAoB,GAApB,GAA0B,CAAtC;AACA,YAAI8G,QAAQL,OAAOK,KAAnB;AACA,YAAIyN,SAAStY,QAAQyO,MAArB;AACA,YAAI2J,QAAQ7J,MAAM,OAAN,EAAe,GAAf,CAAZ;AACA,YAAIgK,UAAU,CAAC,CAAf;AACA,YAAIvZ,IAAI,CAAR;;AAEA,iBAASqZ,MAAT,GAAkB;AAChB,cAAIG,MAAMxW,MAAM+B,KAAN,EAAakF,IAAb,CAAkB,GAAlB,CAAV;AACA,iBAAO,OAAOsF,MAAM,QAAN,EAAgBiK,GAAhB,CAAd;AACD;;AAEDhO,eAAO5J,EAAP,CAAU,OAAV,EAAmB,YAAW;AAC5B0X,iBAAO1J,KAAP,CAAa,UAAb;AACAF,iBAAOC,IAAP;AACD,SAHD;AAKAnE,eAAO5J,EAAP,CAAU,UAAV,EAAsB,UAAS+D,IAAT,EAAe;AACnC;AACA,cAAI8T,MAAMF,YAAY,CAAC,CAAb,GAAiBxU,QAAQ,EAAE/E,CAAV,GAAc6L,KAAd,GAAsB,CAAvC,GAA2C0N,OAArD,CAFmC,CAInC;;AACA,cAAI5T,KAAKqP,KAAL,KAAe,QAAnB,EAA6B;AAC3BoE,oBAAQ7J,MAAM,aAAN,EAAqB,GAArB,CAAR;AACAgK,sBAAUE,GAAV;AACD,WARkC,CAUnC;;;AACAH,iBAAO1J,KAAP,CAAa,WAAa7K,QAAQ,CAArB,IAA0B,UAAvC;AACAuU,iBAAO1J,KAAP,CAAayJ,QAAb;AACAC,iBAAO1J,KAAP,CAAa,MAAb;AACA0J,iBAAO1J,KAAP,CAAaL,MAAM,QAAN,EAAgBvM,MAAMyW,GAAN,EAAWxP,IAAX,CAAgB,GAAhB,CAAhB,CAAb;AACAqP,iBAAO1J,KAAP,CAAawJ,KAAb;AACAE,iBAAO1J,KAAP,CAAaL,MAAM,QAAN,EAAgBvM,MAAM+B,QAAQ0U,GAAd,EAAmBxP,IAAnB,CAAwB,GAAxB,IAA+B,IAA/C,CAAb;AACAqP,iBAAO1J,KAAP,CAAayJ,QAAb;AACAC,iBAAO1J,KAAP,CAAa,SAAb;AACD,SAnBD;AAqBApE,eAAO5J,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1B8N,iBAAOG,IAAP;AACA7E,kBAAQiF,GAAR;AACA9N,eAAKgP,QAAL;AACD,SAJD;AAKD,OAvFkB,CAyFnB;;;;AAGA5K,eAASsR,OAAT,EAAkB5K,IAAlB;AAEC,KA9FD,EA8FGpM,IA9FH,CA8FQ,IA9FR,EA8FaP,QAAQ,UAAR,CA9Fb;AA+FC,GAhGiC,EAgGhC;AAAC,gBAAW,EAAZ;AAAe,cAAS,EAAxB;AAA2B,gBAAW;AAAtC,GAhGgC,CA92FyZ;AA88F9Y,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACjF,KAAC,UAAUI,OAAV,EAAkB;AACnB;;SAIA,IAAIiM,OAAO3M,QAAQ,QAAR,CAAX;;AACA,UAAIiG,WAAWjG,QAAQ,UAAR,EAAoBiG,QAAnC;;AACA,UAAIgJ,QAAQtC,KAAKsC,KAAjB;AACA,UAAIG,SAASzC,KAAKyC,MAAlB,CARmB,CAUnB;;;AAIA9O,gBAAUG,OAAOH,OAAP,GAAiBuW,IAA3B,CAdmB,CAgBnB;;;;;;;AAMA,eAASA,IAAT,CAAc3L,MAAd,EAAsB;AACpByB,aAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEA,YAAIrJ,OAAO,IAAX;AACA,YAAInC,IAAI,CAAR;AAEAwL,eAAO5J,EAAP,CAAU,OAAV,EAAmB,YAAW;AAC5BoJ,kBAAQiF,GAAR;AACD,SAFD;AAIAzE,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/B3E,kBAAQyO,MAAR,CAAeG,KAAf,CAAqBL,MAAM,MAAN,EAAc,SAAS5J,KAAK2C,SAAL,EAAT,GAA4B,IAA1C,CAArB;AACD,SAFD;AAIAkD,eAAO5J,EAAP,CAAU,SAAV,EAAqB,UAAS+D,IAAT,EAAe;AAClC,cAAIuK,MAAMX,MAAM,WAAN,EAAmB,KAAnB,IACNA,MAAM,SAAN,EAAiB,KAAjB,CADJ;AAEAvE,kBAAQiF,GAAR,CAAYC,GAAZ,EAAiBvK,KAAK2C,SAAL,EAAjB;AACD,SAJD;AAMAkD,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/B,cAAIuK,MAAMX,MAAM,WAAN,EAAmB,OAAOtC,KAAKkC,OAAL,CAAaE,GAAvC,IACNE,MAAM,MAAN,EAAc,OAAd,CADM,GAENA,MAAM5J,KAAKsL,KAAX,EAAkB,MAAlB,CAFJ;AAGAvB,iBAAOM,EAAP;AACAhF,kBAAQiF,GAAR,CAAYC,GAAZ,EAAiBvK,KAAK2C,SAAL,EAAjB,EAAmC3C,KAAKoG,QAAxC;AACD,SAND;AAQAP,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/B+J,iBAAOM,EAAP;AACAhF,kBAAQiF,GAAR,CAAYV,MAAM,MAAN,EAAc,UAAd,CAAZ,EAAuC,EAAEvP,CAAzC,EAA4C2F,KAAK2C,SAAL,EAA5C;AACD,SAHD;AAKAkD,eAAO5J,EAAP,CAAU,KAAV,EAAiBO,KAAKgP,QAAL,CAAcuI,IAAd,CAAmBvX,IAAnB,CAAjB;AACD,OAxDkB,CA0DnB;;;;AAGAoE,eAAS4Q,IAAT,EAAelK,IAAf;AAEC,KA/DD,EA+DGpM,IA/DH,CA+DQ,IA/DR,EA+DaP,QAAQ,UAAR,CA/Db;AAgEC,GAjE+C,EAiE9C;AAAC,gBAAW,EAAZ;AAAe,cAAS,EAAxB;AAA2B,gBAAW;AAAtC,GAjE8C,CA98F2Y;AA+gG9Y,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACjF,KAAC,UAAUI,OAAV,EAAkB;AACnB;;SAIA,IAAIiM,OAAO3M,QAAQ,QAAR,CAAX;;AACA,UAAIsJ,QAAQtJ,QAAQ,UAAR,CAAZ,CANmB,CAQnB;;;;AAIA,UAAIqZ,eAAe,GAAnB,CAZmB,CAcnB;;;AAIA/Y,gBAAUG,OAAOH,OAAP,GAAiB+W,QAA3B,CAlBmB,CAoBnB;;;;;;;AAMA,eAASA,QAAT,CAAkBnM,MAAlB,EAA0B;AACxByB,aAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEA,YAAIoO,QAAQ,CAAZ;AACA,YAAIJ,MAAM,EAAV;;AAEA,iBAAS/S,KAAT,CAAegH,GAAf,EAAoB;AAClB,iBAAOzK,MAAM4W,KAAN,EAAa3P,IAAb,CAAkB,GAAlB,IAAyB,GAAzB,GAA+BwD,GAAtC;AACD;;AAED,iBAASoM,MAAT,CAAgB9S,KAAhB,EAAuBkC,GAAvB,EAA4B;AAC1B,cAAIkP,MAAMlP,GAAV;AACA,cAAI5C,MAAMsT,eAAe5S,MAAMN,KAA/B;AAEAwC,gBAAMA,IAAI5C,GAAJ,IAAW4C,IAAI5C,GAAJ,KAAY;AAAEU,mBAAOA;AAAT,WAA7B;AACAA,gBAAMC,MAAN,CAAaqE,OAAb,CAAqB,UAAStE,KAAT,EAAgB;AACnC8S,mBAAO9S,KAAP,EAAckC,GAAd;AACD,WAFD;AAIA,iBAAOkP,GAAP;AACD;;AAED,iBAAS2B,YAAT,CAAsB7Q,GAAtB,EAA2B2Q,KAA3B,EAAkC;AAChC,YAAEA,KAAF;AACA,cAAIJ,MAAM,EAAV;AACA,cAAIO,IAAJ;;AACA,eAAK,IAAI1T,GAAT,2CAAgB4C,GAAhB,GAAqB;AACnB,gBAAI5C,QAAQ,OAAZ,EAAqB;AACnB;AACD;;AACD,gBAAIA,QAAQsT,YAAZ,EAA0B;AACxBI,qBAAO,SAAS1T,IAAI2T,SAAJ,CAAc,CAAd,CAAT,GAA4B,GAAnC;AACAD,sBAAQ,OAAOnQ,MAAMqQ,IAAN,CAAWhR,IAAI5C,GAAJ,EAASU,KAAT,CAAeuB,SAAf,EAAX,CAAP,GAAgD,KAAxD;AACAkR,qBAAOxW,MAAM4W,KAAN,EAAa3P,IAAb,CAAkB,IAAlB,IAA0B8P,IAAjC;AACD;;AACDP,mBAAOM,aAAa7Q,IAAI5C,GAAJ,CAAb,EAAuBuT,KAAvB,CAAP;AACD;;AACD,iBAAOJ,GAAP;AACD;;AAED,iBAASU,WAAT,CAAqBnT,KAArB,EAA4B;AAC1B,cAAIkC,MAAM4Q,OAAO9S,KAAP,EAAc,EAAd,CAAV;AACA,iBAAO+S,aAAa7Q,GAAb,EAAkB,CAAlB,CAAP;AACD;;AAEDiR,oBAAY1O,OAAOzE,KAAnB;AAEAyE,eAAO5J,EAAP,CAAU,OAAV,EAAmB,UAASmF,KAAT,EAAgB;AACjC,YAAE6S,KAAF;AACA,cAAIK,OAAOrQ,MAAMqQ,IAAN,CAAWlT,MAAMuB,SAAN,EAAX,CAAX;AACAkR,iBAAO,cAAcS,IAAd,GAAqB,QAArB,GAAgC,IAAvC;AACAT,iBAAO/S,MAAMM,MAAMN,KAAZ,IAAqB,IAA5B;AACD,SALD;AAOA+E,eAAO5J,EAAP,CAAU,WAAV,EAAuB,YAAW;AAChC,YAAEgY,KAAF;AACD,SAFD;AAIApO,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/B,cAAIjF,OAAOkJ,MAAM4I,KAAN,CAAY7M,KAAK7D,EAAL,CAAQL,QAAR,EAAZ,CAAX;AACA+X,iBAAO7T,KAAKc,KAAL,GAAa,KAApB;AACA+S,iBAAO,WAAP;AACAA,iBAAO9Y,OAAO,IAAd;AACA8Y,iBAAO,SAAP;AACD,SAND;AAQAhO,eAAO5J,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1BZ,kBAAQyO,MAAR,CAAeG,KAAf,CAAqB,SAArB;AACA5O,kBAAQyO,MAAR,CAAeG,KAAf,CAAqBsK,YAAY1O,OAAOzE,KAAnB,CAArB;AACA/F,kBAAQyO,MAAR,CAAeG,KAAf,CAAqB4J,GAArB;AACD,SAJD;AAKD;AAEA,KAnGD,EAmGG3Y,IAnGH,CAmGQ,IAnGR,EAmGaP,QAAQ,UAAR,CAnGb;AAoGC,GArG+C,EAqG9C;AAAC,gBAAW,EAAZ;AAAe,cAAS,EAAxB;AAA2B,gBAAW;AAAtC,GArG8C,CA/gG2Y;AAonG9Y,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACjF,KAAC,UAAUI,OAAV,EAAkB;AACnB;;SAIA,IAAIiM,OAAO3M,QAAQ,QAAR,CAAX;;AACA,UAAIiG,WAAWjG,QAAQ,UAAR,EAAoBiG,QAAnC,CANmB,CAQnB;;;;AAIA3F,gBAAUG,OAAOH,OAAP,GAAiBwW,GAA3B,CAZmB,CAcnB;;;;;;;AAMA,eAASA,GAAT,CAAa5L,MAAb,EAAqB;AACnByB,aAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEAA,eAAO5J,EAAP,CAAU,OAAV,EAAmB,YAAW;AAC5B;AACAZ,kBAAQyO,MAAR,CAAeG,KAAf,CAAqB,SAArB,EAF4B,CAG5B;;AACA5O,kBAAQyO,MAAR,CAAeG,KAAf,CAAqB,WAArB;AACD,SALD;AAOApE,eAAO5J,EAAP,CAAU,KAAV,EAAiB,KAAKuP,QAAL,CAAcuI,IAAd,CAAmB,IAAnB,CAAjB;AACD,OA/BkB,CAiCnB;;;;AAGAnT,eAAS6Q,GAAT,EAAcnK,IAAd;AAEC,KAtCD,EAsCGpM,IAtCH,CAsCQ,IAtCR,EAsCaP,QAAQ,UAAR,CAtCb;AAuCC,GAxC+C,EAwC9C;AAAC,gBAAW,EAAZ;AAAe,cAAS,EAAxB;AAA2B,gBAAW;AAAtC,GAxC8C,CApnG2Y;AA4pG9Y,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACjF,KAAC,UAAUI,OAAV,EAAkB;AACnB;;SAIA,IAAIiM,OAAO3M,QAAQ,QAAR,CAAX;;AACA,UAAIiG,WAAWjG,QAAQ,UAAR,EAAoBiG,QAAnC,CANmB,CAQnB;;;;AAIA3F,gBAAUG,OAAOH,OAAP,GAAiBuZ,OAA3B,CAZmB,CAcnB;;;;;;;AAOA,eAASA,OAAT,CAAiB3O,MAAjB,EAAyB;AACvByB,aAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEA,YAAIrJ,OAAO,IAAX;AACA,YAAI4C,QAAQkI,KAAK1H,MAAL,CAAYR,KAAZ,GAAoB,GAApB,GAA0B,CAAtC;AACA,YAAIqV,eAAe,KAAKA,YAAL,GAAoB,EAAvC;AAEA,aAAKC,UAAL,GAAkB,CAAlB;AACA,aAAKC,aAAL,GAAqB,CAArB;AACA,aAAKC,aAAL,GAAqBpY,KAAKqY,cAAL,EAArB;AACA,aAAKC,eAAL,GAAuB,CAAvB;AACA,aAAKC,IAAL,GAAY,CAAZ;AACA,aAAKC,YAAL,GAAoB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,CAApB;AACA,aAAKC,kBAAL,GAA2B7V,QAAQqV,YAAnC;AAEA5O,eAAO5J,EAAP,CAAU,OAAV,EAAmB,YAAW;AAC5BqL,eAAKyC,MAAL,CAAYC,IAAZ;AACAxN,eAAK2B,IAAL;AACD,SAHD;AAKA0H,eAAO5J,EAAP,CAAU,SAAV,EAAqB,YAAW;AAC9BO,eAAK2B,IAAL;AACD,SAFD;AAIA0H,eAAO5J,EAAP,CAAU,MAAV,EAAkB,YAAW;AAC3BO,eAAK2B,IAAL;AACD,SAFD;AAIA0H,eAAO5J,EAAP,CAAU,MAAV,EAAkB,YAAW;AAC3BO,eAAK2B,IAAL;AACD,SAFD;AAIA0H,eAAO5J,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1BqL,eAAKyC,MAAL,CAAYG,IAAZ;;AACA,eAAK,IAAItP,IAAI,CAAb,EAAgBA,IAAI4B,KAAKmY,aAAzB,EAAwC/Z,GAAxC,EAA6C;AAC3CqP,kBAAM,IAAN;AACD;;AACDzN,eAAKgP,QAAL;AACD,SAND;AAOD,OA5DkB,CA8DnB;;;;AAGA5K,eAAS4T,OAAT,EAAkBlN,IAAlB,EAjEmB,CAmEnB;;;;;;AAMAkN,cAAQ3Y,SAAR,CAAkBsC,IAAlB,GAAyB,YAAW;AAClC,aAAK+W,aAAL;AACA,aAAKC,cAAL;AACA,aAAKC,WAAL;AACA,aAAKC,WAAL;AACA,aAAKN,IAAL,GAAY,CAAC,KAAKA,IAAlB;AACD,OAND,CAzEmB,CAiFnB;;;;;;;AAOAP,cAAQ3Y,SAAR,CAAkBsZ,cAAlB,GAAmC,YAAW;AAC5C,YAAIpP,QAAQ,KAAKA,KAAjB;;AAEA,iBAAS5H,IAAT,CAAc1C,IAAd,EAAoBpB,CAApB,EAAuB;AACrB4P,gBAAM,GAAN;AACAA,gBAAM3C,KAAKsC,KAAL,CAAWnO,IAAX,EAAiBpB,CAAjB,CAAN;AACA4P,gBAAM,IAAN;AACD;;AAED9L,aAAK,OAAL,EAAc4H,MAAMI,MAApB;AACAhI,aAAK,MAAL,EAAa4H,MAAMC,QAAnB;AACA7H,aAAK,SAAL,EAAgB4H,MAAMvD,OAAtB;AACAyH,cAAM,IAAN;AAEA,aAAKqL,QAAL,CAAc,KAAKX,aAAnB;AACD,OAfD,CAxFmB,CAyGnB;;;;;;AAMAH,cAAQ3Y,SAAR,CAAkBqZ,aAAlB,GAAkC,YAAW;AAC3C,YAAIK,UAAU,KAAKR,IAAL,GAAY,GAAZ,GAAkB,GAAhC;AACA,YAAIS,eAAe,KAAKC,UAAL,CAAgBF,OAAhB,CAAnB;;AAEA,aAAK,IAAI/K,QAAQ,CAAjB,EAAoBA,QAAQ,KAAKmK,aAAjC,EAAgDnK,OAAhD,EAAyD;AACvD,cAAIkL,aAAa,KAAKV,YAAL,CAAkBxK,KAAlB,CAAjB;;AACA,cAAIkL,WAAWva,MAAX,IAAqB,KAAK8Z,kBAA9B,EAAkD;AAChDS,uBAAWrT,KAAX;AACD;;AACDqT,qBAAWrZ,IAAX,CAAgBmZ,YAAhB;AACD;AACF,OAXD,CA/GmB,CA4HnB;;;;;;AAMAhB,cAAQ3Y,SAAR,CAAkBuZ,WAAlB,GAAgC,YAAW;AACzC,YAAI5Y,OAAO,IAAX;AAEA,aAAKwY,YAAL,CAAkBtP,OAAlB,CAA0B,UAASuG,IAAT,EAAe;AACvChC,gBAAM,UAAYzN,KAAKsY,eAAjB,GAAmC,GAAzC;AACA7K,gBAAMgC,KAAK3H,IAAL,CAAU,EAAV,CAAN;AACA2F,gBAAM,IAAN;AACD,SAJD;AAMA,aAAKqL,QAAL,CAAc,KAAKX,aAAnB;AACD,OAVD,CAlImB,CA8InB;;;;;;AAKAH,cAAQ3Y,SAAR,CAAkBwZ,WAAlB,GAAgC,YAAW;AACzC,YAAI7Y,OAAO,IAAX;AACA,YAAImZ,aAAa,KAAKb,eAAL,GAAuB,KAAKE,YAAL,CAAkB,CAAlB,EAAqB7Z,MAA7D;AACA,YAAIya,OAAO,UAAYD,UAAZ,GAAyB,GAApC;AACA,YAAIE,UAAU,EAAd;AAEA5L,cAAM2L,IAAN;AACA3L,cAAM,WAAN;AACAA,cAAM,IAAN;AAEAA,cAAM2L,IAAN;AACAC,kBAAUrZ,KAAKuY,IAAL,GAAY,IAAZ,GAAmB,KAA7B;AACA9K,cAAM,OAAO4L,OAAP,GAAiB,UAAvB;AACA5L,cAAM,IAAN;AAEAA,cAAM2L,IAAN;AACAC,kBAAUrZ,KAAKuY,IAAL,GAAY,GAAZ,GAAkB,IAA5B;AACA,YAAIe,OAAOtZ,KAAKuY,IAAL,GAAY,GAAZ,GAAkB,GAA7B;AACA9K,cAAM6L,OAAO,GAAP,GAAaD,OAAb,GAAuB,KAAKE,IAAL,EAAvB,GAAqC,GAA3C;AACA9L,cAAM,IAAN;AAEAA,cAAM2L,IAAN;AACAC,kBAAUrZ,KAAKuY,IAAL,GAAY,GAAZ,GAAkB,IAA5B;AACA9K,cAAM4L,UAAU,SAAhB;AACA5L,cAAM,IAAN;AAEA,aAAKqL,QAAL,CAAc,KAAKX,aAAnB;AACD,OA3BD,CAnJmB,CAgLnB;;;;;;;AAOAH,cAAQ3Y,SAAR,CAAkBka,IAAlB,GAAyB,YAAW;AAClC,YAAIhQ,QAAQ,KAAKA,KAAjB;;AACA,YAAIA,MAAMC,QAAV,EAAoB;AAClB,iBAAO,SAAP;AACD,SAFD,MAEO,IAAID,MAAMvD,OAAV,EAAmB;AACxB,iBAAO,SAAP;AACD,SAFM,MAEA,IAAIuD,MAAMI,MAAV,EAAkB;AACvB,iBAAO,SAAP;AACD;;AACD,eAAO,SAAP;AACD,OAVD,CAvLmB,CAmMnB;;;;;;;AAOAqO,cAAQ3Y,SAAR,CAAkByZ,QAAlB,GAA6B,UAASjb,CAAT,EAAY;AACvC4P,cAAM,UAAY5P,CAAZ,GAAgB,GAAtB;AACD,OAFD,CA1MmB,CA8MnB;;;;;;;AAOAma,cAAQ3Y,SAAR,CAAkBma,UAAlB,GAA+B,UAAS3b,CAAT,EAAY;AACzC4P,cAAM,UAAY5P,CAAZ,GAAgB,GAAtB;AACD,OAFD,CArNmB,CAyNnB;;;;;;;AAMAma,cAAQ3Y,SAAR,CAAkBgZ,cAAlB,GAAmC,YAAW;AAC5C,YAAI7N,SAAS,EAAb;;AAEA,aAAK,IAAIpM,IAAI,CAAb,EAAgBA,IAAK,IAAI,CAAzB,EAA6BA,GAA7B,EAAkC;AAChC,cAAIqb,MAAM5X,KAAKgK,KAAL,CAAWhK,KAAKO,EAAL,GAAU,CAArB,CAAV;AACA,cAAIvE,IAAKO,KAAK,MAAM,CAAX,CAAT;AACA,cAAIN,IAAI+D,KAAKgK,KAAL,CAAW,IAAIhK,KAAK6X,GAAL,CAAS7b,CAAT,CAAJ,GAAkB,CAA7B,CAAR;AACA,cAAI8b,IAAI9X,KAAKgK,KAAL,CAAW,IAAIhK,KAAK6X,GAAL,CAAS7b,IAAI,IAAI4b,GAAjB,CAAJ,GAA4B,CAAvC,CAAR;AACA,cAAIvJ,IAAIrO,KAAKgK,KAAL,CAAW,IAAIhK,KAAK6X,GAAL,CAAS7b,IAAI,IAAI4b,GAAjB,CAAJ,GAA4B,CAAvC,CAAR;AACAjP,iBAAO3K,IAAP,CAAY,KAAK/B,CAAL,GAAS,IAAI6b,CAAb,GAAiBzJ,CAAjB,GAAqB,EAAjC;AACD;;AAED,eAAO1F,MAAP;AACD,OAbD,CA/NmB,CA8OnB;;;;;;;;AAOAwN,cAAQ3Y,SAAR,CAAkB4Z,UAAlB,GAA+B,UAAS3N,GAAT,EAAc;AAC3C,YAAI,CAACR,KAAKtC,SAAV,EAAqB;AACnB,iBAAO8C,GAAP;AACD;;AACD,YAAI8B,QAAQ,KAAKgL,aAAL,CAAmB,KAAKF,UAAL,GAAkB,KAAKE,aAAL,CAAmBzZ,MAAxD,CAAZ;AACA,aAAKuZ,UAAL,IAAmB,CAAnB;AACA,eAAO,eAAiB9K,KAAjB,GAAyB,GAAzB,GAA+B9B,GAA/B,GAAqC,SAA5C;AACD,OAPD,CArPmB,CA8PnB;;;;;;AAKA,eAASmC,KAAT,CAAemM,MAAf,EAAuB;AACrB/a,gBAAQyO,MAAR,CAAeG,KAAf,CAAqBmM,MAArB;AACD;AAEA,KAvQD,EAuQGlb,IAvQH,CAuQQ,IAvQR,EAuQaP,QAAQ,UAAR,CAvQb;AAwQC,GAzQ+C,EAyQ9C;AAAC,gBAAW,EAAZ;AAAe,cAAS,EAAxB;AAA2B,gBAAW;AAAtC,GAzQ8C,CA5pG2Y;AAq6G9Y,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACjF,KAAC,UAAUI,OAAV,EAAkB;AACnB;;SAIA,IAAIiM,OAAO3M,QAAQ,QAAR,CAAX;;AACA,UAAIiG,WAAWjG,QAAQ,UAAR,EAAoBiG,QAAnC;;AACA,UAAIgJ,QAAQtC,KAAKsC,KAAjB;AACA,UAAIG,SAASzC,KAAKyC,MAAlB,CARmB,CAUnB;;;AAIA9O,gBAAUG,OAAOH,OAAP,GAAiBsC,QAA3B,CAdmB,CAgBnB;;;AAIA+J,WAAKN,MAAL,CAAYkH,QAAZ,GAAuB,EAAvB,CApBmB,CAsBnB;;;;;;;;AAOA,eAAS3Q,QAAT,CAAkBsI,MAAlB,EAA0B9D,OAA1B,EAAmC;AACjCuF,aAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEA,YAAIrJ,OAAO,IAAX;AACA,YAAI4C,QAAQkI,KAAK1H,MAAL,CAAYR,KAAZ,GAAoB,GAApB,GAA0B,CAAtC;AACA,YAAI8G,QAAQL,OAAOK,KAAnB;AACA,YAAImQ,WAAW,CAAf;AACA,YAAIC,QAAQ,CAAC,CAAb,CAPiC,CASjC;;AACAvU,kBAAUA,WAAW,EAArB;AACAA,gBAAQwU,IAAR,GAAexU,QAAQwU,IAAR,IAAgB,GAA/B;AACAxU,gBAAQsU,QAAR,GAAmBtU,QAAQsU,QAAR,IAAoB,GAAvC;AACAtU,gBAAQyU,UAAR,GAAqBzU,QAAQyU,UAAR,IAAsBlP,KAAKkC,OAAL,CAAaE,GAAxD;AACA3H,gBAAQ0U,KAAR,GAAgB1U,QAAQ0U,KAAR,IAAiB,GAAjC;AACA1U,gBAAQ2U,OAAR,GAAkB,KAAlB,CAfiC,CAiBjC;;AACA7Q,eAAO5J,EAAP,CAAU,OAAV,EAAmB,YAAW;AAC5BoJ,kBAAQiF,GAAR;AACAP,iBAAOC,IAAP;AACD,SAHD,EAlBiC,CAuBjC;;AACAnE,eAAO5J,EAAP,CAAU,UAAV,EAAsB,YAAW;AAC/Boa;AAEA,cAAI7Y,UAAU6Y,WAAWnQ,KAAzB;AACA,cAAI7L,IAAI+E,QAAQ5B,OAAR,GAAkB,CAA1B;AACA,cAAI5C,IAAIwE,QAAQ/E,CAAhB;;AAEA,cAAIA,MAAMic,KAAN,IAAe,CAACvU,QAAQ2U,OAA5B,EAAqC;AACnC;AACA;AACD;;AACDJ,kBAAQjc,CAAR;AAEA0P,iBAAOM,EAAP;AACAhP,kBAAQyO,MAAR,CAAeG,KAAf,CAAqB,QAArB;AACA5O,kBAAQyO,MAAR,CAAeG,KAAf,CAAqBL,MAAM,UAAN,EAAkB,OAAO7H,QAAQwU,IAAjC,CAArB;AACAlb,kBAAQyO,MAAR,CAAeG,KAAf,CAAqB5M,MAAMhD,CAAN,EAASiK,IAAT,CAAcvC,QAAQsU,QAAtB,CAArB;AACAhb,kBAAQyO,MAAR,CAAeG,KAAf,CAAqB5M,MAAMzC,CAAN,EAAS0J,IAAT,CAAcvC,QAAQyU,UAAtB,CAArB;AACAnb,kBAAQyO,MAAR,CAAeG,KAAf,CAAqBL,MAAM,UAAN,EAAkB7H,QAAQ0U,KAA1B,CAArB;;AACA,cAAI1U,QAAQ2U,OAAZ,EAAqB;AACnBrb,oBAAQyO,MAAR,CAAeG,KAAf,CAAqBL,MAAM,UAAN,EAAkB,MAAMyM,QAAN,GAAiB,MAAjB,GAA0BnQ,KAA5C,CAArB;AACD;AACF,SAtBD,EAxBiC,CAgDjC;AACA;;AACAL,eAAO5J,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1B8N,iBAAOG,IAAP;AACA7E,kBAAQiF,GAAR;AACA9N,eAAKgP,QAAL;AACD,SAJD;AAKD,OApFkB,CAsFnB;;;;AAGA5K,eAASrD,QAAT,EAAmB+J,IAAnB;AAEC,KA3FD,EA2FGpM,IA3FH,CA2FQ,IA3FR,EA2FaP,QAAQ,UAAR,CA3Fb;AA4FC,GA7F+C,EA6F9C;AAAC,gBAAW,EAAZ;AAAe,cAAS,EAAxB;AAA2B,gBAAW;AAAtC,GA7F8C,CAr6G2Y;AAkgH9Y,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACjF;;OAIA,IAAIqM,OAAO3M,QAAQ,QAAR,CAAX;;AACA,QAAIiG,WAAWjG,QAAQ,UAAR,EAAoBiG,QAAnC;;AACA,QAAIgJ,QAAQtC,KAAKsC,KAAjB;AACA,QAAIG,SAASzC,KAAKyC,MAAlB,CARiF,CAUjF;;;AAIA9O,cAAUG,OAAOH,OAAP,GAAiByW,IAA3B,CAdiF,CAgBjF;;;;;;;AAMA,aAASA,IAAT,CAAc7L,MAAd,EAAsB;AACpByB,WAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEA,UAAIrJ,OAAO,IAAX;AACA,UAAIoQ,UAAU,CAAd;AACA,UAAIvS,IAAI,CAAR;;AAEA,eAAS0R,MAAT,GAAkB;AAChB,eAAO1O,MAAMuP,OAAN,EAAetI,IAAf,CAAoB,IAApB,CAAP;AACD;;AAEDuB,aAAO5J,EAAP,CAAU,OAAV,EAAmB,YAAW;AAC5BoJ,gBAAQiF,GAAR;AACD,OAFD;AAIAzE,aAAO5J,EAAP,CAAU,OAAV,EAAmB,UAASmF,KAAT,EAAgB;AACjC,UAAEwL,OAAF;AACAvH,gBAAQiF,GAAR,CAAYV,MAAM,OAAN,EAAe,MAAf,CAAZ,EAAoCmC,QAApC,EAA8C3K,MAAMN,KAApD;AACD,OAHD;AAKA+E,aAAO5J,EAAP,CAAU,WAAV,EAAuB,YAAW;AAChC,UAAE2Q,OAAF;;AACA,YAAIA,YAAY,CAAhB,EAAmB;AACjBvH,kBAAQiF,GAAR;AACD;AACF,OALD;AAOAzE,aAAO5J,EAAP,CAAU,SAAV,EAAqB,UAAS+D,IAAT,EAAe;AAClC,YAAIuK,MAAMwB,WAAWnC,MAAM,SAAN,EAAiB,QAAjB,CAArB;AACAvE,gBAAQiF,GAAR,CAAYC,GAAZ,EAAiBvK,KAAKc,KAAtB;AACD,OAHD;AAKA+E,aAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/B,YAAIuK,GAAJ;;AACA,YAAIvK,KAAKsL,KAAL,KAAe,MAAnB,EAA2B;AACzBf,gBAAMwB,WACFnC,MAAM,WAAN,EAAmB,OAAOtC,KAAKkC,OAAL,CAAaC,EAAvC,CADE,GAEFG,MAAM,MAAN,EAAc,KAAd,CAFJ;AAGAG,iBAAOM,EAAP;AACAhF,kBAAQiF,GAAR,CAAYC,GAAZ,EAAiBvK,KAAKc,KAAtB;AACD,SAND,MAMO;AACLyJ,gBAAMwB,WACFnC,MAAM,WAAN,EAAmB,OAAOtC,KAAKkC,OAAL,CAAaC,EAAvC,CADE,GAEFG,MAAM,MAAN,EAAc,KAAd,CAFE,GAGFA,MAAM5J,KAAKsL,KAAX,EAAkB,SAAlB,CAHJ;AAIAvB,iBAAOM,EAAP;AACAhF,kBAAQiF,GAAR,CAAYC,GAAZ,EAAiBvK,KAAKc,KAAtB,EAA6Bd,KAAKoG,QAAlC;AACD;AACF,OAhBD;AAkBAP,aAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/B+J,eAAOM,EAAP;AACAhF,gBAAQiF,GAAR,CAAYyB,WAAWnC,MAAM,MAAN,EAAc,UAAd,CAAvB,EAAkD,EAAEvP,CAApD,EAAuD2F,KAAKc,KAA5D;AACD,OAHD;AAKA+E,aAAO5J,EAAP,CAAU,KAAV,EAAiBO,KAAKgP,QAAL,CAAcuI,IAAd,CAAmBvX,IAAnB,CAAjB;AACD,KA9EgF,CAgFjF;;;;AAGAoE,aAAS8Q,IAAT,EAAepK,IAAf;AAEC,GArF+C,EAqF9C;AAAC,gBAAW,EAAZ;AAAe,cAAS;AAAxB,GArF8C,CAlgH2Y;AAulH5Z,MAAG,CAAC,UAAS3M,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACnE;;OAIA,IAAIqM,OAAO3M,QAAQ,QAAR,CAAX,CALmE,CAOnE;;;;AAIAM,cAAUG,OAAOH,OAAP,GAAiBoW,GAA3B,CAXmE,CAanE;;;;;;;AAMA,aAASA,GAAT,CAAaxL,MAAb,EAAqB;AACnByB,WAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEA,UAAIxL,IAAI,CAAR;AACA,UAAI8L,SAAS,CAAb;AACA,UAAIH,WAAW,CAAf;AAEAH,aAAO5J,EAAP,CAAU,OAAV,EAAmB,YAAW;AAC5B,YAAIiK,QAAQL,OAAO8Q,SAAP,CAAiB9Q,OAAOzE,KAAxB,CAAZ;AACAiE,gBAAQiF,GAAR,CAAY,QAAZ,EAAsB,CAAtB,EAAyBpE,KAAzB;AACD,OAHD;AAKAL,aAAO5J,EAAP,CAAU,UAAV,EAAsB,YAAW;AAC/B,UAAE5B,CAAF;AACD,OAFD;AAIAwL,aAAO5J,EAAP,CAAU,SAAV,EAAqB,UAAS+D,IAAT,EAAe;AAClCqF,gBAAQiF,GAAR,CAAY,mBAAZ,EAAiCjQ,CAAjC,EAAoCyG,MAAMd,IAAN,CAApC;AACD,OAFD;AAIA6F,aAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/BmG;AACAd,gBAAQiF,GAAR,CAAY,UAAZ,EAAwBjQ,CAAxB,EAA2ByG,MAAMd,IAAN,CAA3B;AACD,OAHD;AAKA6F,aAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAeV,GAAf,EAAoB;AACpC0G;AACAX,gBAAQiF,GAAR,CAAY,cAAZ,EAA4BjQ,CAA5B,EAA+ByG,MAAMd,IAAN,CAA/B;;AACA,YAAIV,IAAIiG,KAAR,EAAe;AACbF,kBAAQiF,GAAR,CAAYhL,IAAIiG,KAAJ,CAAU2F,OAAV,CAAkB,KAAlB,EAAyB,IAAzB,CAAZ;AACD;AACF,OAND;AAQArF,aAAO5J,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1BoJ,gBAAQiF,GAAR,CAAY,cAAcnE,SAASH,QAAvB,CAAZ;AACAX,gBAAQiF,GAAR,CAAY,YAAYnE,MAAxB;AACAd,gBAAQiF,GAAR,CAAY,YAAYtE,QAAxB;AACD,OAJD;AAKD,KAzDkE,CA2DnE;;;;;;;;AAOA,aAASlF,KAAT,CAAed,IAAf,EAAqB;AACnB,aAAOA,KAAK2C,SAAL,GAAiBuI,OAAjB,CAAyB,IAAzB,EAA+B,EAA/B,CAAP;AACD;AAEA,GAtEiC,EAsEhC;AAAC,cAAS;AAAV,GAtEgC,CAvlHyZ;AA6pH1a,MAAG,CAAC,UAASvQ,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACrD,KAAC,UAAUsE,MAAV,EAAiB;AAClB;;SAIA,IAAI+H,OAAO3M,QAAQ,QAAR,CAAX;;AACA,UAAIsJ,QAAQtJ,QAAQ,UAAR,CAAZ;;AACA,UAAIiG,WAAWqD,MAAMrD,QAArB;;AACA,UAAIgW,KAAKjc,QAAQ,IAAR,CAAT;;AACA,UAAIgQ,SAAS1G,MAAM0G,MAAnB,CATkB,CAWlB;;oCAXkB,CAelB;AACA,UAAIhC,OAAOpJ,OAAOoJ,IAAlB;AACA,UAAIC,aAAarJ,OAAOqJ,UAAxB;AACA,UAAIC,cAActJ,OAAOsJ,WAAzB;AACA,UAAIC,eAAevJ,OAAOuJ,YAA1B;AACA,UAAIC,gBAAgBxJ,OAAOwJ,aAA3B,CApBkB,CAqBlB,sDArBkB,CAuBlB;;;AAIA9N,gBAAUG,OAAOH,OAAP,GAAiB6W,KAA3B,CA3BkB,CA6BlB;;;;;;;AAMA,eAASA,KAAT,CAAejM,MAAf,EAAuB9D,OAAvB,EAAgC;AAC9BuF,aAAKpM,IAAL,CAAU,IAAV,EAAgB2K,MAAhB;AAEA,YAAIE,QAAQ,KAAKA,KAAjB;AACA,YAAIoF,QAAQ,EAAZ;AACA,YAAI3O,OAAO,IAAX;;AAEA,YAAIuF,QAAQgD,eAAR,IAA2BhD,QAAQgD,eAAR,CAAwBsN,MAAvD,EAA+D;AAC7D,cAAI,CAACuE,GAAGC,iBAAR,EAA2B;AACzB,kBAAM,IAAI/b,KAAJ,CAAU,sCAAV,CAAN;AACD;;AACD0B,eAAKsa,UAAL,GAAkBF,GAAGC,iBAAH,CAAqB9U,QAAQgD,eAAR,CAAwBsN,MAA7C,CAAlB;AACD;;AAEDxM,eAAO5J,EAAP,CAAU,SAAV,EAAqB,UAAS+D,IAAT,EAAe;AAClCmL,gBAAM9O,IAAN,CAAW2D,IAAX;AACD,SAFD;AAIA6F,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/BmL,gBAAM9O,IAAN,CAAW2D,IAAX;AACD,SAFD;AAIA6F,eAAO5J,EAAP,CAAU,MAAV,EAAkB,UAAS+D,IAAT,EAAe;AAC/BmL,gBAAM9O,IAAN,CAAW2D,IAAX;AACD,SAFD;AAIA6F,eAAO5J,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1BO,eAAKyN,KAAL,CAAW8M,IAAI,WAAJ,EAAiB;AAC1B7a,kBAAM,aADoB;AAE1BiP,mBAAOpF,MAAMoF,KAFa;AAG1BnF,sBAAUD,MAAMC,QAHU;AAI1BgR,oBAAQjR,MAAMC,QAJY;AAK1BiR,qBAASlR,MAAMoF,KAAN,GAAcpF,MAAMC,QAApB,GAA+BD,MAAMI,MALpB;AAM1B+Q,uBAAY,IAAIvO,IAAJ,EAAD,CAAawO,WAAb,EANe;AAO1BC,kBAAOrR,MAAMK,QAAN,GAAiB,IAAlB,IAA2B;AAPP,WAAjB,EAQR,KARQ,CAAX;AAUA+E,gBAAMzF,OAAN,CAAc,UAAStL,CAAT,EAAY;AACxBoC,iBAAKwD,IAAL,CAAU5F,CAAV;AACD,WAFD;AAIAoC,eAAKyN,KAAL,CAAW,cAAX;AACD,SAhBD;AAiBD,OA9EiB,CAgFlB;;;;AAGArJ,eAASkR,KAAT,EAAgBxK,IAAhB,EAnFkB,CAqFlB;;;;;;;AAMAwK,YAAMjW,SAAN,CAAgB0L,IAAhB,GAAuB,UAASvB,QAAT,EAAmB7J,EAAnB,EAAuB;AAC5C,YAAI,KAAK2a,UAAT,EAAqB;AACnB,eAAKA,UAAL,CAAgBvL,GAAhB,CAAoB,YAAW;AAC7BpP,eAAG6J,QAAH;AACD,WAFD;AAGD,SAJD,MAIO;AACL7J,aAAG6J,QAAH;AACD;AACF,OARD,CA3FkB,CAqGlB;;;;;;AAKA8L,YAAMjW,SAAN,CAAgBoO,KAAhB,GAAwB,UAASgC,IAAT,EAAe;AACrC,YAAI,KAAK6K,UAAT,EAAqB;AACnB,eAAKA,UAAL,CAAgB7M,KAAhB,CAAsBgC,OAAO,IAA7B;AACD,SAFD,MAEO;AACL5G,kBAAQiF,GAAR,CAAY2B,IAAZ;AACD;AACF,OAND,CA1GkB,CAkHlB;;;;;;AAKA6F,YAAMjW,SAAN,CAAgBmE,IAAhB,GAAuB,UAASA,IAAT,EAAe;AACpC,YAAIqX,QAAQ;AACV3G,qBAAW1Q,KAAKsX,MAAL,CAAY3U,SAAZ,EADD;AAEVzG,gBAAM8D,KAAKc,KAFD;AAGVsW,gBAAOpX,KAAKoG,QAAL,GAAgB,IAAjB,IAA0B;AAHtB,SAAZ;;AAMA,YAAIpG,KAAKqP,KAAL,KAAe,QAAnB,EAA6B;AAC3B,cAAI/P,MAAMU,KAAKV,GAAf;AACA,eAAK2K,KAAL,CAAW8M,IAAI,UAAJ,EAAgBM,KAAhB,EAAuB,KAAvB,EAA8BN,IAAI,SAAJ,EAAe,EAAf,EAAmB,KAAnB,EAA0BQ,MAAM5M,OAAOrL,IAAI6F,OAAX,IAAsB,IAAtB,GAA6B7F,IAAIiG,KAAvC,CAA1B,CAA9B,CAAX;AACD,SAHD,MAGO,IAAIvF,KAAKwC,OAAT,EAAkB;AACvB,eAAKyH,KAAL,CAAW8M,IAAI,UAAJ,EAAgBM,KAAhB,EAAuB,KAAvB,EAA8BN,IAAI,SAAJ,EAAe,EAAf,EAAmB,IAAnB,CAA9B,CAAX;AACD,SAFM,MAEA;AACL,eAAK9M,KAAL,CAAW8M,IAAI,UAAJ,EAAgBM,KAAhB,EAAuB,IAAvB,CAAX;AACD;AACF,OAfD,CAvHkB,CAwIlB;;;;;;;;;;AASA,eAASN,GAAT,CAAa7a,IAAb,EAAmBmb,KAAnB,EAA0BZ,KAA1B,EAAiCe,OAAjC,EAA0C;AACxC,YAAIjM,MAAMkL,QAAQ,IAAR,GAAe,GAAzB;AACA,YAAIgB,QAAQ,EAAZ;AACA,YAAIV,GAAJ;;AAEA,aAAK,IAAIrW,GAAT,2CAAgB2W,KAAhB,GAAuB;AACrB,cAAIzb,OAAOC,SAAP,CAAiBiX,cAAjB,CAAgC5X,IAAhC,CAAqCmc,KAArC,EAA4C3W,GAA5C,CAAJ,EAAsD;AACpD+W,kBAAMpb,IAAN,CAAWqE,MAAM,IAAN,GAAaiK,OAAO0M,MAAM3W,GAAN,CAAP,CAAb,GAAkC,GAA7C;AACD;AACF;;AAEDqW,cAAM,MAAM7a,IAAN,IAAcub,MAAMtc,MAAN,GAAe,MAAMsc,MAAMnT,IAAN,CAAW,GAAX,CAArB,GAAuC,EAArD,IAA2DiH,GAAjE;;AACA,YAAIiM,OAAJ,EAAa;AACXT,iBAAOS,UAAU,IAAV,GAAiBtb,IAAjB,GAAwBqP,GAA/B;AACD;;AACD,eAAOwL,GAAP;AACD,OAjKiB,CAmKlB;;;;AAIA,eAASQ,KAAT,CAAezP,GAAf,EAAoB;AAClB,eAAO,cAAc6C,OAAO7C,GAAP,CAAd,GAA4B,KAAnC;AACD;AAEA,KA3KD,EA2KG5M,IA3KH,CA2KQ,IA3KR,EA2Ka,OAAOqE,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAO/C,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOoD,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EA3KpI;AA4KC,GA7KmB,EA6KlB;AAAC,gBAAW,EAAZ;AAAe,cAAS,EAAxB;AAA2B,UAAK;AAAhC,GA7KkB,CA7pHua;AA00HpZ,MAAG,CAAC,UAASjF,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC3E,KAAC,UAAUsE,MAAV,EAAiB;AAClB;;SAIA,IAAI7D,eAAef,QAAQ,QAAR,EAAkBe,YAArC;;AACA,UAAI6M,UAAU5N,QAAQ,WAAR,CAAd;;AACA,UAAI+c,QAAQ/c,QAAQ,OAAR,EAAiB,gBAAjB,CAAZ;;AACA,UAAIgd,eAAehd,QAAQ,MAAR,CAAnB;;AACA,UAAIsJ,QAAQtJ,QAAQ,SAAR,CAAZ;;AACA,UAAIiG,WAAWqD,MAAMrD,QAArB,CAVkB,CAYlB;;wCAZkB,CAgBlB;AACA,UAAI+H,OAAOpJ,OAAOoJ,IAAlB;AACA,UAAIC,aAAarJ,OAAOqJ,UAAxB;AACA,UAAIC,cAActJ,OAAOsJ,WAAzB;AACA,UAAIC,eAAevJ,OAAOuJ,YAA1B;AACA,UAAIC,gBAAgBxJ,OAAOwJ,aAA3B,CArBkB,CAsBlB,sDAtBkB,CAwBlB;;;AAIA,UAAIjN,WAAWF,OAAOC,SAAP,CAAiBC,QAAhC,CA5BkB,CA8BlB;;;AAIAV,aAAOH,OAAP,GAAiB0F,QAAjB,CAlCkB,CAoClB;;;;;;;;;;AASA,eAASA,QAAT,CAAkBG,KAAlB,EAAyB3E,EAAzB,EAA6B;AAC3B,aAAK2E,KAAL,GAAaA,KAAb;AACA,aAAK3E,EAAL,GAAUA,EAAV;AACA,aAAKyb,KAAL,GAAazb,MAAMA,GAAGhB,MAAtB;AACA,aAAK0c,IAAL,GAAY,CAAC,KAAKD,KAAlB;AACA,aAAKE,QAAL,GAAgB,IAAhB;AACA,aAAKC,KAAL,GAAa,EAAb;AACA,aAAKC,eAAL,GAAuB,IAAvB;AACA,aAAKC,QAAL,GAAgB,KAAhB;AACA,aAAKC,MAAL,GAAc,IAAIpd,KAAJ,CAAU,8BAAV,CAAd;AACD,OAvDiB,CAyDlB;;;;AAGA8F,eAASD,QAAT,EAAmBjF,YAAnB,EA5DkB,CA8DlB;;;;;;;;AAOAiF,eAAS9E,SAAT,CAAmBoE,OAAnB,GAA6B,UAASC,EAAT,EAAa;AACxC,YAAI,CAACvD,UAAUxB,MAAf,EAAuB;AACrB,iBAAO,KAAK2c,QAAZ;AACD;;AACD,YAAI5X,OAAO,CAAX,EAAc;AACZ,eAAK8X,eAAL,GAAuB,KAAvB;AACD;;AACD,YAAI,OAAO9X,EAAP,KAAc,QAAlB,EAA4B;AAC1BA,eAAKyX,aAAazX,EAAb,CAAL;AACD;;AACDwX,cAAM,YAAN,EAAoBxX,EAApB;AACA,aAAK4X,QAAL,GAAgB5X,EAAhB;;AACA,YAAI,KAAKiY,KAAT,EAAgB;AACd,eAAKC,YAAL;AACD;;AACD,eAAO,IAAP;AACD,OAhBD,CArEkB,CAuFlB;;;;;;;;AAOAzX,eAAS9E,SAAT,CAAmBwE,IAAnB,GAA0B,UAASH,EAAT,EAAa;AACrC,YAAI,CAACvD,UAAUxB,MAAf,EAAuB;AACrB,iBAAO,KAAK4c,KAAZ;AACD;;AACD,YAAI,OAAO7X,EAAP,KAAc,QAAlB,EAA4B;AAC1BA,eAAKyX,aAAazX,EAAb,CAAL;AACD;;AACDwX,cAAM,YAAN,EAAoBxX,EAApB;AACA,aAAK6X,KAAL,GAAa7X,EAAb;AACA,eAAO,IAAP;AACD,OAVD,CA9FkB,CA0GlB;;;;;;;;AAOAS,eAAS9E,SAAT,CAAmBsE,cAAnB,GAAoC,UAASC,OAAT,EAAkB;AACpD,YAAI,CAACzD,UAAUxB,MAAf,EAAuB;AACrB,iBAAO,KAAK6c,eAAZ;AACD;;AACDN,cAAM,mBAAN,EAA2BtX,OAA3B;AACA,aAAK4X,eAAL,GAAuB5X,OAAvB;AACA,eAAO,IAAP;AACD,OAPD,CAjHkB,CA0HlB;;;;;;AAKAO,eAAS9E,SAAT,CAAmByE,IAAnB,GAA0B,YAAW;AACnC,cAAM,IAAIiI,OAAJ,EAAN;AACD,OAFD,CA/HkB,CAmIlB;;;;;;;;AAOA5H,eAAS9E,SAAT,CAAmB8G,SAAnB,GAA+B,YAAW;AACxC,eAAO,KAAK2U,MAAL,CAAY3U,SAAZ,KAA0B,GAA1B,GAAgC,KAAK7B,KAA5C;AACD,OAFD,CA1IkB,CA8IlB;;;;;;AAKAH,eAAS9E,SAAT,CAAmBiN,YAAnB,GAAkC,YAAW;AAC3CA,qBAAa,KAAKqP,KAAlB;AACD,OAFD,CAnJkB,CAuJlB;;;;;;;AAMAxX,eAAS9E,SAAT,CAAmB0E,OAAnB,GAA6B,YAAW;AACtC,eAAOC,KAAKC,SAAL,CAAe,IAAf,EAAqB,UAASC,GAAT,EAAc1E,GAAd,EAAmB;AAC7C,cAAI0E,IAAI,CAAJ,MAAW,GAAf,EAAoB;AAClB;AACD;;AACD,cAAIA,QAAQ,QAAZ,EAAsB;AACpB,mBAAO,UAAP;AACD;;AACD,cAAIA,QAAQ,KAAZ,EAAmB;AACjB,mBAAO,YAAP;AACD;;AACD,iBAAO1E,GAAP;AACD,SAXM,EAWJ,CAXI,CAAP;AAYD,OAbD,CA7JkB,CA4KlB;;;;;;AAKA2E,eAAS9E,SAAT,CAAmBuc,YAAnB,GAAkC,YAAW;AAC3C,YAAI5b,OAAO,IAAX;AACA,YAAI0D,KAAK,KAAKD,OAAL,MAAkB,GAA3B;;AAEA,YAAI,CAAC,KAAK+X,eAAV,EAA2B;AACzB;AACD;;AACD,aAAKlP,YAAL;AACA,aAAKqP,KAAL,GAAavP,WAAW,YAAW;AACjC,cAAI,CAACpM,KAAKwb,eAAV,EAA2B;AACzB;AACD;;AACDxb,eAAK6b,QAAL,CAAc,IAAIvd,KAAJ,CAAU,gBAAgBoF,EAAhB,GAAqB,uEAA/B,CAAd;AACA1D,eAAKyb,QAAL,GAAgB,IAAhB;AACD,SANY,EAMV/X,EANU,CAAb;AAOD,OAfD,CAjLkB,CAkMlB;;;;;;;AAMAS,eAAS9E,SAAT,CAAmBiL,OAAnB,GAA6B,UAASA,OAAT,EAAkB;AAC7C,aAAKwR,eAAL,GAAuBxR,OAAvB;AACD,OAFD,CAxMkB,CA4MlB;;;;;;;AAMAnG,eAAS9E,SAAT,CAAmBiG,GAAnB,GAAyB,UAAS3F,EAAT,EAAa;AACpC,YAAIK,OAAO,IAAX;AACA,YAAI4O,QAAQ,IAAIzC,IAAJ,EAAZ;AACA,YAAIvK,MAAM,KAAKA,GAAf;AACA,YAAIma,QAAJ;AACA,YAAIC,OAAJ,CALoC,CAOpC;;AACA,YAAIpa,OAAOA,IAAI0B,QAAf,EAAyB;AACvB1B,cAAI0B,QAAJ,CAAa,IAAb;AACD,SAVmC,CAYpC;;;AACA,iBAAS2Y,QAAT,CAAkBnZ,GAAlB,EAAuB;AACrB,cAAIkZ,OAAJ,EAAa;AACX;AACD;;AACDA,oBAAU,IAAV;AACAhc,eAAKU,IAAL,CAAU,OAAV,EAAmBoC,OAAO,IAAIxE,KAAJ,CAAU,4DAAV,CAA1B;AACD,SAnBmC,CAqBpC;;;AACA,iBAASyM,IAAT,CAAcjI,GAAd,EAAmB;AACjB,cAAIY,KAAK1D,KAAKyD,OAAL,EAAT;;AACA,cAAIzD,KAAKyb,QAAT,EAAmB;AACjB;AACD;;AACD,cAAIM,QAAJ,EAAc;AACZ,mBAAOE,SAASnZ,OAAO9C,KAAK0b,MAArB,CAAP;AACD;;AAED1b,eAAKsM,YAAL;AACAtM,eAAK4J,QAAL,GAAgB,IAAIuC,IAAJ,KAAayC,KAA7B;AACAmN,qBAAW,IAAX;;AACA,cAAI,CAACjZ,GAAD,IAAQ9C,KAAK4J,QAAL,GAAgBlG,EAAxB,IAA8B1D,KAAKwb,eAAvC,EAAwD;AACtD1Y,kBAAM,IAAIxE,KAAJ,CAAU,gBAAgBoF,EAAhB,GAAqB,uEAA/B,CAAN;AACD;;AACD/D,aAAGmD,GAAH;AACD,SAtCmC,CAwCpC;;;AACA,aAAK+Y,QAAL,GAAgB9Q,IAAhB,CAzCoC,CA2CpC;;AACA,YAAI,KAAKqQ,KAAT,EAAgB;AACd,eAAKQ,YAAL;;AAEA,cAAI,KAAK/Q,aAAT,EAAwB;AACtB,mBAAOqR,YAAY,KAAKvc,EAAjB,CAAP;AACD;;AACD,cAAI;AACFuc,wBAAY,KAAKvc,EAAjB;AACD,WAFD,CAEE,OAAOmD,GAAP,EAAY;AACZiI,iBAAKtD,MAAM0U,QAAN,CAAerZ,GAAf,CAAL;AACD;;AACD;AACD;;AAED,YAAI,KAAK+H,aAAT,EAAwB;AACtBuR,iBAAO,KAAKzc,EAAZ;AACAoL;AACA;AACD,SA9DmC,CAgEpC;;;AACA,YAAI;AACF,cAAI,KAAK/E,OAAT,EAAkB;AAChB+E;AACD,WAFD,MAEO;AACLqR,mBAAO,KAAKzc,EAAZ;AACD;AACF,SAND,CAME,OAAOmD,GAAP,EAAY;AACZiI,eAAKtD,MAAM0U,QAAN,CAAerZ,GAAf,CAAL;AACD;;AAED,iBAASsZ,MAAT,CAAgBzc,EAAhB,EAAoB;AAClB,cAAIoW,SAASpW,GAAGjB,IAAH,CAAQkD,GAAR,CAAb;;AACA,cAAImU,UAAU,OAAOA,OAAOsG,IAAd,KAAuB,UAArC,EAAiD;AAC/Crc,iBAAK4b,YAAL;AACA7F,mBACGsG,IADH,CACQ,YAAW;AACftR;AACD,aAHH,EAIE,UAASuR,MAAT,EAAiB;AACfvR,mBAAKuR,UAAU,IAAIhe,KAAJ,CAAU,0CAAV,CAAf;AACD,aANH;AAOD,WATD,MASO;AACL,gBAAI0B,KAAK2K,SAAT,EAAoB;AAClB,qBAAOI,KAAK,IAAIzM,KAAJ,CAAU,8EAAV,CAAL,CAAP;AACD;;AAEDyM;AACD;AACF;;AAED,iBAASmR,WAAT,CAAqBvc,EAArB,EAAyB;AACvBA,aAAGjB,IAAH,CAAQkD,GAAR,EAAa,UAASkB,GAAT,EAAc;AACzB,gBAAIA,eAAexE,KAAf,IAAwBgB,SAASZ,IAAT,CAAcoE,GAAd,MAAuB,gBAAnD,EAAqE;AACnE,qBAAOiI,KAAKjI,GAAL,CAAP;AACD;;AACD,gBAAIA,GAAJ,EAAS;AACP,kBAAI1D,OAAOC,SAAP,CAAiBC,QAAjB,CAA0BZ,IAA1B,CAA+BoE,GAA/B,MAAwC,iBAA5C,EAA+D;AAC7D,uBAAOiI,KAAK,IAAIzM,KAAJ,CAAU,oCAClB0F,KAAKC,SAAL,CAAenB,GAAf,CADQ,CAAL,CAAP;AAED;;AACD,qBAAOiI,KAAK,IAAIzM,KAAJ,CAAU,oCAAoCwE,GAA9C,CAAL,CAAP;AACD;;AACDiI;AACD,WAZD;AAaD;AACF,OA9GD;AAgHC,KAlUD,EAkUGrM,IAlUH,CAkUQ,IAlUR,EAkUa,OAAOqE,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAO/C,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOoD,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAlUpI;AAmUC,GApUyC,EAoUxC;AAAC,YAAO,EAAR;AAAW,iBAAY,EAAvB;AAA0B,eAAU,EAApC;AAAuC,aAAQ,CAA/C;AAAiD,cAAS;AAA1D,GApUwC,CA10HiZ;AA8oI3X,MAAG,CAAC,UAASjF,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACpG,KAAC,UAAUI,OAAV,EAAkBkE,MAAlB,EAAyB;AAC1B;;SAIA,IAAI7D,eAAef,QAAQ,QAAR,EAAkBe,YAArC;;AACA,UAAI6M,UAAU5N,QAAQ,WAAR,CAAd;;AACA,UAAIsJ,QAAQtJ,QAAQ,SAAR,CAAZ;;AACA,UAAIiG,WAAWqD,MAAMrD,QAArB;;AACA,UAAI8W,QAAQ/c,QAAQ,OAAR,EAAiB,cAAjB,CAAZ;;AACA,UAAIgG,WAAWhG,QAAQ,YAAR,CAAf;;AACA,UAAI2R,SAASrI,MAAMqI,MAAnB;AACA,UAAIlH,UAAUnB,MAAMmB,OAApB;AACA,UAAI2T,OAAO9U,MAAM8U,IAAjB;AACA,UAAIC,cAAc/U,MAAMgV,gBAAN,EAAlB;AACA,UAAIxY,YAAYwD,MAAMxD,SAAtB;AACA,UAAIhF,OAAOwI,MAAMxI,IAAjB;AACA,UAAIyd,iBAAiBjV,MAAMiV,cAA3B,CAjB0B,CAmB1B;;;AAIA,UAAIpS,UAAU,CACZ,YADY,EAEZ,cAFY,EAGZ,aAHY,EAIZ,eAJY,EAKZ,gBALY,EAMZ,MANY,EAOZ,cAPY,EAQZ,gBARY,CAAd,CAvB0B,CAkC1B;;;AAIA1L,aAAOH,OAAP,GAAiBuJ,MAAjB,CAtC0B,CAwC1B;;;;;;;;;;;;;;;;;;;;;;;AAsBA,eAASA,MAAT,CAAgBpD,KAAhB,EAAuBY,KAAvB,EAA8B;AAC5B,YAAIxF,OAAO,IAAX;AACA,aAAK2c,QAAL,GAAgB,EAAhB;AACA,aAAKC,MAAL,GAAc,KAAd;AACA,aAAKC,MAAL,GAAcrX,KAAd;AACA,aAAKZ,KAAL,GAAaA,KAAb;AACA,aAAKkY,OAAL,GAAe,KAAf;AACA,aAAKpT,KAAL,GAAa9E,MAAM8E,KAAN,EAAb;AACA,aAAKF,QAAL,GAAgB,CAAhB;AACA,aAAK/J,EAAL,CAAQ,UAAR,EAAoB,UAAS+D,IAAT,EAAe;AACjCxD,eAAK+c,YAAL,CAAkBvZ,IAAlB;AACD,SAFD;AAGA,aAAK/D,EAAL,CAAQ,UAAR,EAAoB,UAASud,IAAT,EAAe;AACjChd,eAAK+c,YAAL,CAAkBC,IAAlB;AACD,SAFD;AAGA,aAAKC,YAAL,GAAoB,IAApB;AACA,aAAK/W,IAAL,CAAU,KAAK+W,YAAf;AACA,aAAK3S,OAAL,CAAa,KAAK4S,WAAL,GAAmB3S,MAAnB,CAA0B4S,cAA1B,CAAb;AACD,OAhFyB,CAkF1B;;;;;;;AAMAnV,aAAOoV,WAAP,GAAqBra,OAAOsa,YAAP,IAAuBxe,QAAQye,QAApD,CAxF0B,CA0F1B;;;AAGAlZ,eAAS4D,MAAT,EAAiB9I,YAAjB,EA7F0B,CA+F1B;;;;;;;;;;;;;AAYA8I,aAAO3I,SAAP,CAAiB6G,IAAjB,GAAwB,UAAS2D,EAAT,EAAaC,MAAb,EAAqB;AAC3CoR,cAAM,SAAN,EAAiBrR,EAAjB;AACA,aAAK0T,KAAL,GAAa1T,EAAb;AACA,aAAK2T,OAAL,GAAe1T,MAAf;AACA,aAAKJ,KAAL,GAAa,KAAKyQ,SAAL,CAAe,KAAKvV,KAApB,CAAb;AACA,eAAO,IAAP;AACD,OAND,CA3G0B,CAmH1B;;;;;;;;;;;AAUAoD,aAAO3I,SAAP,CAAiB8a,SAAjB,GAA6B,UAASvV,KAAT,EAAgB;AAC3C,YAAI5E,OAAO,IAAX;AACA,YAAI0J,QAAQ,CAAZ;AAEA9E,cAAM6Y,QAAN,CAAe,UAASja,IAAT,EAAe;AAC5B,cAAI+H,QAAQvL,KAAKud,KAAL,CAAW/Z,IAAX,CAAgBA,KAAK2C,SAAL,EAAhB,CAAZ;;AACA,cAAInG,KAAKwd,OAAT,EAAkB;AAChBjS,oBAAQ,CAACA,KAAT;AACD;;AACD,cAAIA,KAAJ,EAAW;AACT7B;AACD;AACF,SARD;AAUA,eAAOA,KAAP;AACD,OAfD,CA7H0B,CA8I1B;;;;;;;AAMA1B,aAAO3I,SAAP,CAAiB6d,WAAjB,GAA+B,YAAW;AACxC,YAAIQ,QAAQnB,KAAKxZ,MAAL,CAAZ,CADwC,CAGxC;;AACA,aAAK,IAAI3E,IAAI,CAAb,EAAgBA,IAAIkM,QAAQ3L,MAA5B,EAAoC,EAAEP,CAAtC,EAAyC;AACvC,cAAI,CAACwK,QAAQ8U,KAAR,EAAepT,QAAQlM,CAAR,CAAf,CAAL,EAAiC;AAC/B;AACD;;AACDsf,gBAAM7d,IAAN,CAAWyK,QAAQlM,CAAR,CAAX;AACD;;AAED,eAAOsf,KAAP;AACD,OAZD,CApJ0B,CAkK1B;;;;;;;;;;AASA1V,aAAO3I,SAAP,CAAiBiL,OAAjB,GAA2B,UAASqT,GAAT,EAAc;AACvC,YAAI,CAACxd,UAAUxB,MAAf,EAAuB;AACrB,iBAAO,KAAKge,QAAZ;AACD;;AACDzB,cAAM,YAAN,EAAoByC,GAApB;AACA,aAAKhB,QAAL,GAAgB,KAAKA,QAAL,CAAcpS,MAAd,CAAqBoT,GAArB,CAAhB;AACA,eAAO,IAAP;AACD,OAPD,CA3K0B,CAoL1B;;;;;;AAKA3V,aAAO3I,SAAP,CAAiB0d,YAAjB,GAAgC,UAASvZ,IAAT,EAAe;AAC7C,YAAI,KAAKuG,WAAT,EAAsB;AACpB;AACD;;AACD,YAAIkD,KAAK,KAAK0P,QAAd;AAEA,YAAIrS,UAAU,KAAK4S,WAAL,EAAd;AACA,YAAIU,KAAJ;;AAEA,YAAIpa,IAAJ,EAAU;AACRyJ,eAAKA,GAAG1C,MAAH,CAAU/G,KAAKsY,eAAL,IAAwB,EAAlC,CAAL;AACD;;AAED,YAAI,KAAK+B,iBAAL,KAA2BvT,QAAQ3L,MAAvC,EAA+C;AAC7C;AACD;;AACD,aAAKkf,iBAAL,GAAyBvT,QAAQ3L,MAAjC;AAEAif,gBAAQE,YAAY7Q,EAAZ,EAAgB3C,OAAhB,CAAR;AACA,aAAKqS,QAAL,GAAgB,KAAKA,QAAL,CAAcpS,MAAd,CAAqBqT,KAArB,CAAhB;;AAEA,YAAIA,MAAMjf,MAAN,GAAe,CAAnB,EAAsB;AACpB,eAAK+N,IAAL,CAAUlJ,IAAV,EAAgB,IAAIlF,KAAJ,CAAU,4BAA4Bsf,MAAM9V,IAAN,CAAW,IAAX,CAA5B,GAA+C,EAAzD,CAAhB;AACD,SAFD,MAEO,IAAI8V,MAAMjf,MAAV,EAAkB;AACvB,eAAK+N,IAAL,CAAUlJ,IAAV,EAAgB,IAAIlF,KAAJ,CAAU,2BAA2Bsf,MAAM,CAAN,CAArC,CAAhB;AACD;AACF,OA1BD,CAzL0B,CAqN1B;;;;;;;;AAOA5V,aAAO3I,SAAP,CAAiBqN,IAAjB,GAAwB,UAASlJ,IAAT,EAAeV,GAAf,EAAoB;AAC1C,UAAE,KAAK0G,QAAP;AACAhG,aAAKqP,KAAL,GAAa,QAAb;;AAEA,YAAI,EAAE/P,eAAexE,KAAf,IAAwBwE,OAAO,OAAOA,IAAI6F,OAAX,KAAuB,QAAxD,CAAJ,EAAuE;AACrE7F,gBAAM,IAAIxE,KAAJ,CAAU,SAASW,KAAK6D,GAAL,CAAT,GAAqB,GAArB,GAA2BmB,UAAUnB,GAAV,CAA3B,GAA4C,gCAAtD,CAAN;AACD;;AAEDA,YAAIiG,KAAJ,GAAa,KAAKqB,cAAL,IAAuB,CAACtH,IAAIiG,KAA7B,GACRjG,IAAIiG,KADI,GAERyT,YAAY1Z,IAAIiG,KAAhB,CAFJ;AAIA,aAAKrI,IAAL,CAAU,MAAV,EAAkB8C,IAAlB,EAAwBV,GAAxB;AACD,OAbD,CA5N0B,CA2O1B;;;;;;;;;;;;;;;;;;;;;AAoBAkF,aAAO3I,SAAP,CAAiB0e,QAAjB,GAA4B,UAASf,IAAT,EAAela,GAAf,EAAoB;AAC9C,YAAIka,KAAKpb,GAAL,IAAYob,KAAKpb,GAAL,CAASoc,WAAzB,EAAsC;AACpChB,eAAKiB,aAAL,GAAqBjB,KAAKiB,aAAL,IAAsBjB,KAAK1Y,KAAhD;AACA0Y,eAAK1Y,KAAL,GAAa0Y,KAAKiB,aAAL,GAAqB,QAArB,GAAgCjB,KAAKpb,GAAL,CAASoc,WAAT,CAAqB1Z,KAArD,GAA6D,GAA1E;AACD;;AAED,aAAKoI,IAAL,CAAUsQ,IAAV,EAAgBla,GAAhB;;AACA,YAAI,KAAK8B,KAAL,CAAWyD,IAAX,EAAJ,EAAuB;AACrB,eAAK3H,IAAL,CAAU,KAAV;AACD;AACF,OAVD,CA/P0B,CA2Q1B;;;;;;;;AAQAsH,aAAO3I,SAAP,CAAiB2d,IAAjB,GAAwB,UAAStd,IAAT,EAAeC,EAAf,EAAmB;AACzC,YAAIiF,QAAQ,KAAKA,KAAjB;AACA,YAAIsZ,QAAQtZ,MAAM,MAAMlF,IAAZ,CAAZ;AACA,YAAIM,OAAO,IAAX;;AAEA,iBAASme,IAAT,CAAc/f,CAAd,EAAiB;AACf,cAAI4e,OAAOkB,MAAM9f,CAAN,CAAX;;AACA,cAAI,CAAC4e,IAAL,EAAW;AACT,mBAAOrd,IAAP;AACD;;AACDK,eAAKoe,eAAL,GAAuBpB,IAAvB;AAEAA,eAAKpb,GAAL,CAASoc,WAAT,GAAuBhe,KAAKwD,IAA5B;AAEAxD,eAAKU,IAAL,CAAU,MAAV,EAAkBsc,IAAlB;;AAEA,cAAI,CAACA,KAAKvc,SAAL,CAAe,OAAf,EAAwB9B,MAA7B,EAAqC;AACnCqe,iBAAKvd,EAAL,CAAQ,OAAR,EAAiB,UAASqD,GAAT,EAAc;AAC7B9C,mBAAK+d,QAAL,CAAcf,IAAd,EAAoBla,GAApB;AACD,aAFD;AAGD;;AAEDka,eAAK1X,GAAL,CAAS,UAASxC,GAAT,EAAc;AACrB,gBAAIub,YAAYrB,KAAKzY,KAAL,EAAhB;;AACA,gBAAI8Z,SAAJ,EAAe;AACbre,mBAAK0M,IAAL,CAAU1M,KAAKwD,IAAf,EAAqB6a,SAArB;AACD;;AACD,gBAAIvb,GAAJ,EAAS;AACP,kBAAIA,eAAeiJ,OAAnB,EAA4B;AAC1BnH,sBAAMoB,OAAN,GAAgB,IAAhB;AACD,eAFD,MAEO;AACLhG,qBAAK+d,QAAL,CAAcf,IAAd,EAAoBla,GAApB,EADK,CAGL;;AACA,uBAAOnD,GAAGmD,GAAH,CAAP;AACD;AACF;;AACD9C,iBAAKU,IAAL,CAAU,UAAV,EAAsBsc,IAAtB;AACA,mBAAOA,KAAKpb,GAAL,CAASoc,WAAhB;AACAG,iBAAK,EAAE/f,CAAP;AACD,WAlBD;AAmBD;;AAED4J,eAAOoV,WAAP,CAAmB,YAAW;AAC5Be,eAAK,CAAL;AACD,SAFD;AAGD,OA9CD,CAnR0B,CAmU1B;;;;;;;;;;AASAnW,aAAO3I,SAAP,CAAiB6e,KAAjB,GAAyB,UAASxe,IAAT,EAAemF,MAAf,EAAuBlF,EAAvB,EAA2B;AAClD,YAAIK,OAAO,IAAX;AACA,YAAIse,OAAO,KAAK1Z,KAAhB;;AAEA,iBAASuZ,IAAT,CAAcvZ,KAAd,EAAqB;AACnB5E,eAAK4E,KAAL,GAAaA,KAAb;;AAEA,cAAI,CAACA,KAAL,EAAY;AACV5E,iBAAK4E,KAAL,GAAa0Z,IAAb;AACA,mBAAO3e,IAAP;AACD;;AAEDK,eAAKgd,IAAL,CAAUtd,IAAV,EAAgB,UAASoD,GAAT,EAAc;AAC5B,gBAAIA,GAAJ,EAAS;AACP,kBAAIyb,WAAWve,KAAK4E,KAApB;AACA5E,mBAAK4E,KAAL,GAAa0Z,IAAb;AACA,qBAAO3e,GAAGmD,GAAH,EAAQyb,QAAR,CAAP;AACD;;AAEDJ,iBAAKtZ,OAAO2Z,GAAP,EAAL;AACD,WARD;AASD;;AAEDL,aAAKtZ,OAAO2Z,GAAP,EAAL;AACD,OAxBD,CA5U0B,CAsW1B;;;;;;;;AAOAxW,aAAO3I,SAAP,CAAiBof,MAAjB,GAA0B,UAAS/e,IAAT,EAAeC,EAAf,EAAmB;AAC3C,YAAIkF,SAAS,CAAC,KAAKD,KAAN,EAAa2F,MAAb,CAAoB,KAAKmU,OAAL,EAApB,EAAoCC,OAApC,EAAb;AACA,aAAKT,KAAL,CAAWxe,IAAX,EAAiBmF,MAAjB,EAAyBlF,EAAzB;AACD,OAHD,CA7W0B,CAkX1B;;;;;;;;AAOAqI,aAAO3I,SAAP,CAAiBuf,QAAjB,GAA4B,UAASlf,IAAT,EAAeC,EAAf,EAAmB;AAC7C,YAAIkF,SAAS,CAAC,KAAKD,KAAN,EAAa2F,MAAb,CAAoB,KAAKmU,OAAL,EAApB,CAAb;AACA,aAAKR,KAAL,CAAWxe,IAAX,EAAiBmF,MAAjB,EAAyBlF,EAAzB;AACD,OAHD,CAzX0B,CA8X1B;;;;;;;;AAOAqI,aAAO3I,SAAP,CAAiBqf,OAAjB,GAA2B,YAAW;AACpC,YAAI9Z,QAAQ,KAAKA,KAAjB;AACA,YAAIC,SAAS,EAAb;;AACA,eAAOD,MAAMkW,MAAb,EAAqB;AACnBlW,kBAAQA,MAAMkW,MAAd;AACAjW,iBAAOhF,IAAP,CAAY+E,KAAZ;AACD;;AACD,eAAOC,MAAP;AACD,OARD,CArY0B,CA+Y1B;;;;;;;AAMAmD,aAAO3I,SAAP,CAAiBwf,OAAjB,GAA2B,UAASlf,EAAT,EAAa;AACtC,YAAIK,OAAO,IAAX;AACA,YAAIwD,OAAO,KAAKA,IAAhB;;AAEA,YAAI,KAAKmH,SAAT,EAAoB;AAClBnH,eAAKmH,SAAL,GAAiB,IAAjB;AACD;;AAED,YAAI,KAAKE,aAAT,EAAwB;AACtBrH,eAAKqH,aAAL,GAAqB,IAArB;AACA,iBAAOrH,KAAK8B,GAAL,CAAS3F,EAAT,CAAP;AACD;;AACD,YAAI;AACF6D,eAAK/D,EAAL,CAAQ,OAAR,EAAiB,UAASqD,GAAT,EAAc;AAC7B9C,iBAAK0M,IAAL,CAAUlJ,IAAV,EAAgBV,GAAhB;AACD,WAFD;AAGAU,eAAK8B,GAAL,CAAS3F,EAAT;AACD,SALD,CAKE,OAAOmD,GAAP,EAAY;AACZnD,aAAGmD,GAAH;AACD;AACF,OApBD,CArZ0B,CA2a1B;;;;;;;;AAOAkF,aAAO3I,SAAP,CAAiByf,QAAjB,GAA4B,UAASla,KAAT,EAAgBjF,EAAhB,EAAoB;AAC9C,YAAIK,OAAO,IAAX;AACA,YAAI2O,QAAQ/J,MAAM+J,KAAN,CAAY7N,KAAZ,EAAZ;AACA,YAAI0C,IAAJ;;AAEA,iBAASub,OAAT,CAAiB/K,CAAjB,EAAoBuK,QAApB,EAA8BpZ,KAA9B,EAAqC;AACnC;AACA,cAAImZ,OAAOte,KAAK4E,KAAhB,CAFmC,CAInC;AACA;;AACA5E,eAAK4E,KAAL,GAAaO,QAAQoZ,SAASzD,MAAjB,GAA0ByD,QAAvC;;AAEA,cAAIve,KAAK4E,KAAT,EAAgB;AACd;AACA5E,iBAAKye,MAAL,CAAY,WAAZ,EAAyB,UAASO,IAAT,EAAeC,SAAf,EAA0B;AACjDjf,mBAAK4E,KAAL,GAAa0Z,IAAb,CADiD,CAEjD;;AACA,kBAAIU,IAAJ,EAAU;AACR,uBAAOD,QAAQC,IAAR,EAAcC,SAAd,EAAyB,IAAzB,CAAP;AACD,eALgD,CAMjD;;;AACAtf,iBAAG4e,QAAH;AACD,aARD;AASD,WAXD,MAWO;AACL;AACAve,iBAAK4E,KAAL,GAAa0Z,IAAb;AACA3e,eAAG4e,QAAH;AACD;AACF;;AAED,iBAASJ,IAAT,CAAcrb,GAAd,EAAmByb,QAAnB,EAA6B;AAC3B;AACA,cAAIve,KAAKwJ,QAAL,IAAiB5E,MAAMsa,KAA3B,EAAkC;AAChC,mBAAOvf,IAAP;AACD;;AAED,cAAIK,KAAK4c,MAAT,EAAiB;AACf,mBAAOjd,IAAP;AACD;;AAED,cAAImD,GAAJ,EAAS;AACP,mBAAOic,QAAQjc,GAAR,EAAayb,QAAb,EAAuB,IAAvB,CAAP;AACD,WAZ0B,CAc3B;;;AACA/a,iBAAOmL,MAAM9I,KAAN,EAAP,CAf2B,CAiB3B;;AACA,cAAI,CAACrC,IAAL,EAAW;AACT,mBAAO7D,IAAP;AACD,WApB0B,CAsB3B;;;AACA,cAAI4L,QAAQvL,KAAKud,KAAL,CAAW/Z,IAAX,CAAgBA,KAAK2C,SAAL,EAAhB,CAAZ;;AACA,cAAInG,KAAKwd,OAAT,EAAkB;AAChBjS,oBAAQ,CAACA,KAAT;AACD;;AACD,cAAI,CAACA,KAAL,EAAY;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAIvL,KAAKud,KAAL,KAAevd,KAAKid,YAAxB,EAAsC;AACpCjV,qBAAOoV,WAAP,CAAmBe,IAAnB;AACD,aAFD,MAEO;AACLA;AACD;;AACD;AACD,WA1C0B,CA4C3B;;;AACA,cAAI3a,KAAKwC,OAAT,EAAkB;AAChBhG,iBAAKU,IAAL,CAAU,SAAV,EAAqB8C,IAArB;AACAxD,iBAAKU,IAAL,CAAU,UAAV,EAAsB8C,IAAtB;AACA,mBAAO2a,MAAP;AACD,WAjD0B,CAmD3B;;;AACAne,eAAKU,IAAL,CAAU,MAAV,EAAkBV,KAAKwD,IAAL,GAAYA,IAA9B;AACAxD,eAAK4e,QAAL,CAAc,YAAd,EAA4B,UAAS9b,GAAT,EAAcyb,QAAd,EAAwB;AAClD,gBAAI3Z,MAAMoB,OAAV,EAAmB;AACjBhG,mBAAKU,IAAL,CAAU,SAAV,EAAqB8C,IAArB;AACAxD,mBAAKU,IAAL,CAAU,UAAV,EAAsB8C,IAAtB;AACA,qBAAO2a,MAAP;AACD;;AACD,gBAAIrb,GAAJ,EAAS;AACP,qBAAOic,QAAQjc,GAAR,EAAayb,QAAb,EAAuB,KAAvB,CAAP;AACD;;AACDve,iBAAKoe,eAAL,GAAuBpe,KAAKwD,IAA5B;AACAxD,iBAAK6e,OAAL,CAAa,UAAS/b,GAAT,EAAc;AACzBU,qBAAOxD,KAAKwD,IAAZ;;AAEA,kBAAIV,GAAJ,EAAS;AACP,oBAAIA,eAAeiJ,OAAnB,EAA4B;AAC1B/L,uBAAKU,IAAL,CAAU,SAAV,EAAqB8C,IAArB;AACD,iBAFD,MAEO;AACLxD,uBAAK0M,IAAL,CAAUlJ,IAAV,EAAgBV,GAAhB;AACD;;AACD9C,qBAAKU,IAAL,CAAU,UAAV,EAAsB8C,IAAtB;;AAEA,oBAAIV,eAAeiJ,OAAnB,EAA4B;AAC1B,yBAAOoS,MAAP;AACD;;AAED,uBAAOne,KAAKye,MAAL,CAAY,WAAZ,EAAyBN,IAAzB,CAAP;AACD;;AAED3a,mBAAKqP,KAAL,GAAa,QAAb;AACA7S,mBAAKU,IAAL,CAAU,MAAV,EAAkB8C,IAAlB;AACAxD,mBAAKU,IAAL,CAAU,UAAV,EAAsB8C,IAAtB;AACAxD,mBAAKye,MAAL,CAAY,WAAZ,EAAyBN,IAAzB;AACD,aAtBD;AAuBD,WAjCD;AAkCD;;AAED,aAAKA,IAAL,GAAYA,IAAZ;AACA,aAAKY,OAAL,GAAeA,OAAf;AACAZ;AACD,OA3HD,CAlb0B,CA+iB1B;;;;;;;;AAOAnW,aAAO3I,SAAP,CAAiB8f,QAAjB,GAA4B,UAASva,KAAT,EAAgBjF,EAAhB,EAAoB;AAC9C,YAAIvB,IAAI,CAAR;AACA,YAAI4B,OAAO,IAAX;AACA,YAAI0J,QAAQ,KAAKyQ,SAAL,CAAevV,KAAf,CAAZ;AACA,YAAIwa,qBAAqB,KAAzB;AAEAlE,cAAM,cAAN,EAAsBtW,MAAMuB,SAAN,EAAtB;;AAEA,YAAI,CAACuD,KAAD,IAAW1J,KAAKwJ,QAAL,IAAiB5E,MAAMsa,KAAtC,EAA8C;AAC5C,iBAAOvf,IAAP;AACD;;AAED,aAAKe,IAAL,CAAU,OAAV,EAAmB,KAAKkE,KAAL,GAAaA,KAAhC;;AAEA,iBAASuZ,IAAT,CAAcI,QAAd,EAAwB;AACtB,cAAIA,QAAJ,EAAc;AACZ;AACA,gBAAIA,aAAa3Z,KAAjB,EAAwB;AACtB;AACA;AACA,qBAAOmG,MAAP;AACD,aANW,CAOZ;AACA;;;AACA,mBAAOA,KAAKwT,QAAL,CAAP;AACD;;AAED,cAAIve,KAAK4c,MAAT,EAAiB;AACf,mBAAO7R,MAAP;AACD;;AAED,cAAIsU,OAAOza,MAAMC,MAAN,CAAazG,GAAb,CAAX;;AACA,cAAI,CAACihB,IAAL,EAAW;AACT,mBAAOtU,MAAP;AACD,WApBqB,CAsBtB;AACA;AACA;;;AACA,cAAI/K,KAAKud,KAAL,KAAevd,KAAKid,YAAxB,EAAsC;AACpCjV,mBAAOoV,WAAP,CAAmB,YAAW;AAC5Bpd,mBAAKmf,QAAL,CAAcE,IAAd,EAAoBlB,IAApB;AACD,aAFD;AAGD,WAJD,MAIO;AACLne,iBAAKmf,QAAL,CAAcE,IAAd,EAAoBlB,IAApB;AACD;AACF;;AAED,iBAASpT,IAAT,CAAcwT,QAAd,EAAwB;AACtBve,eAAK4E,KAAL,GAAaA,KAAb;AACA5E,eAAKsf,SAAL,GAAiBnB,IAAjB;;AAEA,cAAIiB,kBAAJ,EAAwB;AACtBzf,eAAG4e,QAAH;AACD,WAFD,MAEO;AACL;AACA;AACAa,iCAAqB,IAArB;AACApf,iBAAKgd,IAAL,CAAU,UAAV,EAAsB,YAAW;AAC/Bhd,mBAAKU,IAAL,CAAU,WAAV,EAAuBkE,KAAvB;AACAjF,iBAAG4e,QAAH;AACD,aAHD;AAID;AACF;;AAED,aAAKe,SAAL,GAAiBnB,IAAjB;AAEA,aAAKnB,IAAL,CAAU,WAAV,EAAuB,UAASla,GAAT,EAAc;AACnC,cAAIA,GAAJ,EAAS;AACP,mBAAOiI,MAAP;AACD;;AACD/K,eAAK8e,QAAL,CAAcla,KAAd,EAAqBuZ,IAArB;AACD,SALD;AAMD,OAzED,CAtjB0B,CAioB1B;;;;;;;AAMAnW,aAAO3I,SAAP,CAAiB+O,QAAjB,GAA4B,UAAStL,GAAT,EAAc;AACxC,YAAIA,GAAJ,EAAS;AACPoY,gBAAM,uBAAN,EAA+BpY,QAAQ,YAAW;AAChD,mBAAO,IAAP;AACD,WAFsC,CAErCpE,IAFqC,CAEhCoE,GAFgC,CAAR,GAEjBA,GAFiB,GAEVA,IAAI6F,OAAJ,IAAe7F,GAFpC;AAGD,SAJD,MAIO;AACLoY,gBAAM,8BAAN;AACApY,gBAAM4Z,gBAAN;AACD;;AACD5Z,YAAIsL,QAAJ,GAAe,IAAf;AAEA,YAAI9K,WAAW,KAAK8a,eAApB;;AAEA,YAAI,CAAC9a,QAAL,EAAe;AACbA,qBAAW,IAAIa,QAAJ,CAAa,mCAAb,CAAX;AACAb,mBAASwX,MAAT,GAAkB,KAAKlW,KAAvB;;AAEA,cAAI,KAAKkY,OAAT,EAAkB;AAChB,iBAAKpQ,IAAL,CAAUpJ,QAAV,EAAoBR,GAApB;AACD,WAFD,MAEO;AACL;AACA,iBAAKpC,IAAL,CAAU,OAAV;AACA,iBAAKgM,IAAL,CAAUpJ,QAAV,EAAoBR,GAApB;AACA,iBAAKpC,IAAL,CAAU,KAAV;AACD;;AAED;AACD;;AAED4C,iBAASgJ,YAAT,GA7BwC,CA+BxC;;AACA,YAAIhJ,SAASuP,KAAb,EAAoB;AAClB;AACD;;AACD,aAAKnG,IAAL,CAAUpJ,QAAV,EAAoBR,GAApB,EAnCwC,CAqCxC;;AACA,YAAIQ,SAASrE,IAAT,KAAkB,MAAtB,EAA8B;AAC5B,eAAKyB,IAAL,CAAU,UAAV,EAAsB4C,QAAtB;AACA,eAAKmb,MAAL,CAAY,WAAZ,EAAyB,KAAKN,IAA9B;AACA;AACD,SA1CuC,CA4CzC;;;AACC,YAAI7a,SAASrE,IAAT,KAAkB,MAAtB,EAA8B;AAC5B,cAAIsf,WAAW,KAAK3Z,KAApB,CAD4B,CAE5B;;AACA,cAAItB,SAAS6C,SAAT,GAAqByC,OAArB,CAA6B,YAA7B,IAA6C,CAAC,CAAlD,EAAqD;AACnD,mBAAO,KAAKmW,OAAL,CAAajc,GAAb,EAAkByb,QAAlB,EAA4B,IAA5B,CAAP;AACD,WAL2B,CAM5B;;;AACA,cAAIjb,SAAS6C,SAAT,GAAqByC,OAArB,CAA6B,aAA7B,IAA8C,CAAC,CAAnD,EAAsD;AACpD,mBAAO,KAAKmW,OAAL,CAAajc,GAAb,EAAkByb,QAAlB,EAA4B,KAA5B,CAAP;AACD,WAT2B,CAU5B;;;AACA,iBAAO,KAAKe,SAAL,CAAef,QAAf,CAAP;AACD,SAzDuC,CA2DxC;;;AACA,aAAK7d,IAAL,CAAU,KAAV;AACD,OA7DD,CAvoB0B,CAssB1B;;;;;;;;;;;AAUAsH,aAAO3I,SAAP,CAAiBiG,GAAjB,GAAuB,UAAS3F,EAAT,EAAa;AAClC,YAAIK,OAAO,IAAX;AACA,YAAIuf,YAAY,KAAK3a,KAArB;;AAEAjF,aAAKA,MAAM,YAAW,CAAE,CAAxB;;AAEA,iBAASyO,QAAT,CAAkBtL,GAAlB,EAAuB;AACrB9C,eAAKoO,QAAL,CAActL,GAAd;AACD;;AAED,iBAAS8L,KAAT,GAAiB;AACf5O,eAAK8c,OAAL,GAAe,IAAf;AACA9c,eAAKU,IAAL,CAAU,OAAV;AACAV,eAAKmf,QAAL,CAAcI,SAAd,EAAyB,YAAW;AAClCrE,kBAAM,kBAAN;AACAlb,iBAAKU,IAAL,CAAU,KAAV;AACD,WAHD;AAID;;AAEDwa,cAAM,OAAN,EAnBkC,CAqBlC;;AACA,aAAKzb,EAAL,CAAQ,KAAR,EAAe,YAAW;AACxByb,gBAAM,KAAN;AACArc,kBAAQoB,cAAR,CAAuB,mBAAvB,EAA4CmO,QAA5C;AACAzO,aAAGK,KAAKwJ,QAAR;AACD,SAJD,EAtBkC,CA4BlC;;AACA3K,gBAAQY,EAAR,CAAW,mBAAX,EAAgC2O,QAAhC;;AAEA,YAAI,KAAKyO,MAAT,EAAiB;AACf;AACA;AACA,eAAKnc,IAAL,CAAU,SAAV,EAAqB6e,SAArB;AACAA,oBAAUxf,IAAV,CAAe,KAAf,EAAsB6O,KAAtB;AACD,SALD,MAKO;AACLA;AACD;;AAED,eAAO,IAAP;AACD,OAzCD,CAhtB0B,CA2vB1B;;;;;;;AAMA5G,aAAO3I,SAAP,CAAiBmgB,KAAjB,GAAyB,YAAW;AAClCtE,cAAM,UAAN;AACA,aAAK0B,MAAL,GAAc,IAAd;AAEA,eAAO,IAAP;AACD,OALD,CAjwB0B,CAwwB1B;;;;;;;;;AAQA,eAASkB,WAAT,CAAqB7Q,EAArB,EAAyB3C,OAAzB,EAAkC;AAChC,eAAOwF,OAAOxF,OAAP,EAAgB,UAASpG,GAAT,EAAc;AACnC;AACA,cAAI,MAAMV,IAAN,CAAWU,GAAX,CAAJ,EAAqB;AACnB,mBAAO,KAAP;AACD,WAJkC,CAMnC;AACA;AACA;;;AACA,cAAInB,OAAO0c,SAAP,IAAqB,eAAD,CAAkBjc,IAAlB,CAAuBU,GAAvB,CAAxB,EAAqD;AACnD,mBAAO,KAAP;AACD,WAXkC,CAanC;AACA;;;AACA,cAAInB,OAAO0c,SAAP,IAAqB,MAAD,CAASjc,IAAT,CAAcU,GAAd,CAAxB,EAA4C;AAC1C,mBAAO,KAAP;AACD,WAjBkC,CAmBnC;;;AACA,cAAI,UAAUV,IAAV,CAAeU,GAAf,CAAJ,EAAyB;AACvB,mBAAO,KAAP;AACD;;AAED,cAAIwb,UAAU5P,OAAO7C,EAAP,EAAW,UAASA,EAAT,EAAa;AACpC,gBAAI,CAACA,GAAGrE,OAAH,CAAW,GAAX,CAAL,EAAsB;AACpB,qBAAO1E,IAAI0E,OAAJ,CAAYqE,GAAGoC,KAAH,CAAS,GAAT,EAAc,CAAd,CAAZ,MAAkC,CAAzC;AACD;;AACD,mBAAOnL,QAAQ+I,EAAf;AACD,WALa,CAAd;AAMA,iBAAO,CAACyS,QAAQ/gB,MAAT,KAAoB,CAACoE,OAAO0c,SAAR,IAAqBvb,QAAQ,SAAjD,CAAP;AACD,SA/BM,CAAP;AAgCD,OAjzByB,CAmzB1B;;;;;;;AAMA,eAASiZ,YAAT,GAAwB;AACtB,YAAI,QAAOte,OAAP,uDAAOA,OAAP,OAAmB,QAAnB,IAA+B,OAAOA,QAAQ8gB,OAAf,KAA2B,QAA9D,EAAwE;AACtE,cAAIC,QAAQ/gB,QAAQ8gB,OAAR,CAAgBtQ,KAAhB,CAAsB,GAAtB,CAAZ;AACA,cAAIwQ,cAAcpY,MAAMqY,MAAN,CAAaF,KAAb,EAAoB,UAAS1hB,CAAT,EAAY6hB,CAAZ,EAAe;AACnD,mBAAO7hB,KAAK,CAAL,GAAS6hB,CAAhB;AACD,WAFiB,CAAlB,CAFsE,CAMtE;;AAEA,cAAIF,cAAc,QAAlB,EAA4B;AAC1B,mBAAO,CAAC,OAAD,CAAP;AACD;AACF;;AAED,eAAO,EAAP;AACD;AAEA,KA10BD,EA00BGnhB,IA10BH,CA00BQ,IA10BR,EA00BaP,QAAQ,UAAR,CA10Bb,EA00BiC,OAAO4E,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAO/C,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOoD,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EA10BxJ;AA20BC,GA50BkE,EA40BjE;AAAC,iBAAY,EAAb;AAAgB,kBAAa,EAA7B;AAAgC,eAAU,EAA1C;AAA6C,gBAAW,EAAxD;AAA2D,aAAQ,CAAnE;AAAqE,cAAS;AAA9E,GA50BiE,CA9oIwX;AA09JvW,MAAG,CAAC,UAASjF,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACxH;;OAIA,IAAIS,eAAef,QAAQ,QAAR,EAAkBe,YAArC;;AACA,QAAImF,OAAOlG,QAAQ,QAAR,CAAX;;AACA,QAAIsJ,QAAQtJ,QAAQ,SAAR,CAAZ;;AACA,QAAIiG,WAAWqD,MAAMrD,QAArB;;AACA,QAAI8W,QAAQ/c,QAAQ,OAAR,EAAiB,aAAjB,CAAZ;;AACA,QAAIgd,eAAehd,QAAQ,MAAR,CAAnB,CAVwH,CAYxH;;;;AAIAM,cAAUG,OAAOH,OAAP,GAAiBgG,KAA3B,CAhBwH,CAkBxH;;;;;;;;;;;AAUAhG,YAAQkH,MAAR,GAAiB,UAASmV,MAAT,EAAiBxW,KAAjB,EAAwB;AACvC,UAAIM,QAAQ,IAAIH,KAAJ,CAAUH,KAAV,EAAiBwW,OAAOlZ,GAAxB,CAAZ;AACAgD,YAAMkW,MAAN,GAAeA,MAAf;;AACA,UAAIA,OAAO9U,OAAX,EAAoB;AAClBpB,cAAMoB,OAAN,GAAgB,IAAhB;AACD;;AACD1B,cAAQM,MAAMuB,SAAN,EAAR;AACA2U,aAAOkF,QAAP,CAAgBpb,KAAhB;AACA,aAAOA,KAAP;AACD,KATD,CA5BwH,CAuCxH;;;;;;;;AAOA,aAASH,KAAT,CAAeH,KAAf,EAAsB2b,aAAtB,EAAqC;AACnC,WAAK3b,KAAL,GAAaA,KAAb;;AACA,eAASjB,OAAT,GAAmB,CAAE;;AACrBA,cAAQhE,SAAR,GAAoB4gB,aAApB;AACA,WAAKre,GAAL,GAAW,IAAIyB,OAAJ,EAAX;AACA,WAAKwB,MAAL,GAAc,EAAd;AACA,WAAK8J,KAAL,GAAa,EAAb;AACA,WAAK3I,OAAL,GAAe,KAAf;AACA,WAAKka,WAAL,GAAmB,EAAnB;AACA,WAAKC,UAAL,GAAkB,EAAlB;AACA,WAAKC,UAAL,GAAkB,EAAlB;AACA,WAAKC,SAAL,GAAiB,EAAjB;AACA,WAAKxR,IAAL,GAAY,CAACvK,KAAb;AACA,WAAKgX,QAAL,GAAgB,IAAhB;AACA,WAAKE,eAAL,GAAuB,IAAvB;AACA,WAAKD,KAAL,GAAa,EAAb;AACA,WAAK2D,KAAL,GAAa,KAAb;AACA,WAAKoB,OAAL,GAAe,KAAf;AACD,KAhEuH,CAkExH;;;;AAGAlc,aAASK,KAAT,EAAgBvF,YAAhB,EArEwH,CAuExH;;;;;;;AAMAuF,UAAMpF,SAAN,CAAgBkhB,KAAhB,GAAwB,YAAW;AACjC,UAAI3b,QAAQ,IAAIH,KAAJ,CAAU,KAAKH,KAAf,CAAZ;AACA4W,YAAM,OAAN;AACAtW,YAAMhD,GAAN,GAAY,KAAKA,GAAjB;AACAgD,YAAMnB,OAAN,CAAc,KAAKA,OAAL,EAAd;AACAmB,YAAMjB,cAAN,CAAqB,KAAKA,cAAL,EAArB;AACAiB,YAAMf,IAAN,CAAW,KAAKA,IAAL,EAAX;AACAe,YAAMyD,IAAN,CAAW,KAAKA,IAAL,EAAX;AACA,aAAOzD,KAAP;AACD,KATD,CA7EwH,CAwFxH;;;;;;;;AAOAH,UAAMpF,SAAN,CAAgBoE,OAAhB,GAA0B,UAASC,EAAT,EAAa;AACrC,UAAI,CAACvD,UAAUxB,MAAf,EAAuB;AACrB,eAAO,KAAK2c,QAAZ;AACD;;AACD,UAAI5X,GAAGpE,QAAH,OAAkB,GAAtB,EAA2B;AACzB,aAAKkc,eAAL,GAAuB,KAAvB;AACD;;AACD,UAAI,OAAO9X,EAAP,KAAc,QAAlB,EAA4B;AAC1BA,aAAKyX,aAAazX,EAAb,CAAL;AACD;;AACDwX,YAAM,YAAN,EAAoBxX,EAApB;AACA,WAAK4X,QAAL,GAAgBkF,SAAS9c,EAAT,EAAa,EAAb,CAAhB;AACA,aAAO,IAAP;AACD,KAbD,CA/FwH,CA8GxH;;;;;;;;AAOAe,UAAMpF,SAAN,CAAgBsE,cAAhB,GAAiC,UAASC,OAAT,EAAkB;AACjD,UAAI,CAACzD,UAAUxB,MAAf,EAAuB;AACrB,eAAO,KAAK6c,eAAZ;AACD;;AACDN,YAAM,mBAAN,EAA2BtX,OAA3B;AACA,WAAK4X,eAAL,GAAuB5X,OAAvB;AACA,aAAO,IAAP;AACD,KAPD,CArHwH,CA8HxH;;;;;;;;AAOAa,UAAMpF,SAAN,CAAgBwE,IAAhB,GAAuB,UAASH,EAAT,EAAa;AAClC,UAAI,CAACvD,UAAUxB,MAAf,EAAuB;AACrB,eAAO,KAAK4c,KAAZ;AACD;;AACD,UAAI,OAAO7X,EAAP,KAAc,QAAlB,EAA4B;AAC1BA,aAAKyX,aAAazX,EAAb,CAAL;AACD;;AACDwX,YAAM,SAAN,EAAiBxX,EAAjB;AACA,WAAK6X,KAAL,GAAa7X,EAAb;AACA,aAAO,IAAP;AACD,KAVD,CArIwH,CAiJxH;;;;;;;;AAOAe,UAAMpF,SAAN,CAAgBgJ,IAAhB,GAAuB,UAASA,IAAT,EAAe;AACpC,UAAI,CAAClI,UAAUxB,MAAf,EAAuB;AACrB,eAAO,KAAKugB,KAAZ;AACD;;AACDhE,YAAM,SAAN,EAAiB7S,IAAjB;AACA,WAAK6W,KAAL,GAAa7W,IAAb;AACA,aAAO,IAAP;AACD,KAPD,CAxJwH,CAiKxH;;;;;;;;;AAQA5D,UAAMpF,SAAN,CAAgBsH,SAAhB,GAA4B,UAASrC,KAAT,EAAgB3E,EAAhB,EAAoB;AAC9C,UAAI,KAAKqG,OAAT,EAAkB;AAChB,eAAO,IAAP;AACD;;AACD,UAAI,OAAO1B,KAAP,KAAiB,UAArB,EAAiC;AAC/B3E,aAAK2E,KAAL;AACAA,gBAAQ3E,GAAGD,IAAX;AACD;;AACD4E,cAAQ,uBAAuBA,QAAQ,OAAOA,KAAf,GAAuB,EAA9C,CAAR;AAEA,UAAI0Y,OAAO,IAAI3Y,IAAJ,CAASC,KAAT,EAAgB3E,EAAhB,CAAX;AACAqd,WAAKlC,MAAL,GAAc,IAAd;AACAkC,WAAKvZ,OAAL,CAAa,KAAKA,OAAL,EAAb;AACAuZ,WAAKrZ,cAAL,CAAoB,KAAKA,cAAL,EAApB;AACAqZ,WAAKnZ,IAAL,CAAU,KAAKA,IAAL,EAAV;AACAmZ,WAAKpb,GAAL,GAAW,KAAKA,GAAhB;;AACA,WAAKue,UAAL,CAAgBtgB,IAAhB,CAAqBmd,IAArB;;AACA,WAAKtc,IAAL,CAAU,WAAV,EAAuBsc,IAAvB;AACA,aAAO,IAAP;AACD,KAnBD,CAzKwH,CA8LxH;;;;;;;;;AAQAvY,UAAMpF,SAAN,CAAgBuH,QAAhB,GAA2B,UAAStC,KAAT,EAAgB3E,EAAhB,EAAoB;AAC7C,UAAI,KAAKqG,OAAT,EAAkB;AAChB,eAAO,IAAP;AACD;;AACD,UAAI,OAAO1B,KAAP,KAAiB,UAArB,EAAiC;AAC/B3E,aAAK2E,KAAL;AACAA,gBAAQ3E,GAAGD,IAAX;AACD;;AACD4E,cAAQ,sBAAsBA,QAAQ,OAAOA,KAAf,GAAuB,EAA7C,CAAR;AAEA,UAAI0Y,OAAO,IAAI3Y,IAAJ,CAASC,KAAT,EAAgB3E,EAAhB,CAAX;AACAqd,WAAKlC,MAAL,GAAc,IAAd;AACAkC,WAAKvZ,OAAL,CAAa,KAAKA,OAAL,EAAb;AACAuZ,WAAKrZ,cAAL,CAAoB,KAAKA,cAAL,EAApB;AACAqZ,WAAKnZ,IAAL,CAAU,KAAKA,IAAL,EAAV;AACAmZ,WAAKpb,GAAL,GAAW,KAAKA,GAAhB;;AACA,WAAKye,SAAL,CAAexgB,IAAf,CAAoBmd,IAApB;;AACA,WAAKtc,IAAL,CAAU,UAAV,EAAsBsc,IAAtB;AACA,aAAO,IAAP;AACD,KAnBD,CAtMwH,CA2NxH;;;;;;;;;AAQAvY,UAAMpF,SAAN,CAAgB+F,UAAhB,GAA6B,UAASd,KAAT,EAAgB3E,EAAhB,EAAoB;AAC/C,UAAI,KAAKqG,OAAT,EAAkB;AAChB,eAAO,IAAP;AACD;;AACD,UAAI,OAAO1B,KAAP,KAAiB,UAArB,EAAiC;AAC/B3E,aAAK2E,KAAL;AACAA,gBAAQ3E,GAAGD,IAAX;AACD;;AACD4E,cAAQ,wBAAwBA,QAAQ,OAAOA,KAAf,GAAuB,EAA/C,CAAR;AAEA,UAAI0Y,OAAO,IAAI3Y,IAAJ,CAASC,KAAT,EAAgB3E,EAAhB,CAAX;AACAqd,WAAKlC,MAAL,GAAc,IAAd;AACAkC,WAAKvZ,OAAL,CAAa,KAAKA,OAAL,EAAb;AACAuZ,WAAKrZ,cAAL,CAAoB,KAAKA,cAAL,EAApB;AACAqZ,WAAKnZ,IAAL,CAAU,KAAKA,IAAL,EAAV;AACAmZ,WAAKpb,GAAL,GAAW,KAAKA,GAAhB;;AACA,WAAKse,WAAL,CAAiBrgB,IAAjB,CAAsBmd,IAAtB;;AACA,WAAKtc,IAAL,CAAU,YAAV,EAAwBsc,IAAxB;AACA,aAAO,IAAP;AACD,KAnBD,CAnOwH,CAwPxH;;;;;;;;;AAQAvY,UAAMpF,SAAN,CAAgBgG,SAAhB,GAA4B,UAASf,KAAT,EAAgB3E,EAAhB,EAAoB;AAC9C,UAAI,KAAKqG,OAAT,EAAkB;AAChB,eAAO,IAAP;AACD;;AACD,UAAI,OAAO1B,KAAP,KAAiB,UAArB,EAAiC;AAC/B3E,aAAK2E,KAAL;AACAA,gBAAQ3E,GAAGD,IAAX;AACD;;AACD4E,cAAQ,uBAAuBA,QAAQ,OAAOA,KAAf,GAAuB,EAA9C,CAAR;AAEA,UAAI0Y,OAAO,IAAI3Y,IAAJ,CAASC,KAAT,EAAgB3E,EAAhB,CAAX;AACAqd,WAAKlC,MAAL,GAAc,IAAd;AACAkC,WAAKvZ,OAAL,CAAa,KAAKA,OAAL,EAAb;AACAuZ,WAAKrZ,cAAL,CAAoB,KAAKA,cAAL,EAApB;AACAqZ,WAAKnZ,IAAL,CAAU,KAAKA,IAAL,EAAV;AACAmZ,WAAKpb,GAAL,GAAW,KAAKA,GAAhB;;AACA,WAAKwe,UAAL,CAAgBvgB,IAAhB,CAAqBmd,IAArB;;AACA,WAAKtc,IAAL,CAAU,WAAV,EAAuBsc,IAAvB;AACA,aAAO,IAAP;AACD,KAnBD,CAhQwH,CAqRxH;;;;;;;;AAOAvY,UAAMpF,SAAN,CAAgB2gB,QAAhB,GAA2B,UAASpb,KAAT,EAAgB;AACzCA,YAAMkW,MAAN,GAAe,IAAf;AACAlW,YAAMnB,OAAN,CAAc,KAAKA,OAAL,EAAd;AACAmB,YAAMjB,cAAN,CAAqB,KAAKA,cAAL,EAArB;AACAiB,YAAMf,IAAN,CAAW,KAAKA,IAAL,EAAX;AACAe,YAAMyD,IAAN,CAAW,KAAKA,IAAL,EAAX;AACA,WAAKxD,MAAL,CAAYhF,IAAZ,CAAiB+E,KAAjB;AACA,WAAKlE,IAAL,CAAU,OAAV,EAAmBkE,KAAnB;AACA,aAAO,IAAP;AACD,KATD,CA5RwH,CAuSxH;;;;;;;;AAOAH,UAAMpF,SAAN,CAAgBiH,OAAhB,GAA0B,UAAS9C,IAAT,EAAe;AACvCA,WAAKsX,MAAL,GAAc,IAAd;AACAtX,WAAKC,OAAL,CAAa,KAAKA,OAAL,EAAb;AACAD,WAAKG,cAAL,CAAoB,KAAKA,cAAL,EAApB;AACAH,WAAKK,IAAL,CAAU,KAAKA,IAAL,EAAV;AACAL,WAAK5B,GAAL,GAAW,KAAKA,GAAhB;AACA,WAAK+M,KAAL,CAAW9O,IAAX,CAAgB2D,IAAhB;AACA,WAAK9C,IAAL,CAAU,MAAV,EAAkB8C,IAAlB;AACA,aAAO,IAAP;AACD,KATD,CA9SwH,CAyTxH;;;;;;;;AAOAiB,UAAMpF,SAAN,CAAgB8G,SAAhB,GAA4B,YAAW;AACrC,UAAI,KAAK2U,MAAT,EAAiB;AACf,YAAI2F,OAAO,KAAK3F,MAAL,CAAY3U,SAAZ,EAAX;;AACA,YAAIsa,IAAJ,EAAU;AACR,iBAAOA,OAAO,GAAP,GAAa,KAAKnc,KAAzB;AACD;AACF;;AACD,aAAO,KAAKA,KAAZ;AACD,KARD,CAhUwH,CA0UxH;;;;;;;AAMAG,UAAMpF,SAAN,CAAgBqK,KAAhB,GAAwB,YAAW;AACjC,aAAOjC,MAAMqY,MAAN,CAAa,KAAKjb,MAAlB,EAA0B,UAAS6b,GAAT,EAAc9b,KAAd,EAAqB;AACpD,eAAO8b,MAAM9b,MAAM8E,KAAN,EAAb;AACD,OAFM,EAEJ,CAFI,IAEC,KAAKiF,KAAL,CAAWhQ,MAFnB;AAGD,KAJD,CAhVwH,CAsVxH;;;;;;;;;AAQA8F,UAAMpF,SAAN,CAAgBoe,QAAhB,GAA2B,UAAS9d,EAAT,EAAa;AACtC8H,YAAMyB,OAAN,CAAc,KAAKyF,KAAnB,EAA0BhP,EAA1B;AACA8H,YAAMyB,OAAN,CAAc,KAAKrE,MAAnB,EAA2B,UAASD,KAAT,EAAgB;AACzCA,cAAM6Y,QAAN,CAAe9d,EAAf;AACD,OAFD;AAGA,aAAO,IAAP;AACD,KAND,CA9VwH,CAsWxH;;;;AAGA8E,UAAMpF,SAAN,CAAgBiG,GAAhB;AAAsB,eAASA,GAAT,GAAe;AACnC,YAAI,KAAKuJ,IAAT,EAAe;AACb,eAAKnO,IAAL,CAAU,KAAV;AACD;AACF;;AAJD,aAA+B4E,GAA/B;AAAA;AAMC,GA/WsF,EA+WrF;AAAC,cAAS,CAAV;AAAY,YAAO,EAAnB;AAAsB,eAAU,EAAhC;AAAmC,aAAQ,CAA3C;AAA6C,cAAS;AAAtD,GA/WqF,CA19JoW;AAy0K/X,MAAG,CAAC,UAASnH,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAChG;;OAIA,IAAI0F,WAAWhG,QAAQ,YAAR,CAAf;;AACA,QAAIiG,WAAWjG,QAAQ,SAAR,EAAmBiG,QAAlC,CANgG,CAQhG;;;;AAIAxF,WAAOH,OAAP,GAAiBiG,IAAjB,CAZgG,CAchG;;;;;;;;AAOA,aAASA,IAAT,CAAcJ,KAAd,EAAqB3E,EAArB,EAAyB;AACvBwE,eAASzF,IAAT,CAAc,IAAd,EAAoB4F,KAApB,EAA2B3E,EAA3B;AACA,WAAKqG,OAAL,GAAe,CAACrG,EAAhB;AACA,WAAKV,IAAL,GAAY,MAAZ;AACD,KAzB+F,CA2BhG;;;;AAGAmF,aAASM,IAAT,EAAeP,QAAf;AAEC,GAhC8D,EAgC7D;AAAC,kBAAa,EAAd;AAAiB,eAAU;AAA3B,GAhC6D,CAz0K4X;AAy2KzZ,MAAG,CAAC,UAAShG,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACtE,KAAC,UAAUI,OAAV,EAAkB8hB,MAAlB,EAAyB;AAC1B,8BAD0B,CAG1B;;kCAIA,IAAIC,WAAWziB,QAAQ,MAAR,EAAgByiB,QAA/B;;AACA,UAAI1F,QAAQ/c,QAAQ,OAAR,EAAiB,aAAjB,CAAZ;;AACA,UAAI0iB,SAAS1iB,QAAQ,IAAR,EAAc2iB,UAAd,IAA4B3iB,QAAQ,MAAR,EAAgB2iB,UAAzD;;AACA,UAAIC,OAAO5iB,QAAQ,MAAR,CAAX;;AACA,UAAI2J,OAAO3J,QAAQ,MAAR,EAAgB2J,IAA3B;;AACA,UAAIkZ,cAAc7iB,QAAQ,IAAR,EAAc6iB,WAAhC;;AACA,UAAIC,WAAW9iB,QAAQ,IAAR,EAAc8iB,QAA7B;;AACA,UAAIC,YAAY/iB,QAAQ,IAAR,EAAc+iB,SAA9B,CAd0B,CAgB1B;;;;AAIA,UAAIlX,SAAS,CAAC,cAAD,EAAiB,MAAjB,CAAb;AAEAvL,cAAQ2F,QAAR,GAAmBjG,QAAQ,MAAR,EAAgBiG,QAAnC,CAtB0B,CAwB1B;;;;;;;;AAOA3F,cAAQ0P,MAAR,GAAiB,UAAS0F,IAAT,EAAe;AAC9B,eAAOxG,OAAOwG,IAAP,EACJnF,OADI,CACI,IADJ,EACU,OADV,EAEJA,OAFI,CAEI,IAFJ,EAEU,QAFV,EAGJA,OAHI,CAGI,IAHJ,EAGU,MAHV,EAIJA,OAJI,CAII,IAJJ,EAIU,MAJV,CAAP;AAKD,OAND,CA/B0B,CAuC1B;;;;;;;;;AAQAjQ,cAAQyK,OAAR,GAAkB,UAASyU,GAAT,EAAche,EAAd,EAAkBwhB,KAAlB,EAAyB;AACzC,aAAK,IAAI/iB,IAAI,CAAR,EAAWI,IAAImf,IAAIhf,MAAxB,EAAgCP,IAAII,CAApC,EAAuCJ,GAAvC,EAA4C;AAC1CuB,aAAGjB,IAAH,CAAQyiB,KAAR,EAAexD,IAAIvf,CAAJ,CAAf,EAAuBA,CAAvB;AACD;AACF,OAJD,CA/C0B,CAqD1B;;;;;;;;AAOAK,cAAQ8P,QAAR,GAAmB,UAASzH,GAAT,EAAc;AAC/B,eAAO,OAAOA,GAAP,KAAe,QAAtB;AACD,OAFD,CA5D0B,CAgE1B;;;;;;;;;;AASArI,cAAQ6Q,GAAR,GAAc,UAASqO,GAAT,EAAche,EAAd,EAAkBwhB,KAAlB,EAAyB;AACrC,YAAIpL,SAAS,EAAb;;AACA,aAAK,IAAI3X,IAAI,CAAR,EAAWI,IAAImf,IAAIhf,MAAxB,EAAgCP,IAAII,CAApC,EAAuCJ,GAAvC,EAA4C;AAC1C2X,iBAAOlW,IAAP,CAAYF,GAAGjB,IAAH,CAAQyiB,KAAR,EAAexD,IAAIvf,CAAJ,CAAf,EAAuBA,CAAvB,EAA0Buf,GAA1B,CAAZ;AACD;;AACD,eAAO5H,MAAP;AACD,OAND,CAzE0B,CAiF1B;;;;;;;;;;AASAtX,cAAQmK,OAAR,GAAkB,UAAS+U,GAAT,EAAc7W,GAAd,EAAmB8H,KAAnB,EAA0B;AAC1C,aAAK,IAAIxQ,IAAIwQ,SAAS,CAAjB,EAAoBpQ,IAAImf,IAAIhf,MAAjC,EAAyCP,IAAII,CAA7C,EAAgDJ,GAAhD,EAAqD;AACnD,cAAIuf,IAAIvf,CAAJ,MAAW0I,GAAf,EAAoB;AAClB,mBAAO1I,CAAP;AACD;AACF;;AACD,eAAO,CAAC,CAAR;AACD,OAPD,CA1F0B,CAmG1B;;;;;;;;;;AASAK,cAAQqhB,MAAR,GAAiB,UAASnC,GAAT,EAAche,EAAd,EAAkBH,GAAlB,EAAuB;AACtC,YAAI4hB,OAAO5hB,GAAX;;AAEA,aAAK,IAAIpB,IAAI,CAAR,EAAWI,IAAImf,IAAIhf,MAAxB,EAAgCP,IAAII,CAApC,EAAuCJ,GAAvC,EAA4C;AAC1CgjB,iBAAOzhB,GAAGyhB,IAAH,EAASzD,IAAIvf,CAAJ,CAAT,EAAiBA,CAAjB,EAAoBuf,GAApB,CAAP;AACD;;AAED,eAAOyD,IAAP;AACD,OARD,CA5G0B,CAsH1B;;;;;;;;;AAQA3iB,cAAQqR,MAAR,GAAiB,UAAS6N,GAAT,EAAche,EAAd,EAAkB;AACjC,YAAIqW,MAAM,EAAV;;AAEA,aAAK,IAAI5X,IAAI,CAAR,EAAWI,IAAImf,IAAIhf,MAAxB,EAAgCP,IAAII,CAApC,EAAuCJ,GAAvC,EAA4C;AAC1C,cAAIoB,MAAMme,IAAIvf,CAAJ,CAAV;;AACA,cAAIuB,GAAGH,GAAH,EAAQpB,CAAR,EAAWuf,GAAX,CAAJ,EAAqB;AACnB3H,gBAAInW,IAAJ,CAASL,GAAT;AACD;AACF;;AAED,eAAOwW,GAAP;AACD,OAXD,CA9H0B,CA2I1B;;;;;;;;AAOAvX,cAAQ8d,IAAR,GAAe,OAAOnd,OAAOmd,IAAd,KAAuB,UAAvB,GAAoCnd,OAAOmd,IAA3C,GAAkD,UAASzV,GAAT,EAAc;AAC7E,YAAIyV,OAAO,EAAX;AACA,YAAI8E,MAAMjiB,OAAOC,SAAP,CAAiBiX,cAA3B,CAF6E,CAElC;;AAE3C,aAAK,IAAIpS,GAAT,2CAAgB4C,GAAhB,GAAqB;AACnB,cAAIua,IAAI3iB,IAAJ,CAASoI,GAAT,EAAc5C,GAAd,CAAJ,EAAwB;AACtBqY,iBAAK1c,IAAL,CAAUqE,GAAV;AACD;AACF;;AAED,eAAOqY,IAAP;AACD,OAXD,CAlJ0B,CA+J1B;;;;;;;;;AAQA9d,cAAQ6iB,KAAR,GAAgB,UAASpZ,KAAT,EAAgBvI,EAAhB,EAAoB;AAClC,YAAI4F,UAAU;AAAEgc,oBAAU;AAAZ,SAAd;AACArZ,cAAMgB,OAAN,CAAc,UAASnE,IAAT,EAAe;AAC3BmW,gBAAM,SAAN,EAAiBnW,IAAjB;AACAmc,oBAAUnc,IAAV,EAAgBQ,OAAhB,EAAyB,UAAS8Z,IAAT,EAAemC,IAAf,EAAqB;AAC5C,gBAAIA,KAAKC,KAAL,GAAapC,KAAKoC,KAAtB,EAA6B;AAC3B9hB,iBAAGoF,IAAH;AACD;AACF,WAJD;AAKD,SAPD;AAQD,OAVD,CAvK0B,CAmL1B;;;;;;;;AAOA,UAAIxF,UAAU,OAAOsB,MAAMtB,OAAb,KAAyB,UAAzB,GAAsCsB,MAAMtB,OAA5C,GAAsD,UAASuH,GAAT,EAAc;AAChF,eAAO1H,OAAOC,SAAP,CAAiBC,QAAjB,CAA0BZ,IAA1B,CAA+BoI,GAA/B,MAAwC,gBAA/C;AACD,OAFD,CA1L0B,CA8L1B;;;;;;AAKA,UAAI,OAAO6Z,MAAP,KAAkB,WAAlB,IAAiCA,OAAOthB,SAA5C,EAAuD;AACrDshB,eAAOthB,SAAP,CAAiBqiB,MAAjB,GAA0Bf,OAAOthB,SAAP,CAAiBqiB,MAAjB,IAA2B,YAAW;AAC9D,iBAAO7gB,MAAMxB,SAAN,CAAgByB,KAAhB,CAAsBpC,IAAtB,CAA2B,IAA3B,EAAiC,CAAjC,CAAP;AACD,SAFD;AAGD,OAvMyB,CAyM1B;;;;;;;;AAOA,eAASijB,OAAT,CAAiBpa,IAAjB,EAAuB;AACrB,eAAO,CAAC,CAACyC,OAAOpB,OAAP,CAAerB,IAAf,CAAT;AACD,OAlNyB,CAoN1B;;;;;;;;;;AASA9I,cAAQyJ,KAAR,GAAgB,UAAS0Z,GAAT,EAAcC,GAAd,EAAmB7L,GAAnB,EAAwB;AACtCA,cAAMA,OAAO,EAAb;AACA6L,cAAMA,OAAO,CAAC,IAAD,CAAb;AAEA,YAAIhY,KAAK,IAAIrD,MAAJ,CAAW,SAASqb,IAAI/Z,IAAJ,CAAS,GAAT,CAAT,GAAyB,IAApC,CAAT;AAEAkZ,oBAAYY,GAAZ,EACG9R,MADH,CACU6R,OADV,EAEGzY,OAFH,CAEW,UAAS3B,IAAT,EAAe;AACtBA,iBAAOO,KAAK8Z,GAAL,EAAUra,IAAV,CAAP;;AACA,cAAI0Z,SAAS1Z,IAAT,EAAeua,WAAf,EAAJ,EAAkC;AAChCrjB,oBAAQyJ,KAAR,CAAcX,IAAd,EAAoBsa,GAApB,EAAyB7L,GAAzB;AACD,WAFD,MAEO,IAAIzO,KAAKgE,KAAL,CAAW1B,EAAX,CAAJ,EAAoB;AACzBmM,gBAAInW,IAAJ,CAAS0H,IAAT;AACD;AACF,SATH;AAWA,eAAOyO,GAAP;AACD,OAlBD,CA7N0B,CAiP1B;;;;;;;;AAOAvX,cAAQqZ,IAAR,GAAe,UAASxM,GAAT,EAAc;AAC3B,eAAOA,IACJI,WADI,GAEJgD,OAFI,CAEI,KAFJ,EAEW,GAFX,EAGJA,OAHI,CAGI,SAHJ,EAGe,EAHf,CAAP;AAID,OALD,CAxP0B,CA+P1B;;;;;;;AAMAjQ,cAAQ4R,KAAR,GAAgB,UAAS/E,GAAT,EAAc;AAC5BA,cAAMA,IACHoD,OADG,CACK,yBADL,EACgC,IADhC,EACsCA,OADtC,CAC8C,SAD9C,EACyD,EADzD,EAEHA,OAFG,CAEK,sCAFL,EAE6C,EAF7C,EAGHA,OAHG,CAGK,QAHL,EAGe,EAHf,CAAN;AAKA,YAAIqT,SAASzW,IAAIC,KAAJ,CAAU,UAAV,EAAsB,CAAtB,EAAyB5M,MAAtC;AACA,YAAIqjB,OAAO1W,IAAIC,KAAJ,CAAU,WAAV,EAAuB,CAAvB,EAA0B5M,MAArC;AACA,YAAIkL,KAAK,IAAIrD,MAAJ,CAAW,UAAUwb,OAAO,IAAP,GAAc,GAAxB,IAA+B,GAA/B,IAAsCA,OAAOA,IAAP,GAAcD,MAApD,IAA8D,GAAzE,EAA8E,IAA9E,CAAT;AAEAzW,cAAMA,IAAIoD,OAAJ,CAAY7E,EAAZ,EAAgB,EAAhB,CAAN;AAEA,eAAOpL,QAAQ4T,IAAR,CAAa/G,GAAb,CAAP;AACD,OAbD,CArQ0B,CAoR1B;;;;;;;;AAOA7M,cAAQ4T,IAAR,GAAe,UAAS/G,GAAT,EAAc;AAC3B,eAAOA,IAAIoD,OAAJ,CAAY,YAAZ,EAA0B,EAA1B,CAAP;AACD,OAFD,CA3R0B,CA+R1B;;;;;;;;AAOAjQ,cAAQwjB,UAAR,GAAqB,UAASC,EAAT,EAAa;AAChC,eAAOzjB,QAAQqhB,MAAR,CAAeoC,GAAGxT,OAAH,CAAW,GAAX,EAAgB,EAAhB,EAAoBW,KAApB,CAA0B,GAA1B,CAAf,EAA+C,UAASvI,GAAT,EAAcqb,IAAd,EAAoB;AACxE,cAAI/jB,IAAI+jB,KAAKvZ,OAAL,CAAa,GAAb,CAAR;AACA,cAAI1E,MAAMie,KAAKrhB,KAAL,CAAW,CAAX,EAAc1C,CAAd,CAAV;AACA,cAAIoB,MAAM2iB,KAAKrhB,KAAL,CAAW,EAAE1C,CAAb,CAAV;AAEA0I,cAAI5C,GAAJ,IAAWke,mBAAmB5iB,GAAnB,CAAX;AACA,iBAAOsH,GAAP;AACD,SAPM,EAOJ,EAPI,CAAP;AAQD,OATD,CAtS0B,CAiT1B;;;;;;;;AAOA,eAASub,SAAT,CAAmBC,EAAnB,EAAuB;AACrB,eAAOA,GACJ5T,OADI,CACI,IADJ,EACU,MADV,EAEJA,OAFI,CAEI,IAFJ,EAEU,MAFV,EAGJA,OAHI,CAGI,YAHJ,EAGkB,mCAHlB,EAIJA,OAJI,CAII,WAJJ,EAIiB,gCAJjB,EAKJA,OALI,CAKI,cALJ,EAKoB,gCALpB,EAMJA,OANI,CAMI,SANJ,EAMe,gCANf,EAOJA,OAPI,CAOI,oBAPJ,EAO0B,+DAP1B,EAQJA,OARI,CAQI,+CARJ,EAQqD,iCARrD,CAAP;AASD,OAlUyB,CAoU1B;;;;;;;AAMAjQ,cAAQ8jB,aAAR,GAAwB,UAAS7iB,IAAT,EAAe;AACrC,YAAInB,OAAOoT,SAASC,cAAT,CAAwB,OAAxB,EAAiCP,oBAAjC,CAAsD3R,IAAtD,CAAX;;AACA,aAAK,IAAItB,IAAI,CAAR,EAAW8Q,MAAM3Q,KAAKI,MAA3B,EAAmCP,IAAI8Q,GAAvC,EAA4C,EAAE9Q,CAA9C,EAAiD;AAC/CG,eAAKH,CAAL,EAAQ2V,SAAR,GAAoBsO,UAAU9jB,KAAKH,CAAL,EAAQ2V,SAAlB,CAApB;AACD;AACF,OALD,CA1U0B,CAiV1B;;;;;;;;;;;;;;;AAcA,eAASyO,mBAAT,CAA6BxS,KAA7B,EAAoC/Q,IAApC,EAA0C;AACxCA,eAAOA,QAAQR,QAAQQ,IAAR,CAAa+Q,KAAb,CAAf;;AAEA,gBAAQ/Q,IAAR;AACE,eAAK,UAAL;AACE,mBAAO,YAAP;;AACF,eAAK,QAAL;AACE,mBAAO,IAAP;;AACF,eAAK,OAAL;AACE,mBAAO,IAAP;;AACF;AACE,mBAAO+Q,MAAM1Q,QAAN,EAAP;AARJ;AAUD,OA5WyB,CA8W1B;;;;;;;;;;;;;;;;;;;;;AAoBAb,cAAQQ,IAAR;AAAe,iBAASA,IAAT,CAAc+Q,KAAd,EAAqB;AAClC,cAAIA,UAAUhR,SAAd,EAAyB;AACvB,mBAAO,WAAP;AACD,WAFD,MAEO,IAAIgR,UAAU,IAAd,EAAoB;AACzB,mBAAO,MAAP;AACD,WAFM,MAEA,IAAI,OAAO2Q,MAAP,KAAkB,WAAlB,IAAiCA,OAAO8B,QAAP,CAAgBzS,KAAhB,CAArC,EAA6D;AAClE,mBAAO,QAAP;AACD;;AACD,iBAAO5Q,OAAOC,SAAP,CAAiBC,QAAjB,CAA0BZ,IAA1B,CAA+BsR,KAA/B,EACJtB,OADI,CACI,iBADJ,EACuB,IADvB,EAEJhD,WAFI,EAAP;AAGD;;AAXD,eAAwBzM,IAAxB;AAAA,UAlY0B,CA+Y1B;;;;;;;;;;;;;;;;AAeAR,cAAQwF,SAAR,GAAoB,UAAS+L,KAAT,EAAgB;AAClC,YAAI/Q,OAAOR,QAAQQ,IAAR,CAAa+Q,KAAb,CAAX;;AAEA,YAAI,CAAC,CAACvR,QAAQmK,OAAR,CAAgB,CAAC,QAAD,EAAW,OAAX,EAAoB,UAApB,CAAhB,EAAiD3J,IAAjD,CAAN,EAA8D;AAC5D,cAAIA,SAAS,QAAb,EAAuB;AACrB,mBAAOyjB,cAAc1S,KAAd,CAAP;AACD;;AACD,cAAI+E,OAAO/E,MAAM0R,MAAN,EAAX,CAJ4D,CAK5D;;AACA,iBAAOgB,cAAc3N,KAAKwB,IAAL,IAAaxB,KAAK9V,IAAlB,GAAyB8V,KAAKwB,IAA9B,GAAqCxB,IAAnD,EAAyD,CAAzD,EACJrG,OADI,CACI,UADJ,EACgB,IADhB,CAAP;AAED;;AAED,aAAK,IAAIiU,IAAT,2CAAiB3S,KAAjB,GAAwB;AACtB,cAAI5Q,OAAOC,SAAP,CAAiBiX,cAAjB,CAAgC5X,IAAhC,CAAqCsR,KAArC,EAA4C2S,IAA5C,CAAJ,EAAuD;AACrD,mBAAOD,cAAcjkB,QAAQmkB,YAAR,CAAqB5S,KAArB,CAAd,EAA2C,CAA3C,EAA8CtB,OAA9C,CAAsD,UAAtD,EAAkE,IAAlE,CAAP;AACD;AACF;;AAED,eAAO8T,oBAAoBxS,KAApB,EAA2B/Q,IAA3B,CAAP;AACD,OApBD,CA9Z0B,CAob1B;;;;;;;;;;AASA,eAASyjB,aAAT,CAAuBG,MAAvB,EAA+Bd,MAA/B,EAAuCe,KAAvC,EAA8C;AAC5C,YAAI,OAAOf,MAAP,KAAkB,WAAtB,EAAmC;AACjC;AACA,iBAAOgB,WAAWF,MAAX,CAAP;AACD;;AAEDC,gBAAQA,SAAS,CAAjB;AACA,YAAIE,QAAQjB,SAASe,KAArB;AACA,YAAIxX,MAAM/L,QAAQsjB,MAAR,IAAkB,GAAlB,GAAwB,GAAlC;AACA,YAAI9T,MAAMxP,QAAQsjB,MAAR,IAAkB,GAAlB,GAAwB,GAAlC;AACA,YAAIlkB,SAASkkB,OAAOlkB,MAAP,IAAiBF,QAAQ8d,IAAR,CAAasG,MAAb,EAAqBlkB,MAAnD,CAV4C,CAW5C;;AACA,iBAASskB,MAAT,CAAgBllB,CAAhB,EAAmBF,CAAnB,EAAsB;AACpB,iBAAO,IAAIgD,KAAJ,CAAUhD,CAAV,EAAaiK,IAAb,CAAkB/J,CAAlB,CAAP;AACD;;AAED,iBAASglB,UAAT,CAAoBvjB,GAApB,EAAyB;AACvB,kBAAQf,QAAQQ,IAAR,CAAaO,GAAb,CAAR;AACE,iBAAK,MAAL;AACA,iBAAK,WAAL;AACEA,oBAAM,MAAMA,GAAN,GAAY,GAAlB;AACA;;AACF,iBAAK,OAAL;AACA,iBAAK,QAAL;AACEA,oBAAMkjB,cAAcljB,GAAd,EAAmBuiB,MAAnB,EAA2Be,QAAQ,CAAnC,CAAN;AACA;;AACF,iBAAK,SAAL;AACA,iBAAK,QAAL;AACA,iBAAK,QAAL;AACEtjB,oBAAMA,QAAQ,CAAR,IAAc,IAAIA,GAAL,KAAc,CAAC0jB,QAA5B,CAAqC;AAArC,gBACF,IADE,GAEF1jB,IAAIF,QAAJ,EAFJ;AAGA;;AACF,iBAAK,MAAL;AACE,kBAAI6jB,QAAQC,MAAM5jB,IAAI6jB,OAAJ,EAAN,EAA4B;AAA5B,gBACR7jB,IAAIF,QAAJ,EADQ,GAERE,IAAI8jB,WAAJ,EAFJ;AAGA9jB,oBAAM,YAAY2jB,KAAZ,GAAoB,GAA1B;AACA;;AACF,iBAAK,QAAL;AACE,kBAAIpO,OAAOvV,IAAIkiB,MAAJ,EAAX,CADF,CAEE;;AACA3M,qBAAOA,KAAKwB,IAAL,IAAaxB,KAAK9V,IAAlB,GAAyB8V,KAAKwB,IAA9B,GAAqCxB,IAA5C;AACAvV,oBAAM,cAAckjB,cAAc3N,IAAd,EAAoB,CAApB,EAAuB+N,QAAQ,CAA/B,CAAd,GAAkD,GAAxD;AACA;;AACF;AACEtjB,oBAAOA,QAAQ,YAAR,IAAwBA,QAAQ,YAAjC,GACFA,GADE,GAEFwE,KAAKC,SAAL,CAAezE,GAAf,CAFJ;AAEyB;AA/B7B;;AAiCA,iBAAOA,GAAP;AACD;;AAED,aAAK,IAAIpB,CAAT,2CAAcykB,MAAd,GAAsB;AACpB,cAAI,CAACA,OAAOvM,cAAP,CAAsBlY,CAAtB,CAAL,EAA+B;AAC7B,qBAD6B,CACnB;AACX;;AACD,YAAEO,MAAF;AACA2M,iBAAO,QAAQ2X,OAAO,GAAP,EAAYD,KAAZ,CAAR,IACFzjB,QAAQsjB,MAAR,IAAkB,EAAlB,GAAuB,MAAMzkB,CAAN,GAAU,KAD/B,EACsC;AADtC,YAEH2kB,WAAWF,OAAOzkB,CAAP,CAAX,CAFG,CAEuC;AAFvC,aAGFO,SAAS,GAAT,GAAe,EAHb,CAAP,CALoB,CAQyB;AAC9C;;AAED,eAAO2M,IACL;AADK,WAEFA,IAAI3M,MAAJ,KAAe,CAAf,GAAmB,OAAOskB,OAAO,GAAP,EAAY,EAAED,KAAd,CAAP,GAA8BjU,GAAjD,GAAuDA,GAFrD,CAAP;AAGD,OAhgByB,CAkgB1B;;;;;;;;AAOAtQ,cAAQgkB,QAAR,GAAmB,UAASzS,KAAT,EAAgB;AACjC,eAAO,OAAO2Q,MAAP,KAAkB,WAAlB,IAAiCA,OAAO8B,QAAP,CAAgBzS,KAAhB,CAAxC;AACD,OAFD,CAzgB0B,CA6gB1B;;;;;;;;;;;;;;;;;;;AAkBAvR,cAAQmkB,YAAR,GAAuB,UAAS5S,KAAT,EAAgBjH,KAAhB,EAAuB;AAC5C,YAAIwa,gBAAJ,CAD4C,CAE5C;AACA,YAAIZ,IAAJ,CAH4C,CAI5C;AACA,YAAI1jB,OAAOR,QAAQQ,IAAR,CAAa+Q,KAAb,CAAX;;AACA,iBAASwT,SAAT,CAAmBxT,KAAnB,EAA0BrQ,EAA1B,EAA8B;AAC5BoJ,gBAAMlJ,IAAN,CAAWmQ,KAAX;AACArQ;AACAoJ,gBAAMyV,GAAN;AACD;;AAEDzV,gBAAQA,SAAS,EAAjB;;AAEA,YAAItK,QAAQmK,OAAR,CAAgBG,KAAhB,EAAuBiH,KAAvB,MAAkC,CAAC,CAAvC,EAA0C;AACxC,iBAAO,YAAP;AACD;;AAED,gBAAQ/Q,IAAR;AACE,eAAK,WAAL;AACA,eAAK,QAAL;AACA,eAAK,MAAL;AACEskB,+BAAmBvT,KAAnB;AACA;;AACF,eAAK,OAAL;AACEwT,sBAAUxT,KAAV,EAAiB,YAAW;AAC1BuT,iCAAmB9kB,QAAQ6Q,GAAR,CAAYU,KAAZ,EAAmB,UAASyT,IAAT,EAAe;AACnD,uBAAOhlB,QAAQmkB,YAAR,CAAqBa,IAArB,EAA2B1a,KAA3B,CAAP;AACD,eAFkB,CAAnB;AAGD,aAJD;AAKA;;AACF,eAAK,UAAL;AACE,6CACA,KAAK4Z,IAAL,2CAAa3S,KAAb,GAAoB;AAClBuT,iCAAmB,EAAnB;AACA;AACD,aALH,CAME;;AACA,gBAAI,CAACA,gBAAL,EAAuB;AACrBA,iCAAmBf,oBAAoBxS,KAApB,EAA2B/Q,IAA3B,CAAnB;AACA;AACD;;AACH;;AACA,eAAK,QAAL;AACEskB,+BAAmBA,oBAAoB,EAAvC;AACAC,sBAAUxT,KAAV,EAAiB,YAAW;AAC1BvR,sBAAQyK,OAAR,CAAgBzK,QAAQ8d,IAAR,CAAavM,KAAb,EAAoBwG,IAApB,EAAhB,EAA4C,UAAStS,GAAT,EAAc;AACxDqf,iCAAiBrf,GAAjB,IAAwBzF,QAAQmkB,YAAR,CAAqB5S,MAAM9L,GAAN,CAArB,EAAiC6E,KAAjC,CAAxB;AACD,eAFD;AAGD,aAJD;AAKA;;AACF,eAAK,MAAL;AACA,eAAK,QAAL;AACA,eAAK,QAAL;AACA,eAAK,SAAL;AACEwa,+BAAmBvT,KAAnB;AACA;;AACF;AACEuT,+BAAmBvT,MAAM1Q,QAAN,EAAnB;AAxCJ;;AA2CA,eAAOikB,gBAAP;AACD,OA9DD,CA/hB0B,CA+lB1B;;;;;;;;;;AASA9kB,cAAQilB,WAAR;AAAsB,iBAASA,WAAT,CAAqBnc,IAArB,EAA2Boc,UAA3B,EAAuCC,SAAvC,EAAkD;AACtE,cAAI1b,QAAQ,EAAZ;AACA,cAAI2B,KAAK,IAAIrD,MAAJ,CAAW,SAASmd,WAAW7b,IAAX,CAAgB,GAAhB,CAAT,GAAgC,IAA3C,CAAT;;AAEA,cAAI,CAAC+Y,OAAOtZ,IAAP,CAAL,EAAmB;AACjB,gBAAIsZ,OAAOtZ,OAAO,KAAd,CAAJ,EAA0B;AACxBA,sBAAQ,KAAR;AACD,aAFD,MAEO;AACLW,sBAAQ6Y,KAAK1F,IAAL,CAAU9T,IAAV,CAAR;;AACA,kBAAI,CAACW,MAAMvJ,MAAX,EAAmB;AACjB,sBAAM,IAAIL,KAAJ,CAAU,uCAAuCiJ,IAAvC,GAA8C,GAAxD,CAAN;AACD;;AACD,qBAAOW,KAAP;AACD;AACF;;AAED,cAAI;AACF,gBAAIgJ,OAAO+P,SAAS1Z,IAAT,CAAX;;AACA,gBAAI2J,KAAK2S,MAAL,EAAJ,EAAmB;AACjB,qBAAOtc,IAAP;AACD;AACF,WALD,CAKE,OAAOzE,GAAP,EAAY;AACZ;AACA;AACD;;AAEDke,sBAAYzZ,IAAZ,EAAkB2B,OAAlB,CAA0B,UAASnE,IAAT,EAAe;AACvCA,mBAAO+C,KAAKP,IAAL,EAAWxC,IAAX,CAAP;;AACA,gBAAI;AACF,kBAAImM,OAAO+P,SAASlc,IAAT,CAAX;;AACA,kBAAImM,KAAK4Q,WAAL,EAAJ,EAAwB;AACtB,oBAAI8B,SAAJ,EAAe;AACb1b,0BAAQA,MAAMqC,MAAN,CAAamZ,YAAY3e,IAAZ,EAAkB4e,UAAlB,EAA8BC,SAA9B,CAAb,CAAR;AACD;;AACD;AACD;AACF,aARD,CAQE,OAAO9gB,GAAP,EAAY;AACZ;AACA;AACD;;AACD,gBAAI,CAACoO,KAAK2S,MAAL,EAAD,IAAkB,CAACha,GAAGrG,IAAH,CAAQuB,IAAR,CAAnB,IAAoC6b,SAAS7b,IAAT,EAAe,CAAf,MAAsB,GAA9D,EAAmE;AACjE;AACD;;AACDmD,kBAAMrI,IAAN,CAAWkF,IAAX;AACD,WAlBD;AAoBA,iBAAOmD,KAAP;AACD;;AA/CD,eAA+Bwb,WAA/B;AAAA,UAxmB0B,CAypB1B;;;;;;AAMAjlB,cAAQie,cAAR,GAAyB,YAAW;AAClC,eAAO,IAAIpe,KAAJ,CAAU,gEAAV,CAAP;AACD,OAFD,CA/pB0B,CAmqB1B;;;;;;;AAOAG,cAAQ0d,QAAR,GAAmB,UAASrZ,GAAT,EAAc;AAC/B,eAAOA,OAAOrE,QAAQie,cAAR,EAAd;AACD,OAFD,CA1qB0B,CA8qB1B;;;;;;;;;;AASAje,cAAQge,gBAAR,GAA2B,YAAW;AACpC;AACA,YAAIqH,QAAQ,GAAZ;AACA,YAAIC,KAAK,OAAOpS,QAAP,KAAoB,WAApB,GAAkC;AAAEqS,gBAAM;AAAR,SAAlC,GAAmD;AAAErc,mBAAS;AAAX,SAA5D;AACA,YAAIC,MAAMmc,GAAGC,IAAH,GACJnlB,QAAQ+I,GAAR,KAAgBkc,KADZ,GAEJ,CAAC,OAAOrQ,QAAP,KAAoB,WAApB,GAAkCrQ,OAAOqQ,QAAzC,GAAoDA,QAArD,EAA+DwQ,IAA/D,CAAoEvV,OAApE,CAA4E,WAA5E,EAAyF,GAAzF,CAFN;;AAIA,iBAASwV,eAAT,CAAyBzU,IAAzB,EAA+B;AAC7B,iBAAQ,CAACA,KAAK7G,OAAL,CAAa,iBAAiBkb,KAAjB,GAAyB,OAAzB,GAAmCA,KAAhD,CAAF,IACD,CAACrU,KAAK7G,OAAL,CAAa,eAAekb,KAAf,GAAuB,SAAvB,GAAmCA,KAAhD,CADA,IAED,CAACrU,KAAK7G,OAAL,CAAa,eAAekb,KAAf,GAAuB,OAAvB,GAAiCA,KAA9C,CAFA,IAGD,CAACrU,KAAK7G,OAAL,CAAakb,QAAQ,UAArB,CAHP;AAID;;AAED,iBAASK,cAAT,CAAwB1U,IAAxB,EAA8B;AAC5B,iBAAQ,CAACA,KAAK7G,OAAL,CAAa,aAAb,CAAF,IACD,CAAC6G,KAAK7G,OAAL,CAAa,aAAb,CADA,IAED,CAAC6G,KAAK7G,OAAL,CAAa,WAAb,CAFA,IAGD,CAAC6G,KAAK7G,OAAL,CAAa,aAAb,CAHA,IAID,CAAC6G,KAAK7G,OAAL,CAAa,0CAAb,CAJA,IAKF,KALL;AAMD;;AAED,eAAO,UAASG,KAAT,EAAgB;AACrBA,kBAAQA,MAAMsG,KAAN,CAAY,IAAZ,CAAR;AAEAtG,kBAAQtK,QAAQqhB,MAAR,CAAe/W,KAAf,EAAsB,UAAS1I,IAAT,EAAeoP,IAAf,EAAqB;AACjD,gBAAIyU,gBAAgBzU,IAAhB,CAAJ,EAA2B;AACzB,qBAAOpP,IAAP;AACD;;AAED,gBAAI0jB,GAAGC,IAAH,IAAWG,eAAe1U,IAAf,CAAf,EAAqC;AACnC,qBAAOpP,IAAP;AACD,aAPgD,CASjD;;;AACAA,iBAAKR,IAAL,CAAU4P,KAAKf,OAAL,CAAa9G,GAAb,EAAkB,EAAlB,CAAV;AACA,mBAAOvH,IAAP;AACD,WAZO,EAYL,EAZK,CAAR;AAcA,iBAAO0I,MAAMjB,IAAN,CAAW,IAAX,CAAP;AACD,SAlBD;AAmBD,OA3CD;AA6CC,KApuBD,EAouBGpJ,IApuBH,CAouBQ,IApuBR,EAouBaP,QAAQ,UAAR,CApuBb,EAouBiCA,QAAQ,QAAR,EAAkBwiB,MApuBnD;AAquBC,GAtuBoC,EAsuBnC;AAAC,gBAAW,EAAZ;AAAe,cAAS,EAAxB;AAA2B,aAAQ,CAAnC;AAAqC,UAAK,EAA1C;AAA6C,YAAO,EAApD;AAAuD,YAAO,EAA9D;AAAiE,YAAO;AAAxE,GAtuBmC,CAz2KsZ;AA+kM5W,MAAG,CAAC,UAASxiB,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACnH,KAAC,UAAUI,OAAV,EAAkB;AACnB,UAAIulB,iBAAiBjmB,QAAQ,QAAR,EAAkBkmB,QAAvC;;AACA,UAAIjgB,WAAWjG,QAAQ,MAAR,EAAgBiG,QAA/B;;AAEAxF,aAAOH,OAAP,GAAiB6lB,aAAjB;AAGAlgB,eAASkgB,aAAT,EAAwBF,cAAxB;;AAEA,eAASE,aAAT,CAAuBC,IAAvB,EAA6B;AAC3B,YAAI,EAAE,gBAAgBD,aAAlB,CAAJ,EAAsC,OAAO,IAAIA,aAAJ,CAAkBC,IAAlB,CAAP;AAEtCA,eAAOA,QAAQ,EAAf;AACAH,uBAAe1lB,IAAf,CAAoB,IAApB,EAA0B6lB,IAA1B;AACA,aAAKC,KAAL,GAAcD,KAAKC,KAAL,KAAexlB,SAAhB,GAA6BulB,KAAKC,KAAlC,GAA0C,QAAvD;AACD;;AAEDF,oBAAcjlB,SAAd,CAAwBolB,MAAxB,GAAiC,UAASC,MAAT,EAAiBC,QAAjB,EAA2BC,EAA3B,EAA+B;AAC9D,YAAI/O,SAAS6O,OAAOplB,QAAP,GAAkBolB,OAAOplB,QAAP,EAAlB,GAAsColB,MAAnD;;AACA,YAAI,KAAKF,KAAL,KAAe,KAAnB,EAA0B;AACxB3b,kBAAQiF,GAAR,CAAY+H,MAAZ;AACD,SAFD,MAEO;AACLhN,kBAAQiF,GAAR,CAAY,KAAK0W,KAAL,GAAW,GAAvB,EAA4B3O,MAA5B;AACD;;AACDhX,gBAAQye,QAAR,CAAiBsH,EAAjB;AACD,OARD;AAUC,KA3BD,EA2BGlmB,IA3BH,CA2BQ,IA3BR,EA2BaP,QAAQ,UAAR,CA3Bb;AA4BC,GA7BiF,EA6BhF;AAAC,gBAAW,EAAZ;AAAe,cAAS,EAAxB;AAA2B,YAAO;AAAlC,GA7BgF,CA/kMyW;AA4mMlZ,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC,CAE5E,CAF2C,EAE1C,EAF0C,CA5mM+Y;AA8mMrb,MAAG,CAAC,UAASN,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1C0B,cAAU,CAAV,EAAa,EAAb,EAAiB,CAAjB,EAAoBD,KAApB,CAA0BzB,OAA1B,EAAkC0B,SAAlC;AACC,GAFQ,EAEP;AAAC,WAAM;AAAP,GAFO,CA9mMkb;AAgnM7a,MAAG,CAAC,UAAShC,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAClD;;;;;OAOA,IAAIomB,SAAS1mB,QAAQ,WAAR,CAAb;;AACA,QAAI2mB,UAAU3mB,QAAQ,SAAR,CAAd;;AACA,QAAIoB,UAAUpB,QAAQ,UAAR,CAAd;;AAEAM,YAAQkiB,MAAR,GAAiBA,MAAjB;AACAliB,YAAQsmB,UAAR,GAAqBA,UAArB;AACAtmB,YAAQumB,iBAAR,GAA4B,EAA5B;AACArE,WAAOsE,QAAP,GAAkB,IAAlB,CAfkD,CAe3B;;AAEvB,QAAIC,aAAa,EAAjB,CAjBkD,CAmBlD;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BAvE,WAAOwE,mBAAP,GAA8B,YAAY;AACxC,eAASC,GAAT,GAAgB,CAAE;;AAClB,UAAI;AACF,YAAIzH,MAAM,IAAI0H,UAAJ,CAAe,CAAf,CAAV;;AACA1H,YAAI2H,GAAJ,GAAU,YAAY;AAAE,iBAAO,EAAP;AAAW,SAAnC;;AACA3H,YAAI4H,WAAJ,GAAkBH,GAAlB;AACA,eAAOzH,IAAI2H,GAAJ,OAAc,EAAd,IAAoB;AACvB3H,YAAI4H,WAAJ,KAAoBH,GADjB,IACwB;AAC3B,eAAOzH,IAAI6H,QAAX,KAAwB,UAFrB,IAEmC;AACtC7H,YAAI6H,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmBC,UAAnB,KAAkC,CAHtC,CAJE,CAOsC;AACzC,OARD,CAQE,OAAO9nB,CAAP,EAAU;AACV,eAAO,KAAP;AACD;AACF,KAb4B,EAA7B;;AAeA,aAAS+nB,UAAT,GAAuB;AACrB,aAAO/E,OAAOwE,mBAAP,GACH,UADG,GAEH,UAFJ;AAGD,KAjEiD,CAmElD;;;;;;;;;;;;;AAYA,aAASxE,MAAT,CAAiBgF,GAAjB,EAAsB;AACpB,UAAI,EAAE,gBAAgBhF,MAAlB,CAAJ,EAA+B;AAC7B;AACA,YAAIxgB,UAAUxB,MAAV,GAAmB,CAAvB,EAA0B,OAAO,IAAIgiB,MAAJ,CAAWgF,GAAX,EAAgBxlB,UAAU,CAAV,CAAhB,CAAP;AAC1B,eAAO,IAAIwgB,MAAJ,CAAWgF,GAAX,CAAP;AACD;;AAED,WAAKhnB,MAAL,GAAc,CAAd;AACA,WAAKmc,MAAL,GAAc9b,SAAd,CARoB,CAUpB;;AACA,UAAI,OAAO2mB,GAAP,KAAe,QAAnB,EAA6B;AAC3B,eAAOC,WAAW,IAAX,EAAiBD,GAAjB,CAAP;AACD,OAbmB,CAepB;;;AACA,UAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC3B,eAAOE,WAAW,IAAX,EAAiBF,GAAjB,EAAsBxlB,UAAUxB,MAAV,GAAmB,CAAnB,GAAuBwB,UAAU,CAAV,CAAvB,GAAsC,MAA5D,CAAP;AACD,OAlBmB,CAoBpB;;;AACA,aAAO2lB,WAAW,IAAX,EAAiBH,GAAjB,CAAP;AACD;;AAED,aAASC,UAAT,CAAqBG,IAArB,EAA2BpnB,MAA3B,EAAmC;AACjConB,aAAOC,SAASD,IAAT,EAAepnB,SAAS,CAAT,GAAa,CAAb,GAAiBsnB,QAAQtnB,MAAR,IAAkB,CAAlD,CAAP;;AACA,UAAI,CAACgiB,OAAOwE,mBAAZ,EAAiC;AAC/B,aAAK,IAAI/mB,IAAI,CAAb,EAAgBA,IAAIO,MAApB,EAA4BP,GAA5B,EAAiC;AAC/B2nB,eAAK3nB,CAAL,IAAU,CAAV;AACD;AACF;;AACD,aAAO2nB,IAAP;AACD;;AAED,aAASF,UAAT,CAAqBE,IAArB,EAA2BnM,MAA3B,EAAmC+K,QAAnC,EAA6C;AAC3C,UAAI,OAAOA,QAAP,KAAoB,QAApB,IAAgCA,aAAa,EAAjD,EAAqDA,WAAW,MAAX,CADV,CAG3C;;AACA,UAAIhmB,SAAS8mB,WAAW7L,MAAX,EAAmB+K,QAAnB,IAA+B,CAA5C;AACAoB,aAAOC,SAASD,IAAT,EAAepnB,MAAf,CAAP;AAEAonB,WAAKtY,KAAL,CAAWmM,MAAX,EAAmB+K,QAAnB;AACA,aAAOoB,IAAP;AACD;;AAED,aAASD,UAAT,CAAqBC,IAArB,EAA2BlD,MAA3B,EAAmC;AACjC,UAAIlC,OAAO8B,QAAP,CAAgBI,MAAhB,CAAJ,EAA6B,OAAOqD,WAAWH,IAAX,EAAiBlD,MAAjB,CAAP;AAE7B,UAAItjB,QAAQsjB,MAAR,CAAJ,EAAqB,OAAOsD,UAAUJ,IAAV,EAAgBlD,MAAhB,CAAP;;AAErB,UAAIA,UAAU,IAAd,EAAoB;AAClB,cAAM,IAAIuD,SAAJ,CAAc,iDAAd,CAAN;AACD;;AAED,UAAI,OAAOC,WAAP,KAAuB,WAA3B,EAAwC;AACtC,YAAIxD,OAAOyD,MAAP,YAAyBD,WAA7B,EAA0C;AACxC,iBAAOE,eAAeR,IAAf,EAAqBlD,MAArB,CAAP;AACD;;AACD,YAAIA,kBAAkBwD,WAAtB,EAAmC;AACjC,iBAAOG,gBAAgBT,IAAhB,EAAsBlD,MAAtB,CAAP;AACD;AACF;;AAED,UAAIA,OAAOlkB,MAAX,EAAmB,OAAO8nB,cAAcV,IAAd,EAAoBlD,MAApB,CAAP;AAEnB,aAAO6D,eAAeX,IAAf,EAAqBlD,MAArB,CAAP;AACD;;AAED,aAASqD,UAAT,CAAqBH,IAArB,EAA2BO,MAA3B,EAAmC;AACjC,UAAI3nB,SAASsnB,QAAQK,OAAO3nB,MAAf,IAAyB,CAAtC;AACAonB,aAAOC,SAASD,IAAT,EAAepnB,MAAf,CAAP;AACA2nB,aAAOK,IAAP,CAAYZ,IAAZ,EAAkB,CAAlB,EAAqB,CAArB,EAAwBpnB,MAAxB;AACA,aAAOonB,IAAP;AACD;;AAED,aAASI,SAAT,CAAoBJ,IAApB,EAA0Ba,KAA1B,EAAiC;AAC/B,UAAIjoB,SAASsnB,QAAQW,MAAMjoB,MAAd,IAAwB,CAArC;AACAonB,aAAOC,SAASD,IAAT,EAAepnB,MAAf,CAAP;;AACA,WAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAIO,MAApB,EAA4BP,KAAK,CAAjC,EAAoC;AAClC2nB,aAAK3nB,CAAL,IAAUwoB,MAAMxoB,CAAN,IAAW,GAArB;AACD;;AACD,aAAO2nB,IAAP;AACD,KAjKiD,CAmKlD;;;AACA,aAASQ,cAAT,CAAyBR,IAAzB,EAA+Ba,KAA/B,EAAsC;AACpC,UAAIjoB,SAASsnB,QAAQW,MAAMjoB,MAAd,IAAwB,CAArC;AACAonB,aAAOC,SAASD,IAAT,EAAepnB,MAAf,CAAP,CAFoC,CAGpC;AACA;AACA;;AACA,WAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAIO,MAApB,EAA4BP,KAAK,CAAjC,EAAoC;AAClC2nB,aAAK3nB,CAAL,IAAUwoB,MAAMxoB,CAAN,IAAW,GAArB;AACD;;AACD,aAAO2nB,IAAP;AACD;;AAED,aAASS,eAAT,CAA0BT,IAA1B,EAAgCa,KAAhC,EAAuC;AACrC,UAAIjG,OAAOwE,mBAAX,EAAgC;AAC9B;AACAyB,cAAMnB,UAAN;AACAM,eAAOpF,OAAOkG,QAAP,CAAgB,IAAIxB,UAAJ,CAAeuB,KAAf,CAAhB,CAAP;AACD,OAJD,MAIO;AACL;AACAb,eAAOQ,eAAeR,IAAf,EAAqB,IAAIV,UAAJ,CAAeuB,KAAf,CAArB,CAAP;AACD;;AACD,aAAOb,IAAP;AACD;;AAED,aAASU,aAAT,CAAwBV,IAAxB,EAA8Ba,KAA9B,EAAqC;AACnC,UAAIjoB,SAASsnB,QAAQW,MAAMjoB,MAAd,IAAwB,CAArC;AACAonB,aAAOC,SAASD,IAAT,EAAepnB,MAAf,CAAP;;AACA,WAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAIO,MAApB,EAA4BP,KAAK,CAAjC,EAAoC;AAClC2nB,aAAK3nB,CAAL,IAAUwoB,MAAMxoB,CAAN,IAAW,GAArB;AACD;;AACD,aAAO2nB,IAAP;AACD,KAnMiD,CAqMlD;AACA;;;AACA,aAASW,cAAT,CAAyBX,IAAzB,EAA+BlD,MAA/B,EAAuC;AACrC,UAAI+D,KAAJ;AACA,UAAIjoB,SAAS,CAAb;;AAEA,UAAIkkB,OAAO5jB,IAAP,KAAgB,QAAhB,IAA4BM,QAAQsjB,OAAOtM,IAAf,CAAhC,EAAsD;AACpDqQ,gBAAQ/D,OAAOtM,IAAf;AACA5X,iBAASsnB,QAAQW,MAAMjoB,MAAd,IAAwB,CAAjC;AACD;;AACDonB,aAAOC,SAASD,IAAT,EAAepnB,MAAf,CAAP;;AAEA,WAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAIO,MAApB,EAA4BP,KAAK,CAAjC,EAAoC;AAClC2nB,aAAK3nB,CAAL,IAAUwoB,MAAMxoB,CAAN,IAAW,GAArB;AACD;;AACD,aAAO2nB,IAAP;AACD;;AAED,aAASC,QAAT,CAAmBD,IAAnB,EAAyBpnB,MAAzB,EAAiC;AAC/B,UAAIgiB,OAAOwE,mBAAX,EAAgC;AAC9B;AACAY,eAAOpF,OAAOkG,QAAP,CAAgB,IAAIxB,UAAJ,CAAe1mB,MAAf,CAAhB,CAAP;AACD,OAHD,MAGO;AACL;AACAonB,aAAKpnB,MAAL,GAAcA,MAAd;AACAonB,aAAKe,SAAL,GAAiB,IAAjB;AACD;;AAED,UAAIC,WAAWpoB,WAAW,CAAX,IAAgBA,UAAUgiB,OAAOsE,QAAP,KAAoB,CAA7D;AACA,UAAI8B,QAAJ,EAAchB,KAAKjL,MAAL,GAAcoK,UAAd;AAEd,aAAOa,IAAP;AACD;;AAED,aAASE,OAAT,CAAkBtnB,MAAlB,EAA0B;AACxB;AACA;AACA,UAAIA,UAAU+mB,YAAd,EAA4B;AAC1B,cAAM,IAAIsB,UAAJ,CAAe,oDACA,UADA,GACatB,aAAapmB,QAAb,CAAsB,EAAtB,CADb,GACyC,QADxD,CAAN;AAED;;AACD,aAAOX,SAAS,CAAhB;AACD;;AAED,aAASomB,UAAT,CAAqBkC,OAArB,EAA8BtC,QAA9B,EAAwC;AACtC,UAAI,EAAE,gBAAgBI,UAAlB,CAAJ,EAAmC,OAAO,IAAIA,UAAJ,CAAekC,OAAf,EAAwBtC,QAAxB,CAAP;AAEnC,UAAItN,MAAM,IAAIsJ,MAAJ,CAAWsG,OAAX,EAAoBtC,QAApB,CAAV;AACA,aAAOtN,IAAIyD,MAAX;AACA,aAAOzD,GAAP;AACD;;AAEDsJ,WAAO8B,QAAP;AAAkB,eAASA,QAAT,CAAmBvS,CAAnB,EAAsB;AACtC,eAAO,CAAC,EAAEA,KAAK,IAAL,IAAaA,EAAE4W,SAAjB,CAAR;AACD;;AAFD,aAA2BrE,QAA3B;AAAA;;AAIA9B,WAAOuG,OAAP;AAAiB,eAASA,OAAT,CAAkBhpB,CAAlB,EAAqBgS,CAArB,EAAwB;AACvC,YAAI,CAACyQ,OAAO8B,QAAP,CAAgBvkB,CAAhB,CAAD,IAAuB,CAACyiB,OAAO8B,QAAP,CAAgBvS,CAAhB,CAA5B,EAAgD;AAC9C,gBAAM,IAAIkW,SAAJ,CAAc,2BAAd,CAAN;AACD;;AAED,YAAIloB,MAAMgS,CAAV,EAAa,OAAO,CAAP;AAEb,YAAIlO,IAAI9D,EAAES,MAAV;AACA,YAAIsD,IAAIiO,EAAEvR,MAAV;AAEA,YAAIP,IAAI,CAAR;AACA,YAAI8Q,MAAMrN,KAAKC,GAAL,CAASE,CAAT,EAAYC,CAAZ,CAAV;;AACA,eAAO7D,IAAI8Q,GAAX,EAAgB;AACd,cAAIhR,EAAEE,CAAF,MAAS8R,EAAE9R,CAAF,CAAb,EAAmB;AAEnB,YAAEA,CAAF;AACD;;AAED,YAAIA,MAAM8Q,GAAV,EAAe;AACblN,cAAI9D,EAAEE,CAAF,CAAJ;AACA6D,cAAIiO,EAAE9R,CAAF,CAAJ;AACD;;AAED,YAAI4D,IAAIC,CAAR,EAAW,OAAO,CAAC,CAAR;AACX,YAAIA,IAAID,CAAR,EAAW,OAAO,CAAP;AACX,eAAO,CAAP;AACD;;AA1BD,aAA0BklB,OAA1B;AAAA;;AA4BAvG,WAAOwG,UAAP;AAAoB,eAASA,UAAT,CAAqBxC,QAArB,EAA+B;AACjD,gBAAQtX,OAAOsX,QAAP,EAAiBjZ,WAAjB,EAAR;AACE,eAAK,KAAL;AACA,eAAK,MAAL;AACA,eAAK,OAAL;AACA,eAAK,OAAL;AACA,eAAK,QAAL;AACA,eAAK,QAAL;AACA,eAAK,KAAL;AACA,eAAK,MAAL;AACA,eAAK,OAAL;AACA,eAAK,SAAL;AACA,eAAK,UAAL;AACE,mBAAO,IAAP;;AACF;AACE,mBAAO,KAAP;AAdJ;AAgBD;;AAjBD,aAA6Byb,UAA7B;AAAA;;AAmBAxG,WAAOpW,MAAP;AAAgB,eAASA,MAAT,CAAiBlK,IAAjB,EAAuB1B,MAAvB,EAA+B;AAC7C,YAAI,CAACY,QAAQc,IAAR,CAAL,EAAoB,MAAM,IAAI+lB,SAAJ,CAAc,4CAAd,CAAN;;AAEpB,YAAI/lB,KAAK1B,MAAL,KAAgB,CAApB,EAAuB;AACrB,iBAAO,IAAIgiB,MAAJ,CAAW,CAAX,CAAP;AACD;;AAED,YAAIviB,CAAJ;;AACA,YAAIO,WAAWK,SAAf,EAA0B;AACxBL,mBAAS,CAAT;;AACA,eAAKP,IAAI,CAAT,EAAYA,IAAIiC,KAAK1B,MAArB,EAA6BP,GAA7B,EAAkC;AAChCO,sBAAU0B,KAAKjC,CAAL,EAAQO,MAAlB;AACD;AACF;;AAED,YAAI0Y,MAAM,IAAIsJ,MAAJ,CAAWhiB,MAAX,CAAV;AACA,YAAI2B,MAAM,CAAV;;AACA,aAAKlC,IAAI,CAAT,EAAYA,IAAIiC,KAAK1B,MAArB,EAA6BP,GAA7B,EAAkC;AAChC,cAAIqlB,OAAOpjB,KAAKjC,CAAL,CAAX;AACAqlB,eAAKkD,IAAL,CAAUtP,GAAV,EAAe/W,GAAf;AACAA,iBAAOmjB,KAAK9kB,MAAZ;AACD;;AACD,eAAO0Y,GAAP;AACD;;AAvBD,aAAyB9M,MAAzB;AAAA;;AAyBA,aAASkb,UAAT,CAAqB7L,MAArB,EAA6B+K,QAA7B,EAAuC;AACrC,UAAI,OAAO/K,MAAP,KAAkB,QAAtB,EAAgCA,SAAS,KAAKA,MAAd;AAEhC,UAAI1K,MAAM0K,OAAOjb,MAAjB;AACA,UAAIuQ,QAAQ,CAAZ,EAAe,OAAO,CAAP,CAJsB,CAMrC;;AACA,UAAIkY,cAAc,KAAlB;;AACA,eAAS;AACP,gBAAQzC,QAAR;AACE,eAAK,OAAL;AACA,eAAK,QAAL,CAFF,CAGE;;AACA,eAAK,KAAL;AACA,eAAK,MAAL;AACE,mBAAOzV,GAAP;;AACF,eAAK,MAAL;AACA,eAAK,OAAL;AACE,mBAAOmY,YAAYzN,MAAZ,EAAoBjb,MAA3B;;AACF,eAAK,MAAL;AACA,eAAK,OAAL;AACA,eAAK,SAAL;AACA,eAAK,UAAL;AACE,mBAAOuQ,MAAM,CAAb;;AACF,eAAK,KAAL;AACE,mBAAOA,QAAQ,CAAf;;AACF,eAAK,QAAL;AACE,mBAAOoY,cAAc1N,MAAd,EAAsBjb,MAA7B;;AACF;AACE,gBAAIyoB,WAAJ,EAAiB,OAAOC,YAAYzN,MAAZ,EAAoBjb,MAA3B,CADnB,CACqD;;AACnDgmB,uBAAW,CAAC,KAAKA,QAAN,EAAgBjZ,WAAhB,EAAX;AACA0b,0BAAc,IAAd;AAtBJ;AAwBD;AACF;;AACDzG,WAAO8E,UAAP,GAAoBA,UAApB,CAxWkD,CA0WlD;;AACA9E,WAAOthB,SAAP,CAAiBV,MAAjB,GAA0BK,SAA1B;AACA2hB,WAAOthB,SAAP,CAAiByb,MAAjB,GAA0B9b,SAA1B;;AAEA,aAASuoB,YAAT,CAAuB5C,QAAvB,EAAiC/V,KAAjC,EAAwCG,GAAxC,EAA6C;AAC3C,UAAIqY,cAAc,KAAlB;AAEAxY,cAAQA,QAAQ,CAAhB;AACAG,YAAMA,QAAQ/P,SAAR,IAAqB+P,QAAQmU,QAA7B,GAAwC,KAAKvkB,MAA7C,GAAsDoQ,MAAM,CAAlE;AAEA,UAAI,CAAC4V,QAAL,EAAeA,WAAW,MAAX;AACf,UAAI/V,QAAQ,CAAZ,EAAeA,QAAQ,CAAR;AACf,UAAIG,MAAM,KAAKpQ,MAAf,EAAuBoQ,MAAM,KAAKpQ,MAAX;AACvB,UAAIoQ,OAAOH,KAAX,EAAkB,OAAO,EAAP;;AAElB,aAAO,IAAP,EAAa;AACX,gBAAQ+V,QAAR;AACE,eAAK,KAAL;AACE,mBAAO6C,SAAS,IAAT,EAAe5Y,KAAf,EAAsBG,GAAtB,CAAP;;AAEF,eAAK,MAAL;AACA,eAAK,OAAL;AACE,mBAAO0Y,UAAU,IAAV,EAAgB7Y,KAAhB,EAAuBG,GAAvB,CAAP;;AAEF,eAAK,OAAL;AACE,mBAAO2Y,WAAW,IAAX,EAAiB9Y,KAAjB,EAAwBG,GAAxB,CAAP;;AAEF,eAAK,QAAL;AACE,mBAAO4Y,YAAY,IAAZ,EAAkB/Y,KAAlB,EAAyBG,GAAzB,CAAP;;AAEF,eAAK,QAAL;AACE,mBAAO6Y,YAAY,IAAZ,EAAkBhZ,KAAlB,EAAyBG,GAAzB,CAAP;;AAEF,eAAK,MAAL;AACA,eAAK,OAAL;AACA,eAAK,SAAL;AACA,eAAK,UAAL;AACE,mBAAO8Y,aAAa,IAAb,EAAmBjZ,KAAnB,EAA0BG,GAA1B,CAAP;;AAEF;AACE,gBAAIqY,WAAJ,EAAiB,MAAM,IAAIhB,SAAJ,CAAc,uBAAuBzB,QAArC,CAAN;AACjBA,uBAAW,CAACA,WAAW,EAAZ,EAAgBjZ,WAAhB,EAAX;AACA0b,0BAAc,IAAd;AA1BJ;AA4BD;AACF;;AAEDzG,WAAOthB,SAAP,CAAiBC,QAAjB;AAA4B,eAASA,QAAT,GAAqB;AAC/C,YAAIX,SAAS,KAAKA,MAAL,GAAc,CAA3B;AACA,YAAIA,WAAW,CAAf,EAAkB,OAAO,EAAP;AAClB,YAAIwB,UAAUxB,MAAV,KAAqB,CAAzB,EAA4B,OAAO8oB,UAAU,IAAV,EAAgB,CAAhB,EAAmB9oB,MAAnB,CAAP;AAC5B,eAAO4oB,aAAarnB,KAAb,CAAmB,IAAnB,EAAyBC,SAAzB,CAAP;AACD;;AALD,aAAqCb,QAArC;AAAA;;AAOAqhB,WAAOthB,SAAP,CAAiByoB,MAAjB;AAA0B,eAASA,MAAT,CAAiB5X,CAAjB,EAAoB;AAC5C,YAAI,CAACyQ,OAAO8B,QAAP,CAAgBvS,CAAhB,CAAL,EAAyB,MAAM,IAAIkW,SAAJ,CAAc,2BAAd,CAAN;AACzB,YAAI,SAASlW,CAAb,EAAgB,OAAO,IAAP;AAChB,eAAOyQ,OAAOuG,OAAP,CAAe,IAAf,EAAqBhX,CAArB,MAA4B,CAAnC;AACD;;AAJD,aAAmC4X,MAAnC;AAAA;;AAMAnH,WAAOthB,SAAP,CAAiB0E,OAAjB;AAA2B,eAASA,OAAT,GAAoB;AAC7C,YAAIuH,MAAM,EAAV;AACA,YAAIyc,MAAMtpB,QAAQumB,iBAAlB;;AACA,YAAI,KAAKrmB,MAAL,GAAc,CAAlB,EAAqB;AACnB2M,gBAAM,KAAKhM,QAAL,CAAc,KAAd,EAAqB,CAArB,EAAwByoB,GAAxB,EAA6Bxc,KAA7B,CAAmC,OAAnC,EAA4CzD,IAA5C,CAAiD,GAAjD,CAAN;AACA,cAAI,KAAKnJ,MAAL,GAAcopB,GAAlB,EAAuBzc,OAAO,OAAP;AACxB;;AACD,eAAO,aAAaA,GAAb,GAAmB,GAA1B;AACD;;AARD,aAAoCvH,OAApC;AAAA;;AAUA4c,WAAOthB,SAAP,CAAiB6nB,OAAjB;AAA2B,eAASA,OAAT,CAAkBhX,CAAlB,EAAqB;AAC9C,YAAI,CAACyQ,OAAO8B,QAAP,CAAgBvS,CAAhB,CAAL,EAAyB,MAAM,IAAIkW,SAAJ,CAAc,2BAAd,CAAN;AACzB,YAAI,SAASlW,CAAb,EAAgB,OAAO,CAAP;AAChB,eAAOyQ,OAAOuG,OAAP,CAAe,IAAf,EAAqBhX,CAArB,CAAP;AACD;;AAJD,aAAoCgX,OAApC;AAAA;;AAMAvG,WAAOthB,SAAP,CAAiBuJ,OAAjB;AAA2B,eAASA,OAAT,CAAkBpJ,GAAlB,EAAuBwoB,UAAvB,EAAmC;AAC5D,YAAIA,aAAa,UAAjB,EAA6BA,aAAa,UAAb,CAA7B,KACK,IAAIA,aAAa,CAAC,UAAlB,EAA8BA,aAAa,CAAC,UAAd;AACnCA,uBAAe,CAAf;AAEA,YAAI,KAAKrpB,MAAL,KAAgB,CAApB,EAAuB,OAAO,CAAC,CAAR;AACvB,YAAIqpB,cAAc,KAAKrpB,MAAvB,EAA+B,OAAO,CAAC,CAAR,CAN6B,CAQ5D;;AACA,YAAIqpB,aAAa,CAAjB,EAAoBA,aAAanmB,KAAKkmB,GAAL,CAAS,KAAKppB,MAAL,GAAcqpB,UAAvB,EAAmC,CAAnC,CAAb;;AAEpB,YAAI,OAAOxoB,GAAP,KAAe,QAAnB,EAA6B;AAC3B,cAAIA,IAAIb,MAAJ,KAAe,CAAnB,EAAsB,OAAO,CAAC,CAAR,CADK,CACK;;AAChC,iBAAO0O,OAAOhO,SAAP,CAAiBuJ,OAAjB,CAAyBlK,IAAzB,CAA8B,IAA9B,EAAoCc,GAApC,EAAyCwoB,UAAzC,CAAP;AACD;;AACD,YAAIrH,OAAO8B,QAAP,CAAgBjjB,GAAhB,CAAJ,EAA0B;AACxB,iBAAOyoB,aAAa,IAAb,EAAmBzoB,GAAnB,EAAwBwoB,UAAxB,CAAP;AACD;;AACD,YAAI,OAAOxoB,GAAP,KAAe,QAAnB,EAA6B;AAC3B,cAAImhB,OAAOwE,mBAAP,IAA8BE,WAAWhmB,SAAX,CAAqBuJ,OAArB,KAAiC,UAAnE,EAA+E;AAC7E,mBAAOyc,WAAWhmB,SAAX,CAAqBuJ,OAArB,CAA6BlK,IAA7B,CAAkC,IAAlC,EAAwCc,GAAxC,EAA6CwoB,UAA7C,CAAP;AACD;;AACD,iBAAOC,aAAa,IAAb,EAAmB,CAAEzoB,GAAF,CAAnB,EAA4BwoB,UAA5B,CAAP;AACD;;AAED,iBAASC,YAAT,CAAuBtK,GAAvB,EAA4Bne,GAA5B,EAAiCwoB,UAAjC,EAA6C;AAC3C,cAAIE,aAAa,CAAC,CAAlB;;AACA,eAAK,IAAI9pB,IAAI,CAAb,EAAgB4pB,aAAa5pB,CAAb,GAAiBuf,IAAIhf,MAArC,EAA6CP,GAA7C,EAAkD;AAChD,gBAAIuf,IAAIqK,aAAa5pB,CAAjB,MAAwBoB,IAAI0oB,eAAe,CAAC,CAAhB,GAAoB,CAApB,GAAwB9pB,IAAI8pB,UAAhC,CAA5B,EAAyE;AACvE,kBAAIA,eAAe,CAAC,CAApB,EAAuBA,aAAa9pB,CAAb;AACvB,kBAAIA,IAAI8pB,UAAJ,GAAiB,CAAjB,KAAuB1oB,IAAIb,MAA/B,EAAuC,OAAOqpB,aAAaE,UAApB;AACxC,aAHD,MAGO;AACLA,2BAAa,CAAC,CAAd;AACD;AACF;;AACD,iBAAO,CAAC,CAAR;AACD;;AAED,cAAM,IAAI9B,SAAJ,CAAc,sCAAd,CAAN;AACD;;AAvCD,aAAoCxd,OAApC;AAAA,QAtbkD,CA+dlD;;;AACA+X,WAAOthB,SAAP,CAAiB8oB,GAAjB;AAAuB,eAASA,GAAT,CAAcC,MAAd,EAAsB;AAC3Cvf,gBAAQiF,GAAR,CAAY,2DAAZ;AACA,eAAO,KAAKua,SAAL,CAAeD,MAAf,CAAP;AACD;;AAHD,aAAgCD,GAAhC;AAAA,QAhekD,CAqelD;;;AACAxH,WAAOthB,SAAP,CAAiBipB,GAAjB;AAAuB,eAASA,GAAT,CAAcvI,CAAd,EAAiBqI,MAAjB,EAAyB;AAC9Cvf,gBAAQiF,GAAR,CAAY,2DAAZ;AACA,eAAO,KAAKya,UAAL,CAAgBxI,CAAhB,EAAmBqI,MAAnB,CAAP;AACD;;AAHD,aAAgCE,GAAhC;AAAA;;AAKA,aAASE,QAAT,CAAmBnR,GAAnB,EAAwBuC,MAAxB,EAAgCwO,MAAhC,EAAwCzpB,MAAxC,EAAgD;AAC9CypB,eAASK,OAAOL,MAAP,KAAkB,CAA3B;AACA,UAAIM,YAAYrR,IAAI1Y,MAAJ,GAAaypB,MAA7B;;AACA,UAAI,CAACzpB,MAAL,EAAa;AACXA,iBAAS+pB,SAAT;AACD,OAFD,MAEO;AACL/pB,iBAAS8pB,OAAO9pB,MAAP,CAAT;;AACA,YAAIA,SAAS+pB,SAAb,EAAwB;AACtB/pB,mBAAS+pB,SAAT;AACD;AACF,OAV6C,CAY9C;;;AACA,UAAIC,SAAS/O,OAAOjb,MAApB;AACA,UAAIgqB,SAAS,CAAT,KAAe,CAAnB,EAAsB,MAAM,IAAIrqB,KAAJ,CAAU,oBAAV,CAAN;;AAEtB,UAAIK,SAASgqB,SAAS,CAAtB,EAAyB;AACvBhqB,iBAASgqB,SAAS,CAAlB;AACD;;AACD,WAAK,IAAIvqB,IAAI,CAAb,EAAgBA,IAAIO,MAApB,EAA4BP,GAA5B,EAAiC;AAC/B,YAAIwqB,SAASpI,SAAS5G,OAAO3G,MAAP,CAAc7U,IAAI,CAAlB,EAAqB,CAArB,CAAT,EAAkC,EAAlC,CAAb;AACA,YAAIglB,MAAMwF,MAAN,CAAJ,EAAmB,MAAM,IAAItqB,KAAJ,CAAU,oBAAV,CAAN;AACnB+Y,YAAI+Q,SAAShqB,CAAb,IAAkBwqB,MAAlB;AACD;;AACD,aAAOxqB,CAAP;AACD;;AAED,aAASyqB,SAAT,CAAoBxR,GAApB,EAAyBuC,MAAzB,EAAiCwO,MAAjC,EAAyCzpB,MAAzC,EAAiD;AAC/C,aAAOmqB,WAAWzB,YAAYzN,MAAZ,EAAoBvC,IAAI1Y,MAAJ,GAAaypB,MAAjC,CAAX,EAAqD/Q,GAArD,EAA0D+Q,MAA1D,EAAkEzpB,MAAlE,CAAP;AACD;;AAED,aAASoqB,UAAT,CAAqB1R,GAArB,EAA0BuC,MAA1B,EAAkCwO,MAAlC,EAA0CzpB,MAA1C,EAAkD;AAChD,aAAOmqB,WAAWE,aAAapP,MAAb,CAAX,EAAiCvC,GAAjC,EAAsC+Q,MAAtC,EAA8CzpB,MAA9C,CAAP;AACD;;AAED,aAASsqB,WAAT,CAAsB5R,GAAtB,EAA2BuC,MAA3B,EAAmCwO,MAAnC,EAA2CzpB,MAA3C,EAAmD;AACjD,aAAOoqB,WAAW1R,GAAX,EAAgBuC,MAAhB,EAAwBwO,MAAxB,EAAgCzpB,MAAhC,CAAP;AACD;;AAED,aAASuqB,WAAT,CAAsB7R,GAAtB,EAA2BuC,MAA3B,EAAmCwO,MAAnC,EAA2CzpB,MAA3C,EAAmD;AACjD,aAAOmqB,WAAWxB,cAAc1N,MAAd,CAAX,EAAkCvC,GAAlC,EAAuC+Q,MAAvC,EAA+CzpB,MAA/C,CAAP;AACD;;AAED,aAASwqB,SAAT,CAAoB9R,GAApB,EAAyBuC,MAAzB,EAAiCwO,MAAjC,EAAyCzpB,MAAzC,EAAiD;AAC/C,aAAOmqB,WAAWM,eAAexP,MAAf,EAAuBvC,IAAI1Y,MAAJ,GAAaypB,MAApC,CAAX,EAAwD/Q,GAAxD,EAA6D+Q,MAA7D,EAAqEzpB,MAArE,CAAP;AACD;;AAEDgiB,WAAOthB,SAAP,CAAiBoO,KAAjB;AAAyB,eAASA,KAAT,CAAgBmM,MAAhB,EAAwBwO,MAAxB,EAAgCzpB,MAAhC,EAAwCgmB,QAAxC,EAAkD;AACzE;AACA,YAAIyD,WAAWppB,SAAf,EAA0B;AACxB2lB,qBAAW,MAAX;AACAhmB,mBAAS,KAAKA,MAAd;AACAypB,mBAAS,CAAT,CAHwB,CAI1B;AACC,SALD,MAKO,IAAIzpB,WAAWK,SAAX,IAAwB,OAAOopB,MAAP,KAAkB,QAA9C,EAAwD;AAC7DzD,qBAAWyD,MAAX;AACAzpB,mBAAS,KAAKA,MAAd;AACAypB,mBAAS,CAAT,CAH6D,CAI/D;AACC,SALM,MAKA,IAAIiB,SAASjB,MAAT,CAAJ,EAAsB;AAC3BA,mBAASA,SAAS,CAAlB;;AACA,cAAIiB,SAAS1qB,MAAT,CAAJ,EAAsB;AACpBA,qBAASA,SAAS,CAAlB;AACA,gBAAIgmB,aAAa3lB,SAAjB,EAA4B2lB,WAAW,MAAX;AAC7B,WAHD,MAGO;AACLA,uBAAWhmB,MAAX;AACAA,qBAASK,SAAT;AACD,WAR0B,CAS7B;;AACC,SAVM,MAUA;AACL,cAAIsqB,OAAO3E,QAAX;AACAA,qBAAWyD,MAAX;AACAA,mBAASzpB,SAAS,CAAlB;AACAA,mBAAS2qB,IAAT;AACD;;AAED,YAAIZ,YAAY,KAAK/pB,MAAL,GAAcypB,MAA9B;AACA,YAAIzpB,WAAWK,SAAX,IAAwBL,SAAS+pB,SAArC,EAAgD/pB,SAAS+pB,SAAT;;AAEhD,YAAK9O,OAAOjb,MAAP,GAAgB,CAAhB,KAAsBA,SAAS,CAAT,IAAcypB,SAAS,CAA7C,CAAD,IAAqDA,SAAS,KAAKzpB,MAAvE,EAA+E;AAC7E,gBAAM,IAAIqoB,UAAJ,CAAe,wCAAf,CAAN;AACD;;AAED,YAAI,CAACrC,QAAL,EAAeA,WAAW,MAAX;AAEf,YAAIyC,cAAc,KAAlB;;AACA,iBAAS;AACP,kBAAQzC,QAAR;AACE,iBAAK,KAAL;AACE,qBAAO6D,SAAS,IAAT,EAAe5O,MAAf,EAAuBwO,MAAvB,EAA+BzpB,MAA/B,CAAP;;AAEF,iBAAK,MAAL;AACA,iBAAK,OAAL;AACE,qBAAOkqB,UAAU,IAAV,EAAgBjP,MAAhB,EAAwBwO,MAAxB,EAAgCzpB,MAAhC,CAAP;;AAEF,iBAAK,OAAL;AACE,qBAAOoqB,WAAW,IAAX,EAAiBnP,MAAjB,EAAyBwO,MAAzB,EAAiCzpB,MAAjC,CAAP;;AAEF,iBAAK,QAAL;AACE,qBAAOsqB,YAAY,IAAZ,EAAkBrP,MAAlB,EAA0BwO,MAA1B,EAAkCzpB,MAAlC,CAAP;;AAEF,iBAAK,QAAL;AACE;AACA,qBAAOuqB,YAAY,IAAZ,EAAkBtP,MAAlB,EAA0BwO,MAA1B,EAAkCzpB,MAAlC,CAAP;;AAEF,iBAAK,MAAL;AACA,iBAAK,OAAL;AACA,iBAAK,SAAL;AACA,iBAAK,UAAL;AACE,qBAAOwqB,UAAU,IAAV,EAAgBvP,MAAhB,EAAwBwO,MAAxB,EAAgCzpB,MAAhC,CAAP;;AAEF;AACE,kBAAIyoB,WAAJ,EAAiB,MAAM,IAAIhB,SAAJ,CAAc,uBAAuBzB,QAArC,CAAN;AACjBA,yBAAW,CAAC,KAAKA,QAAN,EAAgBjZ,WAAhB,EAAX;AACA0b,4BAAc,IAAd;AA3BJ;AA6BD;AACF;;AAtED,aAAkC3Z,KAAlC;AAAA;;AAwEAkT,WAAOthB,SAAP,CAAiBqiB,MAAjB;AAA0B,eAASA,MAAT,GAAmB;AAC3C,eAAO;AACLziB,gBAAM,QADD;AAELsX,gBAAM1V,MAAMxB,SAAN,CAAgByB,KAAhB,CAAsBpC,IAAtB,CAA2B,KAAK6qB,IAAL,IAAa,IAAxC,EAA8C,CAA9C;AAFD,SAAP;AAID;;AALD,aAAmC7H,MAAnC;AAAA;;AAOA,aAASkG,WAAT,CAAsBvQ,GAAtB,EAA2BzI,KAA3B,EAAkCG,GAAlC,EAAuC;AACrC,UAAIH,UAAU,CAAV,IAAeG,QAAQsI,IAAI1Y,MAA/B,EAAuC;AACrC,eAAOkmB,OAAO2E,aAAP,CAAqBnS,GAArB,CAAP;AACD,OAFD,MAEO;AACL,eAAOwN,OAAO2E,aAAP,CAAqBnS,IAAIvW,KAAJ,CAAU8N,KAAV,EAAiBG,GAAjB,CAArB,CAAP;AACD;AACF;;AAED,aAAS0Y,SAAT,CAAoBpQ,GAApB,EAAyBzI,KAAzB,EAAgCG,GAAhC,EAAqC;AACnCA,YAAMlN,KAAKC,GAAL,CAASuV,IAAI1Y,MAAb,EAAqBoQ,GAArB,CAAN;AACA,UAAIgI,MAAM,EAAV;AAEA,UAAI3Y,IAAIwQ,KAAR;;AACA,aAAOxQ,IAAI2Q,GAAX,EAAgB;AACd,YAAI0a,YAAYpS,IAAIjZ,CAAJ,CAAhB;AACA,YAAIsrB,YAAY,IAAhB;AACA,YAAIC,mBAAoBF,YAAY,IAAb,GAAqB,CAArB,GAClBA,YAAY,IAAb,GAAqB,CAArB,GACCA,YAAY,IAAb,GAAqB,CAArB,GACA,CAHJ;;AAKA,YAAIrrB,IAAIurB,gBAAJ,IAAwB5a,GAA5B,EAAiC;AAC/B,cAAI6a,UAAJ,EAAgBC,SAAhB,EAA2BC,UAA3B,EAAuCC,aAAvC;;AAEA,kBAAQJ,gBAAR;AACE,iBAAK,CAAL;AACE,kBAAIF,YAAY,IAAhB,EAAsB;AACpBC,4BAAYD,SAAZ;AACD;;AACD;;AACF,iBAAK,CAAL;AACEG,2BAAavS,IAAIjZ,IAAI,CAAR,CAAb;;AACA,kBAAI,CAACwrB,aAAa,IAAd,MAAwB,IAA5B,EAAkC;AAChCG,gCAAgB,CAACN,YAAY,IAAb,KAAsB,GAAtB,GAA6BG,aAAa,IAA1D;;AACA,oBAAIG,gBAAgB,IAApB,EAA0B;AACxBL,8BAAYK,aAAZ;AACD;AACF;;AACD;;AACF,iBAAK,CAAL;AACEH,2BAAavS,IAAIjZ,IAAI,CAAR,CAAb;AACAyrB,0BAAYxS,IAAIjZ,IAAI,CAAR,CAAZ;;AACA,kBAAI,CAACwrB,aAAa,IAAd,MAAwB,IAAxB,IAAgC,CAACC,YAAY,IAAb,MAAuB,IAA3D,EAAiE;AAC/DE,gCAAgB,CAACN,YAAY,GAAb,KAAqB,GAArB,GAA2B,CAACG,aAAa,IAAd,KAAuB,GAAlD,GAAyDC,YAAY,IAArF;;AACA,oBAAIE,gBAAgB,KAAhB,KAA0BA,gBAAgB,MAAhB,IAA0BA,gBAAgB,MAApE,CAAJ,EAAiF;AAC/EL,8BAAYK,aAAZ;AACD;AACF;;AACD;;AACF,iBAAK,CAAL;AACEH,2BAAavS,IAAIjZ,IAAI,CAAR,CAAb;AACAyrB,0BAAYxS,IAAIjZ,IAAI,CAAR,CAAZ;AACA0rB,2BAAazS,IAAIjZ,IAAI,CAAR,CAAb;;AACA,kBAAI,CAACwrB,aAAa,IAAd,MAAwB,IAAxB,IAAgC,CAACC,YAAY,IAAb,MAAuB,IAAvD,IAA+D,CAACC,aAAa,IAAd,MAAwB,IAA3F,EAAiG;AAC/FC,gCAAgB,CAACN,YAAY,GAAb,KAAqB,IAArB,GAA4B,CAACG,aAAa,IAAd,KAAuB,GAAnD,GAAyD,CAACC,YAAY,IAAb,KAAsB,GAA/E,GAAsFC,aAAa,IAAnH;;AACA,oBAAIC,gBAAgB,MAAhB,IAA0BA,gBAAgB,QAA9C,EAAwD;AACtDL,8BAAYK,aAAZ;AACD;AACF;;AAlCL;AAoCD;;AAED,YAAIL,cAAc,IAAlB,EAAwB;AACtB;AACA;AACAA,sBAAY,MAAZ;AACAC,6BAAmB,CAAnB;AACD,SALD,MAKO,IAAID,YAAY,MAAhB,EAAwB;AAC7B;AACAA,uBAAa,OAAb;AACA3S,cAAIlX,IAAJ,CAAS6pB,cAAc,EAAd,GAAmB,KAAnB,GAA2B,MAApC;AACAA,sBAAY,SAASA,YAAY,KAAjC;AACD;;AAED3S,YAAIlX,IAAJ,CAAS6pB,SAAT;AACAtrB,aAAKurB,gBAAL;AACD;;AAED,aAAOK,sBAAsBjT,GAAtB,CAAP;AACD,KAxrBiD,CA0rBlD;AACA;AACA;;;AACA,QAAIkT,uBAAuB,MAA3B;;AAEA,aAASD,qBAAT,CAAgCE,UAAhC,EAA4C;AAC1C,UAAIhb,MAAMgb,WAAWvrB,MAArB;;AACA,UAAIuQ,OAAO+a,oBAAX,EAAiC;AAC/B,eAAO5c,OAAO8c,YAAP,CAAoBjqB,KAApB,CAA0BmN,MAA1B,EAAkC6c,UAAlC,CAAP,CAD+B,CACsB;AACtD,OAJyC,CAM1C;;;AACA,UAAInT,MAAM,EAAV;AACA,UAAI3Y,IAAI,CAAR;;AACA,aAAOA,IAAI8Q,GAAX,EAAgB;AACd6H,eAAO1J,OAAO8c,YAAP,CAAoBjqB,KAApB,CACLmN,MADK,EAEL6c,WAAWppB,KAAX,CAAiB1C,CAAjB,EAAoBA,KAAK6rB,oBAAzB,CAFK,CAAP;AAID;;AACD,aAAOlT,GAAP;AACD;;AAED,aAAS2Q,UAAT,CAAqBrQ,GAArB,EAA0BzI,KAA1B,EAAiCG,GAAjC,EAAsC;AACpC,UAAIiH,MAAM,EAAV;AACAjH,YAAMlN,KAAKC,GAAL,CAASuV,IAAI1Y,MAAb,EAAqBoQ,GAArB,CAAN;;AAEA,WAAK,IAAI3Q,IAAIwQ,KAAb,EAAoBxQ,IAAI2Q,GAAxB,EAA6B3Q,GAA7B,EAAkC;AAChC4X,eAAO3I,OAAO8c,YAAP,CAAoB9S,IAAIjZ,CAAJ,IAAS,IAA7B,CAAP;AACD;;AACD,aAAO4X,GAAP;AACD;;AAED,aAAS2R,WAAT,CAAsBtQ,GAAtB,EAA2BzI,KAA3B,EAAkCG,GAAlC,EAAuC;AACrC,UAAIiH,MAAM,EAAV;AACAjH,YAAMlN,KAAKC,GAAL,CAASuV,IAAI1Y,MAAb,EAAqBoQ,GAArB,CAAN;;AAEA,WAAK,IAAI3Q,IAAIwQ,KAAb,EAAoBxQ,IAAI2Q,GAAxB,EAA6B3Q,GAA7B,EAAkC;AAChC4X,eAAO3I,OAAO8c,YAAP,CAAoB9S,IAAIjZ,CAAJ,CAApB,CAAP;AACD;;AACD,aAAO4X,GAAP;AACD;;AAED,aAASwR,QAAT,CAAmBnQ,GAAnB,EAAwBzI,KAAxB,EAA+BG,GAA/B,EAAoC;AAClC,UAAIG,MAAMmI,IAAI1Y,MAAd;AAEA,UAAI,CAACiQ,KAAD,IAAUA,QAAQ,CAAtB,EAAyBA,QAAQ,CAAR;AACzB,UAAI,CAACG,GAAD,IAAQA,MAAM,CAAd,IAAmBA,MAAMG,GAA7B,EAAkCH,MAAMG,GAAN;AAElC,UAAIkb,MAAM,EAAV;;AACA,WAAK,IAAIhsB,IAAIwQ,KAAb,EAAoBxQ,IAAI2Q,GAAxB,EAA6B3Q,GAA7B,EAAkC;AAChCgsB,eAAOC,MAAMhT,IAAIjZ,CAAJ,CAAN,CAAP;AACD;;AACD,aAAOgsB,GAAP;AACD;;AAED,aAASvC,YAAT,CAAuBxQ,GAAvB,EAA4BzI,KAA5B,EAAmCG,GAAnC,EAAwC;AACtC,UAAIub,QAAQjT,IAAIvW,KAAJ,CAAU8N,KAAV,EAAiBG,GAAjB,CAAZ;AACA,UAAIgI,MAAM,EAAV;;AACA,WAAK,IAAI3Y,IAAI,CAAb,EAAgBA,IAAIksB,MAAM3rB,MAA1B,EAAkCP,KAAK,CAAvC,EAA0C;AACxC2Y,eAAO1J,OAAO8c,YAAP,CAAoBG,MAAMlsB,CAAN,IAAWksB,MAAMlsB,IAAI,CAAV,IAAe,GAA9C,CAAP;AACD;;AACD,aAAO2Y,GAAP;AACD;;AAED4J,WAAOthB,SAAP,CAAiByB,KAAjB;AAAyB,eAASA,KAAT,CAAgB8N,KAAhB,EAAuBG,GAAvB,EAA4B;AACnD,YAAIG,MAAM,KAAKvQ,MAAf;AACAiQ,gBAAQ,CAAC,CAACA,KAAV;AACAG,cAAMA,QAAQ/P,SAAR,GAAoBkQ,GAApB,GAA0B,CAAC,CAACH,GAAlC;;AAEA,YAAIH,QAAQ,CAAZ,EAAe;AACbA,mBAASM,GAAT;AACA,cAAIN,QAAQ,CAAZ,EAAeA,QAAQ,CAAR;AAChB,SAHD,MAGO,IAAIA,QAAQM,GAAZ,EAAiB;AACtBN,kBAAQM,GAAR;AACD;;AAED,YAAIH,MAAM,CAAV,EAAa;AACXA,iBAAOG,GAAP;AACA,cAAIH,MAAM,CAAV,EAAaA,MAAM,CAAN;AACd,SAHD,MAGO,IAAIA,MAAMG,GAAV,EAAe;AACpBH,gBAAMG,GAAN;AACD;;AAED,YAAIH,MAAMH,KAAV,EAAiBG,MAAMH,KAAN;AAEjB,YAAI2b,MAAJ;;AACA,YAAI5J,OAAOwE,mBAAX,EAAgC;AAC9BoF,mBAAS5J,OAAOkG,QAAP,CAAgB,KAAKrB,QAAL,CAAc5W,KAAd,EAAqBG,GAArB,CAAhB,CAAT;AACD,SAFD,MAEO;AACL,cAAIyb,WAAWzb,MAAMH,KAArB;AACA2b,mBAAS,IAAI5J,MAAJ,CAAW6J,QAAX,EAAqBxrB,SAArB,CAAT;;AACA,eAAK,IAAIZ,IAAI,CAAb,EAAgBA,IAAIosB,QAApB,EAA8BpsB,GAA9B,EAAmC;AACjCmsB,mBAAOnsB,CAAP,IAAY,KAAKA,IAAIwQ,KAAT,CAAZ;AACD;AACF;;AAED,YAAI2b,OAAO5rB,MAAX,EAAmB4rB,OAAOzP,MAAP,GAAgB,KAAKA,MAAL,IAAe,IAA/B;AAEnB,eAAOyP,MAAP;AACD;;AAnCD,aAAkCzpB,KAAlC;AAAA,QA3vBkD,CAgyBlD;;;;AAGA,aAAS2pB,WAAT,CAAsBrC,MAAtB,EAA8BvG,GAA9B,EAAmCljB,MAAnC,EAA2C;AACzC,UAAKypB,SAAS,CAAV,KAAiB,CAAjB,IAAsBA,SAAS,CAAnC,EAAsC,MAAM,IAAIpB,UAAJ,CAAe,oBAAf,CAAN;AACtC,UAAIoB,SAASvG,GAAT,GAAeljB,MAAnB,EAA2B,MAAM,IAAIqoB,UAAJ,CAAe,uCAAf,CAAN;AAC5B;;AAEDrG,WAAOthB,SAAP,CAAiBqrB,UAAjB;AAA8B,eAASA,UAAT,CAAqBtC,MAArB,EAA6B3C,UAA7B,EAAyCkF,QAAzC,EAAmD;AAC/EvC,iBAASA,SAAS,CAAlB;AACA3C,qBAAaA,aAAa,CAA1B;AACA,YAAI,CAACkF,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB3C,UAApB,EAAgC,KAAK9mB,MAArC;AAEf,YAAIa,MAAM,KAAK4oB,MAAL,CAAV;AACA,YAAIwC,MAAM,CAAV;AACA,YAAIxsB,IAAI,CAAR;;AACA,eAAO,EAAEA,CAAF,GAAMqnB,UAAN,KAAqBmF,OAAO,KAA5B,CAAP,EAA2C;AACzCprB,iBAAO,KAAK4oB,SAAShqB,CAAd,IAAmBwsB,GAA1B;AACD;;AAED,eAAOprB,GAAP;AACD;;AAbD,aAAuCkrB,UAAvC;AAAA;;AAeA/J,WAAOthB,SAAP,CAAiBwrB,UAAjB;AAA8B,eAASA,UAAT,CAAqBzC,MAArB,EAA6B3C,UAA7B,EAAyCkF,QAAzC,EAAmD;AAC/EvC,iBAASA,SAAS,CAAlB;AACA3C,qBAAaA,aAAa,CAA1B;;AACA,YAAI,CAACkF,QAAL,EAAe;AACbF,sBAAYrC,MAAZ,EAAoB3C,UAApB,EAAgC,KAAK9mB,MAArC;AACD;;AAED,YAAIa,MAAM,KAAK4oB,SAAS,EAAE3C,UAAhB,CAAV;AACA,YAAImF,MAAM,CAAV;;AACA,eAAOnF,aAAa,CAAb,KAAmBmF,OAAO,KAA1B,CAAP,EAAyC;AACvCprB,iBAAO,KAAK4oB,SAAS,EAAE3C,UAAhB,IAA8BmF,GAArC;AACD;;AAED,eAAOprB,GAAP;AACD;;AAdD,aAAuCqrB,UAAvC;AAAA;;AAgBAlK,WAAOthB,SAAP,CAAiBgpB,SAAjB;AAA6B,eAASA,SAAT,CAAoBD,MAApB,EAA4BuC,QAA5B,EAAsC;AACjE,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AACf,eAAO,KAAKypB,MAAL,CAAP;AACD;;AAHD,aAAsCC,SAAtC;AAAA;;AAKA1H,WAAOthB,SAAP,CAAiByrB,YAAjB;AAAgC,eAASA,YAAT,CAAuB1C,MAAvB,EAA+BuC,QAA/B,EAAyC;AACvE,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AACf,eAAO,KAAKypB,MAAL,IAAgB,KAAKA,SAAS,CAAd,KAAoB,CAA3C;AACD;;AAHD,aAAyC0C,YAAzC;AAAA;;AAKAnK,WAAOthB,SAAP,CAAiB0rB,YAAjB;AAAgC,eAASA,YAAT,CAAuB3C,MAAvB,EAA+BuC,QAA/B,EAAyC;AACvE,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AACf,eAAQ,KAAKypB,MAAL,KAAgB,CAAjB,GAAsB,KAAKA,SAAS,CAAd,CAA7B;AACD;;AAHD,aAAyC2C,YAAzC;AAAA;;AAKApK,WAAOthB,SAAP,CAAiB2rB,YAAjB;AAAgC,eAASA,YAAT,CAAuB5C,MAAvB,EAA+BuC,QAA/B,EAAyC;AACvE,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AAEf,eAAO,CAAE,KAAKypB,MAAL,CAAD,GACH,KAAKA,SAAS,CAAd,KAAoB,CADjB,GAEH,KAAKA,SAAS,CAAd,KAAoB,EAFlB,IAGF,KAAKA,SAAS,CAAd,IAAmB,SAHxB;AAID;;AAPD,aAAyC4C,YAAzC;AAAA;;AASArK,WAAOthB,SAAP,CAAiB4rB,YAAjB;AAAgC,eAASA,YAAT,CAAuB7C,MAAvB,EAA+BuC,QAA/B,EAAyC;AACvE,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AAEf,eAAQ,KAAKypB,MAAL,IAAe,SAAhB,IACH,KAAKA,SAAS,CAAd,KAAoB,EAArB,GACA,KAAKA,SAAS,CAAd,KAAoB,CADpB,GAED,KAAKA,SAAS,CAAd,CAHK,CAAP;AAID;;AAPD,aAAyC6C,YAAzC;AAAA;;AASAtK,WAAOthB,SAAP,CAAiB6rB,SAAjB;AAA6B,eAASA,SAAT,CAAoB9C,MAApB,EAA4B3C,UAA5B,EAAwCkF,QAAxC,EAAkD;AAC7EvC,iBAASA,SAAS,CAAlB;AACA3C,qBAAaA,aAAa,CAA1B;AACA,YAAI,CAACkF,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB3C,UAApB,EAAgC,KAAK9mB,MAArC;AAEf,YAAIa,MAAM,KAAK4oB,MAAL,CAAV;AACA,YAAIwC,MAAM,CAAV;AACA,YAAIxsB,IAAI,CAAR;;AACA,eAAO,EAAEA,CAAF,GAAMqnB,UAAN,KAAqBmF,OAAO,KAA5B,CAAP,EAA2C;AACzCprB,iBAAO,KAAK4oB,SAAShqB,CAAd,IAAmBwsB,GAA1B;AACD;;AACDA,eAAO,IAAP;AAEA,YAAIprB,OAAOorB,GAAX,EAAgBprB,OAAOqC,KAAKspB,GAAL,CAAS,CAAT,EAAY,IAAI1F,UAAhB,CAAP;AAEhB,eAAOjmB,GAAP;AACD;;AAhBD,aAAsC0rB,SAAtC;AAAA;;AAkBAvK,WAAOthB,SAAP,CAAiB+rB,SAAjB;AAA6B,eAASA,SAAT,CAAoBhD,MAApB,EAA4B3C,UAA5B,EAAwCkF,QAAxC,EAAkD;AAC7EvC,iBAASA,SAAS,CAAlB;AACA3C,qBAAaA,aAAa,CAA1B;AACA,YAAI,CAACkF,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB3C,UAApB,EAAgC,KAAK9mB,MAArC;AAEf,YAAIP,IAAIqnB,UAAR;AACA,YAAImF,MAAM,CAAV;AACA,YAAIprB,MAAM,KAAK4oB,SAAS,EAAEhqB,CAAhB,CAAV;;AACA,eAAOA,IAAI,CAAJ,KAAUwsB,OAAO,KAAjB,CAAP,EAAgC;AAC9BprB,iBAAO,KAAK4oB,SAAS,EAAEhqB,CAAhB,IAAqBwsB,GAA5B;AACD;;AACDA,eAAO,IAAP;AAEA,YAAIprB,OAAOorB,GAAX,EAAgBprB,OAAOqC,KAAKspB,GAAL,CAAS,CAAT,EAAY,IAAI1F,UAAhB,CAAP;AAEhB,eAAOjmB,GAAP;AACD;;AAhBD,aAAsC4rB,SAAtC;AAAA;;AAkBAzK,WAAOthB,SAAP,CAAiBgsB,QAAjB;AAA4B,eAASA,QAAT,CAAmBjD,MAAnB,EAA2BuC,QAA3B,EAAqC;AAC/D,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AACf,YAAI,EAAE,KAAKypB,MAAL,IAAe,IAAjB,CAAJ,EAA4B,OAAQ,KAAKA,MAAL,CAAR;AAC5B,eAAQ,CAAC,OAAO,KAAKA,MAAL,CAAP,GAAsB,CAAvB,IAA4B,CAAC,CAArC;AACD;;AAJD,aAAqCiD,QAArC;AAAA;;AAMA1K,WAAOthB,SAAP,CAAiBisB,WAAjB;AAA+B,eAASA,WAAT,CAAsBlD,MAAtB,EAA8BuC,QAA9B,EAAwC;AACrE,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AACf,YAAIa,MAAM,KAAK4oB,MAAL,IAAgB,KAAKA,SAAS,CAAd,KAAoB,CAA9C;AACA,eAAQ5oB,MAAM,MAAP,GAAiBA,MAAM,UAAvB,GAAoCA,GAA3C;AACD;;AAJD,aAAwC8rB,WAAxC;AAAA;;AAMA3K,WAAOthB,SAAP,CAAiBksB,WAAjB;AAA+B,eAASA,WAAT,CAAsBnD,MAAtB,EAA8BuC,QAA9B,EAAwC;AACrE,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AACf,YAAIa,MAAM,KAAK4oB,SAAS,CAAd,IAAoB,KAAKA,MAAL,KAAgB,CAA9C;AACA,eAAQ5oB,MAAM,MAAP,GAAiBA,MAAM,UAAvB,GAAoCA,GAA3C;AACD;;AAJD,aAAwC+rB,WAAxC;AAAA;;AAMA5K,WAAOthB,SAAP,CAAiBmsB,WAAjB;AAA+B,eAASA,WAAT,CAAsBpD,MAAtB,EAA8BuC,QAA9B,EAAwC;AACrE,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AAEf,eAAQ,KAAKypB,MAAL,CAAD,GACJ,KAAKA,SAAS,CAAd,KAAoB,CADhB,GAEJ,KAAKA,SAAS,CAAd,KAAoB,EAFhB,GAGJ,KAAKA,SAAS,CAAd,KAAoB,EAHvB;AAID;;AAPD,aAAwCoD,WAAxC;AAAA;;AASA7K,WAAOthB,SAAP,CAAiBosB,WAAjB;AAA+B,eAASA,WAAT,CAAsBrD,MAAtB,EAA8BuC,QAA9B,EAAwC;AACrE,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AAEf,eAAQ,KAAKypB,MAAL,KAAgB,EAAjB,GACJ,KAAKA,SAAS,CAAd,KAAoB,EADhB,GAEJ,KAAKA,SAAS,CAAd,KAAoB,CAFhB,GAGJ,KAAKA,SAAS,CAAd,CAHH;AAID;;AAPD,aAAwCqD,WAAxC;AAAA;;AASA9K,WAAOthB,SAAP,CAAiBqsB,WAAjB;AAA+B,eAASA,WAAT,CAAsBtD,MAAtB,EAA8BuC,QAA9B,EAAwC;AACrE,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AACf,eAAOmmB,QAAQ6G,IAAR,CAAa,IAAb,EAAmBvD,MAAnB,EAA2B,IAA3B,EAAiC,EAAjC,EAAqC,CAArC,CAAP;AACD;;AAHD,aAAwCsD,WAAxC;AAAA;;AAKA/K,WAAOthB,SAAP,CAAiBusB,WAAjB;AAA+B,eAASA,WAAT,CAAsBxD,MAAtB,EAA8BuC,QAA9B,EAAwC;AACrE,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AACf,eAAOmmB,QAAQ6G,IAAR,CAAa,IAAb,EAAmBvD,MAAnB,EAA2B,KAA3B,EAAkC,EAAlC,EAAsC,CAAtC,CAAP;AACD;;AAHD,aAAwCwD,WAAxC;AAAA;;AAKAjL,WAAOthB,SAAP,CAAiBwsB,YAAjB;AAAgC,eAASA,YAAT,CAAuBzD,MAAvB,EAA+BuC,QAA/B,EAAyC;AACvE,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AACf,eAAOmmB,QAAQ6G,IAAR,CAAa,IAAb,EAAmBvD,MAAnB,EAA2B,IAA3B,EAAiC,EAAjC,EAAqC,CAArC,CAAP;AACD;;AAHD,aAAyCyD,YAAzC;AAAA;;AAKAlL,WAAOthB,SAAP,CAAiBysB,YAAjB;AAAgC,eAASA,YAAT,CAAuB1D,MAAvB,EAA+BuC,QAA/B,EAAyC;AACvE,YAAI,CAACA,QAAL,EAAeF,YAAYrC,MAAZ,EAAoB,CAApB,EAAuB,KAAKzpB,MAA5B;AACf,eAAOmmB,QAAQ6G,IAAR,CAAa,IAAb,EAAmBvD,MAAnB,EAA2B,KAA3B,EAAkC,EAAlC,EAAsC,CAAtC,CAAP;AACD;;AAHD,aAAyC0D,YAAzC;AAAA;;AAKA,aAASC,QAAT,CAAmB1U,GAAnB,EAAwBrH,KAAxB,EAA+BoY,MAA/B,EAAuCvG,GAAvC,EAA4CkG,GAA5C,EAAiDjmB,GAAjD,EAAsD;AACpD,UAAI,CAAC6e,OAAO8B,QAAP,CAAgBpL,GAAhB,CAAL,EAA2B,MAAM,IAAI+O,SAAJ,CAAc,kCAAd,CAAN;AAC3B,UAAIpW,QAAQ+X,GAAR,IAAe/X,QAAQlO,GAA3B,EAAgC,MAAM,IAAIklB,UAAJ,CAAe,wBAAf,CAAN;AAChC,UAAIoB,SAASvG,GAAT,GAAexK,IAAI1Y,MAAvB,EAA+B,MAAM,IAAIqoB,UAAJ,CAAe,oBAAf,CAAN;AAChC;;AAEDrG,WAAOthB,SAAP,CAAiB2sB,WAAjB;AAA+B,eAASA,WAAT,CAAsBhc,KAAtB,EAA6BoY,MAA7B,EAAqC3C,UAArC,EAAiDkF,QAAjD,EAA2D;AACxF3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;AACA3C,qBAAaA,aAAa,CAA1B;AACA,YAAI,CAACkF,QAAL,EAAeoB,SAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B3C,UAA9B,EAA0C5jB,KAAKspB,GAAL,CAAS,CAAT,EAAY,IAAI1F,UAAhB,CAA1C,EAAuE,CAAvE;AAEf,YAAImF,MAAM,CAAV;AACA,YAAIxsB,IAAI,CAAR;AACA,aAAKgqB,MAAL,IAAepY,QAAQ,IAAvB;;AACA,eAAO,EAAE5R,CAAF,GAAMqnB,UAAN,KAAqBmF,OAAO,KAA5B,CAAP,EAA2C;AACzC,eAAKxC,SAAShqB,CAAd,IAAoB4R,QAAQ4a,GAAT,GAAgB,IAAnC;AACD;;AAED,eAAOxC,SAAS3C,UAAhB;AACD;;AAdD,aAAwCuG,WAAxC;AAAA;;AAgBArL,WAAOthB,SAAP,CAAiB4sB,WAAjB;AAA+B,eAASA,WAAT,CAAsBjc,KAAtB,EAA6BoY,MAA7B,EAAqC3C,UAArC,EAAiDkF,QAAjD,EAA2D;AACxF3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;AACA3C,qBAAaA,aAAa,CAA1B;AACA,YAAI,CAACkF,QAAL,EAAeoB,SAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B3C,UAA9B,EAA0C5jB,KAAKspB,GAAL,CAAS,CAAT,EAAY,IAAI1F,UAAhB,CAA1C,EAAuE,CAAvE;AAEf,YAAIrnB,IAAIqnB,aAAa,CAArB;AACA,YAAImF,MAAM,CAAV;AACA,aAAKxC,SAAShqB,CAAd,IAAmB4R,QAAQ,IAA3B;;AACA,eAAO,EAAE5R,CAAF,IAAO,CAAP,KAAawsB,OAAO,KAApB,CAAP,EAAmC;AACjC,eAAKxC,SAAShqB,CAAd,IAAoB4R,QAAQ4a,GAAT,GAAgB,IAAnC;AACD;;AAED,eAAOxC,SAAS3C,UAAhB;AACD;;AAdD,aAAwCwG,WAAxC;AAAA;;AAgBAtL,WAAOthB,SAAP,CAAiBkpB,UAAjB;AAA8B,eAASA,UAAT,CAAqBvY,KAArB,EAA4BoY,MAA5B,EAAoCuC,QAApC,EAA8C;AAC1E3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;AACA,YAAI,CAACuC,QAAL,EAAeoB,SAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B,CAA9B,EAAiC,IAAjC,EAAuC,CAAvC;AACf,YAAI,CAACzH,OAAOwE,mBAAZ,EAAiCnV,QAAQnO,KAAKgK,KAAL,CAAWmE,KAAX,CAAR;AACjC,aAAKoY,MAAL,IAAepY,KAAf;AACA,eAAOoY,SAAS,CAAhB;AACD;;AAPD,aAAuCG,UAAvC;AAAA;;AASA,aAAS2D,iBAAT,CAA4B7U,GAA5B,EAAiCrH,KAAjC,EAAwCoY,MAAxC,EAAgD+D,YAAhD,EAA8D;AAC5D,UAAInc,QAAQ,CAAZ,EAAeA,QAAQ,SAASA,KAAT,GAAiB,CAAzB;;AACf,WAAK,IAAI5R,IAAI,CAAR,EAAWguB,IAAIvqB,KAAKC,GAAL,CAASuV,IAAI1Y,MAAJ,GAAaypB,MAAtB,EAA8B,CAA9B,CAApB,EAAsDhqB,IAAIguB,CAA1D,EAA6DhuB,GAA7D,EAAkE;AAChEiZ,YAAI+Q,SAAShqB,CAAb,IAAkB,CAAC4R,QAAS,QAAS,KAAKmc,eAAe/tB,CAAf,GAAmB,IAAIA,CAA5B,CAAnB,MAChB,CAAC+tB,eAAe/tB,CAAf,GAAmB,IAAIA,CAAxB,IAA6B,CAD/B;AAED;AACF;;AAEDuiB,WAAOthB,SAAP,CAAiBgtB,aAAjB;AAAiC,eAASA,aAAT,CAAwBrc,KAAxB,EAA+BoY,MAA/B,EAAuCuC,QAAvC,EAAiD;AAChF3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;AACA,YAAI,CAACuC,QAAL,EAAeoB,SAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B,CAA9B,EAAiC,MAAjC,EAAyC,CAAzC;;AACf,YAAIzH,OAAOwE,mBAAX,EAAgC;AAC9B,eAAKiD,MAAL,IAAepY,KAAf;AACA,eAAKoY,SAAS,CAAd,IAAoBpY,UAAU,CAA9B;AACD,SAHD,MAGO;AACLkc,4BAAkB,IAAlB,EAAwBlc,KAAxB,EAA+BoY,MAA/B,EAAuC,IAAvC;AACD;;AACD,eAAOA,SAAS,CAAhB;AACD;;AAXD,aAA0CiE,aAA1C;AAAA;;AAaA1L,WAAOthB,SAAP,CAAiBitB,aAAjB;AAAiC,eAASA,aAAT,CAAwBtc,KAAxB,EAA+BoY,MAA/B,EAAuCuC,QAAvC,EAAiD;AAChF3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;AACA,YAAI,CAACuC,QAAL,EAAeoB,SAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B,CAA9B,EAAiC,MAAjC,EAAyC,CAAzC;;AACf,YAAIzH,OAAOwE,mBAAX,EAAgC;AAC9B,eAAKiD,MAAL,IAAgBpY,UAAU,CAA1B;AACA,eAAKoY,SAAS,CAAd,IAAmBpY,KAAnB;AACD,SAHD,MAGO;AACLkc,4BAAkB,IAAlB,EAAwBlc,KAAxB,EAA+BoY,MAA/B,EAAuC,KAAvC;AACD;;AACD,eAAOA,SAAS,CAAhB;AACD;;AAXD,aAA0CkE,aAA1C;AAAA;;AAaA,aAASC,iBAAT,CAA4BlV,GAA5B,EAAiCrH,KAAjC,EAAwCoY,MAAxC,EAAgD+D,YAAhD,EAA8D;AAC5D,UAAInc,QAAQ,CAAZ,EAAeA,QAAQ,aAAaA,KAAb,GAAqB,CAA7B;;AACf,WAAK,IAAI5R,IAAI,CAAR,EAAWguB,IAAIvqB,KAAKC,GAAL,CAASuV,IAAI1Y,MAAJ,GAAaypB,MAAtB,EAA8B,CAA9B,CAApB,EAAsDhqB,IAAIguB,CAA1D,EAA6DhuB,GAA7D,EAAkE;AAChEiZ,YAAI+Q,SAAShqB,CAAb,IAAmB4R,UAAU,CAACmc,eAAe/tB,CAAf,GAAmB,IAAIA,CAAxB,IAA6B,CAAxC,GAA6C,IAA/D;AACD;AACF;;AAEDuiB,WAAOthB,SAAP,CAAiBmtB,aAAjB;AAAiC,eAASA,aAAT,CAAwBxc,KAAxB,EAA+BoY,MAA/B,EAAuCuC,QAAvC,EAAiD;AAChF3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;AACA,YAAI,CAACuC,QAAL,EAAeoB,SAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B,CAA9B,EAAiC,UAAjC,EAA6C,CAA7C;;AACf,YAAIzH,OAAOwE,mBAAX,EAAgC;AAC9B,eAAKiD,SAAS,CAAd,IAAoBpY,UAAU,EAA9B;AACA,eAAKoY,SAAS,CAAd,IAAoBpY,UAAU,EAA9B;AACA,eAAKoY,SAAS,CAAd,IAAoBpY,UAAU,CAA9B;AACA,eAAKoY,MAAL,IAAepY,KAAf;AACD,SALD,MAKO;AACLuc,4BAAkB,IAAlB,EAAwBvc,KAAxB,EAA+BoY,MAA/B,EAAuC,IAAvC;AACD;;AACD,eAAOA,SAAS,CAAhB;AACD;;AAbD,aAA0CoE,aAA1C;AAAA;;AAeA7L,WAAOthB,SAAP,CAAiBotB,aAAjB;AAAiC,eAASA,aAAT,CAAwBzc,KAAxB,EAA+BoY,MAA/B,EAAuCuC,QAAvC,EAAiD;AAChF3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;AACA,YAAI,CAACuC,QAAL,EAAeoB,SAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B,CAA9B,EAAiC,UAAjC,EAA6C,CAA7C;;AACf,YAAIzH,OAAOwE,mBAAX,EAAgC;AAC9B,eAAKiD,MAAL,IAAgBpY,UAAU,EAA1B;AACA,eAAKoY,SAAS,CAAd,IAAoBpY,UAAU,EAA9B;AACA,eAAKoY,SAAS,CAAd,IAAoBpY,UAAU,CAA9B;AACA,eAAKoY,SAAS,CAAd,IAAmBpY,KAAnB;AACD,SALD,MAKO;AACLuc,4BAAkB,IAAlB,EAAwBvc,KAAxB,EAA+BoY,MAA/B,EAAuC,KAAvC;AACD;;AACD,eAAOA,SAAS,CAAhB;AACD;;AAbD,aAA0CqE,aAA1C;AAAA;;AAeA9L,WAAOthB,SAAP,CAAiBqtB,UAAjB;AAA8B,eAASA,UAAT,CAAqB1c,KAArB,EAA4BoY,MAA5B,EAAoC3C,UAApC,EAAgDkF,QAAhD,EAA0D;AACtF3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;;AACA,YAAI,CAACuC,QAAL,EAAe;AACb,cAAIgC,QAAQ9qB,KAAKspB,GAAL,CAAS,CAAT,EAAY,IAAI1F,UAAJ,GAAiB,CAA7B,CAAZ;AAEAsG,mBAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B3C,UAA9B,EAA0CkH,QAAQ,CAAlD,EAAqD,CAACA,KAAtD;AACD;;AAED,YAAIvuB,IAAI,CAAR;AACA,YAAIwsB,MAAM,CAAV;AACA,YAAIgC,MAAM5c,QAAQ,CAAR,GAAY,CAAZ,GAAgB,CAA1B;AACA,aAAKoY,MAAL,IAAepY,QAAQ,IAAvB;;AACA,eAAO,EAAE5R,CAAF,GAAMqnB,UAAN,KAAqBmF,OAAO,KAA5B,CAAP,EAA2C;AACzC,eAAKxC,SAAShqB,CAAd,IAAmB,CAAE4R,QAAQ4a,GAAT,IAAiB,CAAlB,IAAuBgC,GAAvB,GAA6B,IAAhD;AACD;;AAED,eAAOxE,SAAS3C,UAAhB;AACD;;AAlBD,aAAuCiH,UAAvC;AAAA;;AAoBA/L,WAAOthB,SAAP,CAAiBwtB,UAAjB;AAA8B,eAASA,UAAT,CAAqB7c,KAArB,EAA4BoY,MAA5B,EAAoC3C,UAApC,EAAgDkF,QAAhD,EAA0D;AACtF3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;;AACA,YAAI,CAACuC,QAAL,EAAe;AACb,cAAIgC,QAAQ9qB,KAAKspB,GAAL,CAAS,CAAT,EAAY,IAAI1F,UAAJ,GAAiB,CAA7B,CAAZ;AAEAsG,mBAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B3C,UAA9B,EAA0CkH,QAAQ,CAAlD,EAAqD,CAACA,KAAtD;AACD;;AAED,YAAIvuB,IAAIqnB,aAAa,CAArB;AACA,YAAImF,MAAM,CAAV;AACA,YAAIgC,MAAM5c,QAAQ,CAAR,GAAY,CAAZ,GAAgB,CAA1B;AACA,aAAKoY,SAAShqB,CAAd,IAAmB4R,QAAQ,IAA3B;;AACA,eAAO,EAAE5R,CAAF,IAAO,CAAP,KAAawsB,OAAO,KAApB,CAAP,EAAmC;AACjC,eAAKxC,SAAShqB,CAAd,IAAmB,CAAE4R,QAAQ4a,GAAT,IAAiB,CAAlB,IAAuBgC,GAAvB,GAA6B,IAAhD;AACD;;AAED,eAAOxE,SAAS3C,UAAhB;AACD;;AAlBD,aAAuCoH,UAAvC;AAAA;;AAoBAlM,WAAOthB,SAAP,CAAiBytB,SAAjB;AAA6B,eAASA,SAAT,CAAoB9c,KAApB,EAA2BoY,MAA3B,EAAmCuC,QAAnC,EAA6C;AACxE3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;AACA,YAAI,CAACuC,QAAL,EAAeoB,SAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B,CAA9B,EAAiC,IAAjC,EAAuC,CAAC,IAAxC;AACf,YAAI,CAACzH,OAAOwE,mBAAZ,EAAiCnV,QAAQnO,KAAKgK,KAAL,CAAWmE,KAAX,CAAR;AACjC,YAAIA,QAAQ,CAAZ,EAAeA,QAAQ,OAAOA,KAAP,GAAe,CAAvB;AACf,aAAKoY,MAAL,IAAepY,KAAf;AACA,eAAOoY,SAAS,CAAhB;AACD;;AARD,aAAsC0E,SAAtC;AAAA;;AAUAnM,WAAOthB,SAAP,CAAiB0tB,YAAjB;AAAgC,eAASA,YAAT,CAAuB/c,KAAvB,EAA8BoY,MAA9B,EAAsCuC,QAAtC,EAAgD;AAC9E3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;AACA,YAAI,CAACuC,QAAL,EAAeoB,SAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B,CAA9B,EAAiC,MAAjC,EAAyC,CAAC,MAA1C;;AACf,YAAIzH,OAAOwE,mBAAX,EAAgC;AAC9B,eAAKiD,MAAL,IAAepY,KAAf;AACA,eAAKoY,SAAS,CAAd,IAAoBpY,UAAU,CAA9B;AACD,SAHD,MAGO;AACLkc,4BAAkB,IAAlB,EAAwBlc,KAAxB,EAA+BoY,MAA/B,EAAuC,IAAvC;AACD;;AACD,eAAOA,SAAS,CAAhB;AACD;;AAXD,aAAyC2E,YAAzC;AAAA;;AAaApM,WAAOthB,SAAP,CAAiB2tB,YAAjB;AAAgC,eAASA,YAAT,CAAuBhd,KAAvB,EAA8BoY,MAA9B,EAAsCuC,QAAtC,EAAgD;AAC9E3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;AACA,YAAI,CAACuC,QAAL,EAAeoB,SAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B,CAA9B,EAAiC,MAAjC,EAAyC,CAAC,MAA1C;;AACf,YAAIzH,OAAOwE,mBAAX,EAAgC;AAC9B,eAAKiD,MAAL,IAAgBpY,UAAU,CAA1B;AACA,eAAKoY,SAAS,CAAd,IAAmBpY,KAAnB;AACD,SAHD,MAGO;AACLkc,4BAAkB,IAAlB,EAAwBlc,KAAxB,EAA+BoY,MAA/B,EAAuC,KAAvC;AACD;;AACD,eAAOA,SAAS,CAAhB;AACD;;AAXD,aAAyC4E,YAAzC;AAAA;;AAaArM,WAAOthB,SAAP,CAAiB4tB,YAAjB;AAAgC,eAASA,YAAT,CAAuBjd,KAAvB,EAA8BoY,MAA9B,EAAsCuC,QAAtC,EAAgD;AAC9E3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;AACA,YAAI,CAACuC,QAAL,EAAeoB,SAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B,CAA9B,EAAiC,UAAjC,EAA6C,CAAC,UAA9C;;AACf,YAAIzH,OAAOwE,mBAAX,EAAgC;AAC9B,eAAKiD,MAAL,IAAepY,KAAf;AACA,eAAKoY,SAAS,CAAd,IAAoBpY,UAAU,CAA9B;AACA,eAAKoY,SAAS,CAAd,IAAoBpY,UAAU,EAA9B;AACA,eAAKoY,SAAS,CAAd,IAAoBpY,UAAU,EAA9B;AACD,SALD,MAKO;AACLuc,4BAAkB,IAAlB,EAAwBvc,KAAxB,EAA+BoY,MAA/B,EAAuC,IAAvC;AACD;;AACD,eAAOA,SAAS,CAAhB;AACD;;AAbD,aAAyC6E,YAAzC;AAAA;;AAeAtM,WAAOthB,SAAP,CAAiB6tB,YAAjB;AAAgC,eAASA,YAAT,CAAuBld,KAAvB,EAA8BoY,MAA9B,EAAsCuC,QAAtC,EAAgD;AAC9E3a,gBAAQ,CAACA,KAAT;AACAoY,iBAASA,SAAS,CAAlB;AACA,YAAI,CAACuC,QAAL,EAAeoB,SAAS,IAAT,EAAe/b,KAAf,EAAsBoY,MAAtB,EAA8B,CAA9B,EAAiC,UAAjC,EAA6C,CAAC,UAA9C;AACf,YAAIpY,QAAQ,CAAZ,EAAeA,QAAQ,aAAaA,KAAb,GAAqB,CAA7B;;AACf,YAAI2Q,OAAOwE,mBAAX,EAAgC;AAC9B,eAAKiD,MAAL,IAAgBpY,UAAU,EAA1B;AACA,eAAKoY,SAAS,CAAd,IAAoBpY,UAAU,EAA9B;AACA,eAAKoY,SAAS,CAAd,IAAoBpY,UAAU,CAA9B;AACA,eAAKoY,SAAS,CAAd,IAAmBpY,KAAnB;AACD,SALD,MAKO;AACLuc,4BAAkB,IAAlB,EAAwBvc,KAAxB,EAA+BoY,MAA/B,EAAuC,KAAvC;AACD;;AACD,eAAOA,SAAS,CAAhB;AACD;;AAdD,aAAyC8E,YAAzC;AAAA;;AAgBA,aAASC,YAAT,CAAuB9V,GAAvB,EAA4BrH,KAA5B,EAAmCoY,MAAnC,EAA2CvG,GAA3C,EAAgDkG,GAAhD,EAAqDjmB,GAArD,EAA0D;AACxD,UAAIkO,QAAQ+X,GAAR,IAAe/X,QAAQlO,GAA3B,EAAgC,MAAM,IAAIklB,UAAJ,CAAe,wBAAf,CAAN;AAChC,UAAIoB,SAASvG,GAAT,GAAexK,IAAI1Y,MAAvB,EAA+B,MAAM,IAAIqoB,UAAJ,CAAe,oBAAf,CAAN;AAC/B,UAAIoB,SAAS,CAAb,EAAgB,MAAM,IAAIpB,UAAJ,CAAe,oBAAf,CAAN;AACjB;;AAED,aAASoG,UAAT,CAAqB/V,GAArB,EAA0BrH,KAA1B,EAAiCoY,MAAjC,EAAyC+D,YAAzC,EAAuDxB,QAAvD,EAAiE;AAC/D,UAAI,CAACA,QAAL,EAAe;AACbwC,qBAAa9V,GAAb,EAAkBrH,KAAlB,EAAyBoY,MAAzB,EAAiC,CAAjC,EAAoC,sBAApC,EAA4D,CAAC,sBAA7D;AACD;;AACDtD,cAAQrX,KAAR,CAAc4J,GAAd,EAAmBrH,KAAnB,EAA0BoY,MAA1B,EAAkC+D,YAAlC,EAAgD,EAAhD,EAAoD,CAApD;AACA,aAAO/D,SAAS,CAAhB;AACD;;AAEDzH,WAAOthB,SAAP,CAAiBguB,YAAjB;AAAgC,eAASA,YAAT,CAAuBrd,KAAvB,EAA8BoY,MAA9B,EAAsCuC,QAAtC,EAAgD;AAC9E,eAAOyC,WAAW,IAAX,EAAiBpd,KAAjB,EAAwBoY,MAAxB,EAAgC,IAAhC,EAAsCuC,QAAtC,CAAP;AACD;;AAFD,aAAyC0C,YAAzC;AAAA;;AAIA1M,WAAOthB,SAAP,CAAiBiuB,YAAjB;AAAgC,eAASA,YAAT,CAAuBtd,KAAvB,EAA8BoY,MAA9B,EAAsCuC,QAAtC,EAAgD;AAC9E,eAAOyC,WAAW,IAAX,EAAiBpd,KAAjB,EAAwBoY,MAAxB,EAAgC,KAAhC,EAAuCuC,QAAvC,CAAP;AACD;;AAFD,aAAyC2C,YAAzC;AAAA;;AAIA,aAASC,WAAT,CAAsBlW,GAAtB,EAA2BrH,KAA3B,EAAkCoY,MAAlC,EAA0C+D,YAA1C,EAAwDxB,QAAxD,EAAkE;AAChE,UAAI,CAACA,QAAL,EAAe;AACbwC,qBAAa9V,GAAb,EAAkBrH,KAAlB,EAAyBoY,MAAzB,EAAiC,CAAjC,EAAoC,uBAApC,EAA6D,CAAC,uBAA9D;AACD;;AACDtD,cAAQrX,KAAR,CAAc4J,GAAd,EAAmBrH,KAAnB,EAA0BoY,MAA1B,EAAkC+D,YAAlC,EAAgD,EAAhD,EAAoD,CAApD;AACA,aAAO/D,SAAS,CAAhB;AACD;;AAEDzH,WAAOthB,SAAP,CAAiBmuB,aAAjB;AAAiC,eAASA,aAAT,CAAwBxd,KAAxB,EAA+BoY,MAA/B,EAAuCuC,QAAvC,EAAiD;AAChF,eAAO4C,YAAY,IAAZ,EAAkBvd,KAAlB,EAAyBoY,MAAzB,EAAiC,IAAjC,EAAuCuC,QAAvC,CAAP;AACD;;AAFD,aAA0C6C,aAA1C;AAAA;;AAIA7M,WAAOthB,SAAP,CAAiBouB,aAAjB;AAAiC,eAASA,aAAT,CAAwBzd,KAAxB,EAA+BoY,MAA/B,EAAuCuC,QAAvC,EAAiD;AAChF,eAAO4C,YAAY,IAAZ,EAAkBvd,KAAlB,EAAyBoY,MAAzB,EAAiC,KAAjC,EAAwCuC,QAAxC,CAAP;AACD;;AAFD,aAA0C8C,aAA1C;AAAA,QAvsCkD,CA2sClD;;;AACA9M,WAAOthB,SAAP,CAAiBsnB,IAAjB;AAAwB,eAASA,IAAT,CAAe+G,MAAf,EAAuBC,WAAvB,EAAoC/e,KAApC,EAA2CG,GAA3C,EAAgD;AACtE,YAAI,CAACH,KAAL,EAAYA,QAAQ,CAAR;AACZ,YAAI,CAACG,GAAD,IAAQA,QAAQ,CAApB,EAAuBA,MAAM,KAAKpQ,MAAX;AACvB,YAAIgvB,eAAeD,OAAO/uB,MAA1B,EAAkCgvB,cAAcD,OAAO/uB,MAArB;AAClC,YAAI,CAACgvB,WAAL,EAAkBA,cAAc,CAAd;AAClB,YAAI5e,MAAM,CAAN,IAAWA,MAAMH,KAArB,EAA4BG,MAAMH,KAAN,CAL0C,CAOtE;;AACA,YAAIG,QAAQH,KAAZ,EAAmB,OAAO,CAAP;AACnB,YAAI8e,OAAO/uB,MAAP,KAAkB,CAAlB,IAAuB,KAAKA,MAAL,KAAgB,CAA3C,EAA8C,OAAO,CAAP,CATwB,CAWtE;;AACA,YAAIgvB,cAAc,CAAlB,EAAqB;AACnB,gBAAM,IAAI3G,UAAJ,CAAe,2BAAf,CAAN;AACD;;AACD,YAAIpY,QAAQ,CAAR,IAAaA,SAAS,KAAKjQ,MAA/B,EAAuC,MAAM,IAAIqoB,UAAJ,CAAe,2BAAf,CAAN;AACvC,YAAIjY,MAAM,CAAV,EAAa,MAAM,IAAIiY,UAAJ,CAAe,yBAAf,CAAN,CAhByD,CAkBtE;;AACA,YAAIjY,MAAM,KAAKpQ,MAAf,EAAuBoQ,MAAM,KAAKpQ,MAAX;;AACvB,YAAI+uB,OAAO/uB,MAAP,GAAgBgvB,WAAhB,GAA8B5e,MAAMH,KAAxC,EAA+C;AAC7CG,gBAAM2e,OAAO/uB,MAAP,GAAgBgvB,WAAhB,GAA8B/e,KAApC;AACD;;AAED,YAAIM,MAAMH,MAAMH,KAAhB;AACA,YAAIxQ,CAAJ;;AAEA,YAAI,SAASsvB,MAAT,IAAmB9e,QAAQ+e,WAA3B,IAA0CA,cAAc5e,GAA5D,EAAiE;AAC/D;AACA,eAAK3Q,IAAI8Q,MAAM,CAAf,EAAkB9Q,KAAK,CAAvB,EAA0BA,GAA1B,EAA+B;AAC7BsvB,mBAAOtvB,IAAIuvB,WAAX,IAA0B,KAAKvvB,IAAIwQ,KAAT,CAA1B;AACD;AACF,SALD,MAKO,IAAIM,MAAM,IAAN,IAAc,CAACyR,OAAOwE,mBAA1B,EAA+C;AACpD;AACA,eAAK/mB,IAAI,CAAT,EAAYA,IAAI8Q,GAAhB,EAAqB9Q,GAArB,EAA0B;AACxBsvB,mBAAOtvB,IAAIuvB,WAAX,IAA0B,KAAKvvB,IAAIwQ,KAAT,CAA1B;AACD;AACF,SALM,MAKA;AACL8e,iBAAOE,IAAP,CAAY,KAAKpI,QAAL,CAAc5W,KAAd,EAAqBA,QAAQM,GAA7B,CAAZ,EAA+Cye,WAA/C;AACD;;AAED,eAAOze,GAAP;AACD;;AA1CD,aAAiCyX,IAAjC;AAAA,QA5sCkD,CAwvClD;;;AACAhG,WAAOthB,SAAP,CAAiBwuB,IAAjB;AAAwB,eAASA,IAAT,CAAe7d,KAAf,EAAsBpB,KAAtB,EAA6BG,GAA7B,EAAkC;AACxD,YAAI,CAACiB,KAAL,EAAYA,QAAQ,CAAR;AACZ,YAAI,CAACpB,KAAL,EAAYA,QAAQ,CAAR;AACZ,YAAI,CAACG,GAAL,EAAUA,MAAM,KAAKpQ,MAAX;AAEV,YAAIoQ,MAAMH,KAAV,EAAiB,MAAM,IAAIoY,UAAJ,CAAe,aAAf,CAAN,CALuC,CAOxD;;AACA,YAAIjY,QAAQH,KAAZ,EAAmB;AACnB,YAAI,KAAKjQ,MAAL,KAAgB,CAApB,EAAuB;AAEvB,YAAIiQ,QAAQ,CAAR,IAAaA,SAAS,KAAKjQ,MAA/B,EAAuC,MAAM,IAAIqoB,UAAJ,CAAe,qBAAf,CAAN;AACvC,YAAIjY,MAAM,CAAN,IAAWA,MAAM,KAAKpQ,MAA1B,EAAkC,MAAM,IAAIqoB,UAAJ,CAAe,mBAAf,CAAN;AAElC,YAAI5oB,CAAJ;;AACA,YAAI,OAAO4R,KAAP,KAAiB,QAArB,EAA+B;AAC7B,eAAK5R,IAAIwQ,KAAT,EAAgBxQ,IAAI2Q,GAApB,EAAyB3Q,GAAzB,EAA8B;AAC5B,iBAAKA,CAAL,IAAU4R,KAAV;AACD;AACF,SAJD,MAIO;AACL,cAAIsa,QAAQjD,YAAYrX,MAAM1Q,QAAN,EAAZ,CAAZ;AACA,cAAI4P,MAAMob,MAAM3rB,MAAhB;;AACA,eAAKP,IAAIwQ,KAAT,EAAgBxQ,IAAI2Q,GAApB,EAAyB3Q,GAAzB,EAA8B;AAC5B,iBAAKA,CAAL,IAAUksB,MAAMlsB,IAAI8Q,GAAV,CAAV;AACD;AACF;;AAED,eAAO,IAAP;AACD;;AA5BD,aAAiC2e,IAAjC;AAAA,QAzvCkD,CAuxClD;;;;;AAIAlN,WAAOthB,SAAP,CAAiByuB,aAAjB;AAAiC,eAASA,aAAT,GAA0B;AACzD,YAAI,OAAOzI,UAAP,KAAsB,WAA1B,EAAuC;AACrC,cAAI1E,OAAOwE,mBAAX,EAAgC;AAC9B,mBAAQ,IAAIxE,MAAJ,CAAW,IAAX,CAAD,CAAmB2F,MAA1B;AACD,WAFD,MAEO;AACL,gBAAIjP,MAAM,IAAIgO,UAAJ,CAAe,KAAK1mB,MAApB,CAAV;;AACA,iBAAK,IAAIP,IAAI,CAAR,EAAW8Q,MAAMmI,IAAI1Y,MAA1B,EAAkCP,IAAI8Q,GAAtC,EAA2C9Q,KAAK,CAAhD,EAAmD;AACjDiZ,kBAAIjZ,CAAJ,IAAS,KAAKA,CAAL,CAAT;AACD;;AACD,mBAAOiZ,IAAIiP,MAAX;AACD;AACF,SAVD,MAUO;AACL,gBAAM,IAAIF,SAAJ,CAAc,oDAAd,CAAN;AACD;AACF;;AAdD,aAA0C0H,aAA1C;AAAA,QA3xCkD,CA2yClD;AACA;;;AAEA,QAAIC,KAAKpN,OAAOthB,SAAhB,CA9yCkD,CAgzClD;;;;AAGAshB,WAAOkG,QAAP;AAAkB,eAASA,QAAT,CAAmBlJ,GAAnB,EAAwB;AACxCA,YAAI4H,WAAJ,GAAkB5E,MAAlB;AACAhD,YAAImJ,SAAJ,GAAgB,IAAhB,CAFwC,CAIxC;;AACAnJ,YAAIiQ,IAAJ,GAAWjQ,IAAI2K,GAAf,CALwC,CAOxC;;AACA3K,YAAIwK,GAAJ,GAAU4F,GAAG5F,GAAb;AACAxK,YAAI2K,GAAJ,GAAUyF,GAAGzF,GAAb;AAEA3K,YAAIlQ,KAAJ,GAAYsgB,GAAGtgB,KAAf;AACAkQ,YAAIre,QAAJ,GAAeyuB,GAAGzuB,QAAlB;AACAqe,YAAIqQ,cAAJ,GAAqBD,GAAGzuB,QAAxB;AACAqe,YAAI+D,MAAJ,GAAaqM,GAAGrM,MAAhB;AACA/D,YAAImK,MAAJ,GAAaiG,GAAGjG,MAAhB;AACAnK,YAAIuJ,OAAJ,GAAc6G,GAAG7G,OAAjB;AACAvJ,YAAI/U,OAAJ,GAAcmlB,GAAGnlB,OAAjB;AACA+U,YAAIgJ,IAAJ,GAAWoH,GAAGpH,IAAd;AACAhJ,YAAI7c,KAAJ,GAAYitB,GAAGjtB,KAAf;AACA6c,YAAI+M,UAAJ,GAAiBqD,GAAGrD,UAApB;AACA/M,YAAIkN,UAAJ,GAAiBkD,GAAGlD,UAApB;AACAlN,YAAI0K,SAAJ,GAAgB0F,GAAG1F,SAAnB;AACA1K,YAAImN,YAAJ,GAAmBiD,GAAGjD,YAAtB;AACAnN,YAAIoN,YAAJ,GAAmBgD,GAAGhD,YAAtB;AACApN,YAAIqN,YAAJ,GAAmB+C,GAAG/C,YAAtB;AACArN,YAAIsN,YAAJ,GAAmB8C,GAAG9C,YAAtB;AACAtN,YAAIuN,SAAJ,GAAgB6C,GAAG7C,SAAnB;AACAvN,YAAIyN,SAAJ,GAAgB2C,GAAG3C,SAAnB;AACAzN,YAAI0N,QAAJ,GAAe0C,GAAG1C,QAAlB;AACA1N,YAAI2N,WAAJ,GAAkByC,GAAGzC,WAArB;AACA3N,YAAI4N,WAAJ,GAAkBwC,GAAGxC,WAArB;AACA5N,YAAI6N,WAAJ,GAAkBuC,GAAGvC,WAArB;AACA7N,YAAI8N,WAAJ,GAAkBsC,GAAGtC,WAArB;AACA9N,YAAI+N,WAAJ,GAAkBqC,GAAGrC,WAArB;AACA/N,YAAIiO,WAAJ,GAAkBmC,GAAGnC,WAArB;AACAjO,YAAIkO,YAAJ,GAAmBkC,GAAGlC,YAAtB;AACAlO,YAAImO,YAAJ,GAAmBiC,GAAGjC,YAAtB;AACAnO,YAAI4K,UAAJ,GAAiBwF,GAAGxF,UAApB;AACA5K,YAAIqO,WAAJ,GAAkB+B,GAAG/B,WAArB;AACArO,YAAIsO,WAAJ,GAAkB8B,GAAG9B,WAArB;AACAtO,YAAI0O,aAAJ,GAAoB0B,GAAG1B,aAAvB;AACA1O,YAAI2O,aAAJ,GAAoByB,GAAGzB,aAAvB;AACA3O,YAAI6O,aAAJ,GAAoBuB,GAAGvB,aAAvB;AACA7O,YAAI8O,aAAJ,GAAoBsB,GAAGtB,aAAvB;AACA9O,YAAI+O,UAAJ,GAAiBqB,GAAGrB,UAApB;AACA/O,YAAIkP,UAAJ,GAAiBkB,GAAGlB,UAApB;AACAlP,YAAImP,SAAJ,GAAgBiB,GAAGjB,SAAnB;AACAnP,YAAIoP,YAAJ,GAAmBgB,GAAGhB,YAAtB;AACApP,YAAIqP,YAAJ,GAAmBe,GAAGf,YAAtB;AACArP,YAAIsP,YAAJ,GAAmBc,GAAGd,YAAtB;AACAtP,YAAIuP,YAAJ,GAAmBa,GAAGb,YAAtB;AACAvP,YAAI0P,YAAJ,GAAmBU,GAAGV,YAAtB;AACA1P,YAAI2P,YAAJ,GAAmBS,GAAGT,YAAtB;AACA3P,YAAI6P,aAAJ,GAAoBO,GAAGP,aAAvB;AACA7P,YAAI8P,aAAJ,GAAoBM,GAAGN,aAAvB;AACA9P,YAAIkQ,IAAJ,GAAWE,GAAGF,IAAd;AACAlQ,YAAI5Z,OAAJ,GAAcgqB,GAAGhqB,OAAjB;AACA4Z,YAAImQ,aAAJ,GAAoBC,GAAGD,aAAvB;AAEA,eAAOnQ,GAAP;AACD;;AA7DD,aAA2BkJ,QAA3B;AAAA;;AA+DA,QAAIoH,oBAAoB,oBAAxB;;AAEA,aAASC,WAAT,CAAsB5iB,GAAtB,EAA2B;AACzB;AACAA,YAAM6iB,WAAW7iB,GAAX,EAAgBoD,OAAhB,CAAwBuf,iBAAxB,EAA2C,EAA3C,CAAN,CAFyB,CAGzB;;AACA,UAAI3iB,IAAI3M,MAAJ,GAAa,CAAjB,EAAoB,OAAO,EAAP,CAJK,CAKzB;;AACA,aAAO2M,IAAI3M,MAAJ,GAAa,CAAb,KAAmB,CAA1B,EAA6B;AAC3B2M,cAAMA,MAAM,GAAZ;AACD;;AACD,aAAOA,GAAP;AACD;;AAED,aAAS6iB,UAAT,CAAqB7iB,GAArB,EAA0B;AACxB,UAAIA,IAAI+G,IAAR,EAAc,OAAO/G,IAAI+G,IAAJ,EAAP;AACd,aAAO/G,IAAIoD,OAAJ,CAAY,YAAZ,EAA0B,EAA1B,CAAP;AACD;;AAED,aAAS2b,KAAT,CAAgBxsB,CAAhB,EAAmB;AACjB,UAAIA,IAAI,EAAR,EAAY,OAAO,MAAMA,EAAEyB,QAAF,CAAW,EAAX,CAAb;AACZ,aAAOzB,EAAEyB,QAAF,CAAW,EAAX,CAAP;AACD;;AAED,aAAS+nB,WAAT,CAAsBzN,MAAtB,EAA8BwU,KAA9B,EAAqC;AACnCA,cAAQA,SAASlL,QAAjB;AACA,UAAIwG,SAAJ;AACA,UAAI/qB,SAASib,OAAOjb,MAApB;AACA,UAAI0vB,gBAAgB,IAApB;AACA,UAAI/D,QAAQ,EAAZ;;AAEA,WAAK,IAAIlsB,IAAI,CAAb,EAAgBA,IAAIO,MAApB,EAA4BP,GAA5B,EAAiC;AAC/BsrB,oBAAY9P,OAAO0U,UAAP,CAAkBlwB,CAAlB,CAAZ,CAD+B,CAG/B;;AACA,YAAIsrB,YAAY,MAAZ,IAAsBA,YAAY,MAAtC,EAA8C;AAC5C;AACA,cAAI,CAAC2E,aAAL,EAAoB;AAClB;AACA,gBAAI3E,YAAY,MAAhB,EAAwB;AACtB;AACA,kBAAI,CAAC0E,SAAS,CAAV,IAAe,CAAC,CAApB,EAAuB9D,MAAMzqB,IAAN,CAAW,IAAX,EAAiB,IAAjB,EAAuB,IAAvB;AACvB;AACD,aAJD,MAIO,IAAIzB,IAAI,CAAJ,KAAUO,MAAd,EAAsB;AAC3B;AACA,kBAAI,CAACyvB,SAAS,CAAV,IAAe,CAAC,CAApB,EAAuB9D,MAAMzqB,IAAN,CAAW,IAAX,EAAiB,IAAjB,EAAuB,IAAvB;AACvB;AACD,aAViB,CAYlB;;;AACAwuB,4BAAgB3E,SAAhB;AAEA;AACD,WAlB2C,CAoB5C;;;AACA,cAAIA,YAAY,MAAhB,EAAwB;AACtB,gBAAI,CAAC0E,SAAS,CAAV,IAAe,CAAC,CAApB,EAAuB9D,MAAMzqB,IAAN,CAAW,IAAX,EAAiB,IAAjB,EAAuB,IAAvB;AACvBwuB,4BAAgB3E,SAAhB;AACA;AACD,WAzB2C,CA2B5C;;;AACAA,sBAAY2E,gBAAgB,MAAhB,IAA0B,EAA1B,GAA+B3E,YAAY,MAA3C,GAAoD,OAAhE;AACD,SA7BD,MA6BO,IAAI2E,aAAJ,EAAmB;AACxB;AACA,cAAI,CAACD,SAAS,CAAV,IAAe,CAAC,CAApB,EAAuB9D,MAAMzqB,IAAN,CAAW,IAAX,EAAiB,IAAjB,EAAuB,IAAvB;AACxB;;AAEDwuB,wBAAgB,IAAhB,CAtC+B,CAwC/B;;AACA,YAAI3E,YAAY,IAAhB,EAAsB;AACpB,cAAI,CAAC0E,SAAS,CAAV,IAAe,CAAnB,EAAsB;AACtB9D,gBAAMzqB,IAAN,CAAW6pB,SAAX;AACD,SAHD,MAGO,IAAIA,YAAY,KAAhB,EAAuB;AAC5B,cAAI,CAAC0E,SAAS,CAAV,IAAe,CAAnB,EAAsB;AACtB9D,gBAAMzqB,IAAN,CACE6pB,aAAa,GAAb,GAAmB,IADrB,EAEEA,YAAY,IAAZ,GAAmB,IAFrB;AAID,SANM,MAMA,IAAIA,YAAY,OAAhB,EAAyB;AAC9B,cAAI,CAAC0E,SAAS,CAAV,IAAe,CAAnB,EAAsB;AACtB9D,gBAAMzqB,IAAN,CACE6pB,aAAa,GAAb,GAAmB,IADrB,EAEEA,aAAa,GAAb,GAAmB,IAAnB,GAA0B,IAF5B,EAGEA,YAAY,IAAZ,GAAmB,IAHrB;AAKD,SAPM,MAOA,IAAIA,YAAY,QAAhB,EAA0B;AAC/B,cAAI,CAAC0E,SAAS,CAAV,IAAe,CAAnB,EAAsB;AACtB9D,gBAAMzqB,IAAN,CACE6pB,aAAa,IAAb,GAAoB,IADtB,EAEEA,aAAa,GAAb,GAAmB,IAAnB,GAA0B,IAF5B,EAGEA,aAAa,GAAb,GAAmB,IAAnB,GAA0B,IAH5B,EAIEA,YAAY,IAAZ,GAAmB,IAJrB;AAMD,SARM,MAQA;AACL,gBAAM,IAAIprB,KAAJ,CAAU,oBAAV,CAAN;AACD;AACF;;AAED,aAAOgsB,KAAP;AACD;;AAED,aAAStB,YAAT,CAAuB1d,GAAvB,EAA4B;AAC1B,UAAIijB,YAAY,EAAhB;;AACA,WAAK,IAAInwB,IAAI,CAAb,EAAgBA,IAAIkN,IAAI3M,MAAxB,EAAgCP,GAAhC,EAAqC;AACnC;AACAmwB,kBAAU1uB,IAAV,CAAeyL,IAAIgjB,UAAJ,CAAelwB,CAAf,IAAoB,IAAnC;AACD;;AACD,aAAOmwB,SAAP;AACD;;AAED,aAASnF,cAAT,CAAyB9d,GAAzB,EAA8B8iB,KAA9B,EAAqC;AACnC,UAAII,CAAJ,EAAOC,EAAP,EAAWC,EAAX;AACA,UAAIH,YAAY,EAAhB;;AACA,WAAK,IAAInwB,IAAI,CAAb,EAAgBA,IAAIkN,IAAI3M,MAAxB,EAAgCP,GAAhC,EAAqC;AACnC,YAAI,CAACgwB,SAAS,CAAV,IAAe,CAAnB,EAAsB;AAEtBI,YAAIljB,IAAIgjB,UAAJ,CAAelwB,CAAf,CAAJ;AACAqwB,aAAKD,KAAK,CAAV;AACAE,aAAKF,IAAI,GAAT;AACAD,kBAAU1uB,IAAV,CAAe6uB,EAAf;AACAH,kBAAU1uB,IAAV,CAAe4uB,EAAf;AACD;;AAED,aAAOF,SAAP;AACD;;AAED,aAASjH,aAAT,CAAwBhc,GAAxB,EAA6B;AAC3B,aAAOuZ,OAAO8J,WAAP,CAAmBT,YAAY5iB,GAAZ,CAAnB,CAAP;AACD;;AAED,aAASwd,UAAT,CAAqB8F,GAArB,EAA0BC,GAA1B,EAA+BzG,MAA/B,EAAuCzpB,MAAvC,EAA+C;AAC7C,WAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAIO,MAApB,EAA4BP,GAA5B,EAAiC;AAC/B,YAAKA,IAAIgqB,MAAJ,IAAcyG,IAAIlwB,MAAnB,IAA+BP,KAAKwwB,IAAIjwB,MAA5C,EAAqD;AACrDkwB,YAAIzwB,IAAIgqB,MAAR,IAAkBwG,IAAIxwB,CAAJ,CAAlB;AACD;;AACD,aAAOA,CAAP;AACD;AAEA,GA//CgB,EA+/Cf;AAAC,iBAAY,EAAb;AAAgB,eAAU,EAA1B;AAA6B,gBAAW;AAAxC,GA//Ce,CAhnM0a;AA+mP5Y,MAAG,CAAC,UAASD,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACnF,QAAIqwB,SAAS,kEAAb;AAEA;;AAAE,eAAUrwB,OAAV,EAAmB;AACpB;;AAEC,UAAIswB,MAAO,OAAO1J,UAAP,KAAsB,WAAvB,GACNA,UADM,GAENxkB,KAFJ;AAID,UAAImuB,OAAS,IAAIV,UAAJ,CAAe,CAAf,CAAb;AACA,UAAIW,QAAS,IAAIX,UAAJ,CAAe,CAAf,CAAb;AACA,UAAIY,SAAS,IAAIZ,UAAJ,CAAe,CAAf,CAAb;AACA,UAAIa,QAAS,IAAIb,UAAJ,CAAe,CAAf,CAAb;AACA,UAAIc,QAAS,IAAId,UAAJ,CAAe,CAAf,CAAb;AACA,UAAIe,gBAAgB,IAAIf,UAAJ,CAAe,CAAf,CAApB;AACA,UAAIgB,iBAAiB,IAAIhB,UAAJ,CAAe,CAAf,CAArB;;AAEA,eAASiB,MAAT,CAAiBC,GAAjB,EAAsB;AACrB,YAAIjxB,OAAOixB,IAAIlB,UAAJ,CAAe,CAAf,CAAX;AACA,YAAI/vB,SAASywB,IAAT,IACAzwB,SAAS8wB,aADb,EAEC,OAAO,EAAP,CAJoB,CAIV;;AACX,YAAI9wB,SAAS0wB,KAAT,IACA1wB,SAAS+wB,cADb,EAEC,OAAO,EAAP,CAPoB,CAOV;;AACX,YAAI/wB,OAAO2wB,MAAX,EACC,OAAO,CAAC,CAAR,CAToB,CASV;;AACX,YAAI3wB,OAAO2wB,SAAS,EAApB,EACC,OAAO3wB,OAAO2wB,MAAP,GAAgB,EAAhB,GAAqB,EAA5B;AACD,YAAI3wB,OAAO6wB,QAAQ,EAAnB,EACC,OAAO7wB,OAAO6wB,KAAd;AACD,YAAI7wB,OAAO4wB,QAAQ,EAAnB,EACC,OAAO5wB,OAAO4wB,KAAP,GAAe,EAAtB;AACD;;AAED,eAASM,cAAT,CAAyBC,GAAzB,EAA8B;AAC7B,YAAItxB,CAAJ,EAAOguB,CAAP,EAAU5tB,CAAV,EAAamxB,GAAb,EAAkBC,YAAlB,EAAgCjS,GAAhC;;AAEA,YAAI+R,IAAI/wB,MAAJ,GAAa,CAAb,GAAiB,CAArB,EAAwB;AACvB,gBAAM,IAAIL,KAAJ,CAAU,gDAAV,CAAN;AACA,SAL4B,CAO7B;AACA;AACA;AACA;AACA;;;AACA,YAAI4Q,MAAMwgB,IAAI/wB,MAAd;AACAixB,uBAAe,QAAQF,IAAIG,MAAJ,CAAW3gB,MAAM,CAAjB,CAAR,GAA8B,CAA9B,GAAkC,QAAQwgB,IAAIG,MAAJ,CAAW3gB,MAAM,CAAjB,CAAR,GAA8B,CAA9B,GAAkC,CAAnF,CAb6B,CAe7B;;AACAyO,cAAM,IAAIoR,GAAJ,CAAQW,IAAI/wB,MAAJ,GAAa,CAAb,GAAiB,CAAjB,GAAqBixB,YAA7B,CAAN,CAhB6B,CAkB7B;;AACApxB,YAAIoxB,eAAe,CAAf,GAAmBF,IAAI/wB,MAAJ,GAAa,CAAhC,GAAoC+wB,IAAI/wB,MAA5C;AAEA,YAAImxB,IAAI,CAAR;;AAEA,iBAASjwB,IAAT,CAAekgB,CAAf,EAAkB;AACjBpC,cAAImS,GAAJ,IAAW/P,CAAX;AACA;;AAED,aAAK3hB,IAAI,CAAJ,EAAOguB,IAAI,CAAhB,EAAmBhuB,IAAII,CAAvB,EAA0BJ,KAAK,CAAL,EAAQguB,KAAK,CAAvC,EAA0C;AACzCuD,gBAAOJ,OAAOG,IAAIG,MAAJ,CAAWzxB,CAAX,CAAP,KAAyB,EAA1B,GAAiCmxB,OAAOG,IAAIG,MAAJ,CAAWzxB,IAAI,CAAf,CAAP,KAA6B,EAA9D,GAAqEmxB,OAAOG,IAAIG,MAAJ,CAAWzxB,IAAI,CAAf,CAAP,KAA6B,CAAlG,GAAuGmxB,OAAOG,IAAIG,MAAJ,CAAWzxB,IAAI,CAAf,CAAP,CAA7G;AACAyB,eAAK,CAAC8vB,MAAM,QAAP,KAAoB,EAAzB;AACA9vB,eAAK,CAAC8vB,MAAM,MAAP,KAAkB,CAAvB;AACA9vB,eAAK8vB,MAAM,IAAX;AACA;;AAED,YAAIC,iBAAiB,CAArB,EAAwB;AACvBD,gBAAOJ,OAAOG,IAAIG,MAAJ,CAAWzxB,CAAX,CAAP,KAAyB,CAA1B,GAAgCmxB,OAAOG,IAAIG,MAAJ,CAAWzxB,IAAI,CAAf,CAAP,KAA6B,CAAnE;AACAyB,eAAK8vB,MAAM,IAAX;AACA,SAHD,MAGO,IAAIC,iBAAiB,CAArB,EAAwB;AAC9BD,gBAAOJ,OAAOG,IAAIG,MAAJ,CAAWzxB,CAAX,CAAP,KAAyB,EAA1B,GAAiCmxB,OAAOG,IAAIG,MAAJ,CAAWzxB,IAAI,CAAf,CAAP,KAA6B,CAA9D,GAAoEmxB,OAAOG,IAAIG,MAAJ,CAAWzxB,IAAI,CAAf,CAAP,KAA6B,CAAvG;AACAyB,eAAM8vB,OAAO,CAAR,GAAa,IAAlB;AACA9vB,eAAK8vB,MAAM,IAAX;AACA;;AAED,eAAOhS,GAAP;AACA;;AAED,eAASoS,aAAT,CAAwBC,KAAxB,EAA+B;AAC9B,YAAI5xB,CAAJ;AAAA,YACC6xB,aAAaD,MAAMrxB,MAAN,GAAe,CAD7B;AAAA,YACgC;AAC/BkX,iBAAS,EAFV;AAAA,YAGCqa,IAHD;AAAA,YAGOvxB,MAHP;;AAKA,iBAASwxB,MAAT,CAAiBxZ,GAAjB,EAAsB;AACrB,iBAAOmY,OAAOe,MAAP,CAAclZ,GAAd,CAAP;AACA;;AAED,iBAASyZ,eAAT,CAA0BzZ,GAA1B,EAA+B;AAC9B,iBAAOwZ,OAAOxZ,OAAO,EAAP,GAAY,IAAnB,IAA2BwZ,OAAOxZ,OAAO,EAAP,GAAY,IAAnB,CAA3B,GAAsDwZ,OAAOxZ,OAAO,CAAP,GAAW,IAAlB,CAAtD,GAAgFwZ,OAAOxZ,MAAM,IAAb,CAAvF;AACA,SAZ6B,CAc9B;;;AACA,aAAKvY,IAAI,CAAJ,EAAOO,SAASqxB,MAAMrxB,MAAN,GAAesxB,UAApC,EAAgD7xB,IAAIO,MAApD,EAA4DP,KAAK,CAAjE,EAAoE;AACnE8xB,iBAAO,CAACF,MAAM5xB,CAAN,KAAY,EAAb,KAAoB4xB,MAAM5xB,IAAI,CAAV,KAAgB,CAApC,IAA0C4xB,MAAM5xB,IAAI,CAAV,CAAjD;AACAyX,oBAAUua,gBAAgBF,IAAhB,CAAV;AACA,SAlB6B,CAoB9B;;;AACA,gBAAQD,UAAR;AACC,eAAK,CAAL;AACCC,mBAAOF,MAAMA,MAAMrxB,MAAN,GAAe,CAArB,CAAP;AACAkX,sBAAUsa,OAAOD,QAAQ,CAAf,CAAV;AACAra,sBAAUsa,OAAQD,QAAQ,CAAT,GAAc,IAArB,CAAV;AACAra,sBAAU,IAAV;AACA;;AACD,eAAK,CAAL;AACCqa,mBAAO,CAACF,MAAMA,MAAMrxB,MAAN,GAAe,CAArB,KAA2B,CAA5B,IAAkCqxB,MAAMA,MAAMrxB,MAAN,GAAe,CAArB,CAAzC;AACAkX,sBAAUsa,OAAOD,QAAQ,EAAf,CAAV;AACAra,sBAAUsa,OAAQD,QAAQ,CAAT,GAAc,IAArB,CAAV;AACAra,sBAAUsa,OAAQD,QAAQ,CAAT,GAAc,IAArB,CAAV;AACAra,sBAAU,GAAV;AACA;AAbF;;AAgBA,eAAOA,MAAP;AACA;;AAEDpX,cAAQkwB,WAAR,GAAsBc,cAAtB;AACAhxB,cAAQ+qB,aAAR,GAAwBuG,aAAxB;AACA,KAzHC,EAyHA,OAAOtxB,OAAP,KAAmB,WAAnB,GAAkC,KAAK4xB,QAAL,GAAgB,EAAlD,GAAwD5xB,OAzHxD,CAAD;AA2HA,GA9HiD,EA8HhD,EA9HgD,CA/mPyY;AA6uPrb,MAAG,CAAC,UAASN,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1CA,YAAQktB,IAAR,GAAe,UAAUrF,MAAV,EAAkB8B,MAAlB,EAA0BkI,IAA1B,EAAgCC,IAAhC,EAAsCC,MAAtC,EAA8C;AAC3D,UAAI7yB,CAAJ,EAAOqN,CAAP;AACA,UAAIylB,OAAOD,SAAS,CAAT,GAAaD,IAAb,GAAoB,CAA/B;AACA,UAAIG,OAAO,CAAC,KAAKD,IAAN,IAAc,CAAzB;AACA,UAAIE,QAAQD,QAAQ,CAApB;AACA,UAAIE,QAAQ,CAAC,CAAb;AACA,UAAIxyB,IAAIkyB,OAAQE,SAAS,CAAjB,GAAsB,CAA9B;AACA,UAAItlB,IAAIolB,OAAO,CAAC,CAAR,GAAY,CAApB;AACA,UAAIvyB,IAAIuoB,OAAO8B,SAAShqB,CAAhB,CAAR;AAEAA,WAAK8M,CAAL;AAEAvN,UAAII,IAAK,CAAC,KAAM,CAAC6yB,KAAR,IAAkB,CAA3B;AACA7yB,YAAO,CAAC6yB,KAAR;AACAA,eAASH,IAAT;;AACA,aAAOG,QAAQ,CAAf,EAAkBjzB,IAAIA,IAAI,GAAJ,GAAU2oB,OAAO8B,SAAShqB,CAAhB,CAAd,EAAkCA,KAAK8M,CAAvC,EAA0C0lB,SAAS,CAArE,EAAwE,CAAE;;AAE1E5lB,UAAIrN,IAAK,CAAC,KAAM,CAACizB,KAAR,IAAkB,CAA3B;AACAjzB,YAAO,CAACizB,KAAR;AACAA,eAASL,IAAT;;AACA,aAAOK,QAAQ,CAAf,EAAkB5lB,IAAIA,IAAI,GAAJ,GAAUsb,OAAO8B,SAAShqB,CAAhB,CAAd,EAAkCA,KAAK8M,CAAvC,EAA0C0lB,SAAS,CAArE,EAAwE,CAAE;;AAE1E,UAAIjzB,MAAM,CAAV,EAAa;AACXA,YAAI,IAAIgzB,KAAR;AACD,OAFD,MAEO,IAAIhzB,MAAM+yB,IAAV,EAAgB;AACrB,eAAO1lB,IAAI6lB,GAAJ,GAAW,CAAC9yB,IAAI,CAAC,CAAL,GAAS,CAAV,IAAemlB,QAAjC;AACD,OAFM,MAEA;AACLlY,YAAIA,IAAInJ,KAAKspB,GAAL,CAAS,CAAT,EAAYoF,IAAZ,CAAR;AACA5yB,YAAIA,IAAIgzB,KAAR;AACD;;AACD,aAAO,CAAC5yB,IAAI,CAAC,CAAL,GAAS,CAAV,IAAeiN,CAAf,GAAmBnJ,KAAKspB,GAAL,CAAS,CAAT,EAAYxtB,IAAI4yB,IAAhB,CAA1B;AACD,KA/BD;;AAiCA9xB,YAAQgP,KAAR,GAAgB,UAAU6Y,MAAV,EAAkBtW,KAAlB,EAAyBoY,MAAzB,EAAiCkI,IAAjC,EAAuCC,IAAvC,EAA6CC,MAA7C,EAAqD;AACnE,UAAI7yB,CAAJ,EAAOqN,CAAP,EAAUwjB,CAAV;AACA,UAAIiC,OAAOD,SAAS,CAAT,GAAaD,IAAb,GAAoB,CAA/B;AACA,UAAIG,OAAO,CAAC,KAAKD,IAAN,IAAc,CAAzB;AACA,UAAIE,QAAQD,QAAQ,CAApB;AACA,UAAII,KAAMP,SAAS,EAAT,GAAc1uB,KAAKspB,GAAL,CAAS,CAAT,EAAY,CAAC,EAAb,IAAmBtpB,KAAKspB,GAAL,CAAS,CAAT,EAAY,CAAC,EAAb,CAAjC,GAAoD,CAA9D;AACA,UAAI/sB,IAAIkyB,OAAO,CAAP,GAAYE,SAAS,CAA7B;AACA,UAAItlB,IAAIolB,OAAO,CAAP,GAAW,CAAC,CAApB;AACA,UAAIvyB,IAAIiS,QAAQ,CAAR,IAAcA,UAAU,CAAV,IAAe,IAAIA,KAAJ,GAAY,CAAzC,GAA8C,CAA9C,GAAkD,CAA1D;AAEAA,cAAQnO,KAAKkvB,GAAL,CAAS/gB,KAAT,CAAR;;AAEA,UAAIoT,MAAMpT,KAAN,KAAgBA,UAAUkT,QAA9B,EAAwC;AACtClY,YAAIoY,MAAMpT,KAAN,IAAe,CAAf,GAAmB,CAAvB;AACArS,YAAI+yB,IAAJ;AACD,OAHD,MAGO;AACL/yB,YAAIkE,KAAKgK,KAAL,CAAWhK,KAAKiM,GAAL,CAASkC,KAAT,IAAkBnO,KAAKmvB,GAAlC,CAAJ;;AACA,YAAIhhB,SAASwe,IAAI3sB,KAAKspB,GAAL,CAAS,CAAT,EAAY,CAACxtB,CAAb,CAAb,IAAgC,CAApC,EAAuC;AACrCA;AACA6wB,eAAK,CAAL;AACD;;AACD,YAAI7wB,IAAIgzB,KAAJ,IAAa,CAAjB,EAAoB;AAClB3gB,mBAAS8gB,KAAKtC,CAAd;AACD,SAFD,MAEO;AACLxe,mBAAS8gB,KAAKjvB,KAAKspB,GAAL,CAAS,CAAT,EAAY,IAAIwF,KAAhB,CAAd;AACD;;AACD,YAAI3gB,QAAQwe,CAAR,IAAa,CAAjB,EAAoB;AAClB7wB;AACA6wB,eAAK,CAAL;AACD;;AAED,YAAI7wB,IAAIgzB,KAAJ,IAAaD,IAAjB,EAAuB;AACrB1lB,cAAI,CAAJ;AACArN,cAAI+yB,IAAJ;AACD,SAHD,MAGO,IAAI/yB,IAAIgzB,KAAJ,IAAa,CAAjB,EAAoB;AACzB3lB,cAAI,CAACgF,QAAQwe,CAAR,GAAY,CAAb,IAAkB3sB,KAAKspB,GAAL,CAAS,CAAT,EAAYoF,IAAZ,CAAtB;AACA5yB,cAAIA,IAAIgzB,KAAR;AACD,SAHM,MAGA;AACL3lB,cAAIgF,QAAQnO,KAAKspB,GAAL,CAAS,CAAT,EAAYwF,QAAQ,CAApB,CAAR,GAAiC9uB,KAAKspB,GAAL,CAAS,CAAT,EAAYoF,IAAZ,CAArC;AACA5yB,cAAI,CAAJ;AACD;AACF;;AAED,aAAO4yB,QAAQ,CAAf,EAAkBjK,OAAO8B,SAAShqB,CAAhB,IAAqB4M,IAAI,IAAzB,EAA+B5M,KAAK8M,CAApC,EAAuCF,KAAK,GAA5C,EAAiDulB,QAAQ,CAA3E,EAA8E,CAAE;;AAEhF5yB,UAAKA,KAAK4yB,IAAN,GAAcvlB,CAAlB;AACAylB,cAAQF,IAAR;;AACA,aAAOE,OAAO,CAAd,EAAiBnK,OAAO8B,SAAShqB,CAAhB,IAAqBT,IAAI,IAAzB,EAA+BS,KAAK8M,CAApC,EAAuCvN,KAAK,GAA5C,EAAiD8yB,QAAQ,CAA1E,EAA6E,CAAE;;AAE/EnK,aAAO8B,SAAShqB,CAAT,GAAa8M,CAApB,KAA0BnN,IAAI,GAA9B;AACD,KAlDD;AAoDC,GAtFQ,EAsFP,EAtFO,CA7uPkb;AAm0Prb,MAAG,CAAC,UAASI,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAE1C;;OAIA,IAAIc,UAAUsB,MAAMtB,OAApB,CAN0C,CAQ1C;;;AAIA,QAAI+L,MAAMlM,OAAOC,SAAP,CAAiBC,QAA3B,CAZ0C,CAc1C;;;;;;;;;;;;;;;;;AAiBAV,WAAOH,OAAP,GAAiBc,WAAW,UAAUC,GAAV,EAAe;AACzC,aAAO,CAAC,CAAEA,GAAH,IAAU,oBAAoB8L,IAAI5M,IAAJ,CAASc,GAAT,CAArC;AACD,KAFD;AAIC,GAnCQ,EAmCP,EAnCO,CAn0Pkb;AAs2Prb,MAAG,CAAC,UAASrB,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,aAASS,YAAT,GAAwB;AACtB,WAAK+xB,OAAL,GAAe,KAAKA,OAAL,IAAgB,EAA/B;AACA,WAAKC,aAAL,GAAqB,KAAKA,aAAL,IAAsBlyB,SAA3C;AACD;;AACDJ,WAAOH,OAAP,GAAiBS,YAAjB,CA1B0C,CA4B1C;;AACAA,iBAAaA,YAAb,GAA4BA,YAA5B;AAEAA,iBAAaG,SAAb,CAAuB4xB,OAAvB,GAAiCjyB,SAAjC;AACAE,iBAAaG,SAAb,CAAuB6xB,aAAvB,GAAuClyB,SAAvC,CAhC0C,CAkC1C;AACA;;AACAE,iBAAaiyB,mBAAb,GAAmC,EAAnC,CApC0C,CAsC1C;AACA;;AACAjyB,iBAAaG,SAAb,CAAuB+xB,eAAvB,GAAyC,UAASvzB,CAAT,EAAY;AACnD,UAAI,CAACwzB,SAASxzB,CAAT,CAAD,IAAgBA,IAAI,CAApB,IAAyBulB,MAAMvlB,CAAN,CAA7B,EACE,MAAMuoB,UAAU,6BAAV,CAAN;AACF,WAAK8K,aAAL,GAAqBrzB,CAArB;AACA,aAAO,IAAP;AACD,KALD;;AAOAqB,iBAAaG,SAAb,CAAuBqB,IAAvB,GAA8B,UAASzB,IAAT,EAAe;AAC3C,UAAIqyB,EAAJ,EAAQ3wB,OAAR,EAAiBuO,GAAjB,EAAsBtO,IAAtB,EAA4BxC,CAA5B,EAA+BqC,SAA/B;AAEA,UAAI,CAAC,KAAKwwB,OAAV,EACE,KAAKA,OAAL,GAAe,EAAf,CAJyC,CAM3C;;AACA,UAAIhyB,SAAS,OAAb,EAAsB;AACpB,YAAI,CAAC,KAAKgyB,OAAL,CAAa1sB,KAAd,IACCgtB,SAAS,KAAKN,OAAL,CAAa1sB,KAAtB,KAAgC,CAAC,KAAK0sB,OAAL,CAAa1sB,KAAb,CAAmB5F,MADzD,EACkE;AAChE2yB,eAAKnxB,UAAU,CAAV,CAAL;;AACA,cAAImxB,cAAchzB,KAAlB,EAAyB;AACvB,kBAAMgzB,EAAN,CADuB,CACb;AACX;;AACD,gBAAMlL,UAAU,sCAAV,CAAN;AACD;AACF;;AAEDzlB,gBAAU,KAAKswB,OAAL,CAAahyB,IAAb,CAAV;AAEA,UAAIuyB,YAAY7wB,OAAZ,CAAJ,EACE,OAAO,KAAP;;AAEF,UAAI8wB,WAAW9wB,OAAX,CAAJ,EAAyB;AACvB,gBAAQR,UAAUxB,MAAlB;AACE;AACA,eAAK,CAAL;AACEgC,oBAAQjC,IAAR,CAAa,IAAb;AACA;;AACF,eAAK,CAAL;AACEiC,oBAAQjC,IAAR,CAAa,IAAb,EAAmByB,UAAU,CAAV,CAAnB;AACA;;AACF,eAAK,CAAL;AACEQ,oBAAQjC,IAAR,CAAa,IAAb,EAAmByB,UAAU,CAAV,CAAnB,EAAiCA,UAAU,CAAV,CAAjC;AACA;AACF;;AACA;AACE+O,kBAAM/O,UAAUxB,MAAhB;AACAiC,mBAAO,IAAIC,KAAJ,CAAUqO,MAAM,CAAhB,CAAP;;AACA,iBAAK9Q,IAAI,CAAT,EAAYA,IAAI8Q,GAAhB,EAAqB9Q,GAArB;AACEwC,mBAAKxC,IAAI,CAAT,IAAc+B,UAAU/B,CAAV,CAAd;AADF;;AAEAuC,oBAAQT,KAAR,CAAc,IAAd,EAAoBU,IAApB;AAjBJ;AAmBD,OApBD,MAoBO,IAAI2wB,SAAS5wB,OAAT,CAAJ,EAAuB;AAC5BuO,cAAM/O,UAAUxB,MAAhB;AACAiC,eAAO,IAAIC,KAAJ,CAAUqO,MAAM,CAAhB,CAAP;;AACA,aAAK9Q,IAAI,CAAT,EAAYA,IAAI8Q,GAAhB,EAAqB9Q,GAArB;AACEwC,eAAKxC,IAAI,CAAT,IAAc+B,UAAU/B,CAAV,CAAd;AADF;;AAGAqC,oBAAYE,QAAQG,KAAR,EAAZ;AACAoO,cAAMzO,UAAU9B,MAAhB;;AACA,aAAKP,IAAI,CAAT,EAAYA,IAAI8Q,GAAhB,EAAqB9Q,GAArB;AACEqC,oBAAUrC,CAAV,EAAa8B,KAAb,CAAmB,IAAnB,EAAyBU,IAAzB;AADF;AAED;;AAED,aAAO,IAAP;AACD,KAxDD;;AA0DA1B,iBAAaG,SAAb,CAAuBS,WAAvB,GAAqC,UAASb,IAAT,EAAemB,QAAf,EAAyB;AAC5D,UAAI4K,CAAJ;AAEA,UAAI,CAACymB,WAAWrxB,QAAX,CAAL,EACE,MAAMgmB,UAAU,6BAAV,CAAN;AAEF,UAAI,CAAC,KAAK6K,OAAV,EACE,KAAKA,OAAL,GAAe,EAAf,CAP0D,CAS5D;AACA;;AACA,UAAI,KAAKA,OAAL,CAAaS,WAAjB,EACE,KAAKhxB,IAAL,CAAU,aAAV,EAAyBzB,IAAzB,EACUwyB,WAAWrxB,SAASA,QAApB,IACAA,SAASA,QADT,GACoBA,QAF9B;AAIF,UAAI,CAAC,KAAK6wB,OAAL,CAAahyB,IAAb,CAAL,EACE;AACA,aAAKgyB,OAAL,CAAahyB,IAAb,IAAqBmB,QAArB,CAFF,KAGK,IAAImxB,SAAS,KAAKN,OAAL,CAAahyB,IAAb,CAAT,CAAJ,EACH;AACA,aAAKgyB,OAAL,CAAahyB,IAAb,EAAmBY,IAAnB,CAAwBO,QAAxB,EAFG,KAIH;AACA,aAAK6wB,OAAL,CAAahyB,IAAb,IAAqB,CAAC,KAAKgyB,OAAL,CAAahyB,IAAb,CAAD,EAAqBmB,QAArB,CAArB,CAxB0D,CA0B5D;;AACA,UAAImxB,SAAS,KAAKN,OAAL,CAAahyB,IAAb,CAAT,KAAgC,CAAC,KAAKgyB,OAAL,CAAahyB,IAAb,EAAmB0yB,MAAxD,EAAgE;AAC9D,YAAI3mB,CAAJ;;AACA,YAAI,CAACwmB,YAAY,KAAKN,aAAjB,CAAL,EAAsC;AACpClmB,cAAI,KAAKkmB,aAAT;AACD,SAFD,MAEO;AACLlmB,cAAI9L,aAAaiyB,mBAAjB;AACD;;AAED,YAAInmB,KAAKA,IAAI,CAAT,IAAc,KAAKimB,OAAL,CAAahyB,IAAb,EAAmBN,MAAnB,GAA4BqM,CAA9C,EAAiD;AAC/C,eAAKimB,OAAL,CAAahyB,IAAb,EAAmB0yB,MAAnB,GAA4B,IAA5B;AACA9oB,kBAAQtE,KAAR,CAAc,kDACA,qCADA,GAEA,kDAFd,EAGc,KAAK0sB,OAAL,CAAahyB,IAAb,EAAmBN,MAHjC;;AAIA,cAAI,OAAOkK,QAAQ+oB,KAAf,KAAyB,UAA7B,EAAyC;AACvC;AACA/oB,oBAAQ+oB,KAAR;AACD;AACF;AACF;;AAED,aAAO,IAAP;AACD,KAjDD;;AAmDA1yB,iBAAaG,SAAb,CAAuBI,EAAvB,GAA4BP,aAAaG,SAAb,CAAuBS,WAAnD;;AAEAZ,iBAAaG,SAAb,CAAuBU,IAAvB,GAA8B,UAASd,IAAT,EAAemB,QAAf,EAAyB;AACrD,UAAI,CAACqxB,WAAWrxB,QAAX,CAAL,EACE,MAAMgmB,UAAU,6BAAV,CAAN;AAEF,UAAIyL,QAAQ,KAAZ;;AAEA,eAASlY,CAAT,GAAa;AACX,aAAK1Z,cAAL,CAAoBhB,IAApB,EAA0B0a,CAA1B;;AAEA,YAAI,CAACkY,KAAL,EAAY;AACVA,kBAAQ,IAAR;AACAzxB,mBAASF,KAAT,CAAe,IAAf,EAAqBC,SAArB;AACD;AACF;;AAEDwZ,QAAEvZ,QAAF,GAAaA,QAAb;AACA,WAAKX,EAAL,CAAQR,IAAR,EAAc0a,CAAd;AAEA,aAAO,IAAP;AACD,KAnBD,CA9J0C,CAmL1C;;;AACAza,iBAAaG,SAAb,CAAuBY,cAAvB,GAAwC,UAAShB,IAAT,EAAemB,QAAf,EAAyB;AAC/D,UAAIC,IAAJ,EAAUyxB,QAAV,EAAoBnzB,MAApB,EAA4BP,CAA5B;AAEA,UAAI,CAACqzB,WAAWrxB,QAAX,CAAL,EACE,MAAMgmB,UAAU,6BAAV,CAAN;AAEF,UAAI,CAAC,KAAK6K,OAAN,IAAiB,CAAC,KAAKA,OAAL,CAAahyB,IAAb,CAAtB,EACE,OAAO,IAAP;AAEFoB,aAAO,KAAK4wB,OAAL,CAAahyB,IAAb,CAAP;AACAN,eAAS0B,KAAK1B,MAAd;AACAmzB,iBAAW,CAAC,CAAZ;;AAEA,UAAIzxB,SAASD,QAAT,IACCqxB,WAAWpxB,KAAKD,QAAhB,KAA6BC,KAAKD,QAAL,KAAkBA,QADpD,EAC+D;AAC7D,eAAO,KAAK6wB,OAAL,CAAahyB,IAAb,CAAP;AACA,YAAI,KAAKgyB,OAAL,CAAahxB,cAAjB,EACE,KAAKS,IAAL,CAAU,gBAAV,EAA4BzB,IAA5B,EAAkCmB,QAAlC;AAEH,OAND,MAMO,IAAImxB,SAASlxB,IAAT,CAAJ,EAAoB;AACzB,aAAKjC,IAAIO,MAAT,EAAiBP,MAAM,CAAvB,GAA2B;AACzB,cAAIiC,KAAKjC,CAAL,MAAYgC,QAAZ,IACCC,KAAKjC,CAAL,EAAQgC,QAAR,IAAoBC,KAAKjC,CAAL,EAAQgC,QAAR,KAAqBA,QAD9C,EACyD;AACvD0xB,uBAAW1zB,CAAX;AACA;AACD;AACF;;AAED,YAAI0zB,WAAW,CAAf,EACE,OAAO,IAAP;;AAEF,YAAIzxB,KAAK1B,MAAL,KAAgB,CAApB,EAAuB;AACrB0B,eAAK1B,MAAL,GAAc,CAAd;AACA,iBAAO,KAAKsyB,OAAL,CAAahyB,IAAb,CAAP;AACD,SAHD,MAGO;AACLoB,eAAKE,MAAL,CAAYuxB,QAAZ,EAAsB,CAAtB;AACD;;AAED,YAAI,KAAKb,OAAL,CAAahxB,cAAjB,EACE,KAAKS,IAAL,CAAU,gBAAV,EAA4BzB,IAA5B,EAAkCmB,QAAlC;AACH;;AAED,aAAO,IAAP;AACD,KA3CD;;AA6CAlB,iBAAaG,SAAb,CAAuBmB,kBAAvB,GAA4C,UAASvB,IAAT,EAAe;AACzD,UAAIiF,GAAJ,EAASzD,SAAT;AAEA,UAAI,CAAC,KAAKwwB,OAAV,EACE,OAAO,IAAP,CAJuD,CAMzD;;AACA,UAAI,CAAC,KAAKA,OAAL,CAAahxB,cAAlB,EAAkC;AAChC,YAAIE,UAAUxB,MAAV,KAAqB,CAAzB,EACE,KAAKsyB,OAAL,GAAe,EAAf,CADF,KAEK,IAAI,KAAKA,OAAL,CAAahyB,IAAb,CAAJ,EACH,OAAO,KAAKgyB,OAAL,CAAahyB,IAAb,CAAP;AACF,eAAO,IAAP;AACD,OAbwD,CAezD;;;AACA,UAAIkB,UAAUxB,MAAV,KAAqB,CAAzB,EAA4B;AAC1B,aAAKuF,GAAL,2CAAY,KAAK+sB,OAAjB,GAA0B;AACxB,cAAI/sB,QAAQ,gBAAZ,EAA8B;AAC9B,eAAK1D,kBAAL,CAAwB0D,GAAxB;AACD;;AACD,aAAK1D,kBAAL,CAAwB,gBAAxB;AACA,aAAKywB,OAAL,GAAe,EAAf;AACA,eAAO,IAAP;AACD;;AAEDxwB,kBAAY,KAAKwwB,OAAL,CAAahyB,IAAb,CAAZ;;AAEA,UAAIwyB,WAAWhxB,SAAX,CAAJ,EAA2B;AACzB,aAAKR,cAAL,CAAoBhB,IAApB,EAA0BwB,SAA1B;AACD,OAFD,MAEO;AACL;AACA,eAAOA,UAAU9B,MAAjB;AACE,eAAKsB,cAAL,CAAoBhB,IAApB,EAA0BwB,UAAUA,UAAU9B,MAAV,GAAmB,CAA7B,CAA1B;AADF;AAED;;AACD,aAAO,KAAKsyB,OAAL,CAAahyB,IAAb,CAAP;AAEA,aAAO,IAAP;AACD,KAtCD;;AAwCAC,iBAAaG,SAAb,CAAuBoB,SAAvB,GAAmC,UAASxB,IAAT,EAAe;AAChD,UAAI+W,GAAJ;AACA,UAAI,CAAC,KAAKib,OAAN,IAAiB,CAAC,KAAKA,OAAL,CAAahyB,IAAb,CAAtB,EACE+W,MAAM,EAAN,CADF,KAEK,IAAIyb,WAAW,KAAKR,OAAL,CAAahyB,IAAb,CAAX,CAAJ,EACH+W,MAAM,CAAC,KAAKib,OAAL,CAAahyB,IAAb,CAAD,CAAN,CADG,KAGH+W,MAAM,KAAKib,OAAL,CAAahyB,IAAb,EAAmB6B,KAAnB,EAAN;AACF,aAAOkV,GAAP;AACD,KATD;;AAWA9W,iBAAa6yB,aAAb,GAA6B,UAASC,OAAT,EAAkB/yB,IAAlB,EAAwB;AACnD,UAAI+W,GAAJ;AACA,UAAI,CAACgc,QAAQf,OAAT,IAAoB,CAACe,QAAQf,OAAR,CAAgBhyB,IAAhB,CAAzB,EACE+W,MAAM,CAAN,CADF,KAEK,IAAIyb,WAAWO,QAAQf,OAAR,CAAgBhyB,IAAhB,CAAX,CAAJ,EACH+W,MAAM,CAAN,CADG,KAGHA,MAAMgc,QAAQf,OAAR,CAAgBhyB,IAAhB,EAAsBN,MAA5B;AACF,aAAOqX,GAAP;AACD,KATD;;AAWA,aAASyb,UAAT,CAAoB9L,GAApB,EAAyB;AACvB,aAAO,OAAOA,GAAP,KAAe,UAAtB;AACD;;AAED,aAAS0L,QAAT,CAAkB1L,GAAlB,EAAuB;AACrB,aAAO,OAAOA,GAAP,KAAe,QAAtB;AACD;;AAED,aAAS4L,QAAT,CAAkB5L,GAAlB,EAAuB;AACrB,aAAO,QAAOA,GAAP,uDAAOA,GAAP,OAAe,QAAf,IAA2BA,QAAQ,IAA1C;AACD;;AAED,aAAS6L,WAAT,CAAqB7L,GAArB,EAA0B;AACxB,aAAOA,QAAQ,KAAK,CAApB;AACD;AAEA,GA/SQ,EA+SP,EA/SO,CAt2Pkb;AAqpQrb,MAAG,CAAC,UAASxnB,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1C,QAAI,OAAOW,OAAOuG,MAAd,KAAyB,UAA7B,EAAyC;AACvC;AACA/G,aAAOH,OAAP;AAAiB,iBAAS2F,QAAT,CAAkB6tB,IAAlB,EAAwBC,SAAxB,EAAmC;AAClDD,eAAKE,MAAL,GAAcD,SAAd;AACAD,eAAK5yB,SAAL,GAAiBD,OAAOuG,MAAP,CAAcusB,UAAU7yB,SAAxB,EAAmC;AAClDkmB,yBAAa;AACXvV,qBAAOiiB,IADI;AAEXG,0BAAY,KAFD;AAGXC,wBAAU,IAHC;AAIXC,4BAAc;AAJH;AADqC,WAAnC,CAAjB;AAQD;;AAVD,eAA0BluB,QAA1B;AAAA;AAWD,KAbD,MAaO;AACL;AACAxF,aAAOH,OAAP;AAAiB,iBAAS2F,QAAT,CAAkB6tB,IAAlB,EAAwBC,SAAxB,EAAmC;AAClDD,eAAKE,MAAL,GAAcD,SAAd;;AACA,cAAIK,WAAW,YAAY,CAAE,CAA7B;;AACAA,mBAASlzB,SAAT,GAAqB6yB,UAAU7yB,SAA/B;AACA4yB,eAAK5yB,SAAL,GAAiB,IAAIkzB,QAAJ,EAAjB;AACAN,eAAK5yB,SAAL,CAAekmB,WAAf,GAA6B0M,IAA7B;AACD;;AAND,eAA0B7tB,QAA1B;AAAA;AAOD;AAEA,GAzBQ,EAyBP,EAzBO,CArpQkb;AA8qQrb,MAAG,CAAC,UAASjG,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1CG,WAAOH,OAAP,GAAiBoC,MAAMtB,OAAN,IAAiB,UAAUoe,GAAV,EAAe;AAC/C,aAAOve,OAAOC,SAAP,CAAiBC,QAAjB,CAA0BZ,IAA1B,CAA+Bif,GAA/B,KAAuC,gBAA9C;AACD,KAFD;AAIC,GALQ,EAKP,EALO,CA9qQkb;AAmrQrb,MAAG,CAAC,UAASxf,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1CA,YAAQ+zB,UAAR,GAAqB,YAAY;AAAE,aAAO,IAAP;AAAa,KAAhD;;AAEA/zB,YAAQg0B,QAAR,GAAmB,YAAY;AAC3B,UAAI,OAAOhf,QAAP,KAAoB,WAAxB,EAAqC;AACjC,eAAOA,SAASgf,QAAhB;AACH,OAFD,MAGK,OAAO,EAAP;AACR,KALD;;AAOAh0B,YAAQi0B,OAAR,GAAkB,YAAY;AAAE,aAAO,EAAP;AAAW,KAA3C;;AAEAj0B,YAAQk0B,MAAR,GAAiB,YAAY;AAAE,aAAO,CAAP;AAAU,KAAzC;;AAEAl0B,YAAQm0B,OAAR,GAAkB,YAAY;AAC1B,aAAOnK,OAAOoK,SAAd;AACH,KAFD;;AAIAp0B,YAAQq0B,QAAR,GAAmB,YAAY;AAC3B,aAAOrK,OAAOoK,SAAd;AACH,KAFD;;AAIAp0B,YAAQs0B,IAAR,GAAe,YAAY;AAAE,aAAO,EAAP;AAAW,KAAxC;;AAEAt0B,YAAQQ,IAAR,GAAe,YAAY;AAAE,aAAO,SAAP;AAAkB,KAA/C;;AAEAR,YAAQu0B,OAAR,GAAkB,YAAY;AAC1B,UAAI,OAAOvT,SAAP,KAAqB,WAAzB,EAAsC;AAClC,eAAOA,UAAUwT,UAAjB;AACH;;AACD,aAAO,EAAP;AACH,KALD;;AAOAx0B,YAAQy0B,iBAAR,GACEz0B,QAAQ00B,oBAAR,GACA,YAAY;AAAE,aAAO,EAAP;AAAW,KAF3B;;AAIA10B,YAAQ20B,IAAR,GAAe,YAAY;AAAE,aAAO,YAAP;AAAqB,KAAlD;;AAEA30B,YAAQ0O,QAAR,GAAmB,YAAY;AAAE,aAAO,SAAP;AAAkB,KAAnD;;AAEA1O,YAAQ40B,MAAR,GAAiB50B,QAAQ60B,MAAR,GAAiB,YAAY;AAC1C,aAAO,MAAP;AACH,KAFD;;AAIA70B,YAAQ80B,GAAR,GAAc,IAAd;AAEC,GA/CQ,EA+CP,EA/CO,CAnrQkb;AAkuQrb,MAAG,CAAC,UAASp1B,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1C;AAEA,QAAII,UAAUD,OAAOH,OAAP,GAAiB,EAA/B;AACA,QAAI+0B,QAAQ,EAAZ;AACA,QAAIC,WAAW,KAAf;AACA,QAAIC,YAAJ;AACA,QAAIC,aAAa,CAAC,CAAlB;;AAEA,aAASC,eAAT,GAA2B;AACvBH,iBAAW,KAAX;;AACA,UAAIC,aAAa/0B,MAAjB,EAAyB;AACrB60B,gBAAQE,aAAanpB,MAAb,CAAoBipB,KAApB,CAAR;AACH,OAFD,MAEO;AACHG,qBAAa,CAAC,CAAd;AACH;;AACD,UAAIH,MAAM70B,MAAV,EAAkB;AACdk1B;AACH;AACJ;;AAED,aAASA,UAAT,GAAsB;AAClB,UAAIJ,QAAJ,EAAc;AACV;AACH;;AACD,UAAIhwB,UAAU2I,WAAWwnB,eAAX,CAAd;AACAH,iBAAW,IAAX;AAEA,UAAIvkB,MAAMskB,MAAM70B,MAAhB;;AACA,aAAMuQ,GAAN,EAAW;AACPwkB,uBAAeF,KAAf;AACAA,gBAAQ,EAAR;;AACA,eAAO,EAAEG,UAAF,GAAezkB,GAAtB,EAA2B;AACvB,cAAIwkB,YAAJ,EAAkB;AACdA,yBAAaC,UAAb,EAAyBruB,GAAzB;AACH;AACJ;;AACDquB,qBAAa,CAAC,CAAd;AACAzkB,cAAMskB,MAAM70B,MAAZ;AACH;;AACD+0B,qBAAe,IAAf;AACAD,iBAAW,KAAX;AACAnnB,mBAAa7I,OAAb;AACH;;AAED5E,YAAQye,QAAR,GAAmB,UAAUwW,GAAV,EAAe;AAC9B,UAAIlzB,OAAO,IAAIC,KAAJ,CAAUV,UAAUxB,MAAV,GAAmB,CAA7B,CAAX;;AACA,UAAIwB,UAAUxB,MAAV,GAAmB,CAAvB,EAA0B;AACtB,aAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAI+B,UAAUxB,MAA9B,EAAsCP,GAAtC,EAA2C;AACvCwC,eAAKxC,IAAI,CAAT,IAAc+B,UAAU/B,CAAV,CAAd;AACH;AACJ;;AACDo1B,YAAM3zB,IAAN,CAAW,IAAIk0B,IAAJ,CAASD,GAAT,EAAclzB,IAAd,CAAX;;AACA,UAAI4yB,MAAM70B,MAAN,KAAiB,CAAjB,IAAsB,CAAC80B,QAA3B,EAAqC;AACjCrnB,mBAAWynB,UAAX,EAAuB,CAAvB;AACH;AACJ,KAXD,CA7C0C,CA0D1C;;;AACA,aAASE,IAAT,CAAcD,GAAd,EAAmBlN,KAAnB,EAA0B;AACtB,WAAKkN,GAAL,GAAWA,GAAX;AACA,WAAKlN,KAAL,GAAaA,KAAb;AACH;;AACDmN,SAAK10B,SAAL,CAAeiG,GAAf,GAAqB,YAAY;AAC7B,WAAKwuB,GAAL,CAAS5zB,KAAT,CAAe,IAAf,EAAqB,KAAK0mB,KAA1B;AACH,KAFD;;AAGA/nB,YAAQyF,KAAR,GAAgB,SAAhB;AACAzF,YAAQ8I,OAAR,GAAkB,IAAlB;AACA9I,YAAQC,GAAR,GAAc,EAAd;AACAD,YAAQm1B,IAAR,GAAe,EAAf;AACAn1B,YAAQ8gB,OAAR,GAAkB,EAAlB,CAtE0C,CAsEpB;;AACtB9gB,YAAQo1B,QAAR,GAAmB,EAAnB;;AAEA,aAASC,IAAT,GAAgB,CAAE;;AAElBr1B,YAAQY,EAAR,GAAay0B,IAAb;AACAr1B,YAAQiB,WAAR,GAAsBo0B,IAAtB;AACAr1B,YAAQkB,IAAR,GAAem0B,IAAf;AACAr1B,YAAQs1B,GAAR,GAAcD,IAAd;AACAr1B,YAAQoB,cAAR,GAAyBi0B,IAAzB;AACAr1B,YAAQ2B,kBAAR,GAA6B0zB,IAA7B;AACAr1B,YAAQ6B,IAAR,GAAewzB,IAAf;;AAEAr1B,YAAQu1B,OAAR,GAAkB,UAAU10B,IAAV,EAAgB;AAC9B,YAAM,IAAIpB,KAAJ,CAAU,kCAAV,CAAN;AACH,KAFD;;AAIAO,YAAQ+I,GAAR,GAAc,YAAY;AAAE,aAAO,GAAP;AAAY,KAAxC;;AACA/I,YAAQw1B,KAAR,GAAgB,UAAUzS,GAAV,EAAe;AAC3B,YAAM,IAAItjB,KAAJ,CAAU,gCAAV,CAAN;AACH,KAFD;;AAGAO,YAAQy1B,KAAR,GAAgB,YAAW;AAAE,aAAO,CAAP;AAAW,KAAxC;AAEC,GA7FQ,EA6FP,EA7FO,CAluQkb;AA+zQrb,MAAG,CAAC,UAASn2B,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1CG,WAAOH,OAAP,GAAiBN,QAAQ,yBAAR,CAAjB;AAEC,GAHQ,EAGP;AAAC,+BAA0B;AAA3B,GAHO,CA/zQkb;AAk0QzZ,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACtE,KAAC,UAAUI,OAAV,EAAkB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEAD,aAAOH,OAAP,GAAiB81B,MAAjB,CA3BmB,CA6BnB;;AACA,UAAIC,aAAap1B,OAAOmd,IAAP,IAAe,UAAUzV,GAAV,EAAe;AAC7C,YAAIyV,OAAO,EAAX;;AACA,aAAK,IAAIrY,GAAT,2CAAgB4C,GAAhB;AAAqByV,eAAK1c,IAAL,CAAUqE,GAAV;AAArB;;AACA,eAAOqY,IAAP;AACD,OAJD,CA9BmB,CAmCnB,kBAnCmB,CAsCnB;;AACA,UAAIkY,OAAOt2B,QAAQ,cAAR,CAAX;;AACAs2B,WAAKrwB,QAAL,GAAgBjG,QAAQ,UAAR,CAAhB,CAxCmB,CAyCnB;;AAEA,UAAIu2B,WAAWv2B,QAAQ,oBAAR,CAAf;;AACA,UAAIkmB,WAAWlmB,QAAQ,oBAAR,CAAf;;AAEAs2B,WAAKrwB,QAAL,CAAcmwB,MAAd,EAAsBG,QAAtB;AAEAxrB,cAAQsrB,WAAWnQ,SAAShlB,SAApB,CAAR,EAAwC,UAASs1B,MAAT,EAAiB;AACvD,YAAI,CAACJ,OAAOl1B,SAAP,CAAiBs1B,MAAjB,CAAL,EACEJ,OAAOl1B,SAAP,CAAiBs1B,MAAjB,IAA2BtQ,SAAShlB,SAAT,CAAmBs1B,MAAnB,CAA3B;AACH,OAHD;;AAKA,eAASJ,MAAT,CAAgBhvB,OAAhB,EAAyB;AACvB,YAAI,EAAE,gBAAgBgvB,MAAlB,CAAJ,EACE,OAAO,IAAIA,MAAJ,CAAWhvB,OAAX,CAAP;AAEFmvB,iBAASh2B,IAAT,CAAc,IAAd,EAAoB6G,OAApB;AACA8e,iBAAS3lB,IAAT,CAAc,IAAd,EAAoB6G,OAApB;AAEA,YAAIA,WAAWA,QAAQqvB,QAAR,KAAqB,KAApC,EACE,KAAKA,QAAL,GAAgB,KAAhB;AAEF,YAAIrvB,WAAWA,QAAQ8sB,QAAR,KAAqB,KAApC,EACE,KAAKA,QAAL,GAAgB,KAAhB;AAEF,aAAKwC,aAAL,GAAqB,IAArB;AACA,YAAItvB,WAAWA,QAAQsvB,aAAR,KAA0B,KAAzC,EACE,KAAKA,aAAL,GAAqB,KAArB;AAEF,aAAK90B,IAAL,CAAU,KAAV,EAAiB+0B,KAAjB;AACD,OAvEkB,CAyEnB;;;AACA,eAASA,KAAT,GAAiB;AACf;AACA;AACA,YAAI,KAAKD,aAAL,IAAsB,KAAKE,cAAL,CAAoBC,KAA9C,EACE,OAJa,CAMf;AACA;;AACAn2B,gBAAQye,QAAR,CAAiB,KAAKvO,GAAL,CAASwI,IAAT,CAAc,IAAd,CAAjB;AACD;;AAED,eAASrO,OAAT,CAAkB+rB,EAAlB,EAAsB52B,CAAtB,EAAyB;AACvB,aAAK,IAAID,IAAI,CAAR,EAAWI,IAAIy2B,GAAGt2B,MAAvB,EAA+BP,IAAII,CAAnC,EAAsCJ,GAAtC,EAA2C;AACzCC,YAAE42B,GAAG72B,CAAH,CAAF,EAASA,CAAT;AACD;AACF;AAEA,KA3FD,EA2FGM,IA3FH,CA2FQ,IA3FR,EA2FaP,QAAQ,UAAR,CA3Fb;AA4FC,GA7FoC,EA6FnC;AAAC,0BAAqB,EAAtB;AAAyB,0BAAqB,EAA9C;AAAiD,gBAAW,EAA5D;AAA+D,oBAAe,EAA9E;AAAiF,gBAAW;AAA5F,GA7FmC,CAl0QsZ;AA+5QxV,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACvI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEAG,WAAOH,OAAP,GAAiBy2B,WAAjB;;AAEA,QAAIC,YAAYh3B,QAAQ,qBAAR,CAAhB,CA5BuI,CA8BvI;;AACA,QAAIs2B,OAAOt2B,QAAQ,cAAR,CAAX;;AACAs2B,SAAKrwB,QAAL,GAAgBjG,QAAQ,UAAR,CAAhB,CAhCuI,CAiCvI;AAEAs2B,SAAKrwB,QAAL,CAAc8wB,WAAd,EAA2BC,SAA3B;;AAEA,aAASD,WAAT,CAAqB3vB,OAArB,EAA8B;AAC5B,UAAI,EAAE,gBAAgB2vB,WAAlB,CAAJ,EACE,OAAO,IAAIA,WAAJ,CAAgB3vB,OAAhB,CAAP;AAEF4vB,gBAAUz2B,IAAV,CAAe,IAAf,EAAqB6G,OAArB;AACD;;AAED2vB,gBAAY71B,SAAZ,CAAsB+1B,UAAtB,GAAmC,UAASC,KAAT,EAAgB1Q,QAAhB,EAA0BC,EAA1B,EAA8B;AAC/DA,SAAG,IAAH,EAASyQ,KAAT;AACD,KAFD;AAIC,GAhDqG,EAgDpG;AAAC,2BAAsB,EAAvB;AAA0B,oBAAe,EAAzC;AAA4C,gBAAW;AAAvD,GAhDoG,CA/5QqV;AA+8Q7X,MAAG,CAAC,UAASl3B,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAClG,KAAC,UAAUI,OAAV,EAAkB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAD,aAAOH,OAAP,GAAiBi2B,QAAjB,CAtBmB,CAwBnB;;AACA,UAAIn1B,UAAUpB,QAAQ,SAAR,CAAd,CAzBmB,CA0BnB,kBA1BmB,CA6BnB;;AACA,UAAIwiB,SAASxiB,QAAQ,QAAR,EAAkBwiB,MAA/B,CA9BmB,CA+BnB;;AAEA+T,eAASY,aAAT,GAAyBA,aAAzB;;AAEA,UAAIC,KAAKp3B,QAAQ,QAAR,EAAkBe,YAA3B,CAnCmB,CAqCnB;;AACA,UAAI,CAACq2B,GAAGxD,aAAR,EAAuBwD,GAAGxD,aAAH,GAAmB,UAASC,OAAT,EAAkB/yB,IAAlB,EAAwB;AAChE,eAAO+yB,QAAQvxB,SAAR,CAAkBxB,IAAlB,EAAwBN,MAA/B;AACD,OAFsB,CAtCJ,CAyCnB;;AAEA,UAAI62B,SAASr3B,QAAQ,QAAR,CAAb,CA3CmB,CA6CnB;;AACA,UAAIs2B,OAAOt2B,QAAQ,cAAR,CAAX;;AACAs2B,WAAKrwB,QAAL,GAAgBjG,QAAQ,UAAR,CAAhB,CA/CmB,CAgDnB;AAEA,UAAIs3B,aAAJ,CAlDmB,CAqDnB;;AACA,UAAIva,QAAQ/c,QAAQ,MAAR,CAAZ;;AACA,UAAI+c,SAASA,MAAMwa,QAAnB,EAA6B;AAC3Bxa,gBAAQA,MAAMwa,QAAN,CAAe,QAAf,CAAR;AACD,OAFD,MAEO;AACLxa,gBAAQ,YAAY,CAAE,CAAtB;AACD,OA3DkB,CA4DnB;;AAGAuZ,WAAKrwB,QAAL,CAAcswB,QAAd,EAAwBc,MAAxB;;AAEA,eAASF,aAAT,CAAuB/vB,OAAvB,EAAgC4R,MAAhC,EAAwC;AACtC,YAAIod,SAASp2B,QAAQ,kBAAR,CAAb;;AAEAoH,kBAAUA,WAAW,EAArB,CAHsC,CAKtC;AACA;;AACA,YAAIowB,MAAMpwB,QAAQqwB,aAAlB;AACA,YAAIC,aAAatwB,QAAQuwB,UAAR,GAAqB,EAArB,GAA0B,KAAK,IAAhD;AACA,aAAKF,aAAL,GAAsBD,OAAOA,QAAQ,CAAhB,GAAqBA,GAArB,GAA2BE,UAAhD,CATsC,CAWtC;;AACA,aAAKD,aAAL,GAAqB,CAAC,CAAC,KAAKA,aAA5B;AAEA,aAAKtP,MAAL,GAAc,EAAd;AACA,aAAK3nB,MAAL,GAAc,CAAd;AACA,aAAKo3B,KAAL,GAAa,IAAb;AACA,aAAKC,UAAL,GAAkB,CAAlB;AACA,aAAKC,OAAL,GAAe,IAAf;AACA,aAAKjB,KAAL,GAAa,KAAb;AACA,aAAKkB,UAAL,GAAkB,KAAlB;AACA,aAAKC,OAAL,GAAe,KAAf,CArBsC,CAuBtC;AACA;AACA;AACA;;AACA,aAAK9a,IAAL,GAAY,IAAZ,CA3BsC,CA6BtC;AACA;;AACA,aAAK+a,YAAL,GAAoB,KAApB;AACA,aAAKC,eAAL,GAAuB,KAAvB;AACA,aAAKC,iBAAL,GAAyB,KAAzB,CAjCsC,CAoCtC;AACA;;AACA,aAAKR,UAAL,GAAkB,CAAC,CAACvwB,QAAQuwB,UAA5B;AAEA,YAAI3e,kBAAkBod,MAAtB,EACE,KAAKuB,UAAL,GAAkB,KAAKA,UAAL,IAAmB,CAAC,CAACvwB,QAAQgxB,kBAA/C,CAzCoC,CA2CtC;AACA;AACA;;AACA,aAAKC,eAAL,GAAuBjxB,QAAQixB,eAAR,IAA2B,MAAlD,CA9CsC,CAgDtC;AACA;;AACA,aAAKC,MAAL,GAAc,KAAd,CAlDsC,CAoDtC;;AACA,aAAKC,UAAL,GAAkB,CAAlB,CArDsC,CAuDtC;;AACA,aAAKC,WAAL,GAAmB,KAAnB;AAEA,aAAKC,OAAL,GAAe,IAAf;AACA,aAAKjS,QAAL,GAAgB,IAAhB;;AACA,YAAIpf,QAAQof,QAAZ,EAAsB;AACpB,cAAI,CAAC8Q,aAAL,EACEA,gBAAgBt3B,QAAQ,iBAAR,EAA2Bs3B,aAA3C;AACF,eAAKmB,OAAL,GAAe,IAAInB,aAAJ,CAAkBlwB,QAAQof,QAA1B,CAAf;AACA,eAAKA,QAAL,GAAgBpf,QAAQof,QAAxB;AACD;AACF;;AAED,eAAS+P,QAAT,CAAkBnvB,OAAlB,EAA2B;AACzB,YAAIgvB,SAASp2B,QAAQ,kBAAR,CAAb;;AAEA,YAAI,EAAE,gBAAgBu2B,QAAlB,CAAJ,EACE,OAAO,IAAIA,QAAJ,CAAanvB,OAAb,CAAP;AAEF,aAAKsxB,cAAL,GAAsB,IAAIvB,aAAJ,CAAkB/vB,OAAlB,EAA2B,IAA3B,CAAtB,CANyB,CAQzB;;AACA,aAAKqvB,QAAL,GAAgB,IAAhB;AAEAY,eAAO92B,IAAP,CAAY,IAAZ;AACD,OAjJkB,CAmJnB;AACA;AACA;AACA;;;AACAg2B,eAASr1B,SAAT,CAAmBQ,IAAnB,GAA0B,UAASw1B,KAAT,EAAgB1Q,QAAhB,EAA0B;AAClD,YAAI9R,QAAQ,KAAKgkB,cAAjB;;AAEA,YAAIpC,KAAKlmB,QAAL,CAAc8mB,KAAd,KAAwB,CAACxiB,MAAMijB,UAAnC,EAA+C;AAC7CnR,qBAAWA,YAAY9R,MAAM2jB,eAA7B;;AACA,cAAI7R,aAAa9R,MAAM8R,QAAvB,EAAiC;AAC/B0Q,oBAAQ,IAAI1U,MAAJ,CAAW0U,KAAX,EAAkB1Q,QAAlB,CAAR;AACAA,uBAAW,EAAX;AACD;AACF;;AAED,eAAOmS,iBAAiB,IAAjB,EAAuBjkB,KAAvB,EAA8BwiB,KAA9B,EAAqC1Q,QAArC,EAA+C,KAA/C,CAAP;AACD,OAZD,CAvJmB,CAqKnB;;;AACA+P,eAASr1B,SAAT,CAAmBuG,OAAnB,GAA6B,UAASyvB,KAAT,EAAgB;AAC3C,YAAIxiB,QAAQ,KAAKgkB,cAAjB;AACA,eAAOC,iBAAiB,IAAjB,EAAuBjkB,KAAvB,EAA8BwiB,KAA9B,EAAqC,EAArC,EAAyC,IAAzC,CAAP;AACD,OAHD;;AAKA,eAASyB,gBAAT,CAA0B3f,MAA1B,EAAkCtE,KAAlC,EAAyCwiB,KAAzC,EAAgD1Q,QAAhD,EAA0DoS,UAA1D,EAAsE;AACpE,YAAIzF,KAAK0F,aAAankB,KAAb,EAAoBwiB,KAApB,CAAT;;AACA,YAAI/D,EAAJ,EAAQ;AACNna,iBAAOzW,IAAP,CAAY,OAAZ,EAAqB4wB,EAArB;AACD,SAFD,MAEO,IAAImD,KAAKwC,iBAAL,CAAuB5B,KAAvB,CAAJ,EAAmC;AACxCxiB,gBAAMsjB,OAAN,GAAgB,KAAhB;AACA,cAAI,CAACtjB,MAAMmiB,KAAX,EACEkC,WAAW/f,MAAX,EAAmBtE,KAAnB;AACH,SAJM,MAIA,IAAIA,MAAMijB,UAAN,IAAoBT,SAASA,MAAM12B,MAAN,GAAe,CAAhD,EAAmD;AACxD,cAAIkU,MAAMmiB,KAAN,IAAe,CAAC+B,UAApB,EAAgC;AAC9B,gBAAIp5B,IAAI,IAAIW,KAAJ,CAAU,yBAAV,CAAR;AACA6Y,mBAAOzW,IAAP,CAAY,OAAZ,EAAqB/C,CAArB;AACD,WAHD,MAGO,IAAIkV,MAAMqjB,UAAN,IAAoBa,UAAxB,EAAoC;AACzC,gBAAIp5B,IAAI,IAAIW,KAAJ,CAAU,kCAAV,CAAR;AACA6Y,mBAAOzW,IAAP,CAAY,OAAZ,EAAqB/C,CAArB;AACD,WAHM,MAGA;AACL,gBAAIkV,MAAM+jB,OAAN,IAAiB,CAACG,UAAlB,IAAgC,CAACpS,QAArC,EACE0Q,QAAQxiB,MAAM+jB,OAAN,CAAcnpB,KAAd,CAAoB4nB,KAApB,CAAR;AAEF,gBAAI,CAAC0B,UAAL,EACElkB,MAAMsjB,OAAN,GAAgB,KAAhB,CALG,CAOL;;AACA,gBAAItjB,MAAMojB,OAAN,IAAiBpjB,MAAMlU,MAAN,KAAiB,CAAlC,IAAuC,CAACkU,MAAMwI,IAAlD,EAAwD;AACtDlE,qBAAOzW,IAAP,CAAY,MAAZ,EAAoB20B,KAApB;AACAle,qBAAOwU,IAAP,CAAY,CAAZ;AACD,aAHD,MAGO;AACL;AACA9Y,oBAAMlU,MAAN,IAAgBkU,MAAMijB,UAAN,GAAmB,CAAnB,GAAuBT,MAAM12B,MAA7C;AACA,kBAAIo4B,UAAJ,EACElkB,MAAMyT,MAAN,CAAa1gB,OAAb,CAAqByvB,KAArB,EADF,KAGExiB,MAAMyT,MAAN,CAAazmB,IAAb,CAAkBw1B,KAAlB;AAEF,kBAAIxiB,MAAMujB,YAAV,EACEe,aAAahgB,MAAb;AACH;;AAEDigB,0BAAcjgB,MAAd,EAAsBtE,KAAtB;AACD;AACF,SAhCM,MAgCA,IAAI,CAACkkB,UAAL,EAAiB;AACtBlkB,gBAAMsjB,OAAN,GAAgB,KAAhB;AACD;;AAED,eAAOkB,aAAaxkB,KAAb,CAAP;AACD,OAxNkB,CA4NnB;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,eAASwkB,YAAT,CAAsBxkB,KAAtB,EAA6B;AAC3B,eAAO,CAACA,MAAMmiB,KAAP,KACCniB,MAAMujB,YAAN,IACAvjB,MAAMlU,MAAN,GAAekU,MAAM+iB,aADrB,IAEA/iB,MAAMlU,MAAN,KAAiB,CAHlB,CAAP;AAID,OAxOkB,CA0OnB;;;AACA+1B,eAASr1B,SAAT,CAAmBi4B,WAAnB,GAAiC,UAASC,GAAT,EAAc;AAC7C,YAAI,CAAC9B,aAAL,EACEA,gBAAgBt3B,QAAQ,iBAAR,EAA2Bs3B,aAA3C;AACF,aAAKoB,cAAL,CAAoBD,OAApB,GAA8B,IAAInB,aAAJ,CAAkB8B,GAAlB,CAA9B;AACA,aAAKV,cAAL,CAAoBlS,QAApB,GAA+B4S,GAA/B;AACA,eAAO,IAAP;AACD,OAND,CA3OmB,CAmPnB;;;AACA,UAAIC,UAAU,QAAd;;AACA,eAASC,qBAAT,CAA+B55B,CAA/B,EAAkC;AAChC,YAAIA,KAAK25B,OAAT,EAAkB;AAChB35B,cAAI25B,OAAJ;AACD,SAFD,MAEO;AACL;AACA35B;;AACA,eAAK,IAAI65B,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,MAAM,CAA9B;AAAiC75B,iBAAKA,KAAK65B,CAAV;AAAjC;;AACA75B;AACD;;AACD,eAAOA,CAAP;AACD;;AAED,eAAS85B,aAAT,CAAuB95B,CAAvB,EAA0BgV,KAA1B,EAAiC;AAC/B,YAAIA,MAAMlU,MAAN,KAAiB,CAAjB,IAAsBkU,MAAMmiB,KAAhC,EACE,OAAO,CAAP;AAEF,YAAIniB,MAAMijB,UAAV,EACE,OAAOj4B,MAAM,CAAN,GAAU,CAAV,GAAc,CAArB;;AAEF,YAAIulB,MAAMvlB,CAAN,KAAY42B,KAAKmD,MAAL,CAAY/5B,CAAZ,CAAhB,EAAgC;AAC9B;AACA,cAAIgV,MAAMojB,OAAN,IAAiBpjB,MAAMyT,MAAN,CAAa3nB,MAAlC,EACE,OAAOkU,MAAMyT,MAAN,CAAa,CAAb,EAAgB3nB,MAAvB,CADF,KAGE,OAAOkU,MAAMlU,MAAb;AACH;;AAED,YAAId,KAAK,CAAT,EACE,OAAO,CAAP,CAhB6B,CAkB/B;AACA;AACA;AACA;;AACA,YAAIA,IAAIgV,MAAM+iB,aAAd,EACE/iB,MAAM+iB,aAAN,GAAsB6B,sBAAsB55B,CAAtB,CAAtB,CAvB6B,CAyB/B;;AACA,YAAIA,IAAIgV,MAAMlU,MAAd,EAAsB;AACpB,cAAI,CAACkU,MAAMmiB,KAAX,EAAkB;AAChBniB,kBAAMujB,YAAN,GAAqB,IAArB;AACA,mBAAO,CAAP;AACD,WAHD,MAIE,OAAOvjB,MAAMlU,MAAb;AACH;;AAED,eAAOd,CAAP;AACD,OApSkB,CAsSnB;;;AACA62B,eAASr1B,SAAT,CAAmBssB,IAAnB,GAA0B,UAAS9tB,CAAT,EAAY;AACpCqd,cAAM,MAAN,EAAcrd,CAAd;AACA,YAAIgV,QAAQ,KAAKgkB,cAAjB;AACA,YAAIgB,QAAQh6B,CAAZ;AAEA,YAAI,CAAC42B,KAAKpD,QAAL,CAAcxzB,CAAd,CAAD,IAAqBA,IAAI,CAA7B,EACEgV,MAAMwjB,eAAN,GAAwB,KAAxB,CANkC,CAQpC;AACA;AACA;;AACA,YAAIx4B,MAAM,CAAN,IACAgV,MAAMujB,YADN,KAECvjB,MAAMlU,MAAN,IAAgBkU,MAAM+iB,aAAtB,IAAuC/iB,MAAMmiB,KAF9C,CAAJ,EAE0D;AACxD9Z,gBAAM,oBAAN,EAA4BrI,MAAMlU,MAAlC,EAA0CkU,MAAMmiB,KAAhD;AACA,cAAIniB,MAAMlU,MAAN,KAAiB,CAAjB,IAAsBkU,MAAMmiB,KAAhC,EACE8C,YAAY,IAAZ,EADF,KAGEX,aAAa,IAAb;AACF,iBAAO,IAAP;AACD;;AAEDt5B,YAAI85B,cAAc95B,CAAd,EAAiBgV,KAAjB,CAAJ,CAtBoC,CAwBpC;;AACA,YAAIhV,MAAM,CAAN,IAAWgV,MAAMmiB,KAArB,EAA4B;AAC1B,cAAIniB,MAAMlU,MAAN,KAAiB,CAArB,EACEm5B,YAAY,IAAZ;AACF,iBAAO,IAAP;AACD,SA7BmC,CA+BpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AACA,YAAIC,SAASllB,MAAMujB,YAAnB;AACAlb,cAAM,eAAN,EAAuB6c,MAAvB,EAvDoC,CAyDpC;;AACA,YAAIllB,MAAMlU,MAAN,KAAiB,CAAjB,IAAsBkU,MAAMlU,MAAN,GAAed,CAAf,GAAmBgV,MAAM+iB,aAAnD,EAAkE;AAChEmC,mBAAS,IAAT;AACA7c,gBAAM,4BAAN,EAAoC6c,MAApC;AACD,SA7DmC,CA+DpC;AACA;;;AACA,YAAIllB,MAAMmiB,KAAN,IAAeniB,MAAMsjB,OAAzB,EAAkC;AAChC4B,mBAAS,KAAT;AACA7c,gBAAM,kBAAN,EAA0B6c,MAA1B;AACD;;AAED,YAAIA,MAAJ,EAAY;AACV7c,gBAAM,SAAN;AACArI,gBAAMsjB,OAAN,GAAgB,IAAhB;AACAtjB,gBAAMwI,IAAN,GAAa,IAAb,CAHU,CAIV;;AACA,cAAIxI,MAAMlU,MAAN,KAAiB,CAArB,EACEkU,MAAMujB,YAAN,GAAqB,IAArB,CANQ,CAOV;;AACA,eAAK4B,KAAL,CAAWnlB,MAAM+iB,aAAjB;;AACA/iB,gBAAMwI,IAAN,GAAa,KAAb;AACD,SAhFmC,CAkFpC;AACA;;;AACA,YAAI0c,UAAU,CAACllB,MAAMsjB,OAArB,EACEt4B,IAAI85B,cAAcE,KAAd,EAAqBhlB,KAArB,CAAJ;AAEF,YAAImD,GAAJ;AACA,YAAInY,IAAI,CAAR,EACEmY,MAAMiiB,SAASp6B,CAAT,EAAYgV,KAAZ,CAAN,CADF,KAGEmD,MAAM,IAAN;;AAEF,YAAIye,KAAKmD,MAAL,CAAY5hB,GAAZ,CAAJ,EAAsB;AACpBnD,gBAAMujB,YAAN,GAAqB,IAArB;AACAv4B,cAAI,CAAJ;AACD;;AAEDgV,cAAMlU,MAAN,IAAgBd,CAAhB,CAlGoC,CAoGpC;AACA;;AACA,YAAIgV,MAAMlU,MAAN,KAAiB,CAAjB,IAAsB,CAACkU,MAAMmiB,KAAjC,EACEniB,MAAMujB,YAAN,GAAqB,IAArB,CAvGkC,CAyGpC;;AACA,YAAIyB,UAAUh6B,CAAV,IAAegV,MAAMmiB,KAArB,IAA8BniB,MAAMlU,MAAN,KAAiB,CAAnD,EACEm5B,YAAY,IAAZ;AAEF,YAAI,CAACrD,KAAKmD,MAAL,CAAY5hB,GAAZ,CAAL,EACE,KAAKtV,IAAL,CAAU,MAAV,EAAkBsV,GAAlB;AAEF,eAAOA,GAAP;AACD,OAjHD;;AAmHA,eAASghB,YAAT,CAAsBnkB,KAAtB,EAA6BwiB,KAA7B,EAAoC;AAClC,YAAI/D,KAAK,IAAT;;AACA,YAAI,CAACmD,KAAKhS,QAAL,CAAc4S,KAAd,CAAD,IACA,CAACZ,KAAKlmB,QAAL,CAAc8mB,KAAd,CADD,IAEA,CAACZ,KAAKwC,iBAAL,CAAuB5B,KAAvB,CAFD,IAGA,CAACxiB,MAAMijB,UAHX,EAGuB;AACrBxE,eAAK,IAAIlL,SAAJ,CAAc,iCAAd,CAAL;AACD;;AACD,eAAOkL,EAAP;AACD;;AAGD,eAAS4F,UAAT,CAAoB/f,MAApB,EAA4BtE,KAA5B,EAAmC;AACjC,YAAIA,MAAM+jB,OAAN,IAAiB,CAAC/jB,MAAMmiB,KAA5B,EAAmC;AACjC,cAAIK,QAAQxiB,MAAM+jB,OAAN,CAAc7nB,GAAd,EAAZ;;AACA,cAAIsmB,SAASA,MAAM12B,MAAnB,EAA2B;AACzBkU,kBAAMyT,MAAN,CAAazmB,IAAb,CAAkBw1B,KAAlB;AACAxiB,kBAAMlU,MAAN,IAAgBkU,MAAMijB,UAAN,GAAmB,CAAnB,GAAuBT,MAAM12B,MAA7C;AACD;AACF;;AACDkU,cAAMmiB,KAAN,GAAc,IAAd,CARiC,CAUjC;;AACAmC,qBAAahgB,MAAb;AACD,OAlbkB,CAobnB;AACA;AACA;;;AACA,eAASggB,YAAT,CAAsBhgB,MAAtB,EAA8B;AAC5B,YAAItE,QAAQsE,OAAO0f,cAAnB;AACAhkB,cAAMujB,YAAN,GAAqB,KAArB;;AACA,YAAI,CAACvjB,MAAMwjB,eAAX,EAA4B;AAC1Bnb,gBAAM,cAAN,EAAsBrI,MAAMojB,OAA5B;AACApjB,gBAAMwjB,eAAN,GAAwB,IAAxB;AACA,cAAIxjB,MAAMwI,IAAV,EACExc,QAAQye,QAAR,CAAiB,YAAW;AAC1B4a,0BAAc/gB,MAAd;AACD,WAFD,EADF,KAKE+gB,cAAc/gB,MAAd;AACH;AACF;;AAED,eAAS+gB,aAAT,CAAuB/gB,MAAvB,EAA+B;AAC7B+D,cAAM,eAAN;AACA/D,eAAOzW,IAAP,CAAY,UAAZ;AACAy3B,aAAKhhB,MAAL;AACD,OA1ckB,CA6cnB;AACA;AACA;AACA;AACA;AACA;;;AACA,eAASigB,aAAT,CAAuBjgB,MAAvB,EAA+BtE,KAA/B,EAAsC;AACpC,YAAI,CAACA,MAAM8jB,WAAX,EAAwB;AACtB9jB,gBAAM8jB,WAAN,GAAoB,IAApB;AACA93B,kBAAQye,QAAR,CAAiB,YAAW;AAC1B8a,2BAAejhB,MAAf,EAAuBtE,KAAvB;AACD,WAFD;AAGD;AACF;;AAED,eAASulB,cAAT,CAAwBjhB,MAAxB,EAAgCtE,KAAhC,EAAuC;AACrC,YAAI3D,MAAM2D,MAAMlU,MAAhB;;AACA,eAAO,CAACkU,MAAMsjB,OAAP,IAAkB,CAACtjB,MAAMojB,OAAzB,IAAoC,CAACpjB,MAAMmiB,KAA3C,IACAniB,MAAMlU,MAAN,GAAekU,MAAM+iB,aAD5B,EAC2C;AACzC1a,gBAAM,sBAAN;AACA/D,iBAAOwU,IAAP,CAAY,CAAZ;AACA,cAAIzc,QAAQ2D,MAAMlU,MAAlB,EACE;AACA,kBAFF,KAIEuQ,MAAM2D,MAAMlU,MAAZ;AACH;;AACDkU,cAAM8jB,WAAN,GAAoB,KAApB;AACD,OAzekB,CA2enB;AACA;AACA;AACA;;;AACAjC,eAASr1B,SAAT,CAAmB24B,KAAnB,GAA2B,UAASn6B,CAAT,EAAY;AACrC,aAAK6C,IAAL,CAAU,OAAV,EAAmB,IAAIpC,KAAJ,CAAU,iBAAV,CAAnB;AACD,OAFD;;AAIAo2B,eAASr1B,SAAT,CAAmBg5B,IAAnB,GAA0B,UAASC,IAAT,EAAeC,QAAf,EAAyB;AACjD,YAAI3J,MAAM,IAAV;AACA,YAAI/b,QAAQ,KAAKgkB,cAAjB;;AAEA,gBAAQhkB,MAAMmjB,UAAd;AACE,eAAK,CAAL;AACEnjB,kBAAMkjB,KAAN,GAAcuC,IAAd;AACA;;AACF,eAAK,CAAL;AACEzlB,kBAAMkjB,KAAN,GAAc,CAACljB,MAAMkjB,KAAP,EAAcuC,IAAd,CAAd;AACA;;AACF;AACEzlB,kBAAMkjB,KAAN,CAAYl2B,IAAZ,CAAiBy4B,IAAjB;AACA;AATJ;;AAWAzlB,cAAMmjB,UAAN,IAAoB,CAApB;AACA9a,cAAM,uBAAN,EAA+BrI,MAAMmjB,UAArC,EAAiDuC,QAAjD;AAEA,YAAIC,QAAQ,CAAC,CAACD,QAAD,IAAaA,SAASxpB,GAAT,KAAiB,KAA/B,KACAupB,SAASz5B,QAAQyO,MADjB,IAEAgrB,SAASz5B,QAAQ45B,MAF7B;AAIA,YAAIC,QAAQF,QAAQ1D,KAAR,GAAgB6D,OAA5B;AACA,YAAI9lB,MAAMqjB,UAAV,EACEr3B,QAAQye,QAAR,CAAiBob,KAAjB,EADF,KAGE9J,IAAI7uB,IAAJ,CAAS,KAAT,EAAgB24B,KAAhB;AAEFJ,aAAK74B,EAAL,CAAQ,QAAR,EAAkBm5B,QAAlB;;AACA,iBAASA,QAAT,CAAkBhE,QAAlB,EAA4B;AAC1B1Z,gBAAM,UAAN;;AACA,cAAI0Z,aAAahG,GAAjB,EAAsB;AACpB+J;AACD;AACF;;AAED,iBAAS7D,KAAT,GAAiB;AACf5Z,gBAAM,OAAN;AACAod,eAAKvpB,GAAL;AACD,SAvCgD,CAyCjD;AACA;AACA;AACA;;;AACA,YAAI8pB,UAAUC,YAAYlK,GAAZ,CAAd;AACA0J,aAAK74B,EAAL,CAAQ,OAAR,EAAiBo5B,OAAjB;;AAEA,iBAASF,OAAT,GAAmB;AACjBzd,gBAAM,SAAN,EADiB,CAEjB;;AACAod,eAAKr4B,cAAL,CAAoB,OAApB,EAA6B84B,OAA7B;AACAT,eAAKr4B,cAAL,CAAoB,QAApB,EAA8B+4B,QAA9B;AACAV,eAAKr4B,cAAL,CAAoB,OAApB,EAA6B44B,OAA7B;AACAP,eAAKr4B,cAAL,CAAoB,OAApB,EAA6Bg5B,OAA7B;AACAX,eAAKr4B,cAAL,CAAoB,QAApB,EAA8B24B,QAA9B;AACAhK,cAAI3uB,cAAJ,CAAmB,KAAnB,EAA0B60B,KAA1B;AACAlG,cAAI3uB,cAAJ,CAAmB,KAAnB,EAA0B04B,OAA1B;AACA/J,cAAI3uB,cAAJ,CAAmB,MAAnB,EAA2Bi5B,MAA3B,EAViB,CAYjB;AACA;AACA;AACA;AACA;;AACA,cAAIrmB,MAAM6jB,UAAN,KACC,CAAC4B,KAAKvD,cAAN,IAAwBuD,KAAKvD,cAAL,CAAoBoE,SAD7C,CAAJ,EAEEN;AACH;;AAEDjK,YAAInvB,EAAJ,CAAO,MAAP,EAAey5B,MAAf;;AACA,iBAASA,MAAT,CAAgB7D,KAAhB,EAAuB;AACrBna,gBAAM,QAAN;AACA,cAAIlF,MAAMsiB,KAAK7qB,KAAL,CAAW4nB,KAAX,CAAV;;AACA,cAAI,UAAUrf,GAAd,EAAmB;AACjBkF,kBAAM,6BAAN,EACM0T,IAAIiI,cAAJ,CAAmBH,UADzB;AAEA9H,gBAAIiI,cAAJ,CAAmBH,UAAnB;AACA9H,gBAAIwK,KAAJ;AACD;AACF,SAhFgD,CAkFjD;AACA;;;AACA,iBAASH,OAAT,CAAiB3H,EAAjB,EAAqB;AACnBpW,gBAAM,SAAN,EAAiBoW,EAAjB;AACA+H;AACAf,eAAKr4B,cAAL,CAAoB,OAApB,EAA6Bg5B,OAA7B;AACA,cAAI1D,GAAGxD,aAAH,CAAiBuG,IAAjB,EAAuB,OAAvB,MAAoC,CAAxC,EACEA,KAAK53B,IAAL,CAAU,OAAV,EAAmB4wB,EAAnB;AACH,SA1FgD,CA2FjD;AACA;;;AACA,YAAI,CAACgH,KAAKrH,OAAN,IAAiB,CAACqH,KAAKrH,OAAL,CAAa1sB,KAAnC,EACE+zB,KAAK74B,EAAL,CAAQ,OAAR,EAAiBw5B,OAAjB,EADF,KAEK,IAAI15B,QAAQ+4B,KAAKrH,OAAL,CAAa1sB,KAArB,CAAJ,EACH+zB,KAAKrH,OAAL,CAAa1sB,KAAb,CAAmBqB,OAAnB,CAA2BqzB,OAA3B,EADG,KAGHX,KAAKrH,OAAL,CAAa1sB,KAAb,GAAqB,CAAC00B,OAAD,EAAUX,KAAKrH,OAAL,CAAa1sB,KAAvB,CAArB,CAlG+C,CAsGjD;;AACA,iBAASw0B,OAAT,GAAmB;AACjBT,eAAKr4B,cAAL,CAAoB,QAApB,EAA8B+4B,QAA9B;AACAK;AACD;;AACDf,aAAKv4B,IAAL,CAAU,OAAV,EAAmBg5B,OAAnB;;AACA,iBAASC,QAAT,GAAoB;AAClB9d,gBAAM,UAAN;AACAod,eAAKr4B,cAAL,CAAoB,OAApB,EAA6B84B,OAA7B;AACAM;AACD;;AACDf,aAAKv4B,IAAL,CAAU,QAAV,EAAoBi5B,QAApB;;AAEA,iBAASK,MAAT,GAAkB;AAChBne,gBAAM,QAAN;AACA0T,cAAIyK,MAAJ,CAAWf,IAAX;AACD,SAtHgD,CAwHjD;;;AACAA,aAAK53B,IAAL,CAAU,MAAV,EAAkBkuB,GAAlB,EAzHiD,CA2HjD;;AACA,YAAI,CAAC/b,MAAMojB,OAAX,EAAoB;AAClB/a,gBAAM,aAAN;AACA0T,cAAI0K,MAAJ;AACD;;AAED,eAAOhB,IAAP;AACD,OAlID;;AAoIA,eAASQ,WAAT,CAAqBlK,GAArB,EAA0B;AACxB,eAAO,YAAW;AAChB,cAAI/b,QAAQ+b,IAAIiI,cAAhB;AACA3b,gBAAM,aAAN,EAAqBrI,MAAM6jB,UAA3B;AACA,cAAI7jB,MAAM6jB,UAAV,EACE7jB,MAAM6jB,UAAN;;AACF,cAAI7jB,MAAM6jB,UAAN,KAAqB,CAArB,IAA0BnB,GAAGxD,aAAH,CAAiBnD,GAAjB,EAAsB,MAAtB,CAA9B,EAA6D;AAC3D/b,kBAAMojB,OAAN,GAAgB,IAAhB;AACAkC,iBAAKvJ,GAAL;AACD;AACF,SATD;AAUD;;AAGD8F,eAASr1B,SAAT,CAAmBg6B,MAAnB,GAA4B,UAASf,IAAT,EAAe;AACzC,YAAIzlB,QAAQ,KAAKgkB,cAAjB,CADyC,CAGzC;;AACA,YAAIhkB,MAAMmjB,UAAN,KAAqB,CAAzB,EACE,OAAO,IAAP,CALuC,CAOzC;;AACA,YAAInjB,MAAMmjB,UAAN,KAAqB,CAAzB,EAA4B;AAC1B;AACA,cAAIsC,QAAQA,SAASzlB,MAAMkjB,KAA3B,EACE,OAAO,IAAP;AAEF,cAAI,CAACuC,IAAL,EACEA,OAAOzlB,MAAMkjB,KAAb,CANwB,CAQ1B;;AACAljB,gBAAMkjB,KAAN,GAAc,IAAd;AACAljB,gBAAMmjB,UAAN,GAAmB,CAAnB;AACAnjB,gBAAMojB,OAAN,GAAgB,KAAhB;AACA,cAAIqC,IAAJ,EACEA,KAAK53B,IAAL,CAAU,QAAV,EAAoB,IAApB;AACF,iBAAO,IAAP;AACD,SAvBwC,CAyBzC;;;AAEA,YAAI,CAAC43B,IAAL,EAAW;AACT;AACA,cAAIiB,QAAQ1mB,MAAMkjB,KAAlB;AACA,cAAI7mB,MAAM2D,MAAMmjB,UAAhB;AACAnjB,gBAAMkjB,KAAN,GAAc,IAAd;AACAljB,gBAAMmjB,UAAN,GAAmB,CAAnB;AACAnjB,gBAAMojB,OAAN,GAAgB,KAAhB;;AAEA,eAAK,IAAI73B,IAAI,CAAb,EAAgBA,IAAI8Q,GAApB,EAAyB9Q,GAAzB;AACEm7B,kBAAMn7B,CAAN,EAASsC,IAAT,CAAc,QAAd,EAAwB,IAAxB;AADF;;AAEA,iBAAO,IAAP;AACD,SAtCwC,CAwCzC;;;AACA,YAAItC,IAAIwK,QAAQiK,MAAMkjB,KAAd,EAAqBuC,IAArB,CAAR;AACA,YAAIl6B,MAAM,CAAC,CAAX,EACE,OAAO,IAAP;AAEFyU,cAAMkjB,KAAN,CAAYx1B,MAAZ,CAAmBnC,CAAnB,EAAsB,CAAtB;AACAyU,cAAMmjB,UAAN,IAAoB,CAApB;AACA,YAAInjB,MAAMmjB,UAAN,KAAqB,CAAzB,EACEnjB,MAAMkjB,KAAN,GAAcljB,MAAMkjB,KAAN,CAAY,CAAZ,CAAd;AAEFuC,aAAK53B,IAAL,CAAU,QAAV,EAAoB,IAApB;AAEA,eAAO,IAAP;AACD,OArDD,CAroBmB,CA4rBnB;AACA;;;AACAg0B,eAASr1B,SAAT,CAAmBI,EAAnB,GAAwB,UAAS+5B,EAAT,EAAa75B,EAAb,EAAiB;AACvC,YAAIoX,MAAMye,OAAOn2B,SAAP,CAAiBI,EAAjB,CAAoBf,IAApB,CAAyB,IAAzB,EAA+B86B,EAA/B,EAAmC75B,EAAnC,CAAV,CADuC,CAGvC;AACA;;AACA,YAAI65B,OAAO,MAAP,IAAiB,UAAU,KAAK3C,cAAL,CAAoBZ,OAAnD,EAA4D;AAC1D,eAAKqD,MAAL;AACD;;AAED,YAAIE,OAAO,UAAP,IAAqB,KAAK5E,QAA9B,EAAwC;AACtC,cAAI/hB,QAAQ,KAAKgkB,cAAjB;;AACA,cAAI,CAAChkB,MAAMyjB,iBAAX,EAA8B;AAC5BzjB,kBAAMyjB,iBAAN,GAA0B,IAA1B;AACAzjB,kBAAMwjB,eAAN,GAAwB,KAAxB;AACAxjB,kBAAMujB,YAAN,GAAqB,IAArB;;AACA,gBAAI,CAACvjB,MAAMsjB,OAAX,EAAoB;AAClB,kBAAIn2B,OAAO,IAAX;AACAnB,sBAAQye,QAAR,CAAiB,YAAW;AAC1BpC,sBAAM,0BAAN;AACAlb,qBAAK2rB,IAAL,CAAU,CAAV;AACD,eAHD;AAID,aAND,MAMO,IAAI9Y,MAAMlU,MAAV,EAAkB;AACvBw4B,2BAAa,IAAb,EAAmBtkB,KAAnB;AACD;AACF;AACF;;AAED,eAAOkE,GAAP;AACD,OA5BD;;AA6BA2d,eAASr1B,SAAT,CAAmBS,WAAnB,GAAiC40B,SAASr1B,SAAT,CAAmBI,EAApD,CA3tBmB,CA6tBnB;AACA;;AACAi1B,eAASr1B,SAAT,CAAmBi6B,MAAnB,GAA4B,YAAW;AACrC,YAAIzmB,QAAQ,KAAKgkB,cAAjB;;AACA,YAAI,CAAChkB,MAAMojB,OAAX,EAAoB;AAClB/a,gBAAM,QAAN;AACArI,gBAAMojB,OAAN,GAAgB,IAAhB;;AACA,cAAI,CAACpjB,MAAMsjB,OAAX,EAAoB;AAClBjb,kBAAM,eAAN;AACA,iBAAKyQ,IAAL,CAAU,CAAV;AACD;;AACD2N,iBAAO,IAAP,EAAazmB,KAAb;AACD;;AACD,eAAO,IAAP;AACD,OAZD;;AAcA,eAASymB,MAAT,CAAgBniB,MAAhB,EAAwBtE,KAAxB,EAA+B;AAC7B,YAAI,CAACA,MAAM4mB,eAAX,EAA4B;AAC1B5mB,gBAAM4mB,eAAN,GAAwB,IAAxB;AACA56B,kBAAQye,QAAR,CAAiB,YAAW;AAC1Boc,oBAAQviB,MAAR,EAAgBtE,KAAhB;AACD,WAFD;AAGD;AACF;;AAED,eAAS6mB,OAAT,CAAiBviB,MAAjB,EAAyBtE,KAAzB,EAAgC;AAC9BA,cAAM4mB,eAAN,GAAwB,KAAxB;AACAtiB,eAAOzW,IAAP,CAAY,QAAZ;AACAy3B,aAAKhhB,MAAL;AACA,YAAItE,MAAMojB,OAAN,IAAiB,CAACpjB,MAAMsjB,OAA5B,EACEhf,OAAOwU,IAAP,CAAY,CAAZ;AACH;;AAED+I,eAASr1B,SAAT,CAAmB+5B,KAAnB,GAA2B,YAAW;AACpCle,cAAM,uBAAN,EAA+B,KAAK2b,cAAL,CAAoBZ,OAAnD;;AACA,YAAI,UAAU,KAAKY,cAAL,CAAoBZ,OAAlC,EAA2C;AACzC/a,gBAAM,OAAN;AACA,eAAK2b,cAAL,CAAoBZ,OAApB,GAA8B,KAA9B;AACA,eAAKv1B,IAAL,CAAU,OAAV;AACD;;AACD,eAAO,IAAP;AACD,OARD;;AAUA,eAASy3B,IAAT,CAAchhB,MAAd,EAAsB;AACpB,YAAItE,QAAQsE,OAAO0f,cAAnB;AACA3b,cAAM,MAAN,EAAcrI,MAAMojB,OAApB;;AACA,YAAIpjB,MAAMojB,OAAV,EAAmB;AACjB,aAAG;AACD,gBAAIZ,QAAQle,OAAOwU,IAAP,EAAZ;AACD,WAFD,QAES,SAAS0J,KAAT,IAAkBxiB,MAAMojB,OAFjC;AAGD;AACF,OAhxBkB,CAkxBnB;AACA;AACA;;;AACAvB,eAASr1B,SAAT,CAAmBs6B,IAAnB,GAA0B,UAASxiB,MAAT,EAAiB;AACzC,YAAItE,QAAQ,KAAKgkB,cAAjB;AACA,YAAI+C,SAAS,KAAb;AAEA,YAAI55B,OAAO,IAAX;AACAmX,eAAO1X,EAAP,CAAU,KAAV,EAAiB,YAAW;AAC1Byb,gBAAM,aAAN;;AACA,cAAIrI,MAAM+jB,OAAN,IAAiB,CAAC/jB,MAAMmiB,KAA5B,EAAmC;AACjC,gBAAIK,QAAQxiB,MAAM+jB,OAAN,CAAc7nB,GAAd,EAAZ;AACA,gBAAIsmB,SAASA,MAAM12B,MAAnB,EACEqB,KAAKH,IAAL,CAAUw1B,KAAV;AACH;;AAEDr1B,eAAKH,IAAL,CAAU,IAAV;AACD,SATD;AAWAsX,eAAO1X,EAAP,CAAU,MAAV,EAAkB,UAAS41B,KAAT,EAAgB;AAChCna,gBAAM,cAAN;AACA,cAAIrI,MAAM+jB,OAAV,EACEvB,QAAQxiB,MAAM+jB,OAAN,CAAcnpB,KAAd,CAAoB4nB,KAApB,CAAR;AACF,cAAI,CAACA,KAAD,IAAU,CAACxiB,MAAMijB,UAAP,IAAqB,CAACT,MAAM12B,MAA1C,EACE;AAEF,cAAIqX,MAAMhW,KAAKH,IAAL,CAAUw1B,KAAV,CAAV;;AACA,cAAI,CAACrf,GAAL,EAAU;AACR4jB,qBAAS,IAAT;AACAziB,mBAAOiiB,KAAP;AACD;AACF,SAZD,EAhByC,CA8BzC;AACA;;AACA,aAAK,IAAIh7B,CAAT,2CAAc+Y,MAAd,GAAsB;AACpB,cAAIsd,KAAKhD,UAAL,CAAgBta,OAAO/Y,CAAP,CAAhB,KAA8Bq2B,KAAKjD,WAAL,CAAiB,KAAKpzB,CAAL,CAAjB,CAAlC,EAA6D;AAC3D,iBAAKA,CAAL,IAAU,UAASu2B,MAAT,EAAiB;AAAE,qBAAO,YAAW;AAC7C,uBAAOxd,OAAOwd,MAAP,EAAez0B,KAAf,CAAqBiX,MAArB,EAA6BhX,SAA7B,CAAP;AACD,eAF4B;AAE3B,aAFQ,CAEP/B,CAFO,CAAV;AAGD;AACF,SAtCwC,CAwCzC;;;AACA,YAAIy7B,SAAS,CAAC,OAAD,EAAU,OAAV,EAAmB,SAAnB,EAA8B,OAA9B,EAAuC,QAAvC,CAAb;AACA3wB,gBAAQ2wB,MAAR,EAAgB,UAASL,EAAT,EAAa;AAC3BriB,iBAAO1X,EAAP,CAAU+5B,EAAV,EAAcx5B,KAAKU,IAAL,CAAU6W,IAAV,CAAevX,IAAf,EAAqBw5B,EAArB,CAAd;AACD,SAFD,EA1CyC,CA8CzC;AACA;;AACAx5B,aAAKg4B,KAAL,GAAa,UAASn6B,CAAT,EAAY;AACvBqd,gBAAM,eAAN,EAAuBrd,CAAvB;;AACA,cAAI+7B,MAAJ,EAAY;AACVA,qBAAS,KAAT;AACAziB,mBAAOmiB,MAAP;AACD;AACF,SAND;;AAQA,eAAOt5B,IAAP;AACD,OAzDD,CArxBmB,CAk1BnB;;;AACA00B,eAASoF,SAAT,GAAqB7B,QAArB,CAn1BmB,CAq1BnB;AACA;;AACA,eAASA,QAAT,CAAkBp6B,CAAlB,EAAqBgV,KAArB,EAA4B;AAC1B,YAAIxS,OAAOwS,MAAMyT,MAAjB;AACA,YAAI3nB,SAASkU,MAAMlU,MAAnB;AACA,YAAIo7B,aAAa,CAAC,CAAClnB,MAAM+jB,OAAzB;AACA,YAAId,aAAa,CAAC,CAACjjB,MAAMijB,UAAzB;AACA,YAAI9f,GAAJ,CAL0B,CAO1B;;AACA,YAAI3V,KAAK1B,MAAL,KAAgB,CAApB,EACE,OAAO,IAAP;AAEF,YAAIA,WAAW,CAAf,EACEqX,MAAM,IAAN,CADF,KAEK,IAAI8f,UAAJ,EACH9f,MAAM3V,KAAKwF,KAAL,EAAN,CADG,KAEA,IAAI,CAAChI,CAAD,IAAMA,KAAKc,MAAf,EAAuB;AAC1B;AACA,cAAIo7B,UAAJ,EACE/jB,MAAM3V,KAAKyH,IAAL,CAAU,EAAV,CAAN,CADF,KAGEkO,MAAM2K,OAAOpW,MAAP,CAAclK,IAAd,EAAoB1B,MAApB,CAAN;AACF0B,eAAK1B,MAAL,GAAc,CAAd;AACD,SAPI,MAOE;AACL;AACA,cAAId,IAAIwC,KAAK,CAAL,EAAQ1B,MAAhB,EAAwB;AACtB;AACA;AACA,gBAAI0Y,MAAMhX,KAAK,CAAL,CAAV;AACA2V,kBAAMqB,IAAIvW,KAAJ,CAAU,CAAV,EAAajD,CAAb,CAAN;AACAwC,iBAAK,CAAL,IAAUgX,IAAIvW,KAAJ,CAAUjD,CAAV,CAAV;AACD,WAND,MAMO,IAAIA,MAAMwC,KAAK,CAAL,EAAQ1B,MAAlB,EAA0B;AAC/B;AACAqX,kBAAM3V,KAAKwF,KAAL,EAAN;AACD,WAHM,MAGA;AACL;AACA;AACA,gBAAIk0B,UAAJ,EACE/jB,MAAM,EAAN,CADF,KAGEA,MAAM,IAAI2K,MAAJ,CAAW9iB,CAAX,CAAN;AAEF,gBAAI2wB,IAAI,CAAR;;AACA,iBAAK,IAAIpwB,IAAI,CAAR,EAAWI,IAAI6B,KAAK1B,MAAzB,EAAiCP,IAAII,CAAJ,IAASgwB,IAAI3wB,CAA9C,EAAiDO,GAAjD,EAAsD;AACpD,kBAAIiZ,MAAMhX,KAAK,CAAL,CAAV;AACA,kBAAI25B,MAAMn4B,KAAKC,GAAL,CAASjE,IAAI2wB,CAAb,EAAgBnX,IAAI1Y,MAApB,CAAV;AAEA,kBAAIo7B,UAAJ,EACE/jB,OAAOqB,IAAIvW,KAAJ,CAAU,CAAV,EAAak5B,GAAb,CAAP,CADF,KAGE3iB,IAAIsP,IAAJ,CAAS3Q,GAAT,EAAcwY,CAAd,EAAiB,CAAjB,EAAoBwL,GAApB;AAEF,kBAAIA,MAAM3iB,IAAI1Y,MAAd,EACE0B,KAAK,CAAL,IAAUgX,IAAIvW,KAAJ,CAAUk5B,GAAV,CAAV,CADF,KAGE35B,KAAKwF,KAAL;AAEF2oB,mBAAKwL,GAAL;AACD;AACF;AACF;AAED,eAAOhkB,GAAP;AACD;;AAED,eAAS8hB,WAAT,CAAqB3gB,MAArB,EAA6B;AAC3B,YAAItE,QAAQsE,OAAO0f,cAAnB,CAD2B,CAG3B;AACA;;AACA,YAAIhkB,MAAMlU,MAAN,GAAe,CAAnB,EACE,MAAM,IAAIL,KAAJ,CAAU,wCAAV,CAAN;;AAEF,YAAI,CAACuU,MAAMqjB,UAAX,EAAuB;AACrBrjB,gBAAMmiB,KAAN,GAAc,IAAd;AACAn2B,kBAAQye,QAAR,CAAiB,YAAW;AAC1B;AACA,gBAAI,CAACzK,MAAMqjB,UAAP,IAAqBrjB,MAAMlU,MAAN,KAAiB,CAA1C,EAA6C;AAC3CkU,oBAAMqjB,UAAN,GAAmB,IAAnB;AACA/e,qBAAOyd,QAAP,GAAkB,KAAlB;AACAzd,qBAAOzW,IAAP,CAAY,KAAZ;AACD;AACF,WAPD;AAQD;AACF;;AAED,eAASwI,OAAT,CAAkB+rB,EAAlB,EAAsB52B,CAAtB,EAAyB;AACvB,aAAK,IAAID,IAAI,CAAR,EAAWI,IAAIy2B,GAAGt2B,MAAvB,EAA+BP,IAAII,CAAnC,EAAsCJ,GAAtC,EAA2C;AACzCC,YAAE42B,GAAG72B,CAAH,CAAF,EAASA,CAAT;AACD;AACF;;AAED,eAASwK,OAAT,CAAkBqsB,EAAlB,EAAsBjzB,CAAtB,EAAyB;AACvB,aAAK,IAAI5D,IAAI,CAAR,EAAWI,IAAIy2B,GAAGt2B,MAAvB,EAA+BP,IAAII,CAAnC,EAAsCJ,GAAtC,EAA2C;AACzC,cAAI62B,GAAG72B,CAAH,MAAU4D,CAAd,EAAiB,OAAO5D,CAAP;AAClB;;AACD,eAAO,CAAC,CAAR;AACD;AAEA,KAz7BD,EAy7BGM,IAz7BH,CAy7BQ,IAz7BR,EAy7BaP,QAAQ,UAAR,CAz7Bb;AA07BC,GA37BgE,EA27B/D;AAAC,wBAAmB,EAApB;AAAuB,gBAAW,EAAlC;AAAqC,cAAS,EAA9C;AAAiD,oBAAe,EAAhE;AAAmE,cAAS,EAA5E;AAA+E,gBAAW,EAA1F;AAA6F,eAAU,EAAvG;AAA0G,cAAS,EAAnH;AAAsH,uBAAkB,EAAxI;AAA2I,YAAO;AAAlJ,GA37B+D,CA/8Q0X;AA04SlS,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC7L;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAG,WAAOH,OAAP,GAAiB02B,SAAjB;;AAEA,QAAIZ,SAASp2B,QAAQ,kBAAR,CAAb,CAnE6L,CAqE7L;;AACA,QAAIs2B,OAAOt2B,QAAQ,cAAR,CAAX;;AACAs2B,SAAKrwB,QAAL,GAAgBjG,QAAQ,UAAR,CAAhB,CAvE6L,CAwE7L;AAEAs2B,SAAKrwB,QAAL,CAAc+wB,SAAd,EAAyBZ,MAAzB;;AAGA,aAAS0F,cAAT,CAAwB10B,OAAxB,EAAiC4R,MAAjC,EAAyC;AACvC,WAAK+iB,cAAL,GAAsB,UAAS5I,EAAT,EAAa/a,IAAb,EAAmB;AACvC,eAAO2jB,eAAe/iB,MAAf,EAAuBma,EAAvB,EAA2B/a,IAA3B,CAAP;AACD,OAFD;;AAIA,WAAK4jB,aAAL,GAAqB,KAArB;AACA,WAAKC,YAAL,GAAoB,KAApB;AACA,WAAKC,OAAL,GAAe,IAAf;AACA,WAAKC,UAAL,GAAkB,IAAlB;AACD;;AAED,aAASJ,cAAT,CAAwB/iB,MAAxB,EAAgCma,EAAhC,EAAoC/a,IAApC,EAA0C;AACxC,UAAIgkB,KAAKpjB,OAAOqjB,eAAhB;AACAD,SAAGH,YAAH,GAAkB,KAAlB;AAEA,UAAIxV,KAAK2V,GAAGF,OAAZ;AAEA,UAAI,CAACzV,EAAL,EACE,OAAOzN,OAAOzW,IAAP,CAAY,OAAZ,EAAqB,IAAIpC,KAAJ,CAAU,+BAAV,CAArB,CAAP;AAEFi8B,SAAGD,UAAH,GAAgB,IAAhB;AACAC,SAAGF,OAAH,GAAa,IAAb;AAEA,UAAI,CAAC5F,KAAKwC,iBAAL,CAAuB1gB,IAAvB,CAAL,EACEY,OAAOtX,IAAP,CAAY0W,IAAZ;AAEF,UAAIqO,EAAJ,EACEA,GAAG0M,EAAH;AAEF,UAAImJ,KAAKtjB,OAAO0f,cAAhB;AACA4D,SAAGtE,OAAH,GAAa,KAAb;;AACA,UAAIsE,GAAGrE,YAAH,IAAmBqE,GAAG97B,MAAH,GAAY87B,GAAG7E,aAAtC,EAAqD;AACnDze,eAAO6gB,KAAP,CAAayC,GAAG7E,aAAhB;AACD;AACF;;AAGD,aAAST,SAAT,CAAmB5vB,OAAnB,EAA4B;AAC1B,UAAI,EAAE,gBAAgB4vB,SAAlB,CAAJ,EACE,OAAO,IAAIA,SAAJ,CAAc5vB,OAAd,CAAP;AAEFgvB,aAAO71B,IAAP,CAAY,IAAZ,EAAkB6G,OAAlB;AAEA,WAAKi1B,eAAL,GAAuB,IAAIP,cAAJ,CAAmB10B,OAAnB,EAA4B,IAA5B,CAAvB,CAN0B,CAQ1B;;AACA,UAAI4R,SAAS,IAAb,CAT0B,CAW1B;;AACA,WAAK0f,cAAL,CAAoBT,YAApB,GAAmC,IAAnC,CAZ0B,CAc1B;AACA;AACA;;AACA,WAAKS,cAAL,CAAoBxb,IAApB,GAA2B,KAA3B;AAEA,WAAKtb,IAAL,CAAU,WAAV,EAAuB,YAAW;AAChC,YAAI00B,KAAKhD,UAAL,CAAgB,KAAKiJ,MAArB,CAAJ,EACE,KAAKA,MAAL,CAAY,UAASpJ,EAAT,EAAa;AACvBvmB,eAAKoM,MAAL,EAAama,EAAb;AACD,SAFD,EADF,KAKEvmB,KAAKoM,MAAL;AACH,OAPD;AAQD;;AAEDge,cAAU91B,SAAV,CAAoBQ,IAApB,GAA2B,UAASw1B,KAAT,EAAgB1Q,QAAhB,EAA0B;AACnD,WAAK6V,eAAL,CAAqBL,aAArB,GAAqC,KAArC;AACA,aAAO5F,OAAOl1B,SAAP,CAAiBQ,IAAjB,CAAsBnB,IAAtB,CAA2B,IAA3B,EAAiC22B,KAAjC,EAAwC1Q,QAAxC,CAAP;AACD,KAHD,CA/I6L,CAoJ7L;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAwQ,cAAU91B,SAAV,CAAoB+1B,UAApB,GAAiC,UAASC,KAAT,EAAgB1Q,QAAhB,EAA0BC,EAA1B,EAA8B;AAC7D,YAAM,IAAItmB,KAAJ,CAAU,iBAAV,CAAN;AACD,KAFD;;AAIA62B,cAAU91B,SAAV,CAAoBolB,MAApB,GAA6B,UAAS4Q,KAAT,EAAgB1Q,QAAhB,EAA0BC,EAA1B,EAA8B;AACzD,UAAI2V,KAAK,KAAKC,eAAd;AACAD,SAAGF,OAAH,GAAazV,EAAb;AACA2V,SAAGD,UAAH,GAAgBjF,KAAhB;AACAkF,SAAGI,aAAH,GAAmBhW,QAAnB;;AACA,UAAI,CAAC4V,GAAGH,YAAR,EAAsB;AACpB,YAAIK,KAAK,KAAK5D,cAAd;AACA,YAAI0D,GAAGJ,aAAH,IACAM,GAAGrE,YADH,IAEAqE,GAAG97B,MAAH,GAAY87B,GAAG7E,aAFnB,EAGE,KAAKoC,KAAL,CAAWyC,GAAG7E,aAAd;AACH;AACF,KAZD,CAlK6L,CAgL7L;AACA;AACA;;;AACAT,cAAU91B,SAAV,CAAoB24B,KAApB,GAA4B,UAASn6B,CAAT,EAAY;AACtC,UAAI08B,KAAK,KAAKC,eAAd;;AAEA,UAAI,CAAC/F,KAAKmD,MAAL,CAAY2C,GAAGD,UAAf,CAAD,IAA+BC,GAAGF,OAAlC,IAA6C,CAACE,GAAGH,YAArD,EAAmE;AACjEG,WAAGH,YAAH,GAAkB,IAAlB;;AACA,aAAKhF,UAAL,CAAgBmF,GAAGD,UAAnB,EAA+BC,GAAGI,aAAlC,EAAiDJ,GAAGL,cAApD;AACD,OAHD,MAGO;AACL;AACA;AACAK,WAAGJ,aAAH,GAAmB,IAAnB;AACD;AACF,KAXD;;AAcA,aAASpvB,IAAT,CAAcoM,MAAd,EAAsBma,EAAtB,EAA0B;AACxB,UAAIA,EAAJ,EACE,OAAOna,OAAOzW,IAAP,CAAY,OAAZ,EAAqB4wB,EAArB,CAAP,CAFsB,CAIxB;AACA;;AACA,UAAIsJ,KAAKzjB,OAAO4d,cAAhB;AACA,UAAIwF,KAAKpjB,OAAOqjB,eAAhB;AAEA,UAAII,GAAGj8B,MAAP,EACE,MAAM,IAAIL,KAAJ,CAAU,4CAAV,CAAN;AAEF,UAAIi8B,GAAGH,YAAP,EACE,MAAM,IAAI97B,KAAJ,CAAU,gDAAV,CAAN;AAEF,aAAO6Y,OAAOtX,IAAP,CAAY,IAAZ,CAAP;AACD;AAEA,GAnN2J,EAmN1J;AAAC,wBAAmB,EAApB;AAAuB,oBAAe,EAAtC;AAAyC,gBAAW;AAApD,GAnN0J,CA14S+R;AA6lThY,MAAG,CAAC,UAAS1B,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC/F,KAAC,UAAUI,OAAV,EAAkB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEAD,aAAOH,OAAP,GAAiB4lB,QAAjB,CA1BmB,CA4BnB;;AACA,UAAI1D,SAASxiB,QAAQ,QAAR,EAAkBwiB,MAA/B,CA7BmB,CA8BnB;;AAEA0D,eAASwW,aAAT,GAAyBA,aAAzB,CAhCmB,CAmCnB;;AACA,UAAIpG,OAAOt2B,QAAQ,cAAR,CAAX;;AACAs2B,WAAKrwB,QAAL,GAAgBjG,QAAQ,UAAR,CAAhB,CArCmB,CAsCnB;;AAEA,UAAIq3B,SAASr3B,QAAQ,QAAR,CAAb;;AAEAs2B,WAAKrwB,QAAL,CAAcigB,QAAd,EAAwBmR,MAAxB;;AAEA,eAASsF,QAAT,CAAkBzF,KAAlB,EAAyB1Q,QAAzB,EAAmCC,EAAnC,EAAuC;AACrC,aAAKyQ,KAAL,GAAaA,KAAb;AACA,aAAK1Q,QAAL,GAAgBA,QAAhB;AACA,aAAK9I,QAAL,GAAgB+I,EAAhB;AACD;;AAED,eAASiW,aAAT,CAAuBt1B,OAAvB,EAAgC4R,MAAhC,EAAwC;AACtC,YAAIod,SAASp2B,QAAQ,kBAAR,CAAb;;AAEAoH,kBAAUA,WAAW,EAArB,CAHsC,CAKtC;AACA;AACA;;AACA,YAAIowB,MAAMpwB,QAAQqwB,aAAlB;AACA,YAAIC,aAAatwB,QAAQuwB,UAAR,GAAqB,EAArB,GAA0B,KAAK,IAAhD;AACA,aAAKF,aAAL,GAAsBD,OAAOA,QAAQ,CAAhB,GAAqBA,GAArB,GAA2BE,UAAhD,CAVsC,CAYtC;AACA;;AACA,aAAKC,UAAL,GAAkB,CAAC,CAACvwB,QAAQuwB,UAA5B;AAEA,YAAI3e,kBAAkBod,MAAtB,EACE,KAAKuB,UAAL,GAAkB,KAAKA,UAAL,IAAmB,CAAC,CAACvwB,QAAQw1B,kBAA/C,CAjBoC,CAmBtC;;AACA,aAAKnF,aAAL,GAAqB,CAAC,CAAC,KAAKA,aAA5B;AAEA,aAAKuD,SAAL,GAAiB,KAAjB,CAtBsC,CAuBtC;;AACA,aAAK6B,MAAL,GAAc,KAAd,CAxBsC,CAyBtC;;AACA,aAAKhG,KAAL,GAAa,KAAb,CA1BsC,CA2BtC;;AACA,aAAKjZ,QAAL,GAAgB,KAAhB,CA5BsC,CA8BtC;AACA;AACA;;AACA,YAAIkf,WAAW11B,QAAQ21B,aAAR,KAA0B,KAAzC;AACA,aAAKA,aAAL,GAAqB,CAACD,QAAtB,CAlCsC,CAoCtC;AACA;AACA;;AACA,aAAKzE,eAAL,GAAuBjxB,QAAQixB,eAAR,IAA2B,MAAlD,CAvCsC,CAyCtC;AACA;AACA;;AACA,aAAK73B,MAAL,GAAc,CAAd,CA5CsC,CA8CtC;;AACA,aAAKw8B,OAAL,GAAe,KAAf,CA/CsC,CAiDtC;;AACA,aAAKC,MAAL,GAAc,CAAd,CAlDsC,CAoDtC;AACA;AACA;AACA;;AACA,aAAK/f,IAAL,GAAY,IAAZ,CAxDsC,CA0DtC;AACA;AACA;;AACA,aAAKggB,gBAAL,GAAwB,KAAxB,CA7DsC,CA+DtC;;AACA,aAAKC,OAAL,GAAe,UAAShK,EAAT,EAAa;AAC1BgK,kBAAQnkB,MAAR,EAAgBma,EAAhB;AACD,SAFD,CAhEsC,CAoEtC;;;AACA,aAAK+I,OAAL,GAAe,IAAf,CArEsC,CAuEtC;;AACA,aAAKkB,QAAL,GAAgB,CAAhB;AAEA,aAAKjV,MAAL,GAAc,EAAd,CA1EsC,CA4EtC;AACA;;AACA,aAAKkV,SAAL,GAAiB,CAAjB,CA9EsC,CAgFtC;AACA;;AACA,aAAKC,WAAL,GAAmB,KAAnB,CAlFsC,CAoFtC;;AACA,aAAKC,YAAL,GAAoB,KAApB;AACD;;AAED,eAASrX,QAAT,CAAkB9e,OAAlB,EAA2B;AACzB,YAAIgvB,SAASp2B,QAAQ,kBAAR,CAAb,CADyB,CAGzB;AACA;;;AACA,YAAI,EAAE,gBAAgBkmB,QAAlB,KAA+B,EAAE,gBAAgBkQ,MAAlB,CAAnC,EACE,OAAO,IAAIlQ,QAAJ,CAAa9e,OAAb,CAAP;AAEF,aAAKwvB,cAAL,GAAsB,IAAI8F,aAAJ,CAAkBt1B,OAAlB,EAA2B,IAA3B,CAAtB,CARyB,CAUzB;;AACA,aAAK8sB,QAAL,GAAgB,IAAhB;AAEAmD,eAAO92B,IAAP,CAAY,IAAZ;AACD,OAxJkB,CA0JnB;;;AACA2lB,eAAShlB,SAAT,CAAmBg5B,IAAnB,GAA0B,YAAW;AACnC,aAAK33B,IAAL,CAAU,OAAV,EAAmB,IAAIpC,KAAJ,CAAU,4BAAV,CAAnB;AACD,OAFD;;AAKA,eAASq9B,aAAT,CAAuBxkB,MAAvB,EAA+BtE,KAA/B,EAAsC+R,EAAtC,EAA0C;AACxC,YAAI0M,KAAK,IAAIhzB,KAAJ,CAAU,iBAAV,CAAT,CADwC,CAExC;;AACA6Y,eAAOzW,IAAP,CAAY,OAAZ,EAAqB4wB,EAArB;AACAzyB,gBAAQye,QAAR,CAAiB,YAAW;AAC1BsH,aAAG0M,EAAH;AACD,SAFD;AAGD,OAvKkB,CAyKnB;AACA;AACA;AACA;AACA;;;AACA,eAASsK,UAAT,CAAoBzkB,MAApB,EAA4BtE,KAA5B,EAAmCwiB,KAAnC,EAA0CzQ,EAA1C,EAA8C;AAC5C,YAAIiX,QAAQ,IAAZ;;AACA,YAAI,CAACpH,KAAKhS,QAAL,CAAc4S,KAAd,CAAD,IACA,CAACZ,KAAKlmB,QAAL,CAAc8mB,KAAd,CADD,IAEA,CAACZ,KAAKwC,iBAAL,CAAuB5B,KAAvB,CAFD,IAGA,CAACxiB,MAAMijB,UAHX,EAGuB;AACrB,cAAIxE,KAAK,IAAIlL,SAAJ,CAAc,iCAAd,CAAT;AACAjP,iBAAOzW,IAAP,CAAY,OAAZ,EAAqB4wB,EAArB;AACAzyB,kBAAQye,QAAR,CAAiB,YAAW;AAC1BsH,eAAG0M,EAAH;AACD,WAFD;AAGAuK,kBAAQ,KAAR;AACD;;AACD,eAAOA,KAAP;AACD;;AAEDxX,eAAShlB,SAAT,CAAmBoO,KAAnB,GAA2B,UAAS4nB,KAAT,EAAgB1Q,QAAhB,EAA0BC,EAA1B,EAA8B;AACvD,YAAI/R,QAAQ,KAAKkiB,cAAjB;AACA,YAAI/e,MAAM,KAAV;;AAEA,YAAIye,KAAKhD,UAAL,CAAgB9M,QAAhB,CAAJ,EAA+B;AAC7BC,eAAKD,QAAL;AACAA,qBAAW,IAAX;AACD;;AAED,YAAI8P,KAAKhS,QAAL,CAAc4S,KAAd,CAAJ,EACE1Q,WAAW,QAAX,CADF,KAEK,IAAI,CAACA,QAAL,EACHA,WAAW9R,MAAM2jB,eAAjB;AAEF,YAAI,CAAC/B,KAAKhD,UAAL,CAAgB7M,EAAhB,CAAL,EACEA,KAAK,YAAW,CAAE,CAAlB;AAEF,YAAI/R,MAAMmiB,KAAV,EACE2G,cAAc,IAAd,EAAoB9oB,KAApB,EAA2B+R,EAA3B,EADF,KAEK,IAAIgX,WAAW,IAAX,EAAiB/oB,KAAjB,EAAwBwiB,KAAxB,EAA+BzQ,EAA/B,CAAJ,EAAwC;AAC3C/R,gBAAM2oB,SAAN;AACAxlB,gBAAM8lB,cAAc,IAAd,EAAoBjpB,KAApB,EAA2BwiB,KAA3B,EAAkC1Q,QAAlC,EAA4CC,EAA5C,CAAN;AACD;AAED,eAAO5O,GAAP;AACD,OAzBD;;AA2BAqO,eAAShlB,SAAT,CAAmB08B,IAAnB,GAA0B,YAAW;AACnC,YAAIlpB,QAAQ,KAAKkiB,cAAjB;AAEAliB,cAAMuoB,MAAN;AACD,OAJD;;AAMA/W,eAAShlB,SAAT,CAAmB28B,MAAnB,GAA4B,YAAW;AACrC,YAAInpB,QAAQ,KAAKkiB,cAAjB;;AAEA,YAAIliB,MAAMuoB,MAAV,EAAkB;AAChBvoB,gBAAMuoB,MAAN;AAEA,cAAI,CAACvoB,MAAMsoB,OAAP,IACA,CAACtoB,MAAMuoB,MADP,IAEA,CAACvoB,MAAMkJ,QAFP,IAGA,CAAClJ,MAAMwoB,gBAHP,IAIAxoB,MAAMyT,MAAN,CAAa3nB,MAJjB,EAKEs9B,YAAY,IAAZ,EAAkBppB,KAAlB;AACH;AACF,OAbD;;AAeA,eAASqpB,WAAT,CAAqBrpB,KAArB,EAA4BwiB,KAA5B,EAAmC1Q,QAAnC,EAA6C;AAC3C,YAAI,CAAC9R,MAAMijB,UAAP,IACAjjB,MAAMqoB,aAAN,KAAwB,KADxB,IAEAzG,KAAKlmB,QAAL,CAAc8mB,KAAd,CAFJ,EAE0B;AACxBA,kBAAQ,IAAI1U,MAAJ,CAAW0U,KAAX,EAAkB1Q,QAAlB,CAAR;AACD;;AACD,eAAO0Q,KAAP;AACD,OArPkB,CAuPnB;AACA;AACA;;;AACA,eAASyG,aAAT,CAAuB3kB,MAAvB,EAA+BtE,KAA/B,EAAsCwiB,KAAtC,EAA6C1Q,QAA7C,EAAuDC,EAAvD,EAA2D;AACzDyQ,gBAAQ6G,YAAYrpB,KAAZ,EAAmBwiB,KAAnB,EAA0B1Q,QAA1B,CAAR;AACA,YAAI8P,KAAKhS,QAAL,CAAc4S,KAAd,CAAJ,EACE1Q,WAAW,QAAX;AACF,YAAIzV,MAAM2D,MAAMijB,UAAN,GAAmB,CAAnB,GAAuBT,MAAM12B,MAAvC;AAEAkU,cAAMlU,MAAN,IAAgBuQ,GAAhB;AAEA,YAAI8G,MAAMnD,MAAMlU,MAAN,GAAekU,MAAM+iB,aAA/B,CARyD,CASzD;;AACA,YAAI,CAAC5f,GAAL,EACEnD,MAAMsmB,SAAN,GAAkB,IAAlB;AAEF,YAAItmB,MAAMsoB,OAAN,IAAiBtoB,MAAMuoB,MAA3B,EACEvoB,MAAMyT,MAAN,CAAazmB,IAAb,CAAkB,IAAIi7B,QAAJ,CAAazF,KAAb,EAAoB1Q,QAApB,EAA8BC,EAA9B,CAAlB,EADF,KAGEuX,QAAQhlB,MAAR,EAAgBtE,KAAhB,EAAuB,KAAvB,EAA8B3D,GAA9B,EAAmCmmB,KAAnC,EAA0C1Q,QAA1C,EAAoDC,EAApD;AAEF,eAAO5O,GAAP;AACD;;AAED,eAASmmB,OAAT,CAAiBhlB,MAAjB,EAAyBtE,KAAzB,EAAgCupB,MAAhC,EAAwCltB,GAAxC,EAA6CmmB,KAA7C,EAAoD1Q,QAApD,EAA8DC,EAA9D,EAAkE;AAChE/R,cAAM0oB,QAAN,GAAiBrsB,GAAjB;AACA2D,cAAMwnB,OAAN,GAAgBzV,EAAhB;AACA/R,cAAMsoB,OAAN,GAAgB,IAAhB;AACAtoB,cAAMwI,IAAN,GAAa,IAAb;AACA,YAAI+gB,MAAJ,EACEjlB,OAAOklB,OAAP,CAAehH,KAAf,EAAsBxiB,MAAMyoB,OAA5B,EADF,KAGEnkB,OAAOsN,MAAP,CAAc4Q,KAAd,EAAqB1Q,QAArB,EAA+B9R,MAAMyoB,OAArC;AACFzoB,cAAMwI,IAAN,GAAa,KAAb;AACD;;AAED,eAASihB,YAAT,CAAsBnlB,MAAtB,EAA8BtE,KAA9B,EAAqCwI,IAArC,EAA2CiW,EAA3C,EAA+C1M,EAA/C,EAAmD;AACjD,YAAIvJ,IAAJ,EACExc,QAAQye,QAAR,CAAiB,YAAW;AAC1BzK,gBAAM2oB,SAAN;AACA5W,aAAG0M,EAAH;AACD,SAHD,EADF,KAKK;AACHze,gBAAM2oB,SAAN;AACA5W,aAAG0M,EAAH;AACD;AAEDna,eAAO4d,cAAP,CAAsB2G,YAAtB,GAAqC,IAArC;AACAvkB,eAAOzW,IAAP,CAAY,OAAZ,EAAqB4wB,EAArB;AACD;;AAED,eAASiL,kBAAT,CAA4B1pB,KAA5B,EAAmC;AACjCA,cAAMsoB,OAAN,GAAgB,KAAhB;AACAtoB,cAAMwnB,OAAN,GAAgB,IAAhB;AACAxnB,cAAMlU,MAAN,IAAgBkU,MAAM0oB,QAAtB;AACA1oB,cAAM0oB,QAAN,GAAiB,CAAjB;AACD;;AAED,eAASD,OAAT,CAAiBnkB,MAAjB,EAAyBma,EAAzB,EAA6B;AAC3B,YAAIze,QAAQsE,OAAO4d,cAAnB;AACA,YAAI1Z,OAAOxI,MAAMwI,IAAjB;AACA,YAAIuJ,KAAK/R,MAAMwnB,OAAf;AAEAkC,2BAAmB1pB,KAAnB;AAEA,YAAIye,EAAJ,EACEgL,aAAanlB,MAAb,EAAqBtE,KAArB,EAA4BwI,IAA5B,EAAkCiW,EAAlC,EAAsC1M,EAAtC,EADF,KAEK;AACH;AACA,cAAI7I,WAAWygB,WAAWrlB,MAAX,EAAmBtE,KAAnB,CAAf;;AAEA,cAAI,CAACkJ,QAAD,IACA,CAAClJ,MAAMuoB,MADP,IAEA,CAACvoB,MAAMwoB,gBAFP,IAGAxoB,MAAMyT,MAAN,CAAa3nB,MAHjB,EAGyB;AACvBs9B,wBAAY9kB,MAAZ,EAAoBtE,KAApB;AACD;;AAED,cAAIwI,IAAJ,EAAU;AACRxc,oBAAQye,QAAR,CAAiB,YAAW;AAC1Bmf,yBAAWtlB,MAAX,EAAmBtE,KAAnB,EAA0BkJ,QAA1B,EAAoC6I,EAApC;AACD,aAFD;AAGD,WAJD,MAIO;AACL6X,uBAAWtlB,MAAX,EAAmBtE,KAAnB,EAA0BkJ,QAA1B,EAAoC6I,EAApC;AACD;AACF;AACF;;AAED,eAAS6X,UAAT,CAAoBtlB,MAApB,EAA4BtE,KAA5B,EAAmCkJ,QAAnC,EAA6C6I,EAA7C,EAAiD;AAC/C,YAAI,CAAC7I,QAAL,EACE2gB,aAAavlB,MAAb,EAAqBtE,KAArB;AACFA,cAAM2oB,SAAN;AACA5W;AACA+X,oBAAYxlB,MAAZ,EAAoBtE,KAApB;AACD,OArVkB,CAuVnB;AACA;AACA;;;AACA,eAAS6pB,YAAT,CAAsBvlB,MAAtB,EAA8BtE,KAA9B,EAAqC;AACnC,YAAIA,MAAMlU,MAAN,KAAiB,CAAjB,IAAsBkU,MAAMsmB,SAAhC,EAA2C;AACzCtmB,gBAAMsmB,SAAN,GAAkB,KAAlB;AACAhiB,iBAAOzW,IAAP,CAAY,OAAZ;AACD;AACF,OA/VkB,CAkWnB;;;AACA,eAASu7B,WAAT,CAAqB9kB,MAArB,EAA6BtE,KAA7B,EAAoC;AAClCA,cAAMwoB,gBAAN,GAAyB,IAAzB;;AAEA,YAAIlkB,OAAOklB,OAAP,IAAkBxpB,MAAMyT,MAAN,CAAa3nB,MAAb,GAAsB,CAA5C,EAA+C;AAC7C;AACA,cAAIi+B,MAAM,EAAV;;AACA,eAAK,IAAIpO,IAAI,CAAb,EAAgBA,IAAI3b,MAAMyT,MAAN,CAAa3nB,MAAjC,EAAyC6vB,GAAzC;AACEoO,gBAAI/8B,IAAJ,CAASgT,MAAMyT,MAAN,CAAakI,CAAb,EAAgB3S,QAAzB;AADF,WAH6C,CAM7C;AACA;;;AACAhJ,gBAAM2oB,SAAN;AACAW,kBAAQhlB,MAAR,EAAgBtE,KAAhB,EAAuB,IAAvB,EAA6BA,MAAMlU,MAAnC,EAA2CkU,MAAMyT,MAAjD,EAAyD,EAAzD,EAA6D,UAASxjB,GAAT,EAAc;AACzE,iBAAK,IAAI1E,IAAI,CAAb,EAAgBA,IAAIw+B,IAAIj+B,MAAxB,EAAgCP,GAAhC,EAAqC;AACnCyU,oBAAM2oB,SAAN;AACAoB,kBAAIx+B,CAAJ,EAAO0E,GAAP;AACD;AACF,WALD,EAT6C,CAgB7C;;AACA+P,gBAAMyT,MAAN,GAAe,EAAf;AACD,SAlBD,MAkBO;AACL;AACA,eAAK,IAAIkI,IAAI,CAAb,EAAgBA,IAAI3b,MAAMyT,MAAN,CAAa3nB,MAAjC,EAAyC6vB,GAAzC,EAA8C;AAC5C,gBAAIqO,QAAQhqB,MAAMyT,MAAN,CAAakI,CAAb,CAAZ;AACA,gBAAI6G,QAAQwH,MAAMxH,KAAlB;AACA,gBAAI1Q,WAAWkY,MAAMlY,QAArB;AACA,gBAAIC,KAAKiY,MAAMhhB,QAAf;AACA,gBAAI3M,MAAM2D,MAAMijB,UAAN,GAAmB,CAAnB,GAAuBT,MAAM12B,MAAvC;AAEAw9B,oBAAQhlB,MAAR,EAAgBtE,KAAhB,EAAuB,KAAvB,EAA8B3D,GAA9B,EAAmCmmB,KAAnC,EAA0C1Q,QAA1C,EAAoDC,EAApD,EAP4C,CAS5C;AACA;AACA;AACA;;AACA,gBAAI/R,MAAMsoB,OAAV,EAAmB;AACjB3M;AACA;AACD;AACF;;AAED,cAAIA,IAAI3b,MAAMyT,MAAN,CAAa3nB,MAArB,EACEkU,MAAMyT,MAAN,GAAezT,MAAMyT,MAAN,CAAaxlB,KAAb,CAAmB0tB,CAAnB,CAAf,CADF,KAGE3b,MAAMyT,MAAN,CAAa3nB,MAAb,GAAsB,CAAtB;AACH;;AAEDkU,cAAMwoB,gBAAN,GAAyB,KAAzB;AACD;;AAEDhX,eAAShlB,SAAT,CAAmBolB,MAAnB,GAA4B,UAAS4Q,KAAT,EAAgB1Q,QAAhB,EAA0BC,EAA1B,EAA8B;AACxDA,WAAG,IAAItmB,KAAJ,CAAU,iBAAV,CAAH;AAED,OAHD;;AAKA+lB,eAAShlB,SAAT,CAAmBg9B,OAAnB,GAA6B,IAA7B;;AAEAhY,eAAShlB,SAAT,CAAmB0P,GAAnB,GAAyB,UAASsmB,KAAT,EAAgB1Q,QAAhB,EAA0BC,EAA1B,EAA8B;AACrD,YAAI/R,QAAQ,KAAKkiB,cAAjB;;AAEA,YAAIN,KAAKhD,UAAL,CAAgB4D,KAAhB,CAAJ,EAA4B;AAC1BzQ,eAAKyQ,KAAL;AACAA,kBAAQ,IAAR;AACA1Q,qBAAW,IAAX;AACD,SAJD,MAIO,IAAI8P,KAAKhD,UAAL,CAAgB9M,QAAhB,CAAJ,EAA+B;AACpCC,eAAKD,QAAL;AACAA,qBAAW,IAAX;AACD;;AAED,YAAI,CAAC8P,KAAKwC,iBAAL,CAAuB5B,KAAvB,CAAL,EACE,KAAK5nB,KAAL,CAAW4nB,KAAX,EAAkB1Q,QAAlB,EAbmD,CAerD;;AACA,YAAI9R,MAAMuoB,MAAV,EAAkB;AAChBvoB,gBAAMuoB,MAAN,GAAe,CAAf;AACA,eAAKY,MAAL;AACD,SAnBoD,CAqBrD;;;AACA,YAAI,CAACnpB,MAAMmoB,MAAP,IAAiB,CAACnoB,MAAMkJ,QAA5B,EACE+gB,YAAY,IAAZ,EAAkBjqB,KAAlB,EAAyB+R,EAAzB;AACH,OAxBD;;AA2BA,eAAS4X,UAAT,CAAoBrlB,MAApB,EAA4BtE,KAA5B,EAAmC;AACjC,eAAQA,MAAMmoB,MAAN,IACAnoB,MAAMlU,MAAN,KAAiB,CADjB,IAEA,CAACkU,MAAMkJ,QAFP,IAGA,CAAClJ,MAAMsoB,OAHf;AAID;;AAED,eAAS4B,SAAT,CAAmB5lB,MAAnB,EAA2BtE,KAA3B,EAAkC;AAChC,YAAI,CAACA,MAAM4oB,WAAX,EAAwB;AACtB5oB,gBAAM4oB,WAAN,GAAoB,IAApB;AACAtkB,iBAAOzW,IAAP,CAAY,WAAZ;AACD;AACF;;AAED,eAASi8B,WAAT,CAAqBxlB,MAArB,EAA6BtE,KAA7B,EAAoC;AAClC,YAAImqB,OAAOR,WAAWrlB,MAAX,EAAmBtE,KAAnB,CAAX;;AACA,YAAImqB,IAAJ,EAAU;AACR,cAAInqB,MAAM2oB,SAAN,KAAoB,CAAxB,EAA2B;AACzBuB,sBAAU5lB,MAAV,EAAkBtE,KAAlB;AACAA,kBAAMkJ,QAAN,GAAiB,IAAjB;AACA5E,mBAAOzW,IAAP,CAAY,QAAZ;AACD,WAJD,MAKEq8B,UAAU5lB,MAAV,EAAkBtE,KAAlB;AACH;;AACD,eAAOmqB,IAAP;AACD;;AAED,eAASF,WAAT,CAAqB3lB,MAArB,EAA6BtE,KAA7B,EAAoC+R,EAApC,EAAwC;AACtC/R,cAAMmoB,MAAN,GAAe,IAAf;AACA2B,oBAAYxlB,MAAZ,EAAoBtE,KAApB;;AACA,YAAI+R,EAAJ,EAAQ;AACN,cAAI/R,MAAMkJ,QAAV,EACEld,QAAQye,QAAR,CAAiBsH,EAAjB,EADF,KAGEzN,OAAOpX,IAAP,CAAY,QAAZ,EAAsB6kB,EAAtB;AACH;;AACD/R,cAAMmiB,KAAN,GAAc,IAAd;AACD;AAEA,KA/dD,EA+dGt2B,IA/dH,CA+dQ,IA/dR,EA+daP,QAAQ,UAAR,CA/db;AAgeC,GAje6D,EAie5D;AAAC,wBAAmB,EAApB;AAAuB,gBAAW,EAAlC;AAAqC,cAAS,EAA9C;AAAiD,oBAAe,EAAhE;AAAmE,gBAAW,EAA9E;AAAiF,cAAS;AAA1F,GAje4D,CA7lT6X;AA8jU1V,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACrI,KAAC,UAAUkiB,MAAV,EAAiB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,eAASphB,OAAT,CAAiB09B,EAAjB,EAAqB;AACnB,eAAOp8B,MAAMtB,OAAN,CAAc09B,EAAd,CAAP;AACD;;AACDx+B,cAAQc,OAAR,GAAkBA,OAAlB;;AAEA,eAAS29B,SAAT,CAAmBvX,GAAnB,EAAwB;AACtB,eAAO,OAAOA,GAAP,KAAe,SAAtB;AACD;;AACDlnB,cAAQy+B,SAAR,GAAoBA,SAApB;;AAEA,eAAStF,MAAT,CAAgBjS,GAAhB,EAAqB;AACnB,eAAOA,QAAQ,IAAf;AACD;;AACDlnB,cAAQm5B,MAAR,GAAiBA,MAAjB;;AAEA,eAASX,iBAAT,CAA2BtR,GAA3B,EAAgC;AAC9B,eAAOA,OAAO,IAAd;AACD;;AACDlnB,cAAQw4B,iBAAR,GAA4BA,iBAA5B;;AAEA,eAAS5F,QAAT,CAAkB1L,GAAlB,EAAuB;AACrB,eAAO,OAAOA,GAAP,KAAe,QAAtB;AACD;;AACDlnB,cAAQ4yB,QAAR,GAAmBA,QAAnB;;AAEA,eAAS9iB,QAAT,CAAkBoX,GAAlB,EAAuB;AACrB,eAAO,OAAOA,GAAP,KAAe,QAAtB;AACD;;AACDlnB,cAAQ8P,QAAR,GAAmBA,QAAnB;;AAEA,eAAS4uB,QAAT,CAAkBxX,GAAlB,EAAuB;AACrB,eAAO,QAAOA,GAAP,uDAAOA,GAAP,OAAe,QAAtB;AACD;;AACDlnB,cAAQ0+B,QAAR,GAAmBA,QAAnB;;AAEA,eAAS3L,WAAT,CAAqB7L,GAArB,EAA0B;AACxB,eAAOA,QAAQ,KAAK,CAApB;AACD;;AACDlnB,cAAQ+yB,WAAR,GAAsBA,WAAtB;;AAEA,eAAS4L,QAAT,CAAkBvzB,EAAlB,EAAsB;AACpB,eAAO0nB,SAAS1nB,EAAT,KAAgBwzB,eAAexzB,EAAf,MAAuB,iBAA9C;AACD;;AACDpL,cAAQ2+B,QAAR,GAAmBA,QAAnB;;AAEA,eAAS7L,QAAT,CAAkB5L,GAAlB,EAAuB;AACrB,eAAO,QAAOA,GAAP,uDAAOA,GAAP,OAAe,QAAf,IAA2BA,QAAQ,IAA1C;AACD;;AACDlnB,cAAQ8yB,QAAR,GAAmBA,QAAnB;;AAEA,eAAS+L,MAAT,CAAgBpyB,CAAhB,EAAmB;AACjB,eAAOqmB,SAASrmB,CAAT,KAAemyB,eAAenyB,CAAf,MAAsB,eAA5C;AACD;;AACDzM,cAAQ6+B,MAAR,GAAiBA,MAAjB;;AAEA,eAASC,OAAT,CAAiB5/B,CAAjB,EAAoB;AAClB,eAAO4zB,SAAS5zB,CAAT,MACF0/B,eAAe1/B,CAAf,MAAsB,gBAAtB,IAA0CA,aAAaW,KADrD,CAAP;AAED;;AACDG,cAAQ8+B,OAAR,GAAkBA,OAAlB;;AAEA,eAAS9L,UAAT,CAAoB9L,GAApB,EAAyB;AACvB,eAAO,OAAOA,GAAP,KAAe,UAAtB;AACD;;AACDlnB,cAAQgzB,UAAR,GAAqBA,UAArB;;AAEA,eAAS+L,WAAT,CAAqB7X,GAArB,EAA0B;AACxB,eAAOA,QAAQ,IAAR,IACA,OAAOA,GAAP,KAAe,SADf,IAEA,OAAOA,GAAP,KAAe,QAFf,IAGA,OAAOA,GAAP,KAAe,QAHf,IAIA,QAAOA,GAAP,uDAAOA,GAAP,OAAe,QAJf,IAI4B;AAC5B,eAAOA,GAAP,KAAe,WALtB;AAMD;;AACDlnB,cAAQ++B,WAAR,GAAsBA,WAAtB;;AAEA,eAAS/a,QAAT,CAAkBkD,GAAlB,EAAuB;AACrB,eAAOhF,OAAO8B,QAAP,CAAgBkD,GAAhB,CAAP;AACD;;AACDlnB,cAAQgkB,QAAR,GAAmBA,QAAnB;;AAEA,eAAS4a,cAAT,CAAwBr/B,CAAxB,EAA2B;AACzB,eAAOoB,OAAOC,SAAP,CAAiBC,QAAjB,CAA0BZ,IAA1B,CAA+BV,CAA/B,CAAP;AACD;AACA,KA5GD,EA4GGU,IA5GH,CA4GQ,IA5GR,EA4GaP,QAAQ,QAAR,EAAkBwiB,MA5G/B;AA6GC,GA9GmG,EA8GlG;AAAC,cAAS;AAAV,GA9GkG,CA9jUuV;AA4qU1a,MAAG,CAAC,UAASxiB,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACrDG,WAAOH,OAAP,GAAiBN,QAAQ,8BAAR,CAAjB;AAEC,GAHmB,EAGlB;AAAC,oCAA+B;AAAhC,GAHkB,CA5qUua;AA+qUpZ,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC3EA,cAAUG,OAAOH,OAAP,GAAiBN,QAAQ,2BAAR,CAA3B;AACAM,YAAQ+2B,MAAR,GAAiBr3B,QAAQ,QAAR,CAAjB;AACAM,YAAQi2B,QAAR,GAAmBj2B,OAAnB;AACAA,YAAQ4lB,QAAR,GAAmBlmB,QAAQ,2BAAR,CAAnB;AACAM,YAAQ81B,MAAR,GAAiBp2B,QAAQ,yBAAR,CAAjB;AACAM,YAAQ02B,SAAR,GAAoBh3B,QAAQ,4BAAR,CAApB;AACAM,YAAQy2B,WAAR,GAAsB/2B,QAAQ,8BAAR,CAAtB;AAEC,GATyC,EASxC;AAAC,+BAA0B,EAA3B;AAA8B,oCAA+B,EAA7D;AAAgE,iCAA4B,EAA5F;AAA+F,kCAA6B,EAA5H;AAA+H,iCAA4B,EAA3J;AAA8J,cAAS;AAAvK,GATwC,CA/qUiZ;AAwrU7Q,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAClNG,WAAOH,OAAP,GAAiBN,QAAQ,4BAAR,CAAjB;AAEC,GAHgL,EAG/K;AAAC,kCAA6B;AAA9B,GAH+K,CAxrU0Q;AA2rUtZ,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACzEG,WAAOH,OAAP,GAAiBN,QAAQ,2BAAR,CAAjB;AAEC,GAHuC,EAGtC;AAAC,iCAA4B;AAA7B,GAHsC,CA3rUmZ;AA8rUvZ,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAG,WAAOH,OAAP,GAAiB+2B,MAAjB;;AAEA,QAAID,KAAKp3B,QAAQ,QAAR,EAAkBe,YAA3B;;AACA,QAAIkF,WAAWjG,QAAQ,UAAR,CAAf;;AAEAiG,aAASoxB,MAAT,EAAiBD,EAAjB;AACAC,WAAOd,QAAP,GAAkBv2B,QAAQ,6BAAR,CAAlB;AACAq3B,WAAOnR,QAAP,GAAkBlmB,QAAQ,6BAAR,CAAlB;AACAq3B,WAAOjB,MAAP,GAAgBp2B,QAAQ,2BAAR,CAAhB;AACAq3B,WAAOL,SAAP,GAAmBh3B,QAAQ,8BAAR,CAAnB;AACAq3B,WAAON,WAAP,GAAqB/2B,QAAQ,gCAAR,CAArB,CAhCwE,CAkCxE;;AACAq3B,WAAOA,MAAP,GAAgBA,MAAhB,CAnCwE,CAuCxE;AACA;;AAEA,aAASA,MAAT,GAAkB;AAChBD,SAAG72B,IAAH,CAAQ,IAAR;AACD;;AAED82B,WAAOn2B,SAAP,CAAiBg5B,IAAjB,GAAwB,UAASC,IAAT,EAAe/yB,OAAf,EAAwB;AAC9C,UAAImR,SAAS,IAAb;;AAEA,eAASwiB,MAAT,CAAgB7D,KAAhB,EAAuB;AACrB,YAAIiD,KAAKjG,QAAT,EAAmB;AACjB,cAAI,UAAUiG,KAAK7qB,KAAL,CAAW4nB,KAAX,CAAV,IAA+B3e,OAAO0iB,KAA1C,EAAiD;AAC/C1iB,mBAAO0iB,KAAP;AACD;AACF;AACF;;AAED1iB,aAAOjX,EAAP,CAAU,MAAV,EAAkBy5B,MAAlB;;AAEA,eAASL,OAAT,GAAmB;AACjB,YAAIniB,OAAOke,QAAP,IAAmBle,OAAO4iB,MAA9B,EAAsC;AACpC5iB,iBAAO4iB,MAAP;AACD;AACF;;AAEDhB,WAAK74B,EAAL,CAAQ,OAAR,EAAiBo5B,OAAjB,EAnB8C,CAqB9C;AACA;;AACA,UAAI,CAACP,KAAKmF,QAAN,KAAmB,CAACl4B,OAAD,IAAYA,QAAQwJ,GAAR,KAAgB,KAA/C,CAAJ,EAA2D;AACzD2H,eAAOjX,EAAP,CAAU,KAAV,EAAiBq1B,KAAjB;AACApe,eAAOjX,EAAP,CAAU,OAAV,EAAmBs5B,OAAnB;AACD;;AAED,UAAI2E,WAAW,KAAf;;AACA,eAAS5I,KAAT,GAAiB;AACf,YAAI4I,QAAJ,EAAc;AACdA,mBAAW,IAAX;AAEApF,aAAKvpB,GAAL;AACD;;AAGD,eAASgqB,OAAT,GAAmB;AACjB,YAAI2E,QAAJ,EAAc;AACdA,mBAAW,IAAX;AAEA,YAAI,OAAOpF,KAAKqF,OAAZ,KAAwB,UAA5B,EAAwCrF,KAAKqF,OAAL;AACzC,OA1C6C,CA4C9C;;;AACA,eAAS1E,OAAT,CAAiB3H,EAAjB,EAAqB;AACnBqH;;AACA,YAAIpD,GAAGxD,aAAH,CAAiB,IAAjB,EAAuB,OAAvB,MAAoC,CAAxC,EAA2C;AACzC,gBAAMT,EAAN,CADyC,CAC/B;AACX;AACF;;AAED5a,aAAOjX,EAAP,CAAU,OAAV,EAAmBw5B,OAAnB;AACAX,WAAK74B,EAAL,CAAQ,OAAR,EAAiBw5B,OAAjB,EArD8C,CAuD9C;;AACA,eAASN,OAAT,GAAmB;AACjBjiB,eAAOzW,cAAP,CAAsB,MAAtB,EAA8Bi5B,MAA9B;AACAZ,aAAKr4B,cAAL,CAAoB,OAApB,EAA6B44B,OAA7B;AAEAniB,eAAOzW,cAAP,CAAsB,KAAtB,EAA6B60B,KAA7B;AACApe,eAAOzW,cAAP,CAAsB,OAAtB,EAA+B84B,OAA/B;AAEAriB,eAAOzW,cAAP,CAAsB,OAAtB,EAA+Bg5B,OAA/B;AACAX,aAAKr4B,cAAL,CAAoB,OAApB,EAA6Bg5B,OAA7B;AAEAviB,eAAOzW,cAAP,CAAsB,KAAtB,EAA6B04B,OAA7B;AACAjiB,eAAOzW,cAAP,CAAsB,OAAtB,EAA+B04B,OAA/B;AAEAL,aAAKr4B,cAAL,CAAoB,OAApB,EAA6B04B,OAA7B;AACD;;AAEDjiB,aAAOjX,EAAP,CAAU,KAAV,EAAiBk5B,OAAjB;AACAjiB,aAAOjX,EAAP,CAAU,OAAV,EAAmBk5B,OAAnB;AAEAL,WAAK74B,EAAL,CAAQ,OAAR,EAAiBk5B,OAAjB;AAEAL,WAAK53B,IAAL,CAAU,MAAV,EAAkBgW,MAAlB,EA7E8C,CA+E9C;;AACA,aAAO4hB,IAAP;AACD,KAjFD;AAmFC,GAjIsC,EAiIrC;AAAC,cAAS,EAAV;AAAa,gBAAW,EAAxB;AAA2B,iCAA4B,EAAvD;AAA0D,sCAAiC,EAA3F;AAA8F,mCAA8B,EAA5H;AAA+H,oCAA+B,EAA9J;AAAiK,mCAA8B;AAA/L,GAjIqC,CA9rUoZ;AA+zUrP,MAAG,CAAC,UAASn6B,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1O;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAAIkiB,SAASxiB,QAAQ,QAAR,EAAkBwiB,MAA/B;;AAEA,QAAIid,mBAAmBjd,OAAOwG,UAAP,IAClB,UAASxC,QAAT,EAAmB;AACjB,cAAQA,YAAYA,SAASjZ,WAAT,EAApB;AACE,aAAK,KAAL;AAAY,aAAK,MAAL;AAAa,aAAK,OAAL;AAAc,aAAK,OAAL;AAAc,aAAK,QAAL;AAAe,aAAK,QAAL;AAAe,aAAK,MAAL;AAAa,aAAK,OAAL;AAAc,aAAK,SAAL;AAAgB,aAAK,UAAL;AAAiB,aAAK,KAAL;AAAY,iBAAO,IAAP;;AAC3J;AAAS,iBAAO,KAAP;AAFX;AAID,KANN;;AASA,aAASmyB,cAAT,CAAwBlZ,QAAxB,EAAkC;AAChC,UAAIA,YAAY,CAACiZ,iBAAiBjZ,QAAjB,CAAjB,EAA6C;AAC3C,cAAM,IAAIrmB,KAAJ,CAAU,uBAAuBqmB,QAAjC,CAAN;AACD;AACF,KArCyO,CAuC1O;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,QAAI8Q,gBAAgBh3B,QAAQg3B,aAAR,GAAwB,UAAS9Q,QAAT,EAAmB;AAC7D,WAAKA,QAAL,GAAgB,CAACA,YAAY,MAAb,EAAqBjZ,WAArB,GAAmCgD,OAAnC,CAA2C,MAA3C,EAAmD,EAAnD,CAAhB;AACAmvB,qBAAelZ,QAAf;;AACA,cAAQ,KAAKA,QAAb;AACE,aAAK,MAAL;AACE;AACA,eAAKmZ,aAAL,GAAqB,CAArB;AACA;;AACF,aAAK,MAAL;AACA,aAAK,SAAL;AACE;AACA,eAAKA,aAAL,GAAqB,CAArB;AACA,eAAKC,oBAAL,GAA4BC,yBAA5B;AACA;;AACF,aAAK,QAAL;AACE;AACA,eAAKF,aAAL,GAAqB,CAArB;AACA,eAAKC,oBAAL,GAA4BE,0BAA5B;AACA;;AACF;AACE,eAAKxwB,KAAL,GAAaywB,gBAAb;AACA;AAlBJ,OAH6D,CAwB7D;AACA;;;AACA,WAAKC,UAAL,GAAkB,IAAIxd,MAAJ,CAAW,CAAX,CAAlB,CA1B6D,CA2B7D;;AACA,WAAKyd,YAAL,GAAoB,CAApB,CA5B6D,CA6B7D;;AACA,WAAKC,UAAL,GAAkB,CAAlB;AACD,KA/BD,CA/C0O,CAiF1O;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA5I,kBAAcp2B,SAAd,CAAwBoO,KAAxB,GAAgC,UAAS6Y,MAAT,EAAiB;AAC/C,UAAIgY,UAAU,EAAd,CAD+C,CAE/C;;AACA,aAAO,KAAKD,UAAZ,EAAwB;AACtB;AACA,YAAIE,YAAajY,OAAO3nB,MAAP,IAAiB,KAAK0/B,UAAL,GAAkB,KAAKD,YAAzC,GACZ,KAAKC,UAAL,GAAkB,KAAKD,YADX,GAEZ9X,OAAO3nB,MAFX,CAFsB,CAMtB;;AACA2nB,eAAOK,IAAP,CAAY,KAAKwX,UAAjB,EAA6B,KAAKC,YAAlC,EAAgD,CAAhD,EAAmDG,SAAnD;AACA,aAAKH,YAAL,IAAqBG,SAArB;;AAEA,YAAI,KAAKH,YAAL,GAAoB,KAAKC,UAA7B,EAAyC;AACvC;AACA,iBAAO,EAAP;AACD,SAbqB,CAetB;;;AACA/X,iBAASA,OAAOxlB,KAAP,CAAay9B,SAAb,EAAwBjY,OAAO3nB,MAA/B,CAAT,CAhBsB,CAkBtB;;AACA2/B,kBAAU,KAAKH,UAAL,CAAgBr9B,KAAhB,CAAsB,CAAtB,EAAyB,KAAKu9B,UAA9B,EAA0C/+B,QAA1C,CAAmD,KAAKqlB,QAAxD,CAAV,CAnBsB,CAqBtB;;AACA,YAAI6Z,WAAWF,QAAQhQ,UAAR,CAAmBgQ,QAAQ3/B,MAAR,GAAiB,CAApC,CAAf;;AACA,YAAI6/B,YAAY,MAAZ,IAAsBA,YAAY,MAAtC,EAA8C;AAC5C,eAAKH,UAAL,IAAmB,KAAKP,aAAxB;AACAQ,oBAAU,EAAV;AACA;AACD;;AACD,aAAKF,YAAL,GAAoB,KAAKC,UAAL,GAAkB,CAAtC,CA5BsB,CA8BtB;;AACA,YAAI/X,OAAO3nB,MAAP,KAAkB,CAAtB,EAAyB;AACvB,iBAAO2/B,OAAP;AACD;;AACD;AACD,OAtC8C,CAwC/C;;;AACA,WAAKP,oBAAL,CAA0BzX,MAA1B;AAEA,UAAIvX,MAAMuX,OAAO3nB,MAAjB;;AACA,UAAI,KAAK0/B,UAAT,EAAqB;AACnB;AACA/X,eAAOK,IAAP,CAAY,KAAKwX,UAAjB,EAA6B,CAA7B,EAAgC7X,OAAO3nB,MAAP,GAAgB,KAAKy/B,YAArD,EAAmErvB,GAAnE;AACAA,eAAO,KAAKqvB,YAAZ;AACD;;AAEDE,iBAAWhY,OAAOhnB,QAAP,CAAgB,KAAKqlB,QAArB,EAA+B,CAA/B,EAAkC5V,GAAlC,CAAX;AAEA,UAAIA,MAAMuvB,QAAQ3/B,MAAR,GAAiB,CAA3B;AACA,UAAI6/B,WAAWF,QAAQhQ,UAAR,CAAmBvf,GAAnB,CAAf,CArD+C,CAsD/C;;AACA,UAAIyvB,YAAY,MAAZ,IAAsBA,YAAY,MAAtC,EAA8C;AAC5C,YAAIv9B,OAAO,KAAK68B,aAAhB;AACA,aAAKO,UAAL,IAAmBp9B,IAAnB;AACA,aAAKm9B,YAAL,IAAqBn9B,IAArB;AACA,aAAKk9B,UAAL,CAAgBxX,IAAhB,CAAqB,KAAKwX,UAA1B,EAAsCl9B,IAAtC,EAA4C,CAA5C,EAA+CA,IAA/C;AACAqlB,eAAOK,IAAP,CAAY,KAAKwX,UAAjB,EAA6B,CAA7B,EAAgC,CAAhC,EAAmCl9B,IAAnC;AACA,eAAOq9B,QAAQzmB,SAAR,CAAkB,CAAlB,EAAqB9I,GAArB,CAAP;AACD,OA9D8C,CAgE/C;;;AACA,aAAOuvB,OAAP;AACD,KAlED,CA1F0O,CA8J1O;AACA;AACA;AACA;;;AACA7I,kBAAcp2B,SAAd,CAAwB0+B,oBAAxB,GAA+C,UAASzX,MAAT,EAAiB;AAC9D;AACA,UAAIloB,IAAKkoB,OAAO3nB,MAAP,IAAiB,CAAlB,GAAuB,CAAvB,GAA2B2nB,OAAO3nB,MAA1C,CAF8D,CAI9D;AACA;;AACA,aAAOP,IAAI,CAAX,EAAcA,GAAd,EAAmB;AACjB,YAAIowB,IAAIlI,OAAOA,OAAO3nB,MAAP,GAAgBP,CAAvB,CAAR,CADiB,CAGjB;AAEA;;AACA,YAAIA,KAAK,CAAL,IAAUowB,KAAK,CAAL,IAAU,IAAxB,EAA8B;AAC5B,eAAK6P,UAAL,GAAkB,CAAlB;AACA;AACD,SATgB,CAWjB;;;AACA,YAAIjgC,KAAK,CAAL,IAAUowB,KAAK,CAAL,IAAU,IAAxB,EAA8B;AAC5B,eAAK6P,UAAL,GAAkB,CAAlB;AACA;AACD,SAfgB,CAiBjB;;;AACA,YAAIjgC,KAAK,CAAL,IAAUowB,KAAK,CAAL,IAAU,IAAxB,EAA8B;AAC5B,eAAK6P,UAAL,GAAkB,CAAlB;AACA;AACD;AACF;;AACD,WAAKD,YAAL,GAAoBhgC,CAApB;AACD,KA9BD;;AAgCAq3B,kBAAcp2B,SAAd,CAAwB0P,GAAxB,GAA8B,UAASuX,MAAT,EAAiB;AAC7C,UAAIvP,MAAM,EAAV;AACA,UAAIuP,UAAUA,OAAO3nB,MAArB,EACEoY,MAAM,KAAKtJ,KAAL,CAAW6Y,MAAX,CAAN;;AAEF,UAAI,KAAK8X,YAAT,EAAuB;AACrB,YAAIK,KAAK,KAAKL,YAAd;AACA,YAAI/mB,MAAM,KAAK8mB,UAAf;AACA,YAAI5G,MAAM,KAAK5S,QAAf;AACA5N,eAAOM,IAAIvW,KAAJ,CAAU,CAAV,EAAa29B,EAAb,EAAiBn/B,QAAjB,CAA0Bi4B,GAA1B,CAAP;AACD;;AAED,aAAOxgB,GAAP;AACD,KAbD;;AAeA,aAASmnB,gBAAT,CAA0B5X,MAA1B,EAAkC;AAChC,aAAOA,OAAOhnB,QAAP,CAAgB,KAAKqlB,QAArB,CAAP;AACD;;AAED,aAASqZ,yBAAT,CAAmC1X,MAAnC,EAA2C;AACzC,WAAK8X,YAAL,GAAoB9X,OAAO3nB,MAAP,GAAgB,CAApC;AACA,WAAK0/B,UAAL,GAAkB,KAAKD,YAAL,GAAoB,CAApB,GAAwB,CAA1C;AACD;;AAED,aAASH,0BAAT,CAAoC3X,MAApC,EAA4C;AAC1C,WAAK8X,YAAL,GAAoB9X,OAAO3nB,MAAP,GAAgB,CAApC;AACA,WAAK0/B,UAAL,GAAkB,KAAKD,YAAL,GAAoB,CAApB,GAAwB,CAA1C;AACD;AAEA,GA/NwM,EA+NvM;AAAC,cAAS;AAAV,GA/NuM,CA/zUkP;AA8hV1a,MAAG,CAAC,UAASjgC,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACrDG,WAAOH,OAAP;AAAiB,eAASgkB,QAAT,CAAkBkD,GAAlB,EAAuB;AACtC,eAAOA,OAAO,QAAOA,GAAP,uDAAOA,GAAP,OAAe,QAAtB,IACF,OAAOA,IAAIgB,IAAX,KAAoB,UADlB,IAEF,OAAOhB,IAAIkI,IAAX,KAAoB,UAFlB,IAGF,OAAOlI,IAAI0C,SAAX,KAAyB,UAH9B;AAID;;AALD,aAA0B5F,QAA1B;AAAA;AAMC,GAPmB,EAOlB,EAPkB,CA9hVua;AAqiVrb,MAAG,CAAC,UAAStkB,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1C,KAAC,UAAUI,OAAV,EAAkBkE,MAAlB,EAAyB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,UAAI27B,eAAe,UAAnB;;AACAjgC,cAAQkgC,MAAR,GAAiB,UAAStgC,CAAT,EAAY;AAC3B,YAAI,CAACkQ,SAASlQ,CAAT,CAAL,EAAkB;AAChB,cAAIugC,UAAU,EAAd;;AACA,eAAK,IAAIxgC,IAAI,CAAb,EAAgBA,IAAI+B,UAAUxB,MAA9B,EAAsCP,GAAtC,EAA2C;AACzCwgC,oBAAQ/+B,IAAR,CAAakE,QAAQ5D,UAAU/B,CAAV,CAAR,CAAb;AACD;;AACD,iBAAOwgC,QAAQ92B,IAAR,CAAa,GAAb,CAAP;AACD;;AAED,YAAI1J,IAAI,CAAR;AACA,YAAIwC,OAAOT,SAAX;AACA,YAAI+O,MAAMtO,KAAKjC,MAAf;AACA,YAAI2M,MAAM+B,OAAOhP,CAAP,EAAUqQ,OAAV,CAAkBgwB,YAAlB,EAAgC,UAAS18B,CAAT,EAAY;AACpD,cAAIA,MAAM,IAAV,EAAgB,OAAO,GAAP;AAChB,cAAI5D,KAAK8Q,GAAT,EAAc,OAAOlN,CAAP;;AACd,kBAAQA,CAAR;AACE,iBAAK,IAAL;AAAW,qBAAOqL,OAAOzM,KAAKxC,GAAL,CAAP,CAAP;;AACX,iBAAK,IAAL;AAAW,qBAAOqqB,OAAO7nB,KAAKxC,GAAL,CAAP,CAAP;;AACX,iBAAK,IAAL;AACE,kBAAI;AACF,uBAAO4F,KAAKC,SAAL,CAAerD,KAAKxC,GAAL,CAAf,CAAP;AACD,eAFD,CAEE,OAAO4V,CAAP,EAAU;AACV,uBAAO,YAAP;AACD;;AACH;AACE,qBAAOhS,CAAP;AAVJ;AAYD,SAfS,CAAV;;AAgBA,aAAK,IAAIA,IAAIpB,KAAKxC,CAAL,CAAb,EAAsBA,IAAI8Q,GAA1B,EAA+BlN,IAAIpB,KAAK,EAAExC,CAAP,CAAnC,EAA8C;AAC5C,cAAIw5B,OAAO51B,CAAP,KAAa,CAACuvB,SAASvvB,CAAT,CAAlB,EAA+B;AAC7BsJ,mBAAO,MAAMtJ,CAAb;AACD,WAFD,MAEO;AACLsJ,mBAAO,MAAMvH,QAAQ/B,CAAR,CAAb;AACD;AACF;;AACD,eAAOsJ,GAAP;AACD,OApCD,CAvB0B,CA8D1B;AACA;AACA;;;AACA7M,cAAQogC,SAAR,GAAoB,UAASl/B,EAAT,EAAa8J,GAAb,EAAkB;AACpC;AACA,YAAI+nB,YAAYzuB,OAAOlE,OAAnB,CAAJ,EAAiC;AAC/B,iBAAO,YAAW;AAChB,mBAAOJ,QAAQogC,SAAR,CAAkBl/B,EAAlB,EAAsB8J,GAAtB,EAA2BvJ,KAA3B,CAAiC,IAAjC,EAAuCC,SAAvC,CAAP;AACD,WAFD;AAGD;;AAED,YAAItB,QAAQigC,aAAR,KAA0B,IAA9B,EAAoC;AAClC,iBAAOn/B,EAAP;AACD;;AAED,YAAIgyB,SAAS,KAAb;;AACA,iBAASoN,UAAT,GAAsB;AACpB,cAAI,CAACpN,MAAL,EAAa;AACX,gBAAI9yB,QAAQmgC,gBAAZ,EAA8B;AAC5B,oBAAM,IAAI1gC,KAAJ,CAAUmL,GAAV,CAAN;AACD,aAFD,MAEO,IAAI5K,QAAQogC,gBAAZ,EAA8B;AACnCp2B,sBAAQ+oB,KAAR,CAAcnoB,GAAd;AACD,aAFM,MAEA;AACLZ,sBAAQtE,KAAR,CAAckF,GAAd;AACD;;AACDkoB,qBAAS,IAAT;AACD;;AACD,iBAAOhyB,GAAGO,KAAH,CAAS,IAAT,EAAeC,SAAf,CAAP;AACD;;AAED,eAAO4+B,UAAP;AACD,OA5BD;;AA+BA,UAAIG,SAAS,EAAb;AACA,UAAIC,YAAJ;;AACA1gC,cAAQi3B,QAAR,GAAmB,UAASpN,GAAT,EAAc;AAC/B,YAAIkJ,YAAY2N,YAAZ,CAAJ,EACEA,eAAetgC,QAAQC,GAAR,CAAYsgC,UAAZ,IAA0B,EAAzC;AACF9W,cAAMA,IAAI+W,WAAJ,EAAN;;AACA,YAAI,CAACH,OAAO5W,GAAP,CAAL,EAAkB;AAChB,cAAI,IAAI9hB,MAAJ,CAAW,QAAQ8hB,GAAR,GAAc,KAAzB,EAAgC,GAAhC,EAAqC9kB,IAArC,CAA0C27B,YAA1C,CAAJ,EAA6D;AAC3D,gBAAIG,MAAMzgC,QAAQygC,GAAlB;;AACAJ,mBAAO5W,GAAP,IAAc,YAAW;AACvB,kBAAI7e,MAAMhL,QAAQkgC,MAAR,CAAez+B,KAAf,CAAqBzB,OAArB,EAA8B0B,SAA9B,CAAV;AACA0I,sBAAQtE,KAAR,CAAc,WAAd,EAA2B+jB,GAA3B,EAAgCgX,GAAhC,EAAqC71B,GAArC;AACD,aAHD;AAID,WAND,MAMO;AACLy1B,mBAAO5W,GAAP,IAAc,YAAW,CAAE,CAA3B;AACD;AACF;;AACD,eAAO4W,OAAO5W,GAAP,CAAP;AACD,OAhBD,CAlG0B,CAqH1B;;;;;;YArH0B,CA4H1B;;AACA,eAASvkB,OAAT,CAAiB+C,GAAjB,EAAsByd,IAAtB,EAA4B;AAC1B;AACA,YAAI3iB,MAAM;AACR29B,gBAAM,EADE;AAERC,mBAASC;AAFD,SAAV,CAF0B,CAM1B;;AACA,YAAIt/B,UAAUxB,MAAV,IAAoB,CAAxB,EAA2BiD,IAAIkhB,KAAJ,GAAY3iB,UAAU,CAAV,CAAZ;AAC3B,YAAIA,UAAUxB,MAAV,IAAoB,CAAxB,EAA2BiD,IAAI4I,MAAJ,GAAarK,UAAU,CAAV,CAAb;;AAC3B,YAAI+8B,UAAU3Y,IAAV,CAAJ,EAAqB;AACnB;AACA3iB,cAAI89B,UAAJ,GAAiBnb,IAAjB;AACD,SAHD,MAGO,IAAIA,IAAJ,EAAU;AACf;AACA9lB,kBAAQkhC,OAAR,CAAgB/9B,GAAhB,EAAqB2iB,IAArB;AACD,SAfyB,CAgB1B;;;AACA,YAAIiN,YAAY5vB,IAAI89B,UAAhB,CAAJ,EAAiC99B,IAAI89B,UAAJ,GAAiB,KAAjB;AACjC,YAAIlO,YAAY5vB,IAAIkhB,KAAhB,CAAJ,EAA4BlhB,IAAIkhB,KAAJ,GAAY,CAAZ;AAC5B,YAAI0O,YAAY5vB,IAAI4I,MAAhB,CAAJ,EAA6B5I,IAAI4I,MAAJ,GAAa,KAAb;AAC7B,YAAIgnB,YAAY5vB,IAAIg+B,aAAhB,CAAJ,EAAoCh+B,IAAIg+B,aAAJ,GAAoB,IAApB;AACpC,YAAIh+B,IAAI4I,MAAR,EAAgB5I,IAAI49B,OAAJ,GAAcK,gBAAd;AAChB,eAAOC,YAAYl+B,GAAZ,EAAiBkF,GAAjB,EAAsBlF,IAAIkhB,KAA1B,CAAP;AACD;;AACDrkB,cAAQsF,OAAR,GAAkBA,OAAlB,CArJ0B,CAwJ1B;;AACAA,cAAQyG,MAAR,GAAiB;AACf,gBAAS,CAAC,CAAD,EAAI,EAAJ,CADM;AAEf,kBAAW,CAAC,CAAD,EAAI,EAAJ,CAFI;AAGf,qBAAc,CAAC,CAAD,EAAI,EAAJ,CAHC;AAIf,mBAAY,CAAC,CAAD,EAAI,EAAJ,CAJG;AAKf,iBAAU,CAAC,EAAD,EAAK,EAAL,CALK;AAMf,gBAAS,CAAC,EAAD,EAAK,EAAL,CANM;AAOf,iBAAU,CAAC,EAAD,EAAK,EAAL,CAPK;AAQf,gBAAS,CAAC,EAAD,EAAK,EAAL,CARM;AASf,gBAAS,CAAC,EAAD,EAAK,EAAL,CATM;AAUf,iBAAU,CAAC,EAAD,EAAK,EAAL,CAVK;AAWf,mBAAY,CAAC,EAAD,EAAK,EAAL,CAXG;AAYf,eAAQ,CAAC,EAAD,EAAK,EAAL,CAZO;AAaf,kBAAW,CAAC,EAAD,EAAK,EAAL;AAbI,OAAjB,CAzJ0B,CAyK1B;;AACAzG,cAAQg8B,MAAR,GAAiB;AACf,mBAAW,MADI;AAEf,kBAAU,QAFK;AAGf,mBAAW,QAHI;AAIf,qBAAa,MAJE;AAKf,gBAAQ,MALO;AAMf,kBAAU,OANK;AAOf,gBAAQ,SAPO;AAQf;AACA,kBAAU;AATK,OAAjB;;AAaA,eAASF,gBAAT,CAA0Bv0B,GAA1B,EAA+B00B,SAA/B,EAA0C;AACxC,YAAIhuB,QAAQjO,QAAQg8B,MAAR,CAAeC,SAAf,CAAZ;;AAEA,YAAIhuB,KAAJ,EAAW;AACT,iBAAO,UAAYjO,QAAQyG,MAAR,CAAewH,KAAf,EAAsB,CAAtB,CAAZ,GAAuC,GAAvC,GAA6C1G,GAA7C,GACA,OADA,GACYvH,QAAQyG,MAAR,CAAewH,KAAf,EAAsB,CAAtB,CADZ,GACuC,GAD9C;AAED,SAHD,MAGO;AACL,iBAAO1G,GAAP;AACD;AACF;;AAGD,eAASm0B,cAAT,CAAwBn0B,GAAxB,EAA6B00B,SAA7B,EAAwC;AACtC,eAAO10B,GAAP;AACD;;AAGD,eAAS20B,WAAT,CAAqBrZ,KAArB,EAA4B;AAC1B,YAAIsZ,OAAO,EAAX;AAEAtZ,cAAM1d,OAAN,CAAc,UAAS1J,GAAT,EAAc2gC,GAAd,EAAmB;AAC/BD,eAAK1gC,GAAL,IAAY,IAAZ;AACD,SAFD;AAIA,eAAO0gC,IAAP;AACD;;AAGD,eAASJ,WAAT,CAAqBl+B,GAArB,EAA0BoO,KAA1B,EAAiCowB,YAAjC,EAA+C;AAC7C;AACA;AACA,YAAIx+B,IAAIg+B,aAAJ,IACA5vB,KADA,IAEAyhB,WAAWzhB,MAAMjM,OAAjB,CAFA,IAGA;AACAiM,cAAMjM,OAAN,KAAkBtF,QAAQsF,OAJ1B,IAKA;AACA,UAAEiM,MAAMuV,WAAN,IAAqBvV,MAAMuV,WAAN,CAAkBlmB,SAAlB,KAAgC2Q,KAAvD,CANJ,EAMmE;AACjE,cAAIgG,MAAMhG,MAAMjM,OAAN,CAAcq8B,YAAd,EAA4Bx+B,GAA5B,CAAV;;AACA,cAAI,CAAC2M,SAASyH,GAAT,CAAL,EAAoB;AAClBA,kBAAM8pB,YAAYl+B,GAAZ,EAAiBoU,GAAjB,EAAsBoqB,YAAtB,CAAN;AACD;;AACD,iBAAOpqB,GAAP;AACD,SAf4C,CAiB7C;;;AACA,YAAIqqB,YAAYC,gBAAgB1+B,GAAhB,EAAqBoO,KAArB,CAAhB;;AACA,YAAIqwB,SAAJ,EAAe;AACb,iBAAOA,SAAP;AACD,SArB4C,CAuB7C;;;AACA,YAAI9jB,OAAOnd,OAAOmd,IAAP,CAAYvM,KAAZ,CAAX;AACA,YAAIuwB,cAAcN,YAAY1jB,IAAZ,CAAlB;;AAEA,YAAI3a,IAAI89B,UAAR,EAAoB;AAClBnjB,iBAAOnd,OAAO4X,mBAAP,CAA2BhH,KAA3B,CAAP;AACD,SA7B4C,CA+B7C;AACA;;;AACA,YAAIutB,QAAQvtB,KAAR,MACIuM,KAAK3T,OAAL,CAAa,SAAb,KAA2B,CAA3B,IAAgC2T,KAAK3T,OAAL,CAAa,aAAb,KAA+B,CADnE,CAAJ,EAC2E;AACzE,iBAAO43B,YAAYxwB,KAAZ,CAAP;AACD,SApC4C,CAsC7C;;;AACA,YAAIuM,KAAK5d,MAAL,KAAgB,CAApB,EAAuB;AACrB,cAAI8yB,WAAWzhB,KAAX,CAAJ,EAAuB;AACrB,gBAAItQ,OAAOsQ,MAAMtQ,IAAN,GAAa,OAAOsQ,MAAMtQ,IAA1B,GAAiC,EAA5C;AACA,mBAAOkC,IAAI49B,OAAJ,CAAY,cAAc9/B,IAAd,GAAqB,GAAjC,EAAsC,SAAtC,CAAP;AACD;;AACD,cAAI09B,SAASptB,KAAT,CAAJ,EAAqB;AACnB,mBAAOpO,IAAI49B,OAAJ,CAAYh5B,OAAOnH,SAAP,CAAiBC,QAAjB,CAA0BZ,IAA1B,CAA+BsR,KAA/B,CAAZ,EAAmD,QAAnD,CAAP;AACD;;AACD,cAAIstB,OAAOttB,KAAP,CAAJ,EAAmB;AACjB,mBAAOpO,IAAI49B,OAAJ,CAAYrzB,KAAK9M,SAAL,CAAeC,QAAf,CAAwBZ,IAAxB,CAA6BsR,KAA7B,CAAZ,EAAiD,MAAjD,CAAP;AACD;;AACD,cAAIutB,QAAQvtB,KAAR,CAAJ,EAAoB;AAClB,mBAAOwwB,YAAYxwB,KAAZ,CAAP;AACD;AACF;;AAED,YAAI2E,OAAO,EAAX;AAAA,YAAeiS,QAAQ,KAAvB;AAAA,YAA8B6Z,SAAS,CAAC,GAAD,EAAM,GAAN,CAAvC,CAvD6C,CAyD7C;;AACA,YAAIlhC,QAAQyQ,KAAR,CAAJ,EAAoB;AAClB4W,kBAAQ,IAAR;AACA6Z,mBAAS,CAAC,GAAD,EAAM,GAAN,CAAT;AACD,SA7D4C,CA+D7C;;;AACA,YAAIhP,WAAWzhB,KAAX,CAAJ,EAAuB;AACrB,cAAInS,IAAImS,MAAMtQ,IAAN,GAAa,OAAOsQ,MAAMtQ,IAA1B,GAAiC,EAAzC;AACAiV,iBAAO,eAAe9W,CAAf,GAAmB,GAA1B;AACD,SAnE4C,CAqE7C;;;AACA,YAAIu/B,SAASptB,KAAT,CAAJ,EAAqB;AACnB2E,iBAAO,MAAMnO,OAAOnH,SAAP,CAAiBC,QAAjB,CAA0BZ,IAA1B,CAA+BsR,KAA/B,CAAb;AACD,SAxE4C,CA0E7C;;;AACA,YAAIstB,OAAOttB,KAAP,CAAJ,EAAmB;AACjB2E,iBAAO,MAAMxI,KAAK9M,SAAL,CAAesb,WAAf,CAA2Bjc,IAA3B,CAAgCsR,KAAhC,CAAb;AACD,SA7E4C,CA+E7C;;;AACA,YAAIutB,QAAQvtB,KAAR,CAAJ,EAAoB;AAClB2E,iBAAO,MAAM6rB,YAAYxwB,KAAZ,CAAb;AACD;;AAED,YAAIuM,KAAK5d,MAAL,KAAgB,CAAhB,KAAsB,CAACioB,KAAD,IAAU5W,MAAMrR,MAAN,IAAgB,CAAhD,CAAJ,EAAwD;AACtD,iBAAO8hC,OAAO,CAAP,IAAY9rB,IAAZ,GAAmB8rB,OAAO,CAAP,CAA1B;AACD;;AAED,YAAIL,eAAe,CAAnB,EAAsB;AACpB,cAAIhD,SAASptB,KAAT,CAAJ,EAAqB;AACnB,mBAAOpO,IAAI49B,OAAJ,CAAYh5B,OAAOnH,SAAP,CAAiBC,QAAjB,CAA0BZ,IAA1B,CAA+BsR,KAA/B,CAAZ,EAAmD,QAAnD,CAAP;AACD,WAFD,MAEO;AACL,mBAAOpO,IAAI49B,OAAJ,CAAY,UAAZ,EAAwB,SAAxB,CAAP;AACD;AACF;;AAED59B,YAAI29B,IAAJ,CAAS1/B,IAAT,CAAcmQ,KAAd;AAEA,YAAI6F,MAAJ;;AACA,YAAI+Q,KAAJ,EAAW;AACT/Q,mBAAS6qB,YAAY9+B,GAAZ,EAAiBoO,KAAjB,EAAwBowB,YAAxB,EAAsCG,WAAtC,EAAmDhkB,IAAnD,CAAT;AACD,SAFD,MAEO;AACL1G,mBAAS0G,KAAKjN,GAAL,CAAS,UAASpL,GAAT,EAAc;AAC9B,mBAAOy8B,eAAe/+B,GAAf,EAAoBoO,KAApB,EAA2BowB,YAA3B,EAAyCG,WAAzC,EAAsDr8B,GAAtD,EAA2D0iB,KAA3D,CAAP;AACD,WAFQ,CAAT;AAGD;;AAEDhlB,YAAI29B,IAAJ,CAAS/gB,GAAT;AAEA,eAAOoiB,qBAAqB/qB,MAArB,EAA6BlB,IAA7B,EAAmC8rB,MAAnC,CAAP;AACD;;AAGD,eAASH,eAAT,CAAyB1+B,GAAzB,EAA8BoO,KAA9B,EAAqC;AACnC,YAAIwhB,YAAYxhB,KAAZ,CAAJ,EACE,OAAOpO,IAAI49B,OAAJ,CAAY,WAAZ,EAAyB,WAAzB,CAAP;;AACF,YAAIjxB,SAASyB,KAAT,CAAJ,EAAqB;AACnB,cAAI6wB,SAAS,OAAO78B,KAAKC,SAAL,CAAe+L,KAAf,EAAsBtB,OAAtB,CAA8B,QAA9B,EAAwC,EAAxC,EACsBA,OADtB,CAC8B,IAD9B,EACoC,KADpC,EAEsBA,OAFtB,CAE8B,MAF9B,EAEsC,GAFtC,CAAP,GAEoD,IAFjE;AAGA,iBAAO9M,IAAI49B,OAAJ,CAAYqB,MAAZ,EAAoB,QAApB,CAAP;AACD;;AACD,YAAIxP,SAASrhB,KAAT,CAAJ,EACE,OAAOpO,IAAI49B,OAAJ,CAAY,KAAKxvB,KAAjB,EAAwB,QAAxB,CAAP;AACF,YAAIktB,UAAUltB,KAAV,CAAJ,EACE,OAAOpO,IAAI49B,OAAJ,CAAY,KAAKxvB,KAAjB,EAAwB,SAAxB,CAAP,CAZiC,CAanC;;AACA,YAAI4nB,OAAO5nB,KAAP,CAAJ,EACE,OAAOpO,IAAI49B,OAAJ,CAAY,MAAZ,EAAoB,MAApB,CAAP;AACH;;AAGD,eAASgB,WAAT,CAAqBxwB,KAArB,EAA4B;AAC1B,eAAO,MAAM1R,MAAMe,SAAN,CAAgBC,QAAhB,CAAyBZ,IAAzB,CAA8BsR,KAA9B,CAAN,GAA6C,GAApD;AACD;;AAGD,eAAS0wB,WAAT,CAAqB9+B,GAArB,EAA0BoO,KAA1B,EAAiCowB,YAAjC,EAA+CG,WAA/C,EAA4DhkB,IAA5D,EAAkE;AAChE,YAAI1G,SAAS,EAAb;;AACA,aAAK,IAAIzX,IAAI,CAAR,EAAWI,IAAIwR,MAAMrR,MAA1B,EAAkCP,IAAII,CAAtC,EAAyC,EAAEJ,CAA3C,EAA8C;AAC5C,cAAIkY,eAAetG,KAAf,EAAsB3C,OAAOjP,CAAP,CAAtB,CAAJ,EAAsC;AACpCyX,mBAAOhW,IAAP,CAAY8gC,eAAe/+B,GAAf,EAAoBoO,KAApB,EAA2BowB,YAA3B,EAAyCG,WAAzC,EACRlzB,OAAOjP,CAAP,CADQ,EACG,IADH,CAAZ;AAED,WAHD,MAGO;AACLyX,mBAAOhW,IAAP,CAAY,EAAZ;AACD;AACF;;AACD0c,aAAKrT,OAAL,CAAa,UAAShF,GAAT,EAAc;AACzB,cAAI,CAACA,IAAIqH,KAAJ,CAAU,OAAV,CAAL,EAAyB;AACvBsK,mBAAOhW,IAAP,CAAY8gC,eAAe/+B,GAAf,EAAoBoO,KAApB,EAA2BowB,YAA3B,EAAyCG,WAAzC,EACRr8B,GADQ,EACH,IADG,CAAZ;AAED;AACF,SALD;AAMA,eAAO2R,MAAP;AACD;;AAGD,eAAS8qB,cAAT,CAAwB/+B,GAAxB,EAA6BoO,KAA7B,EAAoCowB,YAApC,EAAkDG,WAAlD,EAA+Dr8B,GAA/D,EAAoE0iB,KAApE,EAA2E;AACzE,YAAIlnB,IAAJ,EAAU4L,GAAV,EAAew1B,IAAf;AACAA,eAAO1hC,OAAO2hC,wBAAP,CAAgC/wB,KAAhC,EAAuC9L,GAAvC,KAA+C;AAAE8L,iBAAOA,MAAM9L,GAAN;AAAT,SAAtD;;AACA,YAAI48B,KAAK3Y,GAAT,EAAc;AACZ,cAAI2Y,KAAKxY,GAAT,EAAc;AACZhd,kBAAM1J,IAAI49B,OAAJ,CAAY,iBAAZ,EAA+B,SAA/B,CAAN;AACD,WAFD,MAEO;AACLl0B,kBAAM1J,IAAI49B,OAAJ,CAAY,UAAZ,EAAwB,SAAxB,CAAN;AACD;AACF,SAND,MAMO;AACL,cAAIsB,KAAKxY,GAAT,EAAc;AACZhd,kBAAM1J,IAAI49B,OAAJ,CAAY,UAAZ,EAAwB,SAAxB,CAAN;AACD;AACF;;AACD,YAAI,CAAClpB,eAAeiqB,WAAf,EAA4Br8B,GAA5B,CAAL,EAAuC;AACrCxE,iBAAO,MAAMwE,GAAN,GAAY,GAAnB;AACD;;AACD,YAAI,CAACoH,GAAL,EAAU;AACR,cAAI1J,IAAI29B,IAAJ,CAAS32B,OAAT,CAAiBk4B,KAAK9wB,KAAtB,IAA+B,CAAnC,EAAsC;AACpC,gBAAI4nB,OAAOwI,YAAP,CAAJ,EAA0B;AACxB90B,oBAAMw0B,YAAYl+B,GAAZ,EAAiBk/B,KAAK9wB,KAAtB,EAA6B,IAA7B,CAAN;AACD,aAFD,MAEO;AACL1E,oBAAMw0B,YAAYl+B,GAAZ,EAAiBk/B,KAAK9wB,KAAtB,EAA6BowB,eAAe,CAA5C,CAAN;AACD;;AACD,gBAAI90B,IAAI1C,OAAJ,CAAY,IAAZ,IAAoB,CAAC,CAAzB,EAA4B;AAC1B,kBAAIge,KAAJ,EAAW;AACTtb,sBAAMA,IAAI+D,KAAJ,CAAU,IAAV,EAAgBC,GAAhB,CAAoB,UAASG,IAAT,EAAe;AACvC,yBAAO,OAAOA,IAAd;AACD,iBAFK,EAEH3H,IAFG,CAEE,IAFF,EAEQmL,MAFR,CAEe,CAFf,CAAN;AAGD,eAJD,MAIO;AACL3H,sBAAM,OAAOA,IAAI+D,KAAJ,CAAU,IAAV,EAAgBC,GAAhB,CAAoB,UAASG,IAAT,EAAe;AAC9C,yBAAO,QAAQA,IAAf;AACD,iBAFY,EAEV3H,IAFU,CAEL,IAFK,CAAb;AAGD;AACF;AACF,WAjBD,MAiBO;AACLwD,kBAAM1J,IAAI49B,OAAJ,CAAY,YAAZ,EAA0B,SAA1B,CAAN;AACD;AACF;;AACD,YAAIhO,YAAY9xB,IAAZ,CAAJ,EAAuB;AACrB,cAAIknB,SAAS1iB,IAAIqH,KAAJ,CAAU,OAAV,CAAb,EAAiC;AAC/B,mBAAOD,GAAP;AACD;;AACD5L,iBAAOsE,KAAKC,SAAL,CAAe,KAAKC,GAApB,CAAP;;AACA,cAAIxE,KAAK6L,KAAL,CAAW,8BAAX,CAAJ,EAAgD;AAC9C7L,mBAAOA,KAAKuT,MAAL,CAAY,CAAZ,EAAevT,KAAKf,MAAL,GAAc,CAA7B,CAAP;AACAe,mBAAOkC,IAAI49B,OAAJ,CAAY9/B,IAAZ,EAAkB,MAAlB,CAAP;AACD,WAHD,MAGO;AACLA,mBAAOA,KAAKgP,OAAL,CAAa,IAAb,EAAmB,KAAnB,EACKA,OADL,CACa,MADb,EACqB,GADrB,EAEKA,OAFL,CAEa,UAFb,EAEyB,GAFzB,CAAP;AAGAhP,mBAAOkC,IAAI49B,OAAJ,CAAY9/B,IAAZ,EAAkB,QAAlB,CAAP;AACD;AACF;;AAED,eAAOA,OAAO,IAAP,GAAc4L,GAArB;AACD;;AAGD,eAASs1B,oBAAT,CAA8B/qB,MAA9B,EAAsClB,IAAtC,EAA4C8rB,MAA5C,EAAoD;AAClD,YAAIO,cAAc,CAAlB;AACA,YAAIriC,SAASkX,OAAOiK,MAAP,CAAc,UAAS0B,IAAT,EAAeyf,GAAf,EAAoB;AAC7CD;AACA,cAAIC,IAAIr4B,OAAJ,CAAY,IAAZ,KAAqB,CAAzB,EAA4Bo4B;AAC5B,iBAAOxf,OAAOyf,IAAIvyB,OAAJ,CAAY,iBAAZ,EAA+B,EAA/B,EAAmC/P,MAA1C,GAAmD,CAA1D;AACD,SAJY,EAIV,CAJU,CAAb;;AAMA,YAAIA,SAAS,EAAb,EAAiB;AACf,iBAAO8hC,OAAO,CAAP,KACC9rB,SAAS,EAAT,GAAc,EAAd,GAAmBA,OAAO,KAD3B,IAEA,GAFA,GAGAkB,OAAO/N,IAAP,CAAY,OAAZ,CAHA,GAIA,GAJA,GAKA24B,OAAO,CAAP,CALP;AAMD;;AAED,eAAOA,OAAO,CAAP,IAAY9rB,IAAZ,GAAmB,GAAnB,GAAyBkB,OAAO/N,IAAP,CAAY,IAAZ,CAAzB,GAA6C,GAA7C,GAAmD24B,OAAO,CAAP,CAA1D;AACD,OA7byB,CAgc1B;AACA;;;AACA,eAASlhC,OAAT,CAAiB09B,EAAjB,EAAqB;AACnB,eAAOp8B,MAAMtB,OAAN,CAAc09B,EAAd,CAAP;AACD;;AACDx+B,cAAQc,OAAR,GAAkBA,OAAlB;;AAEA,eAAS29B,SAAT,CAAmBvX,GAAnB,EAAwB;AACtB,eAAO,OAAOA,GAAP,KAAe,SAAtB;AACD;;AACDlnB,cAAQy+B,SAAR,GAAoBA,SAApB;;AAEA,eAAStF,MAAT,CAAgBjS,GAAhB,EAAqB;AACnB,eAAOA,QAAQ,IAAf;AACD;;AACDlnB,cAAQm5B,MAAR,GAAiBA,MAAjB;;AAEA,eAASX,iBAAT,CAA2BtR,GAA3B,EAAgC;AAC9B,eAAOA,OAAO,IAAd;AACD;;AACDlnB,cAAQw4B,iBAAR,GAA4BA,iBAA5B;;AAEA,eAAS5F,QAAT,CAAkB1L,GAAlB,EAAuB;AACrB,eAAO,OAAOA,GAAP,KAAe,QAAtB;AACD;;AACDlnB,cAAQ4yB,QAAR,GAAmBA,QAAnB;;AAEA,eAAS9iB,QAAT,CAAkBoX,GAAlB,EAAuB;AACrB,eAAO,OAAOA,GAAP,KAAe,QAAtB;AACD;;AACDlnB,cAAQ8P,QAAR,GAAmBA,QAAnB;;AAEA,eAAS4uB,QAAT,CAAkBxX,GAAlB,EAAuB;AACrB,eAAO,QAAOA,GAAP,uDAAOA,GAAP,OAAe,QAAtB;AACD;;AACDlnB,cAAQ0+B,QAAR,GAAmBA,QAAnB;;AAEA,eAAS3L,WAAT,CAAqB7L,GAArB,EAA0B;AACxB,eAAOA,QAAQ,KAAK,CAApB;AACD;;AACDlnB,cAAQ+yB,WAAR,GAAsBA,WAAtB;;AAEA,eAAS4L,QAAT,CAAkBvzB,EAAlB,EAAsB;AACpB,eAAO0nB,SAAS1nB,EAAT,KAAgBwzB,eAAexzB,EAAf,MAAuB,iBAA9C;AACD;;AACDpL,cAAQ2+B,QAAR,GAAmBA,QAAnB;;AAEA,eAAS7L,QAAT,CAAkB5L,GAAlB,EAAuB;AACrB,eAAO,QAAOA,GAAP,uDAAOA,GAAP,OAAe,QAAf,IAA2BA,QAAQ,IAA1C;AACD;;AACDlnB,cAAQ8yB,QAAR,GAAmBA,QAAnB;;AAEA,eAAS+L,MAAT,CAAgBpyB,CAAhB,EAAmB;AACjB,eAAOqmB,SAASrmB,CAAT,KAAemyB,eAAenyB,CAAf,MAAsB,eAA5C;AACD;;AACDzM,cAAQ6+B,MAAR,GAAiBA,MAAjB;;AAEA,eAASC,OAAT,CAAiB5/B,CAAjB,EAAoB;AAClB,eAAO4zB,SAAS5zB,CAAT,MACF0/B,eAAe1/B,CAAf,MAAsB,gBAAtB,IAA0CA,aAAaW,KADrD,CAAP;AAED;;AACDG,cAAQ8+B,OAAR,GAAkBA,OAAlB;;AAEA,eAAS9L,UAAT,CAAoB9L,GAApB,EAAyB;AACvB,eAAO,OAAOA,GAAP,KAAe,UAAtB;AACD;;AACDlnB,cAAQgzB,UAAR,GAAqBA,UAArB;;AAEA,eAAS+L,WAAT,CAAqB7X,GAArB,EAA0B;AACxB,eAAOA,QAAQ,IAAR,IACA,OAAOA,GAAP,KAAe,SADf,IAEA,OAAOA,GAAP,KAAe,QAFf,IAGA,OAAOA,GAAP,KAAe,QAHf,IAIA,QAAOA,GAAP,uDAAOA,GAAP,OAAe,QAJf,IAI4B;AAC5B,eAAOA,GAAP,KAAe,WALtB;AAMD;;AACDlnB,cAAQ++B,WAAR,GAAsBA,WAAtB;AAEA/+B,cAAQgkB,QAAR,GAAmBtkB,QAAQ,oBAAR,CAAnB;;AAEA,eAASk/B,cAAT,CAAwBr/B,CAAxB,EAA2B;AACzB,eAAOoB,OAAOC,SAAP,CAAiBC,QAAjB,CAA0BZ,IAA1B,CAA+BV,CAA/B,CAAP;AACD;;AAGD,eAASiR,GAAT,CAAapR,CAAb,EAAgB;AACd,eAAOA,IAAI,EAAJ,GAAS,MAAMA,EAAEyB,QAAF,CAAW,EAAX,CAAf,GAAgCzB,EAAEyB,QAAF,CAAW,EAAX,CAAvC;AACD;;AAGD,UAAI4hC,SAAS,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EACC,KADD,EACQ,KADR,EACe,KADf,CAAb,CA1hB0B,CA6hB1B;;AACA,eAASxmB,SAAT,GAAqB;AACnB,YAAIxP,IAAI,IAAIiB,IAAJ,EAAR;AACA,YAAIyO,OAAO,CAAC3L,IAAI/D,EAAEi2B,QAAF,EAAJ,CAAD,EACClyB,IAAI/D,EAAEk2B,UAAF,EAAJ,CADD,EAECnyB,IAAI/D,EAAEm2B,UAAF,EAAJ,CAFD,EAEsBv5B,IAFtB,CAE2B,GAF3B,CAAX;AAGA,eAAO,CAACoD,EAAEo2B,OAAF,EAAD,EAAcJ,OAAOh2B,EAAEq2B,QAAF,EAAP,CAAd,EAAoC3mB,IAApC,EAA0C9S,IAA1C,CAA+C,GAA/C,CAAP;AACD,OApiByB,CAuiB1B;;;AACArJ,cAAQqP,GAAR,GAAc,YAAW;AACvBjF,gBAAQiF,GAAR,CAAY,SAAZ,EAAuB4M,WAAvB,EAAoCjc,QAAQkgC,MAAR,CAAez+B,KAAf,CAAqBzB,OAArB,EAA8B0B,SAA9B,CAApC;AACD,OAFD,CAxiB0B,CA6iB1B;;;;;;;;;;;;;;AAaA1B,cAAQ2F,QAAR,GAAmBjG,QAAQ,UAAR,CAAnB;;AAEAM,cAAQkhC,OAAR,GAAkB,UAAS6B,MAAT,EAAiBC,GAAjB,EAAsB;AACtC;AACA,YAAI,CAACA,GAAD,IAAQ,CAAClQ,SAASkQ,GAAT,CAAb,EAA4B,OAAOD,MAAP;AAE5B,YAAIjlB,OAAOnd,OAAOmd,IAAP,CAAYklB,GAAZ,CAAX;AACA,YAAIrjC,IAAIme,KAAK5d,MAAb;;AACA,eAAOP,GAAP,EAAY;AACVojC,iBAAOjlB,KAAKne,CAAL,CAAP,IAAkBqjC,IAAIllB,KAAKne,CAAL,CAAJ,CAAlB;AACD;;AACD,eAAOojC,MAAP;AACD,OAVD;;AAYA,eAASlrB,cAAT,CAAwBxP,GAAxB,EAA6B6b,IAA7B,EAAmC;AACjC,eAAOvjB,OAAOC,SAAP,CAAiBiX,cAAjB,CAAgC5X,IAAhC,CAAqCoI,GAArC,EAA0C6b,IAA1C,CAAP;AACD;AAEA,KA5kBD,EA4kBGjkB,IA5kBH,CA4kBQ,IA5kBR,EA4kBaP,QAAQ,UAAR,CA5kBb,EA4kBiC,OAAO4E,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAO/C,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOoD,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EA5kBxJ;AA6kBC,GA9kBQ,EA8kBP;AAAC,0BAAqB,EAAtB;AAAyB,gBAAW,EAApC;AAAuC,gBAAW;AAAlD,GA9kBO,CAriVkb;AAmnWlY,MAAG,CAAC,UAASjF,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC7F,2CAD6F,CAG7F;;;;;;;;;;;;;+CAcC,WAASsE,MAAT,EAAiB/D,SAAjB,EAA4B;AAC3B,UAAI0iC,0BAA0BtiC,OAAOC,SAAP,CAAiBC,QAA/C,CAD2B,CAG3B;;AACA,eAASgQ,GAAT,CAAaqO,GAAb,EAAkBgkB,MAAlB,EAA0B5b,IAA1B,EAAgC;AAC9B,YAAIllB,MAAMxB,SAAN,CAAgBiQ,GAApB,EAAyB;AACvB,iBAAOzO,MAAMxB,SAAN,CAAgBiQ,GAAhB,CAAoB5Q,IAApB,CAAyBif,GAAzB,EAA8BgkB,MAA9B,EAAsC5b,IAAtC,CAAP;AACD;;AAED,YAAI6b,QAAQ,IAAI/gC,KAAJ,CAAU8c,IAAIhf,MAAd,CAAZ;;AAEA,aAAK,IAAIP,IAAI,CAAR,EAAWP,IAAI8f,IAAIhf,MAAxB,EAAgCP,IAAIP,CAApC,EAAuCO,GAAvC,EAA4C;AAC1CwjC,gBAAMxjC,CAAN,IAAWujC,OAAOjjC,IAAP,CAAYqnB,IAAZ,EAAkBpI,IAAIvf,CAAJ,CAAlB,EAA0BA,CAA1B,EAA6Buf,GAA7B,CAAX;AACD;;AACD,eAAOikB,KAAP;AACD;;AACD,eAASC,SAAT,CAAmBt6B,IAAnB,EAAyB;AACvB,eAAO;AAAEu6B,kBAAQv6B,KAAKu6B,MAAf;AAAuBC,sBAAYx6B,KAAKw6B,UAAL,CAAgBjhC,KAAhB,CAAsB,CAAtB;AAAnC,SAAP;AACD;;AACD,eAASkhC,WAAT,CAAqBpb,KAArB,EAA4B;AAC1B,YAAI5Q,MAAM,EAAV;;AACA,aAAK,IAAI5X,IAAI,CAAb,EAAgBA,IAAIwoB,MAAMjoB,MAA1B,EAAkCP,GAAlC,EAAuC;AACrC,cAAIwoB,MAAMxoB,CAAN,CAAJ,EAAc;AACZ4X,gBAAInW,IAAJ,CAAS+mB,MAAMxoB,CAAN,CAAT;AACD;AACF;;AACD,eAAO4X,GAAP;AACD;;AACD,eAASisB,UAAT,CAAoBlkC,CAApB,EAAuB;AACrB,YAAIF,IAAIE,CAAR;AACAF,YAAIA,EAAE6Q,OAAF,CAAU,IAAV,EAAgB,OAAhB,CAAJ;AACA7Q,YAAIA,EAAE6Q,OAAF,CAAU,IAAV,EAAgB,MAAhB,CAAJ;AACA7Q,YAAIA,EAAE6Q,OAAF,CAAU,IAAV,EAAgB,MAAhB,CAAJ;AACA7Q,YAAIA,EAAE6Q,OAAF,CAAU,IAAV,EAAgB,QAAhB,CAAJ;AAEA,eAAO7Q,CAAP;AACD,OApC0B,CAsC3B;AACA;;;AACA,eAAS+kB,YAAT,CAAsB9b,GAAtB,EAA2BiC,KAA3B,EAAkCm5B,gBAAlC,EAAoD;AAClDn5B,gBAAQA,SAAS,EAAjB;AACAm5B,2BAAmBA,oBAAoB,EAAvC;AAEA,YAAI9jC,CAAJ;;AAEA,aAAKA,IAAI,CAAT,EAAYA,IAAI2K,MAAMpK,MAAtB,EAA8BP,KAAK,CAAnC,EAAsC;AACpC,cAAI2K,MAAM3K,CAAN,MAAa0I,GAAjB,EAAsB;AACpB,mBAAOo7B,iBAAiB9jC,CAAjB,CAAP;AACD;AACF;;AAED,YAAImlB,gBAAJ;;AAEA,YAAI,qBAAqBme,wBAAwBhjC,IAAxB,CAA6BoI,GAA7B,CAAzB,EAA4D;AAC1DiC,gBAAMlJ,IAAN,CAAWiH,GAAX;AACAyc,6BAAmB,IAAI1iB,KAAJ,CAAUiG,IAAInI,MAAd,CAAnB;AACAujC,2BAAiBriC,IAAjB,CAAsB0jB,gBAAtB;;AACA,eAAKnlB,IAAI,CAAT,EAAYA,IAAI0I,IAAInI,MAApB,EAA4BP,KAAK,CAAjC,EAAoC;AAClCmlB,6BAAiBnlB,CAAjB,IAAsBwkB,aAAa9b,IAAI1I,CAAJ,CAAb,EAAqB2K,KAArB,EAA4Bm5B,gBAA5B,CAAtB;AACD;;AACDn5B,gBAAMyV,GAAN;AACA0jB,2BAAiB1jB,GAAjB;AACD,SATD,MASO,IAAI,QAAO1X,GAAP,uDAAOA,GAAP,OAAe,QAAf,IAA2BA,QAAQ,IAAvC,EAA6C;AAClDiC,gBAAMlJ,IAAN,CAAWiH,GAAX;AACAyc,6BAAmB,EAAnB;AACA2e,2BAAiBriC,IAAjB,CAAsB0jB,gBAAtB;AACA,cAAI4e,aAAa,EAAjB;AAAA,cACIj+B,GADJ;;AAEA,eAAKA,GAAL,2CAAY4C,GAAZ,GAAiB;AACfq7B,uBAAWtiC,IAAX,CAAgBqE,GAAhB;AACD;;AACDi+B,qBAAW3rB,IAAX;;AACA,eAAKpY,IAAI,CAAT,EAAYA,IAAI+jC,WAAWxjC,MAA3B,EAAmCP,KAAK,CAAxC,EAA2C;AACzC8F,kBAAMi+B,WAAW/jC,CAAX,CAAN;AACAmlB,6BAAiBrf,GAAjB,IAAwB0e,aAAa9b,IAAI5C,GAAJ,CAAb,EAAuB6E,KAAvB,EAA8Bm5B,gBAA9B,CAAxB;AACD;;AACDn5B,gBAAMyV,GAAN;AACA0jB,2BAAiB1jB,GAAjB;AACD,SAhBM,MAgBA;AACL+E,6BAAmBzc,GAAnB;AACD;;AACD,eAAOyc,gBAAP;AACD;;AAED,eAAS6e,WAAT,CAAqBL,UAArB,EAAiCM,SAAjC,EAA4CC,SAA5C,EAAuDC,eAAvD,EAAwE;AACtE,YAAIC,eAAe,CAAnB;AAAA,YACIC,eAAeV,WAAWpjC,MAD9B;AAAA,YAEImjC,SAAS,CAFb;AAAA,YAGIY,SAAS,CAHb;;AAKA,eAAOF,eAAeC,YAAtB,EAAoCD,cAApC,EAAoD;AAClD,cAAIG,YAAYZ,WAAWS,YAAX,CAAhB;;AACA,cAAI,CAACG,UAAU1yB,OAAf,EAAwB;AACtB,gBAAI,CAAC0yB,UAAU5yB,KAAX,IAAoBwyB,eAAxB,EAAyC;AACvC,kBAAIvyB,QAAQqyB,UAAUvhC,KAAV,CAAgBghC,MAAhB,EAAwBA,SAASa,UAAUC,KAA3C,CAAZ;AACA5yB,sBAAQV,IAAIU,KAAJ,EAAW,UAASA,KAAT,EAAgB5R,CAAhB,EAAmB;AACpC,oBAAIykC,WAAWP,UAAUI,SAAStkC,CAAnB,CAAf;AACA,uBAAOykC,SAASlkC,MAAT,GAAkBqR,MAAMrR,MAAxB,GAAiCkkC,QAAjC,GAA4C7yB,KAAnD;AACD,eAHO,CAAR;AAKA2yB,wBAAU3yB,KAAV,GAAkBA,MAAMlI,IAAN,CAAW,EAAX,CAAlB;AACD,aARD,MAQO;AACL66B,wBAAU3yB,KAAV,GAAkBqyB,UAAUvhC,KAAV,CAAgBghC,MAAhB,EAAwBA,SAASa,UAAUC,KAA3C,EAAkD96B,IAAlD,CAAuD,EAAvD,CAAlB;AACD;;AACDg6B,sBAAUa,UAAUC,KAApB,CAZsB,CActB;;AACA,gBAAI,CAACD,UAAU5yB,KAAf,EAAsB;AACpB2yB,wBAAUC,UAAUC,KAApB;AACD;AACF,WAlBD,MAkBO;AACLD,sBAAU3yB,KAAV,GAAkBsyB,UAAUxhC,KAAV,CAAgB4hC,MAAhB,EAAwBA,SAASC,UAAUC,KAA3C,EAAkD96B,IAAlD,CAAuD,EAAvD,CAAlB;AACA46B,sBAAUC,UAAUC,KAApB,CAFK,CAIL;AACA;AACA;;AACA,gBAAIJ,gBAAgBT,WAAWS,eAAe,CAA1B,EAA6BzyB,KAAjD,EAAwD;AACtD,kBAAI4f,MAAMoS,WAAWS,eAAe,CAA1B,CAAV;AACAT,yBAAWS,eAAe,CAA1B,IAA+BT,WAAWS,YAAX,CAA/B;AACAT,yBAAWS,YAAX,IAA2B7S,GAA3B;AACD;AACF;AACF;;AAED,eAAOoS,UAAP;AACD;;AAED,eAASe,IAAT,CAAcC,gBAAd,EAAgC;AAC9B,aAAKA,gBAAL,GAAwBA,gBAAxB;AACD;;AACDD,WAAKzjC,SAAL,GAAiB;AACf4M,cAAM,UAASq2B,SAAT,EAAoBD,SAApB,EAA+BxmB,QAA/B,EAAyC;AAC7C,cAAI7b,OAAO,IAAX;;AAEA,mBAAS+K,IAAT,CAAciF,KAAd,EAAqB;AACnB,gBAAI6L,QAAJ,EAAc;AACZzP,yBAAW,YAAW;AAAEyP,yBAAS7c,SAAT,EAAoBgR,KAApB;AAA6B,eAArD,EAAuD,CAAvD;AACA,qBAAO,IAAP;AACD,aAHD,MAGO;AACL,qBAAOA,KAAP;AACD;AACF,WAV4C,CAY7C;;;AACA,cAAIqyB,cAAcC,SAAlB,EAA6B;AAC3B,mBAAOv3B,KAAK,CAAC;AAAEiF,qBAAOqyB;AAAT,aAAD,CAAL,CAAP;AACD;;AACD,cAAI,CAACA,SAAL,EAAgB;AACd,mBAAOt3B,KAAK,CAAC;AAAEiF,qBAAOsyB,SAAT;AAAoBryB,uBAAS;AAA7B,aAAD,CAAL,CAAP;AACD;;AACD,cAAI,CAACqyB,SAAL,EAAgB;AACd,mBAAOv3B,KAAK,CAAC;AAAEiF,qBAAOqyB,SAAT;AAAoBtyB,qBAAO;AAA3B,aAAD,CAAL,CAAP;AACD;;AAEDsyB,sBAAY,KAAKW,QAAL,CAAcX,SAAd,CAAZ;AACAC,sBAAY,KAAKU,QAAL,CAAcV,SAAd,CAAZ;AAEA,cAAIW,SAASZ,UAAU1jC,MAAvB;AAAA,cAA+BukC,SAASZ,UAAU3jC,MAAlD;AACA,cAAIwkC,aAAa,CAAjB;AACA,cAAIC,gBAAgBH,SAASC,MAA7B;AACA,cAAIG,WAAW,CAAC;AAAEvB,oBAAQ,CAAC,CAAX;AAAcC,wBAAY;AAA1B,WAAD,CAAf,CA7B6C,CA+B7C;;AACA,cAAIW,SAAS,KAAKY,aAAL,CAAmBD,SAAS,CAAT,CAAnB,EAAgChB,SAAhC,EAA2CC,SAA3C,EAAsD,CAAtD,CAAb;;AACA,cAAIe,SAAS,CAAT,EAAYvB,MAAZ,GAAqB,CAArB,IAA0BmB,MAA1B,IAAoCP,SAAS,CAAT,IAAcQ,MAAtD,EAA8D;AAC5D;AACA,mBAAOn4B,KAAK,CAAC;AAACiF,qBAAOqyB,UAAUv6B,IAAV,CAAe,EAAf;AAAR,aAAD,CAAL,CAAP;AACD,WApC4C,CAsC7C;;;AACA,mBAASy7B,cAAT,GAA0B;AACxB,iBAAK,IAAIC,eAAe,CAAC,CAAD,GAAKL,UAA7B,EAAyCK,gBAAgBL,UAAzD,EAAqEK,gBAAgB,CAArF,EAAwF;AACtF,kBAAIC,QAAJ;AACA,kBAAIC,UAAUL,SAASG,eAAe,CAAxB,CAAd;AAAA,kBACIG,aAAaN,SAASG,eAAe,CAAxB,CADjB;AAAA,kBAEId,SAAS,CAACiB,aAAaA,WAAW7B,MAAxB,GAAiC,CAAlC,IAAuC0B,YAFpD;;AAGA,kBAAIE,OAAJ,EAAa;AACX;AACAL,yBAASG,eAAe,CAAxB,IAA6BxkC,SAA7B;AACD;;AAED,kBAAI4kC,SAASF,WAAWA,QAAQ5B,MAAR,GAAiB,CAAjB,GAAqBmB,MAA7C;AAAA,kBACIY,YAAYF,cAAc,KAAKjB,MAAnB,IAA6BA,SAASQ,MADtD;;AAEA,kBAAI,CAACU,MAAD,IAAW,CAACC,SAAhB,EAA2B;AACzB;AACAR,yBAASG,YAAT,IAAyBxkC,SAAzB;AACA;AACD,eAhBqF,CAkBtF;AACA;AACA;;;AACA,kBAAI,CAAC4kC,MAAD,IAAYC,aAAaH,QAAQ5B,MAAR,GAAiB6B,WAAW7B,MAAzD,EAAkE;AAChE2B,2BAAW5B,UAAU8B,UAAV,CAAX;AACA3jC,qBAAK8jC,aAAL,CAAmBL,SAAS1B,UAA5B,EAAwC/iC,SAAxC,EAAmD,IAAnD;AACD,eAHD,MAGO;AACLykC,2BAAWC,OAAX,CADK,CACiB;;AACtBD,yBAAS3B,MAAT;AACA9hC,qBAAK8jC,aAAL,CAAmBL,SAAS1B,UAA5B,EAAwC,IAAxC,EAA8C/iC,SAA9C;AACD;;AAED0jC,uBAAS1iC,KAAKsjC,aAAL,CAAmBG,QAAnB,EAA6BpB,SAA7B,EAAwCC,SAAxC,EAAmDkB,YAAnD,CAAT,CA9BsF,CAgCtF;;AACA,kBAAIC,SAAS3B,MAAT,GAAkB,CAAlB,IAAuBmB,MAAvB,IAAiCP,SAAS,CAAT,IAAcQ,MAAnD,EAA2D;AACzD,uBAAOn4B,KAAKq3B,YAAYqB,SAAS1B,UAArB,EAAiCM,SAAjC,EAA4CC,SAA5C,EAAuDtiC,KAAKuiC,eAA5D,CAAL,CAAP;AACD,eAFD,MAEO;AACL;AACAc,yBAASG,YAAT,IAAyBC,QAAzB;AACD;AACF;;AAEDN;AACD,WAlF4C,CAoF7C;AACA;AACA;;;AACA,cAAItnB,QAAJ,EAAc;AACX;AAAA,uBAASrQ,IAAT,GAAgB;AACfY,2BAAW,YAAW;AACpB;AACA,2CACA,IAAI+2B,aAAaC,aAAjB,EAAgC;AAC9B,2BAAOvnB,UAAP;AACD;;AAED,sBAAI,CAAC0nB,gBAAL,EAAuB;AACrB/3B;AACD;AACF,iBAVD,EAUG,CAVH;AAWD;;AAZA,qBAASA,IAAT;AAAA,kBAAD;AAaD,WAdD,MAcO;AACL,mBAAO23B,cAAcC,aAArB,EAAoC;AAClC,kBAAIptB,MAAMutB,gBAAV;;AACA,kBAAIvtB,GAAJ,EAAS;AACP,uBAAOA,GAAP;AACD;AACF;AACF;AACF,SA9Gc;AAgHf8tB,uBAAe,UAAS/B,UAAT,EAAqBhyB,KAArB,EAA4BE,OAA5B,EAAqC;AAClD,cAAI8zB,OAAOhC,WAAWA,WAAWpjC,MAAX,GAAoB,CAA/B,CAAX;;AACA,cAAIolC,QAAQA,KAAKh0B,KAAL,KAAeA,KAAvB,IAAgCg0B,KAAK9zB,OAAL,KAAiBA,OAArD,EAA8D;AAC5D;AACA;AACA8xB,uBAAWA,WAAWpjC,MAAX,GAAoB,CAA/B,IAAoC;AAACikC,qBAAOmB,KAAKnB,KAAL,GAAa,CAArB;AAAwB7yB,qBAAOA,KAA/B;AAAsCE,uBAASA;AAA/C,aAApC;AACD,WAJD,MAIO;AACL8xB,uBAAWliC,IAAX,CAAgB;AAAC+iC,qBAAO,CAAR;AAAW7yB,qBAAOA,KAAlB;AAAyBE,uBAASA;AAAlC,aAAhB;AACD;AACF,SAzHc;AA0HfqzB,uBAAe,UAASG,QAAT,EAAmBpB,SAAnB,EAA8BC,SAA9B,EAAyCkB,YAAzC,EAAuD;AACpE,cAAIP,SAASZ,UAAU1jC,MAAvB;AAAA,cACIukC,SAASZ,UAAU3jC,MADvB;AAAA,cAEImjC,SAAS2B,SAAS3B,MAFtB;AAAA,cAGIY,SAASZ,SAAS0B,YAHtB;AAAA,cAKIQ,cAAc,CALlB;;AAMA,iBAAOlC,SAAS,CAAT,GAAamB,MAAb,IAAuBP,SAAS,CAAT,GAAaQ,MAApC,IAA8C,KAAKpb,MAAL,CAAYua,UAAUP,SAAS,CAAnB,CAAZ,EAAmCQ,UAAUI,SAAS,CAAnB,CAAnC,CAArD,EAAgH;AAC9GZ;AACAY;AACAsB;AACD;;AAED,cAAIA,WAAJ,EAAiB;AACfP,qBAAS1B,UAAT,CAAoBliC,IAApB,CAAyB;AAAC+iC,qBAAOoB;AAAR,aAAzB;AACD;;AAEDP,mBAAS3B,MAAT,GAAkBA,MAAlB;AACA,iBAAOY,MAAP;AACD,SA7Ic;AA+If5a,gBAAQ,UAASmc,IAAT,EAAeC,KAAf,EAAsB;AAC5B,cAAIC,eAAe,IAAnB;AACA,iBAAOF,SAASC,KAAT,IAAmB,KAAKnB,gBAAL,IAAyB,CAACoB,aAAa3gC,IAAb,CAAkBygC,IAAlB,CAA1B,IAAqD,CAACE,aAAa3gC,IAAb,CAAkB0gC,KAAlB,CAAhF;AACD,SAlJc;AAmJflB,kBAAU,UAAShzB,KAAT,EAAgB;AACxB,iBAAOA,MAAMX,KAAN,CAAY,EAAZ,CAAP;AACD;AArJc,OAAjB;AAwJA,UAAI+0B,WAAW,IAAItB,IAAJ,EAAf;AAEA,UAAIuB,WAAW,IAAIvB,IAAJ,CAAS,IAAT,CAAf;AACA,UAAIwB,oBAAoB,IAAIxB,IAAJ,EAAxB;;AACAuB,eAASrB,QAAT,GAAoBsB,kBAAkBtB,QAAlB,GAA6B,UAAShzB,KAAT,EAAgB;AAC/D,eAAOgyB,YAAYhyB,MAAMX,KAAN,CAAY,UAAZ,CAAZ,CAAP;AACD,OAFD;;AAIA,UAAIk1B,UAAU,IAAIzB,IAAJ,CAAS,IAAT,CAAd;;AACAyB,cAAQvB,QAAR,GAAmB,UAAShzB,KAAT,EAAgB;AACjC,eAAOgyB,YAAYhyB,MAAMX,KAAN,CAAY,eAAZ,CAAZ,CAAP;AACD,OAFD;;AAIA,UAAIm1B,WAAW,IAAI1B,IAAJ,EAAf;AAEA,UAAI2B,kBAAkB,IAAI3B,IAAJ,EAAtB;AACA2B,sBAAgBC,UAAhB,GAA6B,IAA7B;;AAEAF,eAASxB,QAAT,GAAoByB,gBAAgBzB,QAAhB,GAA2B,UAAShzB,KAAT,EAAgB;AAC7D,YAAI20B,WAAW,EAAf;AAAA,YACIv1B,QAAQY,MAAMX,KAAN,CAAY,IAAZ,CADZ;;AAEA,aAAK,IAAIjR,IAAI,CAAb,EAAgBA,IAAIgR,MAAMzQ,MAA1B,EAAkCP,GAAlC,EAAuC;AACrC,cAAIqR,OAAOL,MAAMhR,CAAN,CAAX;AAAA,cACIwmC,WAAWx1B,MAAMhR,IAAI,CAAV,CADf;AAAA,cAEIymC,mBAAmBD,YAAYA,SAASA,SAASjmC,MAAT,GAAkB,CAA3B,CAFnC,CADqC,CAKrC;;AACA,cAAI8Q,SAAS,IAAT,IAAiBo1B,qBAAqB,IAA1C,EAAgD;AAC5CF,qBAASA,SAAShmC,MAAT,GAAkB,CAA3B,IAAgCgmC,SAASA,SAAShmC,MAAT,GAAkB,CAA3B,EAA8BmC,KAA9B,CAAoC,CAApC,EAAuC,CAAC,CAAxC,IAA6C,MAA7E;AACH,WAFD,MAEO;AACL,gBAAI,KAAK4jC,UAAT,EAAqB;AACnBj1B,qBAAOA,KAAK4C,IAAL,EAAP,CADmB,CAEnB;;AACA,kBAAIjU,IAAIgR,MAAMzQ,MAAN,GAAe,CAAvB,EAA0B;AACxB8Q,wBAAQ,IAAR;AACD;AACF;;AACDk1B,qBAAS9kC,IAAT,CAAc4P,IAAd;AACD;AACF;;AAED,eAAOk1B,QAAP;AACD,OAxBD;;AA0BA,UAAIG,YAAY,IAAIhC,IAAJ,EAAhB;;AACAgC,gBAAU9B,QAAV,GAAqB,UAAShzB,KAAT,EAAgB;AACnC,YAAIgG,MAAM,EAAV;AAAA,YACI+uB,mBAAmB/0B,MAAMX,KAAN,CAAY,WAAZ,CADvB,CADmC,CAInC;;AACA,YAAI,CAAC01B,iBAAiBA,iBAAiBpmC,MAAjB,GAA0B,CAA3C,CAAL,EAAoD;AAClDomC,2BAAiBvmB,GAAjB;AACD,SAPkC,CASnC;;;AACA,aAAK,IAAIpgB,IAAI,CAAb,EAAgBA,IAAI2mC,iBAAiBpmC,MAArC,EAA6CP,GAA7C,EAAkD;AAChD,cAAIqR,OAAOs1B,iBAAiB3mC,CAAjB,CAAX;;AAEA,cAAIA,IAAI,CAAR,EAAW;AACT4X,gBAAIA,IAAIrX,MAAJ,GAAa,CAAjB,KAAuB8Q,IAAvB;AACD,WAFD,MAEO;AACLuG,gBAAInW,IAAJ,CAAS4P,IAAT;AACD;AACF;;AACD,eAAOuG,GAAP;AACD,OApBD;;AAsBA,UAAIgvB,eAAe,IAAIlC,IAAJ,EAAnB;;AACAkC,mBAAahC,QAAb,GAAwB,UAAShzB,KAAT,EAAgB;AACtC,eAAOgyB,YAAYhyB,MAAMX,KAAN,CAAY,uBAAZ,CAAZ,CAAP;AACD,OAFD;;AAIA,UAAI41B,WAAW,IAAInC,IAAJ,EAAf,CApW2B,CAqW3B;AACA;;AACAmC,eAAS1C,eAAT,GAA2B,IAA3B;AACA0C,eAASjC,QAAT,GAAoBwB,SAASxB,QAA7B;;AACAiC,eAASnd,MAAT,GAAkB,UAASmc,IAAT,EAAeC,KAAf,EAAsB;AACtC,eAAOM,SAAS1c,MAAT,CAAgBmc,KAAKv1B,OAAL,CAAa,YAAb,EAA2B,IAA3B,CAAhB,EAAkDw1B,MAAMx1B,OAAN,CAAc,YAAd,EAA4B,IAA5B,CAAlD,CAAP;AACD,OAFD;;AAIA,UAAIw2B,SAAS;AACXpC,cAAMA,IADK;AAGXqC,mBAAW,UAASC,MAAT,EAAiBC,MAAjB,EAAyBxpB,QAAzB,EAAmC;AAAE,iBAAOuoB,SAASn4B,IAAT,CAAcm5B,MAAd,EAAsBC,MAAtB,EAA8BxpB,QAA9B,CAAP;AAAiD,SAHtF;AAIXypB,mBAAW,UAASF,MAAT,EAAiBC,MAAjB,EAAyBxpB,QAAzB,EAAmC;AAAE,iBAAOwoB,SAASp4B,IAAT,CAAcm5B,MAAd,EAAsBC,MAAtB,EAA8BxpB,QAA9B,CAAP;AAAiD,SAJtF;AAKX0pB,4BAAoB,UAASH,MAAT,EAAiBC,MAAjB,EAAyBxpB,QAAzB,EAAmC;AAAE,iBAAOyoB,kBAAkBr4B,IAAlB,CAAuBm5B,MAAvB,EAA+BC,MAA/B,EAAuCxpB,QAAvC,CAAP;AAA0D,SALxG;AAMX2pB,mBAAW,UAASJ,MAAT,EAAiBC,MAAjB,EAAyBxpB,QAAzB,EAAmC;AAAE,iBAAO2oB,SAASv4B,IAAT,CAAcm5B,MAAd,EAAsBC,MAAtB,EAA8BxpB,QAA9B,CAAP;AAAiD,SANtF;AAOX4pB,0BAAkB,UAASL,MAAT,EAAiBC,MAAjB,EAAyBxpB,QAAzB,EAAmC;AAAE,iBAAO4oB,gBAAgBx4B,IAAhB,CAAqBm5B,MAArB,EAA6BC,MAA7B,EAAqCxpB,QAArC,CAAP;AAAwD,SAPpG;AASX6pB,uBAAe,UAASN,MAAT,EAAiBC,MAAjB,EAAyBxpB,QAAzB,EAAmC;AAAE,iBAAOmpB,aAAa/4B,IAAb,CAAkBm5B,MAAlB,EAA0BC,MAA1B,EAAkCxpB,QAAlC,CAAP;AAAqD,SAT9F;AAWX8pB,iBAAS,UAASP,MAAT,EAAiBC,MAAjB,EAAyBxpB,QAAzB,EAAmC;AAAE,iBAAO0oB,QAAQt4B,IAAR,CAAam5B,MAAb,EAAqBC,MAArB,EAA6BxpB,QAA7B,CAAP;AAAgD,SAXnF;AAYX+pB,kBAAU,UAASC,MAAT,EAAiBC,MAAjB,EAAyBjqB,QAAzB,EAAmC;AAC3C,iBAAOopB,SAASh5B,IAAT,CACL,OAAO45B,MAAP,KAAkB,QAAlB,GAA6BA,MAA7B,GAAsC7hC,KAAKC,SAAL,CAAe2e,aAAaijB,MAAb,CAAf,EAAqC7mC,SAArC,EAAgD,IAAhD,CADjC,EAEL,OAAO8mC,MAAP,KAAkB,QAAlB,GAA6BA,MAA7B,GAAsC9hC,KAAKC,SAAL,CAAe2e,aAAakjB,MAAb,CAAf,EAAqC9mC,SAArC,EAAgD,IAAhD,CAFjC,EAGL6c,QAHK,CAAP;AAKD,SAlBU;AAoBXkqB,6BAAqB,UAASC,WAAT,EAAsBC,WAAtB,EAAmCb,MAAnC,EAA2CC,MAA3C,EAAmDa,SAAnD,EAA8DC,SAA9D,EAAyE;AAC5F,cAAInwB,MAAM,EAAV;;AAEA,cAAIgwB,eAAeC,WAAnB,EAAgC;AAC9BjwB,gBAAInW,IAAJ,CAAS,YAAYmmC,WAArB;AACD;;AACDhwB,cAAInW,IAAJ,CAAS,qEAAT;AACAmW,cAAInW,IAAJ,CAAS,SAASmmC,WAAT,IAAwB,OAAOE,SAAP,KAAqB,WAArB,GAAmC,EAAnC,GAAwC,OAAOA,SAAvE,CAAT;AACAlwB,cAAInW,IAAJ,CAAS,SAASomC,WAAT,IAAwB,OAAOE,SAAP,KAAqB,WAArB,GAAmC,EAAnC,GAAwC,OAAOA,SAAvE,CAAT;AAEA,cAAIl6B,OAAO64B,UAAU74B,IAAV,CAAem5B,MAAf,EAAuBC,MAAvB,CAAX;AACAp5B,eAAKpM,IAAL,CAAU;AAACmQ,mBAAO,EAAR;AAAYZ,mBAAO;AAAnB,WAAV,EAX4F,CAWvD;AAErC;;AACA,mBAASg3B,YAAT,CAAsBh3B,KAAtB,EAA6B;AAC3B,mBAAOE,IAAIF,KAAJ,EAAW,UAASytB,KAAT,EAAgB;AAAE,qBAAO,MAAMA,KAAb;AAAqB,aAAlD,CAAP;AACD,WAhB2F,CAkB5F;;;AACA,mBAASwJ,KAAT,CAAeC,QAAf,EAAyBloC,CAAzB,EAA4BmoC,OAA5B,EAAqC;AACnC,gBAAIxC,OAAO93B,KAAKA,KAAKtN,MAAL,GAAc,CAAnB,CAAX;AAAA,gBACI6nC,SAASpoC,MAAM6N,KAAKtN,MAAL,GAAc,CADjC;AAAA,gBAEI8nC,eAAeroC,MAAM6N,KAAKtN,MAAL,GAAc,CAApB,IAAyB4nC,QAAQx2B,KAAR,KAAkBg0B,KAAKh0B,KAFnE,CADmC,CAKnC;;AACA,gBAAI,CAAE,MAAMvM,IAAN,CAAW+iC,QAAQv2B,KAAnB,CAAF,KAAiCw2B,UAAUC,YAA3C,CAAJ,EAA8D;AAC5DH,uBAASzmC,IAAT,CAAc,8BAAd;AACD;AACF;;AAED,cAAI6mC,gBAAgB,CAApB;AAAA,cAAuBC,gBAAgB,CAAvC;AAAA,cAA0CL,WAAW,EAArD;AAAA,cACIM,UAAU,CADd;AAAA,cACiBC,UAAU,CAD3B;;AAEA,eAAK,IAAIzoC,IAAI,CAAb,EAAgBA,IAAI6N,KAAKtN,MAAzB,EAAiCP,GAAjC,EAAsC;AACpC,gBAAImoC,UAAUt6B,KAAK7N,CAAL,CAAd;AAAA,gBACIgR,QAAQm3B,QAAQn3B,KAAR,IAAiBm3B,QAAQv2B,KAAR,CAActB,OAAd,CAAsB,KAAtB,EAA6B,EAA7B,EAAiCW,KAAjC,CAAuC,IAAvC,CAD7B;AAEAk3B,oBAAQn3B,KAAR,GAAgBA,KAAhB;;AAEA,gBAAIm3B,QAAQx2B,KAAR,IAAiBw2B,QAAQt2B,OAA7B,EAAsC;AACpC;AACA,kBAAI,CAACy2B,aAAL,EAAoB;AAClB,oBAAIllB,OAAOvV,KAAK7N,IAAI,CAAT,CAAX;AACAsoC,gCAAgBE,OAAhB;AACAD,gCAAgBE,OAAhB;;AAEA,oBAAIrlB,IAAJ,EAAU;AACR8kB,6BAAWF,aAAa5kB,KAAKpS,KAAL,CAAWtO,KAAX,CAAiB,CAAC,CAAlB,CAAb,CAAX;AACA4lC,mCAAiBJ,SAAS3nC,MAA1B;AACAgoC,mCAAiBL,SAAS3nC,MAA1B;AACD;AACF,eAZmC,CAcpC;;;AACA2nC,uBAASzmC,IAAT,CAAcK,KAAd,CAAoBomC,QAApB,EAA8Bh3B,IAAIF,KAAJ,EAAW,UAASytB,KAAT,EAAgB;AACvD,uBAAO,CAAC0J,QAAQx2B,KAAR,GAAgB,GAAhB,GAAsB,GAAvB,IAA8B8sB,KAArC;AACD,eAF6B,CAA9B;AAGAwJ,oBAAMC,QAAN,EAAgBloC,CAAhB,EAAmBmoC,OAAnB,EAlBoC,CAoBpC;;AACA,kBAAIA,QAAQx2B,KAAZ,EAAmB;AACjB82B,2BAAWz3B,MAAMzQ,MAAjB;AACD,eAFD,MAEO;AACLioC,2BAAWx3B,MAAMzQ,MAAjB;AACD;AACF,aA1BD,MA0BO;AACL;AACA,kBAAI+nC,aAAJ,EAAmB;AACjB;AACA,oBAAIt3B,MAAMzQ,MAAN,IAAgB,CAAhB,IAAqBP,IAAI6N,KAAKtN,MAAL,GAAc,CAA3C,EAA8C;AAC5C;AACA2nC,2BAASzmC,IAAT,CAAcK,KAAd,CAAoBomC,QAApB,EAA8BF,aAAah3B,KAAb,CAA9B;AACD,iBAHD,MAGO;AACL;AACA,sBAAI03B,cAAcjlC,KAAKC,GAAL,CAASsN,MAAMzQ,MAAf,EAAuB,CAAvB,CAAlB;AACAqX,sBAAInW,IAAJ,CACI,SAAS6mC,aAAT,GAAyB,GAAzB,IAAgCE,UAAUF,aAAV,GAA0BI,WAA1D,IACE,IADF,GACSH,aADT,GACyB,GADzB,IACgCE,UAAUF,aAAV,GAA0BG,WAD1D,IAEE,KAHN;AAIA9wB,sBAAInW,IAAJ,CAASK,KAAT,CAAe8V,GAAf,EAAoBswB,QAApB;AACAtwB,sBAAInW,IAAJ,CAASK,KAAT,CAAe8V,GAAf,EAAoBowB,aAAah3B,MAAMtO,KAAN,CAAY,CAAZ,EAAegmC,WAAf,CAAb,CAApB;;AACA,sBAAI13B,MAAMzQ,MAAN,IAAgB,CAApB,EAAuB;AACrB0nC,0BAAMrwB,GAAN,EAAW5X,CAAX,EAAcmoC,OAAd;AACD;;AAEDG,kCAAgB,CAAhB;AACAC,kCAAgB,CAAhB;AACAL,6BAAW,EAAX;AACD;AACF;;AACDM,yBAAWx3B,MAAMzQ,MAAjB;AACAkoC,yBAAWz3B,MAAMzQ,MAAjB;AACD;AACF;;AAED,iBAAOqX,IAAIlO,IAAJ,CAAS,IAAT,IAAiB,IAAxB;AACD,SAlHU;AAoHX+H,qBAAa,UAASk3B,QAAT,EAAmB3B,MAAnB,EAA2BC,MAA3B,EAAmCa,SAAnC,EAA8CC,SAA9C,EAAyD;AACpE,iBAAOjB,OAAOa,mBAAP,CAA2BgB,QAA3B,EAAqCA,QAArC,EAA+C3B,MAA/C,EAAuDC,MAAvD,EAA+Da,SAA/D,EAA0EC,SAA1E,CAAP;AACD,SAtHU;AAwHXa,oBAAY,UAAS5B,MAAT,EAAiB6B,OAAjB,EAA0B;AACpC,cAAIC,UAAUD,QAAQ53B,KAAR,CAAc,IAAd,CAAd;AAAA,cACI83B,QAAQ,EADZ;AAAA,cAEI/oC,IAAI,CAFR;AAAA,cAGIgpC,WAAW,KAHf;AAAA,cAIIC,WAAW,KAJf,CADoC,CAOpC;;AACA,iBAAOjpC,IAAI8oC,QAAQvoC,MAAZ,IAAsB,CAAE,MAAM6E,IAAN,CAAW0jC,QAAQ9oC,CAAR,CAAX,CAA/B,EAAwD;AACtDA;AACD,WAVmC,CAYpC;;;AACA,iBAAOA,IAAI8oC,QAAQvoC,MAAnB,EAA2BP,GAA3B,EAAgC;AAC9B,gBAAI8oC,QAAQ9oC,CAAR,EAAW,CAAX,MAAkB,GAAtB,EAA2B;AACzB,kBAAIkpC,cAAcJ,QAAQ9oC,CAAR,EAAWiR,KAAX,CAAiB,kCAAjB,CAAlB;AACA83B,oBAAMvhC,OAAN,CAAc;AACZgJ,uBAAO04B,YAAY,CAAZ,CADK;AAEZC,2BAAW,CAACD,YAAY,CAAZ,CAFA;AAGZr3B,yBAAS,EAHG;AAIZu3B,2BAAWF,YAAY,CAAZ,CAJC;AAKZv3B,uBAAO;AALK,eAAd;AAOD,aATD,MASO,IAAIm3B,QAAQ9oC,CAAR,EAAW,CAAX,MAAkB,GAAtB,EAA2B;AAChC+oC,oBAAM,CAAN,EAASp3B,KAAT,CAAelQ,IAAf,CAAoBqnC,QAAQ9oC,CAAR,EAAW6U,MAAX,CAAkB,CAAlB,CAApB;AACD,aAFM,MAEA,IAAIi0B,QAAQ9oC,CAAR,EAAW,CAAX,MAAkB,GAAtB,EAA2B;AAChC+oC,oBAAM,CAAN,EAASl3B,OAAT,CAAiBpQ,IAAjB,CAAsBqnC,QAAQ9oC,CAAR,EAAW6U,MAAX,CAAkB,CAAlB,CAAtB;AACD,aAFM,MAEA,IAAIi0B,QAAQ9oC,CAAR,EAAW,CAAX,MAAkB,GAAtB,EAA2B;AAChC+oC,oBAAM,CAAN,EAASp3B,KAAT,CAAelQ,IAAf,CAAoBqnC,QAAQ9oC,CAAR,EAAW6U,MAAX,CAAkB,CAAlB,CAApB;AACAk0B,oBAAM,CAAN,EAASl3B,OAAT,CAAiBpQ,IAAjB,CAAsBqnC,QAAQ9oC,CAAR,EAAW6U,MAAX,CAAkB,CAAlB,CAAtB;AACD,aAHM,MAGA,IAAIi0B,QAAQ9oC,CAAR,EAAW,CAAX,MAAkB,IAAtB,EAA4B;AACjC,kBAAI8oC,QAAQ9oC,IAAI,CAAZ,EAAe,CAAf,MAAsB,GAA1B,EAA+B;AAC7BgpC,2BAAW,IAAX;AACD,eAFD,MAEO,IAAIF,QAAQ9oC,IAAI,CAAZ,EAAe,CAAf,MAAsB,GAA1B,EAA+B;AACpCipC,2BAAW,IAAX;AACD;AACF;AACF,WArCmC,CAuCpC;;;AACA,cAAIj4B,QAAQg2B,OAAO/1B,KAAP,CAAa,IAAb,CAAZ;;AACA,eAAKjR,IAAI+oC,MAAMxoC,MAAN,GAAe,CAAxB,EAA2BP,KAAK,CAAhC,EAAmCA,GAAnC,EAAwC;AACtC,gBAAIqpC,OAAON,MAAM/oC,CAAN,CAAX,CADsC,CAEtC;;AACA,iBAAK,IAAIguB,IAAI,CAAb,EAAgBA,IAAIqb,KAAKF,SAAzB,EAAoCnb,GAApC,EAAyC;AACvC,kBAAIhd,MAAMq4B,KAAK74B,KAAL,GAAa,CAAb,GAAiBwd,CAAvB,MAA8Bqb,KAAKx3B,OAAL,CAAamc,CAAb,CAAlC,EAAmD;AACjD,uBAAO,KAAP;AACD;AACF;;AACDvrB,kBAAMxB,SAAN,CAAgBkB,MAAhB,CAAuBL,KAAvB,CAA6BkP,KAA7B,EAAoC,CAACq4B,KAAK74B,KAAL,GAAa,CAAd,EAAiB64B,KAAKF,SAAtB,EAAiCh9B,MAAjC,CAAwCk9B,KAAK13B,KAA7C,CAApC;AACD,WAlDmC,CAoDpC;;;AACA,cAAIq3B,QAAJ,EAAc;AACZ,mBAAO,CAACh4B,MAAMA,MAAMzQ,MAAN,GAAe,CAArB,CAAR,EAAiC;AAC/ByQ,oBAAMoP,GAAN;AACD;AACF,WAJD,MAIO,IAAI6oB,QAAJ,EAAc;AACnBj4B,kBAAMvP,IAAN,CAAW,EAAX;AACD;;AACD,iBAAOuP,MAAMtH,IAAN,CAAW,IAAX,CAAP;AACD,SArLU;AAuLX4/B,6BAAqB,UAASC,OAAT,EAAkB;AACrC,cAAI3xB,MAAM,EAAV;;AACA,eAAK,IAAI5X,IAAI,CAAb,EAAgBA,IAAIupC,QAAQhpC,MAA5B,EAAoCP,GAApC,EAAyC;AACvC,gBAAIwpC,SAASD,QAAQvpC,CAAR,CAAb;;AACA,gBAAIwpC,OAAO73B,KAAX,EAAkB;AAChBiG,kBAAInW,IAAJ,CAAS,OAAT;AACD,aAFD,MAEO,IAAI+nC,OAAO33B,OAAX,EAAoB;AACzB+F,kBAAInW,IAAJ,CAAS,OAAT;AACD;;AAEDmW,gBAAInW,IAAJ,CAASoiC,WAAW2F,OAAO53B,KAAlB,CAAT;;AAEA,gBAAI43B,OAAO73B,KAAX,EAAkB;AAChBiG,kBAAInW,IAAJ,CAAS,QAAT;AACD,aAFD,MAEO,IAAI+nC,OAAO33B,OAAX,EAAoB;AACzB+F,kBAAInW,IAAJ,CAAS,QAAT;AACD;AACF;;AACD,iBAAOmW,IAAIlO,IAAJ,CAAS,EAAT,CAAP;AACD,SA1MU;AA4MX;AACA+/B,6BAAqB,UAASF,OAAT,EAAkB;AACrC,cAAI3xB,MAAM,EAAV;AAAA,cACI4xB,MADJ;AAAA,cAEIE,SAFJ;;AAGA,eAAK,IAAI1pC,IAAI,CAAb,EAAgBA,IAAIupC,QAAQhpC,MAA5B,EAAoCP,GAApC,EAAyC;AACvCwpC,qBAASD,QAAQvpC,CAAR,CAAT;;AACA,gBAAIwpC,OAAO73B,KAAX,EAAkB;AAChB+3B,0BAAY,CAAZ;AACD,aAFD,MAEO,IAAIF,OAAO33B,OAAX,EAAoB;AACzB63B,0BAAY,CAAC,CAAb;AACD,aAFM,MAEA;AACLA,0BAAY,CAAZ;AACD;;AAED9xB,gBAAInW,IAAJ,CAAS,CAACioC,SAAD,EAAYF,OAAO53B,KAAnB,CAAT;AACD;;AACD,iBAAOgG,GAAP;AACD,SA9NU;AAgOX4M,sBAAcA;AAhOH,OAAb,CA7W2B,CAglB3B,yBAhlB2B,CAilB3B;;AACA,UAAI,OAAOhkB,MAAP,KAAkB,WAAlB,IAAiCA,OAAOH,OAA5C,EAAqD;AACnDG,eAAOH,OAAP,GAAiBymC,MAAjB;AACD,OAFD,MAEO,IAAI,OAAO6C,MAAP,KAAkB,UAAlB,IAAgCA,OAAOC,GAA3C,EAAgD;AACrD,0BACAD,OAAO,EAAP,EAAW,YAAW;AAAE,iBAAO7C,MAAP;AAAgB,SAAxC;AACD,OAHM,MAGA,IAAI,OAAOniC,OAAOmiC,MAAd,KAAyB,WAA7B,EAA0C;AAC/CniC,eAAOmiC,MAAP,GAAgBA,MAAhB;AACD;AACF,KA1lBA,EA0lBC,IA1lBD,CAAD;AA4lBC,GA7mB2D,EA6mB1D,EA7mB0D,CAnnW+X;AAguXrb,MAAG,CAAC,UAAS/mC,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1C;;AAEA,QAAIwpC,mBAAmB,qBAAvB;;AAEArpC,WAAOH,OAAP,GAAiB,UAAU6M,GAAV,EAAe;AAC/B,UAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC5B,cAAM,IAAI8a,SAAJ,CAAc,mBAAd,CAAN;AACA;;AAED,aAAO9a,IAAIoD,OAAJ,CAAYu5B,gBAAZ,EAA+B,MAA/B,CAAP;AACA,KAND;AAQC,GAbQ,EAaP,EAbO,CAhuXkb;AA6uXrb,MAAG,CAAC,UAAS9pC,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC1C,KAAC,UAAUI,OAAV,EAAkB;AACnB;AAEA;;SAIA,IAAI2M,OAAOrN,QAAQ,eAAR,EAAyBqN,IAApC;AAAA,UACI4O,KAAKjc,QAAQ,IAAR,CADT;AAAA,UAEIoJ,OAAOpJ,QAAQ,MAAR,CAFX;AAAA,UAGI0iB,SAASzG,GAAG0G,UAAH,IAAiBvZ,KAAKuZ,UAHnC;AAAA,UAIIonB,KAAK/pC,QAAQ,IAAR,CAJT;AAAA,UAKIgqC,QAAQnkC,KAAKC,SALjB;AAAA,UAMImkC,GANJ;;AAQA,eAASC,KAAT,CAAe3oC,IAAf,EAAqB;AACnB,YAAImI,QAAQhJ,QAAQC,GAAR,CAAYwpC,IAAZ,CAAiBj5B,KAAjB,CAAuB,GAAvB,CAAZ;AACA,YAAIk5B,GAAJ;;AAEA,aAAK,IAAInqC,IAAI,CAAR,EAAW8Q,MAAMrH,MAAMlJ,MAA5B,EAAoCP,IAAI8Q,GAAxC,EAA6C,EAAE9Q,CAA/C,EAAkD;AAChDmqC,gBAAMhhC,KAAKO,IAAL,CAAUD,MAAMzJ,CAAN,CAAV,EAAoBsB,IAApB,CAAN;AACA,cAAImhB,OAAO0nB,GAAP,CAAJ,EAAiB,OAAOA,GAAP;AAClB;AACF;;AAED,cAAOL,GAAGjpC,IAAH,EAAP;AACE,aAAK,QAAL;AACE,cAAIopC,MAAM,mBAAN,CAAJ,EAAgC;AAC9BD,kBAAM;AACFnpC,oBAAM,2BADJ;AAEFupC,mBAAK,mBAFH;AAGF/+B,mBAAK,UAHH;AAIFnF,qBAAO,QAJL;AAKFmkC,wBAAU,WALR;AAMFC,wBAAU;AACNN,qBAAK,UADC;AAENO,uBAAO;AAFD;AANR,aAAN;AAWD,WAZD,MAYO;AACLP,kBAAM;AACFnpC,oBAAM,cADJ;AAEFupC,mBAAK,aAFH;AAGF/+B,mBAAK,IAHH;AAIFm/B,sBAAQ,UAJN;AAKFF,wBAAU;AACNN,qBAAK,YADC;AAENO,uBAAO,CACL,CAAC,CADI,EAEL,CAAC,CAFI,EAGL,CAHK,EAIL,CAJK,EAKL,CALK,EAML,UANK,EAOL,UAPK,EAQL,QARK,EASL,MATK,EAUL,WAVK;AAFD;AALR,aAAN;AAqBD;;AACD;;AACF,aAAK,OAAL;AACEP,gBAAM;AACFnpC,kBAAM,OADJ;AAEFupC,iBAAK,aAFH;AAGF/+B,iBAAK,EAHH;AAIFm/B,oBAAQ,MAJN;AAKFC,kBAAM,IALJ;AAMFH,sBAAU;AACRN,mBAAK,IADG;AAERO,qBAAO,CACL,KADK,EAEL,QAFK,EAGL,UAHK;AAFC;AANR,WAAN;AAeA;;AACF,aAAK,YAAL;AACEP,gBAAM;AACFnpC,kBAAM,SADJ;AAEFupC,iBAAK,aAFH;AAGF/+B,iBAAK,EAHH;AAIFm/B,oBAAQ,SAJN;AAKFtkC,mBAAO,KALL;AAMFukC,kBAAM,KANJ;AAOFH,sBAAU;AACNN,mBAAK,KADC;AAENO,qBAAO,CACL,CAAC,CADI,EAEL,CAAC,CAFI,EAGL,CAHK,EAIL,CAJK,EAKL,CALK;AAFD;AAPR,WAAN;AAkBA;AA1EJ,OAzBmB,CAsGnB;;;;AAIAlqC,gBAAUG,OAAOH,OAAP,GAAiB4L,KAA3B,CA1GmB,CA4GnB;;;AAIA5L,cAAQkhB,OAAR,GAAkB,OAAlB,CAhHmB,CAkHnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,eAAStV,KAAT,CAAeZ,GAAf,EAAoBlE,OAApB,EAA6B5F,EAA7B,EAAiC;AAC/B,YAAIsI,KAAJ;AAAA,YACIrH,IADJ;AAAA,YAEI2E,UAAUA,WAAW,EAFzB;AAAA,YAGI5F,KAAKA,MAAM,YAAU,CAAE,CAH3B,CAD+B,CAM/B;;;AACA,YAAI,CAACyoC,GAAL,EAAU,OAAOzoC,GAAG,IAAIrB,KAAJ,CAAU,sCAAV,CAAH,CAAP;AACVsC,eAAO,CAACwnC,IAAII,GAAL,CAAP,CAR+B,CAU/B;;AACA,YAAIvgC,QAAQ1C,QAAQ0C,KAApB,EAA2B;AACzB,kBAAOmgC,IAAInpC,IAAX;AACE,iBAAK,cAAL;AACE,kBAAI6pC,IAAJ;AAAA,kBAAUjnB,MAAMta,KAAKwhC,OAAL,CAAa9gC,KAAb,EAAoBgL,MAApB,CAA2B,CAA3B,CAAhB;AACA61B,qBAAOA,QAAQjnB,OAAO,MAAP,IAAiB,UAAhC;AACAinB,qBAAOA,QAAQ,SAAStlC,IAAT,CAAcyE,KAAd,KAAwB,SAAvC;AACA6gC,qBAAOA,QAAQ,kBAAkBtlC,IAAlB,CAAuBqe,GAAvB,KAA+B,OAA9C;AACAinB,qBAAOA,QAAQjnB,QAAQ5Z,QAAQ4Z,GAAhB,KAAwB,MAAvC;AACAinB,qBAAOA,QAAQ,MAAf;AACAloC,mBAAKf,IAAL,CAAU,OAAOipC,IAAjB,EAAuBX,MAAMlgC,KAAN,CAAvB;AACA;;AACF,iBAAK,OAAL;AACErH,mBAAKf,IAAL,CAAUuoC,IAAIS,IAAd,EAAoBV,MAAMlgC,KAAN,CAApB,EADF,CAEE;;AACA,kBAAI,CAAC1C,QAAQqjC,MAAb,EAAqBhoC,KAAKf,IAAL,CAAU,wBAAV;AACrB;;AACF,iBAAK,SAAL;AACEe,mBAAKf,IAAL,CAAUuoC,IAAIS,IAAJ,GAAWV,MAAMlgC,KAAN,CAArB;AACA;AAjBJ;AAmBD,SA/B8B,CAiC/B;;;AACA,YAAI1C,QAAQqjC,MAAZ,EAAoBhoC,KAAKf,IAAL,CAAUuoC,IAAIQ,MAAd,EAlCW,CAoC/B;;AACA,YAAIrjC,QAAQmjC,QAAZ,EAAsB;AACpB,cAAIA,WAAWnjC,QAAQmjC,QAAR,GAAmB,EAAlC;AACA,cAAIM,eAAeZ,IAAIM,QAAJ,CAAaC,KAAb,CAAmB//B,OAAnB,CAA2B8/B,QAA3B,CAAnB;;AACA,cAAI,CAACN,IAAIM,QAAJ,CAAaC,KAAb,CAAmB//B,OAAnB,CAA2B8/B,QAA3B,CAAL,EAA2C;AACzC9nC,iBAAKf,IAAL,CAAUuoC,IAAIM,QAAd,EAAwBnjC,QAAQmjC,QAAhC;AACD;AACF,SA3C8B,CA6C/B;;;AACA,YAAInjC,QAAQ7F,IAAR,IAAgB0oC,IAAInpC,IAAJ,KAAa,cAAjC,EAAiD;AAC/C2B,eAAKf,IAAL,CAAU,QAAV,EAAoB0F,QAAQ7F,IAA5B;AACD;;AAED,gBAAO0oC,IAAInpC,IAAX;AACE,eAAK,cAAL;AACE2B,iBAAKf,IAAL,CAAUuoC,IAAI3+B,GAAd;AACA7I,iBAAKf,IAAL,CAAUsoC,MAAM1+B,GAAN,CAAV;AACA,gBAAIlE,QAAQjB,KAAZ,EAAmB1D,KAAKf,IAAL,CAAUsoC,MAAM5iC,QAAQjB,KAAd,CAAV;AACnB;;AACF,eAAK,2BAAL;AACE1D,iBAAKf,IAAL,CAAUuoC,IAAI3+B,GAAd;AACA7I,iBAAKf,IAAL,CAAUsoC,MAAM1+B,GAAN,CAAV;;AACA,gBAAIlE,QAAQjB,KAAZ,EAAmB;AACjB1D,mBAAKf,IAAL,CAAUuoC,IAAI9jC,KAAd;AACA1D,mBAAKf,IAAL,CAAUsoC,MAAM5iC,QAAQjB,KAAd,CAAV;AACD;;AACD,gBAAIiB,QAAQkjC,QAAZ,EAAsB;AACpB7nC,mBAAKf,IAAL,CAAUuoC,IAAIK,QAAd;AACA7nC,mBAAKf,IAAL,CAAUsoC,MAAM5iC,QAAQkjC,QAAd,CAAV;AACD;;AACD;;AACF,eAAK,cAAL;AACE7nC,iBAAKf,IAAL,CAAUuoC,IAAI3+B,GAAd;AACA7I,iBAAKf,IAAL,CAAUsoC,MAAM1+B,GAAN,CAAV;AACA,gBAAIlE,QAAQjB,KAAZ,EAAmB1D,KAAKf,IAAL,CAAUsoC,MAAM5iC,QAAQjB,KAAd,CAAV;AACnB;;AACF,eAAK,OAAL;AACE,gBAAIiB,QAAQjB,KAAZ,EAAmB;AACjB1D,mBAAKf,IAAL,CAAUsoC,MAAM5iC,QAAQjB,KAAd,CAAV;AACA1D,mBAAKf,IAAL,CAAUuoC,IAAI3+B,GAAd;AACA7I,mBAAKf,IAAL,CAAUsoC,MAAM1+B,GAAN,CAAV;AACD,aAJD,MAIO;AACL7I,mBAAKf,IAAL,CAAUsoC,MAAM1+B,GAAN,CAAV;AACD;;AACD;;AACF,eAAK,SAAL;AACE7I,iBAAKf,IAAL,CAAUsoC,MAAM1+B,GAAN,CAAV;AACA,gBAAIlE,QAAQjB,KAAZ,EAAmB1D,KAAKf,IAAL,CAAUuoC,IAAI9jC,KAAJ,GAAY6jC,MAAM5iC,QAAQjB,KAAd,CAAtB;AACnB;AAnCJ,SAlD+B,CAwF/B;;;AACAkH,aAAK5K,KAAKkH,IAAL,CAAU,GAAV,CAAL,EAAqBnI,EAArB;AACD;;AAAA;AAEA,KA5OD,EA4OGjB,IA5OH,CA4OQ,IA5OR,EA4OaP,QAAQ,UAAR,CA5Ob;AA6OC,GA9OQ,EA8OP;AAAC,gBAAW,EAAZ;AAAe,qBAAgB,EAA/B;AAAkC,UAAK,EAAvC;AAA0C,UAAK,EAA/C;AAAkD,YAAO;AAAzD,GA9OO,CA7uXkb;AA29X3X,MAAG,CAAC,UAASA,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACpG,KAAC,UAAUI,OAAV,EAAkBkE,MAAlB,EAAyB;AAC1B;;SAIAlE,QAAQyO,MAAR,GAAiBnP,QAAQ,gBAAR,GAAjB;;AAEA,UAAIuJ,QAAQvJ,QAAQ,KAAR,CAAZ,CAP0B,CAS1B;;;;;;AAMA,UAAI6G,QAAQ,IAAI0C,KAAJ,CAAU;AAAEY,kBAAU;AAAZ,OAAV,CAAZ,CAf0B,CAiB1B;;;AAIA,UAAI6D,OAAOpJ,OAAOoJ,IAAlB;AACA,UAAIC,aAAarJ,OAAOqJ,UAAxB;AACA,UAAIC,cAActJ,OAAOsJ,WAAzB;AACA,UAAIC,eAAevJ,OAAOuJ,YAA1B;AACA,UAAIC,gBAAgBxJ,OAAOwJ,aAA3B;AAEA,UAAI08B,4BAA4B,EAAhC;AAEA,UAAIC,yBAAyBnmC,OAAOk2B,OAApC,CA7B0B,CA+B1B;;;;;AAKAp6B,cAAQoB,cAAR,GAAyB,UAAStC,CAAT,EAAYgC,EAAZ,EAAe;AACtC,YAAI,uBAAuBhC,CAA3B,EAA8B;AAC5B,cAAIurC,sBAAJ,EAA4B;AAC1BnmC,mBAAOk2B,OAAP,GAAiBiQ,sBAAjB;AACD,WAFD,MAEO;AACLnmC,mBAAOk2B,OAAP,GAAiB,YAAW,CAAE,CAA9B;AACD;;AACD,cAAI76B,IAAIsJ,MAAMD,KAAN,CAAYmB,OAAZ,CAAoBqgC,yBAApB,EAA+CtpC,EAA/C,CAAR;;AACA,cAAIvB,KAAK,CAAC,CAAV,EAAa;AAAE6qC,sCAA0B1oC,MAA1B,CAAiCnC,CAAjC,EAAoC,CAApC;AAAyC;AACzD;AACF,OAVD,CApC0B,CAgD1B;;;;AAIAS,cAAQY,EAAR,GAAa,UAAS9B,CAAT,EAAYgC,EAAZ,EAAe;AAC1B,YAAI,uBAAuBhC,CAA3B,EAA8B;AAC5BoF,iBAAOk2B,OAAP,GAAiB,UAASn2B,GAAT,EAAc0P,GAAd,EAAmB/C,IAAnB,EAAwB;AACvC9P,eAAG,IAAIrB,KAAJ,CAAUwE,MAAM,IAAN,GAAa0P,GAAb,GAAmB,GAAnB,GAAyB/C,IAAzB,GAAgC,GAA1C,CAAH;AACA,mBAAO,CAACzK,MAAM6F,aAAd;AACD,WAHD;;AAIAo+B,oCAA0BppC,IAA1B,CAA+BF,EAA/B;AACD;AACF,OARD,CApD0B,CA8D1B;AACA;AACA;;;AACAqF,YAAMJ,KAAN,CAAYpE,kBAAZ,CAA+B,aAA/B;AAEA,UAAI2oC,iBAAiB,EAArB;AAAA,UACIC,gBADJ;;AAGA,eAASC,SAAT,GAAqB;AACnB,YAAIC,iBAAiB,IAAIn9B,IAAJ,GAAWkX,OAAX,EAArB;;AACA,eAAO8lB,eAAexqC,MAAf,IAA0B,IAAIwN,IAAJ,GAAWkX,OAAX,KAAuBimB,cAAxB,GAA0C,GAA1E,EAA+E;AAC7EH,yBAAetjC,KAAf;AACD;;AACD,YAAIsjC,eAAexqC,MAAnB,EAA2B;AACzByqC,6BAAmBh9B,WAAWi9B,SAAX,EAAsB,CAAtB,CAAnB;AACD,SAFD,MAEO;AACLD,6BAAmB,IAAnB;AACD;AACF,OAhFyB,CAkF1B;;;;AAIA1hC,YAAMM,MAAN,CAAaoV,WAAb,GAA2B,UAASvB,QAAT,EAAmB;AAC5CstB,uBAAetpC,IAAf,CAAoBgc,QAApB;;AACA,YAAI,CAACutB,gBAAL,EAAuB;AACrBA,6BAAmBh9B,WAAWi9B,SAAX,EAAsB,CAAtB,CAAnB;AACD;AACF,OALD,CAtF0B,CA6F1B;;;;;;AAKArkC,YAAMukC,UAAN,GAAmB,UAASzmC,GAAT,EAAc;AAC/B4E,cAAMD,KAAN,CAAYyB,OAAZ,CAAoB+/B,yBAApB,EAA+C,UAAUtpC,EAAV,EAAc;AAC3DA,aAAGmD,GAAH;AACD,SAFD;AAGA,cAAMA,GAAN;AACD,OALD,CAlG0B,CAyG1B;;;;;AAKAkC,YAAMoD,EAAN,GAAW,UAASA,EAAT,EAAY;AACrBV,cAAMrI,SAAN,CAAgB+I,EAAhB,CAAmB1J,IAAnB,CAAwB,IAAxB,EAA8B0J,EAA9B;AACA,aAAKxD,KAAL,CAAWlE,IAAX,CAAgB,aAAhB,EAA+BqC,MAA/B,EAAuC,IAAvC,EAA6C,IAA7C;AACA,eAAO,IAAP;AACD,OAJD,CA9G0B,CAoH1B;;;;AAIAiC,YAAMkC,KAAN,GAAc,UAASqd,IAAT,EAAc;AAC1B,YAAI,YAAY,OAAOA,IAAvB,EAA6BA,OAAO;AAAEnc,cAAImc;AAAN,SAAP;;AAC7B,aAAK,IAAIilB,GAAT,2CAAgBjlB,IAAhB;AAAsB,eAAKilB,GAAL,EAAUjlB,KAAKilB,GAAL,CAAV;AAAtB;;AACA,eAAO,IAAP;AACD,OAJD,CAxH0B,CA8H1B;;;;AAIAxkC,YAAMM,GAAN,GAAY,UAAS3F,EAAT,EAAY;AACtB,YAAI4F,UAAUP,MAAMO,OAApB;AACAP,cAAMsF,OAAN,CAAc,UAAd;AAEA,YAAIm/B,QAAQ/hC,MAAMD,KAAN,CAAYwa,UAAZ,CAAuBlf,OAAO0Q,QAAP,CAAgBD,MAAhB,IAA0B,EAAjD,CAAZ;AACA,YAAIi2B,MAAMvjC,IAAV,EAAgBlB,MAAMkB,IAAN,CAAW,IAAIM,MAAJ,CAAWijC,MAAMvjC,IAAjB,CAAX;AAChB,YAAIujC,MAAMthC,KAAV,EAAiBnD,MAAMkB,IAAN,CAAWujC,MAAMthC,KAAjB;AACjB,YAAIshC,MAAM3/B,MAAV,EAAkB9E,MAAM8E,MAAN;AAElB,eAAOpC,MAAMrI,SAAN,CAAgBiG,GAAhB,CAAoB5G,IAApB,CAAyBsG,KAAzB,EAAgC,UAASlC,GAAT,EAAa;AAClD;AACA,cAAI6O,WAAW5O,OAAO4O,QAAtB;;AACA,cAAIA,YAAYA,SAASC,cAAT,CAAwB,OAAxB,CAAZ,IAAgDrM,QAAQqF,cAAR,KAA2B,IAA/E,EAAqF;AACnFlD,kBAAMD,KAAN,CAAY8a,aAAZ,CAA0B,MAA1B;AACD;;AACD,cAAI5iB,EAAJ,EAAQA,GAAGmD,GAAH;AACT,SAPM,CAAP;AAQD,OAjBD,CAlI0B,CAqJ1B;;;;;AAKA4E,YAAM7I,OAAN,GAAgBA,OAAhB,CA1J0B,CA4J1B;;;AAIAuE,aAAOsE,KAAP,GAAeA,KAAf;AACAtE,aAAO4B,KAAP,GAAeA,KAAf;AAEC,KAnKD,EAmKGtG,IAnKH,CAmKQ,IAnKR,EAmKaP,QAAQ,UAAR,CAnKb,EAmKiC,OAAO4E,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAO/C,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOoD,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAnKxJ;AAoKC,GArKkE,EAqKjE;AAAC,WAAM,CAAP;AAAS,gBAAW,EAApB;AAAuB,sBAAiB;AAAxC,GArKiE;AA39XwX,CAA3b,EAgoYgD,EAhoYhD,EAgoYmD,CAAC,EAAD,CAhoYnD","file":"packages/zurb:foundation-sites/test/javascript/lib/mocha.js.map","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (process){\nmodule.exports = process.env.COV\n  ? require('./lib-cov/mocha')\n  : require('./lib/mocha');\n\n}).call(this,require('_process'))\n},{\"./lib-cov/mocha\":undefined,\"./lib/mocha\":14,\"_process\":51}],2:[function(require,module,exports){\n/* eslint-disable no-unused-vars */\nmodule.exports = function(type) {\n  return function() {};\n};\n\n},{}],3:[function(require,module,exports){\n/**\n * Module exports.\n */\n\nexports.EventEmitter = EventEmitter;\n\n/**\n * Object#hasOwnProperty reference.\n */\nvar objToString = Object.prototype.toString;\n\n/**\n * Check if a value is an array.\n *\n * @api private\n * @param {*} val The value to test.\n * @return {boolean} true if the value is a boolean, otherwise false.\n */\nfunction isArray(val) {\n  return objToString.call(val) === '[object Array]';\n}\n\n/**\n * Event emitter constructor.\n *\n * @api public\n */\nfunction EventEmitter() {}\n\n/**\n * Add a listener.\n *\n * @api public\n * @param {string} name Event name.\n * @param {Function} fn Event handler.\n * @return {EventEmitter} Emitter instance.\n */\nEventEmitter.prototype.on = function(name, fn) {\n  if (!this.$events) {\n    this.$events = {};\n  }\n\n  if (!this.$events[name]) {\n    this.$events[name] = fn;\n  } else if (isArray(this.$events[name])) {\n    this.$events[name].push(fn);\n  } else {\n    this.$events[name] = [this.$events[name], fn];\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n/**\n * Adds a volatile listener.\n *\n * @api public\n * @param {string} name Event name.\n * @param {Function} fn Event handler.\n * @return {EventEmitter} Emitter instance.\n */\nEventEmitter.prototype.once = function(name, fn) {\n  var self = this;\n\n  function on() {\n    self.removeListener(name, on);\n    fn.apply(this, arguments);\n  }\n\n  on.listener = fn;\n  this.on(name, on);\n\n  return this;\n};\n\n/**\n * Remove a listener.\n *\n * @api public\n * @param {string} name Event name.\n * @param {Function} fn Event handler.\n * @return {EventEmitter} Emitter instance.\n */\nEventEmitter.prototype.removeListener = function(name, fn) {\n  if (this.$events && this.$events[name]) {\n    var list = this.$events[name];\n\n    if (isArray(list)) {\n      var pos = -1;\n\n      for (var i = 0, l = list.length; i < l; i++) {\n        if (list[i] === fn || (list[i].listener && list[i].listener === fn)) {\n          pos = i;\n          break;\n        }\n      }\n\n      if (pos < 0) {\n        return this;\n      }\n\n      list.splice(pos, 1);\n\n      if (!list.length) {\n        delete this.$events[name];\n      }\n    } else if (list === fn || (list.listener && list.listener === fn)) {\n      delete this.$events[name];\n    }\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners for an event.\n *\n * @api public\n * @param {string} name Event name.\n * @return {EventEmitter} Emitter instance.\n */\nEventEmitter.prototype.removeAllListeners = function(name) {\n  if (name === undefined) {\n    this.$events = {};\n    return this;\n  }\n\n  if (this.$events && this.$events[name]) {\n    this.$events[name] = null;\n  }\n\n  return this;\n};\n\n/**\n * Get all listeners for a given event.\n *\n * @api public\n * @param {string} name Event name.\n * @return {EventEmitter} Emitter instance.\n */\nEventEmitter.prototype.listeners = function(name) {\n  if (!this.$events) {\n    this.$events = {};\n  }\n\n  if (!this.$events[name]) {\n    this.$events[name] = [];\n  }\n\n  if (!isArray(this.$events[name])) {\n    this.$events[name] = [this.$events[name]];\n  }\n\n  return this.$events[name];\n};\n\n/**\n * Emit an event.\n *\n * @api public\n * @param {string} name Event name.\n * @return {boolean} true if at least one handler was invoked, else false.\n */\nEventEmitter.prototype.emit = function(name) {\n  if (!this.$events) {\n    return false;\n  }\n\n  var handler = this.$events[name];\n\n  if (!handler) {\n    return false;\n  }\n\n  var args = Array.prototype.slice.call(arguments, 1);\n\n  if (typeof handler === 'function') {\n    handler.apply(this, args);\n  } else if (isArray(handler)) {\n    var listeners = handler.slice();\n\n    for (var i = 0, l = listeners.length; i < l; i++) {\n      listeners[i].apply(this, args);\n    }\n  } else {\n    return false;\n  }\n\n  return true;\n};\n\n},{}],4:[function(require,module,exports){\n/**\n * Expose `Progress`.\n */\n\nmodule.exports = Progress;\n\n/**\n * Initialize a new `Progress` indicator.\n */\nfunction Progress() {\n  this.percent = 0;\n  this.size(0);\n  this.fontSize(11);\n  this.font('helvetica, arial, sans-serif');\n}\n\n/**\n * Set progress size to `size`.\n *\n * @api public\n * @param {number} size\n * @return {Progress} Progress instance.\n */\nProgress.prototype.size = function(size) {\n  this._size = size;\n  return this;\n};\n\n/**\n * Set text to `text`.\n *\n * @api public\n * @param {string} text\n * @return {Progress} Progress instance.\n */\nProgress.prototype.text = function(text) {\n  this._text = text;\n  return this;\n};\n\n/**\n * Set font size to `size`.\n *\n * @api public\n * @param {number} size\n * @return {Progress} Progress instance.\n */\nProgress.prototype.fontSize = function(size) {\n  this._fontSize = size;\n  return this;\n};\n\n/**\n * Set font to `family`.\n *\n * @param {string} family\n * @return {Progress} Progress instance.\n */\nProgress.prototype.font = function(family) {\n  this._font = family;\n  return this;\n};\n\n/**\n * Update percentage to `n`.\n *\n * @param {number} n\n * @return {Progress} Progress instance.\n */\nProgress.prototype.update = function(n) {\n  this.percent = n;\n  return this;\n};\n\n/**\n * Draw on `ctx`.\n *\n * @param {CanvasRenderingContext2d} ctx\n * @return {Progress} Progress instance.\n */\nProgress.prototype.draw = function(ctx) {\n  try {\n    var percent = Math.min(this.percent, 100);\n    var size = this._size;\n    var half = size / 2;\n    var x = half;\n    var y = half;\n    var rad = half - 1;\n    var fontSize = this._fontSize;\n\n    ctx.font = fontSize + 'px ' + this._font;\n\n    var angle = Math.PI * 2 * (percent / 100);\n    ctx.clearRect(0, 0, size, size);\n\n    // outer circle\n    ctx.strokeStyle = '#9f9f9f';\n    ctx.beginPath();\n    ctx.arc(x, y, rad, 0, angle, false);\n    ctx.stroke();\n\n    // inner circle\n    ctx.strokeStyle = '#eee';\n    ctx.beginPath();\n    ctx.arc(x, y, rad - 1, 0, angle, true);\n    ctx.stroke();\n\n    // text\n    var text = this._text || (percent | 0) + '%';\n    var w = ctx.measureText(text).width;\n\n    ctx.fillText(text, x - w / 2 + 1, y + fontSize / 2 - 1);\n  } catch (err) {\n    // don't fail if we can't render progress\n  }\n  return this;\n};\n\n},{}],5:[function(require,module,exports){\n(function (global){\nexports.isatty = function isatty() {\n  return true;\n};\n\nexports.getWindowSize = function getWindowSize() {\n  if ('innerHeight' in global) {\n    return [global.innerHeight, global.innerWidth];\n  }\n  // In a Web Worker, the DOM Window is not available.\n  return [640, 480];\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],6:[function(require,module,exports){\n/**\n * Expose `Context`.\n */\n\nmodule.exports = Context;\n\n/**\n * Initialize a new `Context`.\n *\n * @api private\n */\nfunction Context() {}\n\n/**\n * Set or get the context `Runnable` to `runnable`.\n *\n * @api private\n * @param {Runnable} runnable\n * @return {Context}\n */\nContext.prototype.runnable = function(runnable) {\n  if (!arguments.length) {\n    return this._runnable;\n  }\n  this.test = this._runnable = runnable;\n  return this;\n};\n\n/**\n * Set test timeout `ms`.\n *\n * @api private\n * @param {number} ms\n * @return {Context} self\n */\nContext.prototype.timeout = function(ms) {\n  if (!arguments.length) {\n    return this.runnable().timeout();\n  }\n  this.runnable().timeout(ms);\n  return this;\n};\n\n/**\n * Set test timeout `enabled`.\n *\n * @api private\n * @param {boolean} enabled\n * @return {Context} self\n */\nContext.prototype.enableTimeouts = function(enabled) {\n  this.runnable().enableTimeouts(enabled);\n  return this;\n};\n\n/**\n * Set test slowness threshold `ms`.\n *\n * @api private\n * @param {number} ms\n * @return {Context} self\n */\nContext.prototype.slow = function(ms) {\n  this.runnable().slow(ms);\n  return this;\n};\n\n/**\n * Mark a test as skipped.\n *\n * @api private\n * @return {Context} self\n */\nContext.prototype.skip = function() {\n  this.runnable().skip();\n  return this;\n};\n\n/**\n * Inspect the context void of `._runnable`.\n *\n * @api private\n * @return {string}\n */\nContext.prototype.inspect = function() {\n  return JSON.stringify(this, function(key, val) {\n    return key === 'runnable' || key === 'test' ? undefined : val;\n  }, 2);\n};\n\n},{}],7:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Runnable = require('./runnable');\nvar inherits = require('./utils').inherits;\n\n/**\n * Expose `Hook`.\n */\n\nmodule.exports = Hook;\n\n/**\n * Initialize a new `Hook` with the given `title` and callback `fn`.\n *\n * @param {String} title\n * @param {Function} fn\n * @api private\n */\nfunction Hook(title, fn) {\n  Runnable.call(this, title, fn);\n  this.type = 'hook';\n}\n\n/**\n * Inherit from `Runnable.prototype`.\n */\ninherits(Hook, Runnable);\n\n/**\n * Get or set the test `err`.\n *\n * @param {Error} err\n * @return {Error}\n * @api public\n */\nHook.prototype.error = function(err) {\n  if (!arguments.length) {\n    err = this._error;\n    this._error = null;\n    return err;\n  }\n\n  this._error = err;\n};\n\n},{\"./runnable\":35,\"./utils\":39}],8:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Suite = require('../suite');\nvar Test = require('../test');\nvar escapeRe = require('escape-string-regexp');\n\n/**\n * BDD-style interface:\n *\n *      describe('Array', function() {\n *        describe('#indexOf()', function() {\n *          it('should return -1 when not present', function() {\n *            // ...\n *          });\n *\n *          it('should return the index when present', function() {\n *            // ...\n *          });\n *        });\n *      });\n *\n * @param {Suite} suite Root suite.\n */\nmodule.exports = function(suite) {\n  var suites = [suite];\n\n  suite.on('pre-require', function(context, file, mocha) {\n    var common = require('./common')(suites, context);\n\n    context.before = common.before;\n    context.after = common.after;\n    context.beforeEach = common.beforeEach;\n    context.afterEach = common.afterEach;\n    context.run = mocha.options.delay && common.runWithSuite(suite);\n    /**\n     * Describe a \"suite\" with the given `title`\n     * and callback `fn` containing nested suites\n     * and/or tests.\n     */\n\n    context.describe = context.context = function(title, fn) {\n      var suite = Suite.create(suites[0], title);\n      suite.file = file;\n      suites.unshift(suite);\n      fn.call(suite);\n      suites.shift();\n      return suite;\n    };\n\n    /**\n     * Pending describe.\n     */\n\n    context.xdescribe = context.xcontext = context.describe.skip = function(title, fn) {\n      var suite = Suite.create(suites[0], title);\n      suite.pending = true;\n      suites.unshift(suite);\n      fn.call(suite);\n      suites.shift();\n    };\n\n    /**\n     * Exclusive suite.\n     */\n\n    context.describe.only = function(title, fn) {\n      var suite = context.describe(title, fn);\n      mocha.grep(suite.fullTitle());\n      return suite;\n    };\n\n    /**\n     * Describe a specification or test-case\n     * with the given `title` and callback `fn`\n     * acting as a thunk.\n     */\n\n    context.it = context.specify = function(title, fn) {\n      var suite = suites[0];\n      if (suite.pending) {\n        fn = null;\n      }\n      var test = new Test(title, fn);\n      test.file = file;\n      suite.addTest(test);\n      return test;\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.it.only = function(title, fn) {\n      var test = context.it(title, fn);\n      var reString = '^' + escapeRe(test.fullTitle()) + '$';\n      mocha.grep(new RegExp(reString));\n      return test;\n    };\n\n    /**\n     * Pending test case.\n     */\n\n    context.xit = context.xspecify = context.it.skip = function(title) {\n      context.it(title);\n    };\n  });\n};\n\n},{\"../suite\":37,\"../test\":38,\"./common\":9,\"escape-string-regexp\":68}],9:[function(require,module,exports){\n'use strict';\n\n/**\n * Functions common to more than one interface.\n *\n * @param {Suite[]} suites\n * @param {Context} context\n * @return {Object} An object containing common functions.\n */\nmodule.exports = function(suites, context) {\n  return {\n    /**\n     * This is only present if flag --delay is passed into Mocha. It triggers\n     * root suite execution.\n     *\n     * @param {Suite} suite The root wuite.\n     * @return {Function} A function which runs the root suite\n     */\n    runWithSuite: function runWithSuite(suite) {\n      return function run() {\n        suite.run();\n      };\n    },\n\n    /**\n     * Execute before running tests.\n     *\n     * @param {string} name\n     * @param {Function} fn\n     */\n    before: function(name, fn) {\n      suites[0].beforeAll(name, fn);\n    },\n\n    /**\n     * Execute after running tests.\n     *\n     * @param {string} name\n     * @param {Function} fn\n     */\n    after: function(name, fn) {\n      suites[0].afterAll(name, fn);\n    },\n\n    /**\n     * Execute before each test case.\n     *\n     * @param {string} name\n     * @param {Function} fn\n     */\n    beforeEach: function(name, fn) {\n      suites[0].beforeEach(name, fn);\n    },\n\n    /**\n     * Execute after each test case.\n     *\n     * @param {string} name\n     * @param {Function} fn\n     */\n    afterEach: function(name, fn) {\n      suites[0].afterEach(name, fn);\n    },\n\n    test: {\n      /**\n       * Pending test case.\n       *\n       * @param {string} title\n       */\n      skip: function(title) {\n        context.test(title);\n      }\n    }\n  };\n};\n\n},{}],10:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Suite = require('../suite');\nvar Test = require('../test');\n\n/**\n * TDD-style interface:\n *\n *     exports.Array = {\n *       '#indexOf()': {\n *         'should return -1 when the value is not present': function() {\n *\n *         },\n *\n *         'should return the correct index when the value is present': function() {\n *\n *         }\n *       }\n *     };\n *\n * @param {Suite} suite Root suite.\n */\nmodule.exports = function(suite) {\n  var suites = [suite];\n\n  suite.on('require', visit);\n\n  function visit(obj, file) {\n    var suite;\n    for (var key in obj) {\n      if (typeof obj[key] === 'function') {\n        var fn = obj[key];\n        switch (key) {\n          case 'before':\n            suites[0].beforeAll(fn);\n            break;\n          case 'after':\n            suites[0].afterAll(fn);\n            break;\n          case 'beforeEach':\n            suites[0].beforeEach(fn);\n            break;\n          case 'afterEach':\n            suites[0].afterEach(fn);\n            break;\n          default:\n            var test = new Test(key, fn);\n            test.file = file;\n            suites[0].addTest(test);\n        }\n      } else {\n        suite = Suite.create(suites[0], key);\n        suites.unshift(suite);\n        visit(obj[key]);\n        suites.shift();\n      }\n    }\n  }\n};\n\n},{\"../suite\":37,\"../test\":38}],11:[function(require,module,exports){\nexports.bdd = require('./bdd');\nexports.tdd = require('./tdd');\nexports.qunit = require('./qunit');\nexports.exports = require('./exports');\n\n},{\"./bdd\":8,\"./exports\":10,\"./qunit\":12,\"./tdd\":13}],12:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Suite = require('../suite');\nvar Test = require('../test');\nvar escapeRe = require('escape-string-regexp');\n\n/**\n * QUnit-style interface:\n *\n *     suite('Array');\n *\n *     test('#length', function() {\n *       var arr = [1,2,3];\n *       ok(arr.length == 3);\n *     });\n *\n *     test('#indexOf()', function() {\n *       var arr = [1,2,3];\n *       ok(arr.indexOf(1) == 0);\n *       ok(arr.indexOf(2) == 1);\n *       ok(arr.indexOf(3) == 2);\n *     });\n *\n *     suite('String');\n *\n *     test('#length', function() {\n *       ok('foo'.length == 3);\n *     });\n *\n * @param {Suite} suite Root suite.\n */\nmodule.exports = function(suite) {\n  var suites = [suite];\n\n  suite.on('pre-require', function(context, file, mocha) {\n    var common = require('./common')(suites, context);\n\n    context.before = common.before;\n    context.after = common.after;\n    context.beforeEach = common.beforeEach;\n    context.afterEach = common.afterEach;\n    context.run = mocha.options.delay && common.runWithSuite(suite);\n    /**\n     * Describe a \"suite\" with the given `title`.\n     */\n\n    context.suite = function(title) {\n      if (suites.length > 1) {\n        suites.shift();\n      }\n      var suite = Suite.create(suites[0], title);\n      suite.file = file;\n      suites.unshift(suite);\n      return suite;\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.suite.only = function(title, fn) {\n      var suite = context.suite(title, fn);\n      mocha.grep(suite.fullTitle());\n    };\n\n    /**\n     * Describe a specification or test-case\n     * with the given `title` and callback `fn`\n     * acting as a thunk.\n     */\n\n    context.test = function(title, fn) {\n      var test = new Test(title, fn);\n      test.file = file;\n      suites[0].addTest(test);\n      return test;\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.test.only = function(title, fn) {\n      var test = context.test(title, fn);\n      var reString = '^' + escapeRe(test.fullTitle()) + '$';\n      mocha.grep(new RegExp(reString));\n    };\n\n    context.test.skip = common.test.skip;\n  });\n};\n\n},{\"../suite\":37,\"../test\":38,\"./common\":9,\"escape-string-regexp\":68}],13:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Suite = require('../suite');\nvar Test = require('../test');\nvar escapeRe = require('escape-string-regexp');\n\n/**\n * TDD-style interface:\n *\n *      suite('Array', function() {\n *        suite('#indexOf()', function() {\n *          suiteSetup(function() {\n *\n *          });\n *\n *          test('should return -1 when not present', function() {\n *\n *          });\n *\n *          test('should return the index when present', function() {\n *\n *          });\n *\n *          suiteTeardown(function() {\n *\n *          });\n *        });\n *      });\n *\n * @param {Suite} suite Root suite.\n */\nmodule.exports = function(suite) {\n  var suites = [suite];\n\n  suite.on('pre-require', function(context, file, mocha) {\n    var common = require('./common')(suites, context);\n\n    context.setup = common.beforeEach;\n    context.teardown = common.afterEach;\n    context.suiteSetup = common.before;\n    context.suiteTeardown = common.after;\n    context.run = mocha.options.delay && common.runWithSuite(suite);\n\n    /**\n     * Describe a \"suite\" with the given `title` and callback `fn` containing\n     * nested suites and/or tests.\n     */\n    context.suite = function(title, fn) {\n      var suite = Suite.create(suites[0], title);\n      suite.file = file;\n      suites.unshift(suite);\n      fn.call(suite);\n      suites.shift();\n      return suite;\n    };\n\n    /**\n     * Pending suite.\n     */\n    context.suite.skip = function(title, fn) {\n      var suite = Suite.create(suites[0], title);\n      suite.pending = true;\n      suites.unshift(suite);\n      fn.call(suite);\n      suites.shift();\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n    context.suite.only = function(title, fn) {\n      var suite = context.suite(title, fn);\n      mocha.grep(suite.fullTitle());\n    };\n\n    /**\n     * Describe a specification or test-case with the given `title` and\n     * callback `fn` acting as a thunk.\n     */\n    context.test = function(title, fn) {\n      var suite = suites[0];\n      if (suite.pending) {\n        fn = null;\n      }\n      var test = new Test(title, fn);\n      test.file = file;\n      suite.addTest(test);\n      return test;\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.test.only = function(title, fn) {\n      var test = context.test(title, fn);\n      var reString = '^' + escapeRe(test.fullTitle()) + '$';\n      mocha.grep(new RegExp(reString));\n    };\n\n    context.test.skip = common.test.skip;\n  });\n};\n\n},{\"../suite\":37,\"../test\":38,\"./common\":9,\"escape-string-regexp\":68}],14:[function(require,module,exports){\n(function (process,global,__dirname){\n/*!\n * mocha\n * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar escapeRe = require('escape-string-regexp');\nvar path = require('path');\nvar reporters = require('./reporters');\nvar utils = require('./utils');\n\n/**\n * Expose `Mocha`.\n */\n\nexports = module.exports = Mocha;\n\n/**\n * To require local UIs and reporters when running in node.\n */\n\nif (!process.browser) {\n  var cwd = process.cwd();\n  module.paths.push(cwd, path.join(cwd, 'node_modules'));\n}\n\n/**\n * Expose internals.\n */\n\nexports.utils = utils;\nexports.interfaces = require('./interfaces');\nexports.reporters = reporters;\nexports.Runnable = require('./runnable');\nexports.Context = require('./context');\nexports.Runner = require('./runner');\nexports.Suite = require('./suite');\nexports.Hook = require('./hook');\nexports.Test = require('./test');\n\n/**\n * Return image `name` path.\n *\n * @api private\n * @param {string} name\n * @return {string}\n */\nfunction image(name) {\n  return path.join(__dirname, '../images', name + '.png');\n}\n\n/**\n * Set up mocha with `options`.\n *\n * Options:\n *\n *   - `ui` name \"bdd\", \"tdd\", \"exports\" etc\n *   - `reporter` reporter instance, defaults to `mocha.reporters.spec`\n *   - `globals` array of accepted globals\n *   - `timeout` timeout in milliseconds\n *   - `bail` bail on the first test failure\n *   - `slow` milliseconds to wait before considering a test slow\n *   - `ignoreLeaks` ignore global leaks\n *   - `fullTrace` display the full stack-trace on failing\n *   - `grep` string or regexp to filter tests with\n *\n * @param {Object} options\n * @api public\n */\nfunction Mocha(options) {\n  options = options || {};\n  this.files = [];\n  this.options = options;\n  if (options.grep) {\n    this.grep(new RegExp(options.grep));\n  }\n  if (options.fgrep) {\n    this.grep(options.fgrep);\n  }\n  this.suite = new exports.Suite('', new exports.Context());\n  this.ui(options.ui);\n  this.bail(options.bail);\n  this.reporter(options.reporter, options.reporterOptions);\n  if (typeof options.timeout !== 'undefined' && options.timeout !== null) {\n    this.timeout(options.timeout);\n  }\n  this.useColors(options.useColors);\n  if (options.enableTimeouts !== null) {\n    this.enableTimeouts(options.enableTimeouts);\n  }\n  if (options.slow) {\n    this.slow(options.slow);\n  }\n\n  this.suite.on('pre-require', function(context) {\n    exports.afterEach = context.afterEach || context.teardown;\n    exports.after = context.after || context.suiteTeardown;\n    exports.beforeEach = context.beforeEach || context.setup;\n    exports.before = context.before || context.suiteSetup;\n    exports.describe = context.describe || context.suite;\n    exports.it = context.it || context.test;\n    exports.setup = context.setup || context.beforeEach;\n    exports.suiteSetup = context.suiteSetup || context.before;\n    exports.suiteTeardown = context.suiteTeardown || context.after;\n    exports.suite = context.suite || context.describe;\n    exports.teardown = context.teardown || context.afterEach;\n    exports.test = context.test || context.it;\n    exports.run = context.run;\n  });\n}\n\n/**\n * Enable or disable bailing on the first failure.\n *\n * @api public\n * @param {boolean} [bail]\n */\nMocha.prototype.bail = function(bail) {\n  if (!arguments.length) {\n    bail = true;\n  }\n  this.suite.bail(bail);\n  return this;\n};\n\n/**\n * Add test `file`.\n *\n * @api public\n * @param {string} file\n */\nMocha.prototype.addFile = function(file) {\n  this.files.push(file);\n  return this;\n};\n\n/**\n * Set reporter to `reporter`, defaults to \"spec\".\n *\n * @param {String|Function} reporter name or constructor\n * @param {Object} reporterOptions optional options\n * @api public\n * @param {string|Function} reporter name or constructor\n * @param {Object} reporterOptions optional options\n */\nMocha.prototype.reporter = function(reporter, reporterOptions) {\n  if (typeof reporter === 'function') {\n    this._reporter = reporter;\n  } else {\n    reporter = reporter || 'spec';\n    var _reporter;\n    // Try to load a built-in reporter.\n    if (reporters[reporter]) {\n      _reporter = reporters[reporter];\n    }\n    // Try to load reporters from process.cwd() and node_modules\n    if (!_reporter) {\n      try {\n        _reporter = require(reporter);\n      } catch (err) {\n        err.message.indexOf('Cannot find module') !== -1\n          ? console.warn('\"' + reporter + '\" reporter not found')\n          : console.warn('\"' + reporter + '\" reporter blew up with error:\\n' + err.stack);\n      }\n    }\n    if (!_reporter && reporter === 'teamcity') {\n      console.warn('The Teamcity reporter was moved to a package named '\n        + 'mocha-teamcity-reporter '\n        + '(https://npmjs.org/package/mocha-teamcity-reporter).');\n    }\n    if (!_reporter) {\n      throw new Error('invalid reporter \"' + reporter + '\"');\n    }\n    this._reporter = _reporter;\n  }\n  this.options.reporterOptions = reporterOptions;\n  return this;\n};\n\n/**\n * Set test UI `name`, defaults to \"bdd\".\n *\n * @api public\n * @param {string} bdd\n */\nMocha.prototype.ui = function(name) {\n  name = name || 'bdd';\n  this._ui = exports.interfaces[name];\n  if (!this._ui) {\n    try {\n      this._ui = require(name);\n    } catch (err) {\n      throw new Error('invalid interface \"' + name + '\"');\n    }\n  }\n  this._ui = this._ui(this.suite);\n  return this;\n};\n\n/**\n * Load registered files.\n *\n * @api private\n */\nMocha.prototype.loadFiles = function(fn) {\n  var self = this;\n  var suite = this.suite;\n  var pending = this.files.length;\n  this.files.forEach(function(file) {\n    file = path.resolve(file);\n    suite.emit('pre-require', global, file, self);\n    suite.emit('require', require(file), file, self);\n    suite.emit('post-require', global, file, self);\n    --pending || (fn && fn());\n  });\n};\n\n/**\n * Enable growl support.\n *\n * @api private\n */\nMocha.prototype._growl = function(runner, reporter) {\n  var notify = require('growl');\n\n  runner.on('end', function() {\n    var stats = reporter.stats;\n    if (stats.failures) {\n      var msg = stats.failures + ' of ' + runner.total + ' tests failed';\n      notify(msg, { name: 'mocha', title: 'Failed', image: image('error') });\n    } else {\n      notify(stats.passes + ' tests passed in ' + stats.duration + 'ms', {\n        name: 'mocha',\n        title: 'Passed',\n        image: image('ok')\n      });\n    }\n  });\n};\n\n/**\n * Add regexp to grep, if `re` is a string it is escaped.\n *\n * @param {RegExp|String} re\n * @return {Mocha}\n * @api public\n * @param {RegExp|string} re\n * @return {Mocha}\n */\nMocha.prototype.grep = function(re) {\n  this.options.grep = typeof re === 'string' ? new RegExp(escapeRe(re)) : re;\n  return this;\n};\n\n/**\n * Invert `.grep()` matches.\n *\n * @return {Mocha}\n * @api public\n */\nMocha.prototype.invert = function() {\n  this.options.invert = true;\n  return this;\n};\n\n/**\n * Ignore global leaks.\n *\n * @param {Boolean} ignore\n * @return {Mocha}\n * @api public\n * @param {boolean} ignore\n * @return {Mocha}\n */\nMocha.prototype.ignoreLeaks = function(ignore) {\n  this.options.ignoreLeaks = Boolean(ignore);\n  return this;\n};\n\n/**\n * Enable global leak checking.\n *\n * @return {Mocha}\n * @api public\n */\nMocha.prototype.checkLeaks = function() {\n  this.options.ignoreLeaks = false;\n  return this;\n};\n\n/**\n * Display long stack-trace on failing\n *\n * @return {Mocha}\n * @api public\n */\nMocha.prototype.fullTrace = function() {\n  this.options.fullStackTrace = true;\n  return this;\n};\n\n/**\n * Enable growl support.\n *\n * @return {Mocha}\n * @api public\n */\nMocha.prototype.growl = function() {\n  this.options.growl = true;\n  return this;\n};\n\n/**\n * Ignore `globals` array or string.\n *\n * @param {Array|String} globals\n * @return {Mocha}\n * @api public\n * @param {Array|string} globals\n * @return {Mocha}\n */\nMocha.prototype.globals = function(globals) {\n  this.options.globals = (this.options.globals || []).concat(globals);\n  return this;\n};\n\n/**\n * Emit color output.\n *\n * @param {Boolean} colors\n * @return {Mocha}\n * @api public\n * @param {boolean} colors\n * @return {Mocha}\n */\nMocha.prototype.useColors = function(colors) {\n  if (colors !== undefined) {\n    this.options.useColors = colors;\n  }\n  return this;\n};\n\n/**\n * Use inline diffs rather than +/-.\n *\n * @param {Boolean} inlineDiffs\n * @return {Mocha}\n * @api public\n * @param {boolean} inlineDiffs\n * @return {Mocha}\n */\nMocha.prototype.useInlineDiffs = function(inlineDiffs) {\n  this.options.useInlineDiffs = inlineDiffs !== undefined && inlineDiffs;\n  return this;\n};\n\n/**\n * Set the timeout in milliseconds.\n *\n * @param {Number} timeout\n * @return {Mocha}\n * @api public\n * @param {number} timeout\n * @return {Mocha}\n */\nMocha.prototype.timeout = function(timeout) {\n  this.suite.timeout(timeout);\n  return this;\n};\n\n/**\n * Set slowness threshold in milliseconds.\n *\n * @param {Number} slow\n * @return {Mocha}\n * @api public\n * @param {number} slow\n * @return {Mocha}\n */\nMocha.prototype.slow = function(slow) {\n  this.suite.slow(slow);\n  return this;\n};\n\n/**\n * Enable timeouts.\n *\n * @param {Boolean} enabled\n * @return {Mocha}\n * @api public\n * @param {boolean} enabled\n * @return {Mocha}\n */\nMocha.prototype.enableTimeouts = function(enabled) {\n  this.suite.enableTimeouts(arguments.length && enabled !== undefined ? enabled : true);\n  return this;\n};\n\n/**\n * Makes all tests async (accepting a callback)\n *\n * @return {Mocha}\n * @api public\n */\nMocha.prototype.asyncOnly = function() {\n  this.options.asyncOnly = true;\n  return this;\n};\n\n/**\n * Disable syntax highlighting (in browser).\n *\n * @api public\n */\nMocha.prototype.noHighlighting = function() {\n  this.options.noHighlighting = true;\n  return this;\n};\n\n/**\n * Enable uncaught errors to propagate (in browser).\n *\n * @return {Mocha}\n * @api public\n */\nMocha.prototype.allowUncaught = function() {\n  this.options.allowUncaught = true;\n  return this;\n};\n\n/**\n * Delay root suite execution.\n * @returns {Mocha}\n */\nMocha.prototype.delay = function delay() {\n  this.options.delay = true;\n  return this;\n};\n\n/**\n * Run tests and invoke `fn()` when complete.\n *\n * @api public\n * @param {Function} fn\n * @return {Runner}\n */\nMocha.prototype.run = function(fn) {\n  if (this.files.length) {\n    this.loadFiles();\n  }\n  var suite = this.suite;\n  var options = this.options;\n  options.files = this.files;\n  var runner = new exports.Runner(suite, options.delay);\n  var reporter = new this._reporter(runner, options);\n  runner.ignoreLeaks = options.ignoreLeaks !== false;\n  runner.fullStackTrace = options.fullStackTrace;\n  runner.asyncOnly = options.asyncOnly;\n  runner.allowUncaught = options.allowUncaught;\n  if (options.grep) {\n    runner.grep(options.grep, options.invert);\n  }\n  if (options.globals) {\n    runner.globals(options.globals);\n  }\n  if (options.growl) {\n    this._growl(runner, reporter);\n  }\n  if (options.useColors !== undefined) {\n    exports.reporters.Base.useColors = options.useColors;\n  }\n  exports.reporters.Base.inlineDiffs = options.useInlineDiffs;\n\n  function done(failures) {\n    if (reporter.done) {\n      reporter.done(failures, fn);\n    } else {\n      fn && fn(failures);\n    }\n  }\n\n  return runner.run(done);\n};\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {},\"/lib\")\n},{\"./context\":6,\"./hook\":7,\"./interfaces\":11,\"./reporters\":22,\"./runnable\":35,\"./runner\":36,\"./suite\":37,\"./test\":38,\"./utils\":39,\"_process\":51,\"escape-string-regexp\":68,\"growl\":69,\"path\":41}],15:[function(require,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @api public\n * @param {string|number} val\n * @param {Object} options\n * @return {string|number}\n */\nmodule.exports = function(val, options) {\n  options = options || {};\n  if (typeof val === 'string') {\n    return parse(val);\n  }\n  // https://github.com/mochajs/mocha/pull/1035\n  return options['long'] ? longFormat(val) : shortFormat(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @api private\n * @param {string} str\n * @return {number}\n */\nfunction parse(str) {\n  var match = (/^((?:\\d+)?\\.?\\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i).exec(str);\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 's':\n      return n * s;\n    case 'ms':\n      return n;\n    default:\n      // No default case\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @api private\n * @param {number} ms\n * @return {string}\n */\nfunction shortFormat(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @api private\n * @param {number} ms\n * @return {string}\n */\nfunction longFormat(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n *\n * @api private\n * @param {number} ms\n * @param {number} n\n * @param {string} name\n */\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n},{}],16:[function(require,module,exports){\n\n/**\n * Expose `Pending`.\n */\n\nmodule.exports = Pending;\n\n/**\n * Initialize a new `Pending` error with the given message.\n *\n * @param {string} message\n */\nfunction Pending(message) {\n  this.message = message;\n}\n\n},{}],17:[function(require,module,exports){\n(function (process,global){\n/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar diff = require('diff');\nvar ms = require('../ms');\nvar utils = require('../utils');\nvar supportsColor = process.browser ? null : require('supports-color');\n\n/**\n * Expose `Base`.\n */\n\nexports = module.exports = Base;\n\n/**\n * Save timer references to avoid Sinon interfering.\n * See: https://github.com/mochajs/mocha/issues/237\n */\n\n/* eslint-disable no-unused-vars, no-native-reassign */\nvar Date = global.Date;\nvar setTimeout = global.setTimeout;\nvar setInterval = global.setInterval;\nvar clearTimeout = global.clearTimeout;\nvar clearInterval = global.clearInterval;\n/* eslint-enable no-unused-vars, no-native-reassign */\n\n/**\n * Check if both stdio streams are associated with a tty.\n */\n\nvar isatty = tty.isatty(1) && tty.isatty(2);\n\n/**\n * Enable coloring by default, except in the browser interface.\n */\n\nexports.useColors = !process.browser && (supportsColor || (process.env.MOCHA_COLORS !== undefined));\n\n/**\n * Inline diffs instead of +/-\n */\n\nexports.inlineDiffs = false;\n\n/**\n * Default color map.\n */\n\nexports.colors = {\n  pass: 90,\n  fail: 31,\n  'bright pass': 92,\n  'bright fail': 91,\n  'bright yellow': 93,\n  pending: 36,\n  suite: 0,\n  'error title': 0,\n  'error message': 31,\n  'error stack': 90,\n  checkmark: 32,\n  fast: 90,\n  medium: 33,\n  slow: 31,\n  green: 32,\n  light: 90,\n  'diff gutter': 90,\n  'diff added': 32,\n  'diff removed': 31\n};\n\n/**\n * Default symbol map.\n */\n\nexports.symbols = {\n  ok: '✓',\n  err: '✖',\n  dot: '․'\n};\n\n// With node.js on Windows: use symbols available in terminal default fonts\nif (process.platform === 'win32') {\n  exports.symbols.ok = '\\u221A';\n  exports.symbols.err = '\\u00D7';\n  exports.symbols.dot = '.';\n}\n\n/**\n * Color `str` with the given `type`,\n * allowing colors to be disabled,\n * as well as user-defined color\n * schemes.\n *\n * @param {string} type\n * @param {string} str\n * @return {string}\n * @api private\n */\nvar color = exports.color = function(type, str) {\n  if (!exports.useColors) {\n    return String(str);\n  }\n  return '\\u001b[' + exports.colors[type] + 'm' + str + '\\u001b[0m';\n};\n\n/**\n * Expose term window size, with some defaults for when stderr is not a tty.\n */\n\nexports.window = {\n  width: 75\n};\n\nif (isatty) {\n  exports.window.width = process.stdout.getWindowSize\n      ? process.stdout.getWindowSize(1)[0]\n      : tty.getWindowSize()[1];\n}\n\n/**\n * Expose some basic cursor interactions that are common among reporters.\n */\n\nexports.cursor = {\n  hide: function() {\n    isatty && process.stdout.write('\\u001b[?25l');\n  },\n\n  show: function() {\n    isatty && process.stdout.write('\\u001b[?25h');\n  },\n\n  deleteLine: function() {\n    isatty && process.stdout.write('\\u001b[2K');\n  },\n\n  beginningOfLine: function() {\n    isatty && process.stdout.write('\\u001b[0G');\n  },\n\n  CR: function() {\n    if (isatty) {\n      exports.cursor.deleteLine();\n      exports.cursor.beginningOfLine();\n    } else {\n      process.stdout.write('\\r');\n    }\n  }\n};\n\n/**\n * Outut the given `failures` as a list.\n *\n * @param {Array} failures\n * @api public\n */\n\nexports.list = function(failures) {\n  console.log();\n  failures.forEach(function(test, i) {\n    // format\n    var fmt = color('error title', '  %s) %s:\\n')\n      + color('error message', '     %s')\n      + color('error stack', '\\n%s\\n');\n\n    // msg\n    var msg;\n    var err = test.err;\n    var message;\n    if (err.message) {\n      message = err.message;\n    } else if (typeof err.inspect === 'function') {\n      message = err.inspect() + '';\n    } else {\n      message = '';\n    }\n    var stack = err.stack || message;\n    var index = stack.indexOf(message);\n    var actual = err.actual;\n    var expected = err.expected;\n    var escape = true;\n\n    if (index === -1) {\n      msg = message;\n    } else {\n      index += message.length;\n      msg = stack.slice(0, index);\n      // remove msg from stack\n      stack = stack.slice(index + 1);\n    }\n\n    // uncaught\n    if (err.uncaught) {\n      msg = 'Uncaught ' + msg;\n    }\n    // explicitly show diff\n    if (err.showDiff !== false && sameType(actual, expected) && expected !== undefined) {\n      escape = false;\n      if (!(utils.isString(actual) && utils.isString(expected))) {\n        err.actual = actual = utils.stringify(actual);\n        err.expected = expected = utils.stringify(expected);\n      }\n\n      fmt = color('error title', '  %s) %s:\\n%s') + color('error stack', '\\n%s\\n');\n      var match = message.match(/^([^:]+): expected/);\n      msg = '\\n      ' + color('error message', match ? match[1] : msg);\n\n      if (exports.inlineDiffs) {\n        msg += inlineDiff(err, escape);\n      } else {\n        msg += unifiedDiff(err, escape);\n      }\n    }\n\n    // indent stack trace\n    stack = stack.replace(/^/gm, '  ');\n\n    console.log(fmt, (i + 1), test.fullTitle(), msg, stack);\n  });\n};\n\n/**\n * Initialize a new `Base` reporter.\n *\n * All other reporters generally\n * inherit from this reporter, providing\n * stats such as test duration, number\n * of tests passed / failed etc.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Base(runner) {\n  var stats = this.stats = { suites: 0, tests: 0, passes: 0, pending: 0, failures: 0 };\n  var failures = this.failures = [];\n\n  if (!runner) {\n    return;\n  }\n  this.runner = runner;\n\n  runner.stats = stats;\n\n  runner.on('start', function() {\n    stats.start = new Date();\n  });\n\n  runner.on('suite', function(suite) {\n    stats.suites = stats.suites || 0;\n    suite.root || stats.suites++;\n  });\n\n  runner.on('test end', function() {\n    stats.tests = stats.tests || 0;\n    stats.tests++;\n  });\n\n  runner.on('pass', function(test) {\n    stats.passes = stats.passes || 0;\n\n    if (test.duration > test.slow()) {\n      test.speed = 'slow';\n    } else if (test.duration > test.slow() / 2) {\n      test.speed = 'medium';\n    } else {\n      test.speed = 'fast';\n    }\n\n    stats.passes++;\n  });\n\n  runner.on('fail', function(test, err) {\n    stats.failures = stats.failures || 0;\n    stats.failures++;\n    test.err = err;\n    failures.push(test);\n  });\n\n  runner.on('end', function() {\n    stats.end = new Date();\n    stats.duration = new Date() - stats.start;\n  });\n\n  runner.on('pending', function() {\n    stats.pending++;\n  });\n}\n\n/**\n * Output common epilogue used by many of\n * the bundled reporters.\n *\n * @api public\n */\nBase.prototype.epilogue = function() {\n  var stats = this.stats;\n  var fmt;\n\n  console.log();\n\n  // passes\n  fmt = color('bright pass', ' ')\n    + color('green', ' %d passing')\n    + color('light', ' (%s)');\n\n  console.log(fmt,\n    stats.passes || 0,\n    ms(stats.duration));\n\n  // pending\n  if (stats.pending) {\n    fmt = color('pending', ' ')\n      + color('pending', ' %d pending');\n\n    console.log(fmt, stats.pending);\n  }\n\n  // failures\n  if (stats.failures) {\n    fmt = color('fail', '  %d failing');\n\n    console.log(fmt, stats.failures);\n\n    Base.list(this.failures);\n    console.log();\n  }\n\n  console.log();\n};\n\n/**\n * Pad the given `str` to `len`.\n *\n * @api private\n * @param {string} str\n * @param {string} len\n * @return {string}\n */\nfunction pad(str, len) {\n  str = String(str);\n  return Array(len - str.length + 1).join(' ') + str;\n}\n\n/**\n * Returns an inline diff between 2 strings with coloured ANSI output\n *\n * @api private\n * @param {Error} err with actual/expected\n * @param {boolean} escape\n * @return {string} Diff\n */\nfunction inlineDiff(err, escape) {\n  var msg = errorDiff(err, 'WordsWithSpace', escape);\n\n  // linenos\n  var lines = msg.split('\\n');\n  if (lines.length > 4) {\n    var width = String(lines.length).length;\n    msg = lines.map(function(str, i) {\n      return pad(++i, width) + ' |' + ' ' + str;\n    }).join('\\n');\n  }\n\n  // legend\n  msg = '\\n'\n    + color('diff removed', 'actual')\n    + ' '\n    + color('diff added', 'expected')\n    + '\\n\\n'\n    + msg\n    + '\\n';\n\n  // indent\n  msg = msg.replace(/^/gm, '      ');\n  return msg;\n}\n\n/**\n * Returns a unified diff between two strings.\n *\n * @api private\n * @param {Error} err with actual/expected\n * @param {boolean} escape\n * @return {string} The diff.\n */\nfunction unifiedDiff(err, escape) {\n  var indent = '      ';\n  function cleanUp(line) {\n    if (escape) {\n      line = escapeInvisibles(line);\n    }\n    if (line[0] === '+') {\n      return indent + colorLines('diff added', line);\n    }\n    if (line[0] === '-') {\n      return indent + colorLines('diff removed', line);\n    }\n    if (line.match(/\\@\\@/)) {\n      return null;\n    }\n    if (line.match(/\\\\ No newline/)) {\n      return null;\n    }\n    return indent + line;\n  }\n  function notBlank(line) {\n    return typeof line !== 'undefined' && line !== null;\n  }\n  var msg = diff.createPatch('string', err.actual, err.expected);\n  var lines = msg.split('\\n').splice(4);\n  return '\\n      '\n    + colorLines('diff added', '+ expected') + ' '\n    + colorLines('diff removed', '- actual')\n    + '\\n\\n'\n    + lines.map(cleanUp).filter(notBlank).join('\\n');\n}\n\n/**\n * Return a character diff for `err`.\n *\n * @api private\n * @param {Error} err\n * @param {string} type\n * @param {boolean} escape\n * @return {string}\n */\nfunction errorDiff(err, type, escape) {\n  var actual = escape ? escapeInvisibles(err.actual) : err.actual;\n  var expected = escape ? escapeInvisibles(err.expected) : err.expected;\n  return diff['diff' + type](actual, expected).map(function(str) {\n    if (str.added) {\n      return colorLines('diff added', str.value);\n    }\n    if (str.removed) {\n      return colorLines('diff removed', str.value);\n    }\n    return str.value;\n  }).join('');\n}\n\n/**\n * Returns a string with all invisible characters in plain text\n *\n * @api private\n * @param {string} line\n * @return {string}\n */\nfunction escapeInvisibles(line) {\n  return line.replace(/\\t/g, '<tab>')\n    .replace(/\\r/g, '<CR>')\n    .replace(/\\n/g, '<LF>\\n');\n}\n\n/**\n * Color lines for `str`, using the color `name`.\n *\n * @api private\n * @param {string} name\n * @param {string} str\n * @return {string}\n */\nfunction colorLines(name, str) {\n  return str.split('\\n').map(function(str) {\n    return color(name, str);\n  }).join('\\n');\n}\n\n/**\n * Object#toString reference.\n */\nvar objToString = Object.prototype.toString;\n\n/**\n * Check that a / b have the same type.\n *\n * @api private\n * @param {Object} a\n * @param {Object} b\n * @return {boolean}\n */\nfunction sameType(a, b) {\n  return objToString.call(a) === objToString.call(b);\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../ms\":15,\"../utils\":39,\"_process\":51,\"diff\":67,\"supports-color\":41,\"tty\":5}],18:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar utils = require('../utils');\n\n/**\n * Expose `Doc`.\n */\n\nexports = module.exports = Doc;\n\n/**\n * Initialize a new `Doc` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\nfunction Doc(runner) {\n  Base.call(this, runner);\n\n  var indents = 2;\n\n  function indent() {\n    return Array(indents).join('  ');\n  }\n\n  runner.on('suite', function(suite) {\n    if (suite.root) {\n      return;\n    }\n    ++indents;\n    console.log('%s<section class=\"suite\">', indent());\n    ++indents;\n    console.log('%s<h1>%s</h1>', indent(), utils.escape(suite.title));\n    console.log('%s<dl>', indent());\n  });\n\n  runner.on('suite end', function(suite) {\n    if (suite.root) {\n      return;\n    }\n    console.log('%s</dl>', indent());\n    --indents;\n    console.log('%s</section>', indent());\n    --indents;\n  });\n\n  runner.on('pass', function(test) {\n    console.log('%s  <dt>%s</dt>', indent(), utils.escape(test.title));\n    var code = utils.escape(utils.clean(test.fn.toString()));\n    console.log('%s  <dd><pre><code>%s</code></pre></dd>', indent(), code);\n  });\n\n  runner.on('fail', function(test, err) {\n    console.log('%s  <dt class=\"error\">%s</dt>', indent(), utils.escape(test.title));\n    var code = utils.escape(utils.clean(test.fn.toString()));\n    console.log('%s  <dd class=\"error\"><pre><code>%s</code></pre></dd>', indent(), code);\n    console.log('%s  <dd class=\"error\">%s</dd>', indent(), utils.escape(err));\n  });\n}\n\n},{\"../utils\":39,\"./base\":17}],19:[function(require,module,exports){\n(function (process){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar inherits = require('../utils').inherits;\nvar color = Base.color;\n\n/**\n * Expose `Dot`.\n */\n\nexports = module.exports = Dot;\n\n/**\n * Initialize a new `Dot` matrix test reporter.\n *\n * @api public\n * @param {Runner} runner\n */\nfunction Dot(runner) {\n  Base.call(this, runner);\n\n  var self = this;\n  var width = Base.window.width * .75 | 0;\n  var n = -1;\n\n  runner.on('start', function() {\n    process.stdout.write('\\n');\n  });\n\n  runner.on('pending', function() {\n    if (++n % width === 0) {\n      process.stdout.write('\\n  ');\n    }\n    process.stdout.write(color('pending', Base.symbols.dot));\n  });\n\n  runner.on('pass', function(test) {\n    if (++n % width === 0) {\n      process.stdout.write('\\n  ');\n    }\n    if (test.speed === 'slow') {\n      process.stdout.write(color('bright yellow', Base.symbols.dot));\n    } else {\n      process.stdout.write(color(test.speed, Base.symbols.dot));\n    }\n  });\n\n  runner.on('fail', function() {\n    if (++n % width === 0) {\n      process.stdout.write('\\n  ');\n    }\n    process.stdout.write(color('fail', Base.symbols.dot));\n  });\n\n  runner.on('end', function() {\n    console.log();\n    self.epilogue();\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\ninherits(Dot, Base);\n\n}).call(this,require('_process'))\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],20:[function(require,module,exports){\n(function (process,__dirname){\n/**\n * Module dependencies.\n */\n\nvar JSONCov = require('./json-cov');\nvar readFileSync = require('fs').readFileSync;\nvar join = require('path').join;\n\n/**\n * Expose `HTMLCov`.\n */\n\nexports = module.exports = HTMLCov;\n\n/**\n * Initialize a new `JsCoverage` reporter.\n *\n * @api public\n * @param {Runner} runner\n */\nfunction HTMLCov(runner) {\n  var jade = require('jade');\n  var file = join(__dirname, '/templates/coverage.jade');\n  var str = readFileSync(file, 'utf8');\n  var fn = jade.compile(str, { filename: file });\n  var self = this;\n\n  JSONCov.call(this, runner, false);\n\n  runner.on('end', function() {\n    process.stdout.write(fn({\n      cov: self.cov,\n      coverageClass: coverageClass\n    }));\n  });\n}\n\n/**\n * Return coverage class for a given coverage percentage.\n *\n * @api private\n * @param {number} coveragePctg\n * @return {string}\n */\nfunction coverageClass(coveragePctg) {\n  if (coveragePctg >= 75) {\n    return 'high';\n  }\n  if (coveragePctg >= 50) {\n    return 'medium';\n  }\n  if (coveragePctg >= 25) {\n    return 'low';\n  }\n  return 'terrible';\n}\n\n}).call(this,require('_process'),\"/lib/reporters\")\n},{\"./json-cov\":23,\"_process\":51,\"fs\":41,\"jade\":41,\"path\":41}],21:[function(require,module,exports){\n(function (global){\n/* eslint-env browser */\n\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar utils = require('../utils');\nvar Progress = require('../browser/progress');\nvar escapeRe = require('escape-string-regexp');\nvar escape = utils.escape;\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\n/* eslint-disable no-unused-vars, no-native-reassign */\nvar Date = global.Date;\nvar setTimeout = global.setTimeout;\nvar setInterval = global.setInterval;\nvar clearTimeout = global.clearTimeout;\nvar clearInterval = global.clearInterval;\n/* eslint-enable no-unused-vars, no-native-reassign */\n\n/**\n * Expose `HTML`.\n */\n\nexports = module.exports = HTML;\n\n/**\n * Stats template.\n */\n\nvar statsTemplate = '<ul id=\"mocha-stats\">'\n  + '<li class=\"progress\"><canvas width=\"40\" height=\"40\"></canvas></li>'\n  + '<li class=\"passes\"><a href=\"javascript:void(0);\">passes:</a> <em>0</em></li>'\n  + '<li class=\"failures\"><a href=\"javascript:void(0);\">failures:</a> <em>0</em></li>'\n  + '<li class=\"duration\">duration: <em>0</em>s</li>'\n  + '</ul>';\n\n/**\n * Initialize a new `HTML` reporter.\n *\n * @api public\n * @param {Runner} runner\n */\nfunction HTML(runner) {\n  Base.call(this, runner);\n\n  var self = this;\n  var stats = this.stats;\n  var stat = fragment(statsTemplate);\n  var items = stat.getElementsByTagName('li');\n  var passes = items[1].getElementsByTagName('em')[0];\n  var passesLink = items[1].getElementsByTagName('a')[0];\n  var failures = items[2].getElementsByTagName('em')[0];\n  var failuresLink = items[2].getElementsByTagName('a')[0];\n  var duration = items[3].getElementsByTagName('em')[0];\n  var canvas = stat.getElementsByTagName('canvas')[0];\n  var report = fragment('<ul id=\"mocha-report\"></ul>');\n  var stack = [report];\n  var progress;\n  var ctx;\n  var root = document.getElementById('mocha');\n\n  if (canvas.getContext) {\n    var ratio = window.devicePixelRatio || 1;\n    canvas.style.width = canvas.width;\n    canvas.style.height = canvas.height;\n    canvas.width *= ratio;\n    canvas.height *= ratio;\n    ctx = canvas.getContext('2d');\n    ctx.scale(ratio, ratio);\n    progress = new Progress();\n  }\n\n  if (!root) {\n    return error('#mocha div missing, add it to your document');\n  }\n\n  // pass toggle\n  on(passesLink, 'click', function() {\n    unhide();\n    var name = (/pass/).test(report.className) ? '' : ' pass';\n    report.className = report.className.replace(/fail|pass/g, '') + name;\n    if (report.className.trim()) {\n      hideSuitesWithout('test pass');\n    }\n  });\n\n  // failure toggle\n  on(failuresLink, 'click', function() {\n    unhide();\n    var name = (/fail/).test(report.className) ? '' : ' fail';\n    report.className = report.className.replace(/fail|pass/g, '') + name;\n    if (report.className.trim()) {\n      hideSuitesWithout('test fail');\n    }\n  });\n\n  root.appendChild(stat);\n  root.appendChild(report);\n\n  if (progress) {\n    progress.size(40);\n  }\n\n  runner.on('suite', function(suite) {\n    if (suite.root) {\n      return;\n    }\n\n    // suite\n    var url = self.suiteURL(suite);\n    var el = fragment('<li class=\"suite\"><h1><a href=\"%s\">%s</a></h1></li>', url, escape(suite.title));\n\n    // container\n    stack[0].appendChild(el);\n    stack.unshift(document.createElement('ul'));\n    el.appendChild(stack[0]);\n  });\n\n  runner.on('suite end', function(suite) {\n    if (suite.root) {\n      return;\n    }\n    stack.shift();\n  });\n\n  runner.on('fail', function(test) {\n    if (test.type === 'hook') {\n      runner.emit('test end', test);\n    }\n  });\n\n  runner.on('test end', function(test) {\n    // TODO: add to stats\n    var percent = stats.tests / this.total * 100 | 0;\n    if (progress) {\n      progress.update(percent).draw(ctx);\n    }\n\n    // update stats\n    var ms = new Date() - stats.start;\n    text(passes, stats.passes);\n    text(failures, stats.failures);\n    text(duration, (ms / 1000).toFixed(2));\n\n    // test\n    var el;\n    if (test.state === 'passed') {\n      var url = self.testURL(test);\n      el = fragment('<li class=\"test pass %e\"><h2>%e<span class=\"duration\">%ems</span> <a href=\"%s\" class=\"replay\">‣</a></h2></li>', test.speed, test.title, test.duration, url);\n    } else if (test.pending) {\n      el = fragment('<li class=\"test pass pending\"><h2>%e</h2></li>', test.title);\n    } else {\n      el = fragment('<li class=\"test fail\"><h2>%e <a href=\"%e\" class=\"replay\">‣</a></h2></li>', test.title, self.testURL(test));\n      var stackString; // Note: Includes leading newline\n      var message = test.err.toString();\n\n      // <=IE7 stringifies to [Object Error]. Since it can be overloaded, we\n      // check for the result of the stringifying.\n      if (message === '[object Error]') {\n        message = test.err.message;\n      }\n\n      if (test.err.stack) {\n        var indexOfMessage = test.err.stack.indexOf(test.err.message);\n        if (indexOfMessage === -1) {\n          stackString = test.err.stack;\n        } else {\n          stackString = test.err.stack.substr(test.err.message.length + indexOfMessage);\n        }\n      } else if (test.err.sourceURL && test.err.line !== undefined) {\n        // Safari doesn't give you a stack. Let's at least provide a source line.\n        stackString = '\\n(' + test.err.sourceURL + ':' + test.err.line + ')';\n      }\n\n      stackString = stackString || '';\n\n      if (test.err.htmlMessage && stackString) {\n        el.appendChild(fragment('<div class=\"html-error\">%s\\n<pre class=\"error\">%e</pre></div>', test.err.htmlMessage, stackString));\n      } else if (test.err.htmlMessage) {\n        el.appendChild(fragment('<div class=\"html-error\">%s</div>', test.err.htmlMessage));\n      } else {\n        el.appendChild(fragment('<pre class=\"error\">%e%e</pre>', message, stackString));\n      }\n    }\n\n    // toggle code\n    // TODO: defer\n    if (!test.pending) {\n      var h2 = el.getElementsByTagName('h2')[0];\n\n      on(h2, 'click', function() {\n        pre.style.display = pre.style.display === 'none' ? 'block' : 'none';\n      });\n\n      var pre = fragment('<pre><code>%e</code></pre>', utils.clean(test.fn.toString()));\n      el.appendChild(pre);\n      pre.style.display = 'none';\n    }\n\n    // Don't call .appendChild if #mocha-report was already .shift()'ed off the stack.\n    if (stack[0]) {\n      stack[0].appendChild(el);\n    }\n  });\n}\n\n/**\n * Makes a URL, preserving querystring (\"search\") parameters.\n *\n * @param {string} s\n * @return {string} A new URL.\n */\nfunction makeUrl(s) {\n  var search = window.location.search;\n\n  // Remove previous grep query parameter if present\n  if (search) {\n    search = search.replace(/[?&]grep=[^&\\s]*/g, '').replace(/^&/, '?');\n  }\n\n  return window.location.pathname + (search ? search + '&' : '?') + 'grep=' + encodeURIComponent(escapeRe(s));\n}\n\n/**\n * Provide suite URL.\n *\n * @param {Object} [suite]\n */\nHTML.prototype.suiteURL = function(suite) {\n  return makeUrl(suite.fullTitle());\n};\n\n/**\n * Provide test URL.\n *\n * @param {Object} [test]\n */\nHTML.prototype.testURL = function(test) {\n  return makeUrl(test.fullTitle());\n};\n\n/**\n * Display error `msg`.\n *\n * @param {string} msg\n */\nfunction error(msg) {\n  document.body.appendChild(fragment('<div id=\"mocha-error\">%s</div>', msg));\n}\n\n/**\n * Return a DOM fragment from `html`.\n *\n * @param {string} html\n */\nfunction fragment(html) {\n  var args = arguments;\n  var div = document.createElement('div');\n  var i = 1;\n\n  div.innerHTML = html.replace(/%([se])/g, function(_, type) {\n    switch (type) {\n      case 's': return String(args[i++]);\n      case 'e': return escape(args[i++]);\n      // no default\n    }\n  });\n\n  return div.firstChild;\n}\n\n/**\n * Check for suites that do not have elements\n * with `classname`, and hide them.\n *\n * @param {text} classname\n */\nfunction hideSuitesWithout(classname) {\n  var suites = document.getElementsByClassName('suite');\n  for (var i = 0; i < suites.length; i++) {\n    var els = suites[i].getElementsByClassName(classname);\n    if (!els.length) {\n      suites[i].className += ' hidden';\n    }\n  }\n}\n\n/**\n * Unhide .hidden suites.\n */\nfunction unhide() {\n  var els = document.getElementsByClassName('suite hidden');\n  for (var i = 0; i < els.length; ++i) {\n    els[i].className = els[i].className.replace('suite hidden', 'suite');\n  }\n}\n\n/**\n * Set an element's text contents.\n *\n * @param {HTMLElement} el\n * @param {string} contents\n */\nfunction text(el, contents) {\n  if (el.textContent) {\n    el.textContent = contents;\n  } else {\n    el.innerText = contents;\n  }\n}\n\n/**\n * Listen on `event` with callback `fn`.\n */\nfunction on(el, event, fn) {\n  if (el.addEventListener) {\n    el.addEventListener(event, fn, false);\n  } else {\n    el.attachEvent('on' + event, fn);\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../browser/progress\":4,\"../utils\":39,\"./base\":17,\"escape-string-regexp\":68}],22:[function(require,module,exports){\n// Alias exports to a their normalized format Mocha#reporter to prevent a need\n// for dynamic (try/catch) requires, which Browserify doesn't handle.\nexports.Base = exports.base = require('./base');\nexports.Dot = exports.dot = require('./dot');\nexports.Doc = exports.doc = require('./doc');\nexports.TAP = exports.tap = require('./tap');\nexports.JSON = exports.json = require('./json');\nexports.HTML = exports.html = require('./html');\nexports.List = exports.list = require('./list');\nexports.Min = exports.min = require('./min');\nexports.Spec = exports.spec = require('./spec');\nexports.Nyan = exports.nyan = require('./nyan');\nexports.XUnit = exports.xunit = require('./xunit');\nexports.Markdown = exports.markdown = require('./markdown');\nexports.Progress = exports.progress = require('./progress');\nexports.Landing = exports.landing = require('./landing');\nexports.JSONCov = exports['json-cov'] = require('./json-cov');\nexports.HTMLCov = exports['html-cov'] = require('./html-cov');\nexports.JSONStream = exports['json-stream'] = require('./json-stream');\n\n},{\"./base\":17,\"./doc\":18,\"./dot\":19,\"./html\":21,\"./html-cov\":20,\"./json\":25,\"./json-cov\":23,\"./json-stream\":24,\"./landing\":26,\"./list\":27,\"./markdown\":28,\"./min\":29,\"./nyan\":30,\"./progress\":31,\"./spec\":32,\"./tap\":33,\"./xunit\":34}],23:[function(require,module,exports){\n(function (process,global){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\n\n/**\n * Expose `JSONCov`.\n */\n\nexports = module.exports = JSONCov;\n\n/**\n * Initialize a new `JsCoverage` reporter.\n *\n * @api public\n * @param {Runner} runner\n * @param {boolean} output\n */\nfunction JSONCov(runner, output) {\n  Base.call(this, runner);\n\n  output = arguments.length === 1 || output;\n  var self = this;\n  var tests = [];\n  var failures = [];\n  var passes = [];\n\n  runner.on('test end', function(test) {\n    tests.push(test);\n  });\n\n  runner.on('pass', function(test) {\n    passes.push(test);\n  });\n\n  runner.on('fail', function(test) {\n    failures.push(test);\n  });\n\n  runner.on('end', function() {\n    var cov = global._$jscoverage || {};\n    var result = self.cov = map(cov);\n    result.stats = self.stats;\n    result.tests = tests.map(clean);\n    result.failures = failures.map(clean);\n    result.passes = passes.map(clean);\n    if (!output) {\n      return;\n    }\n    process.stdout.write(JSON.stringify(result, null, 2));\n  });\n}\n\n/**\n * Map jscoverage data to a JSON structure\n * suitable for reporting.\n *\n * @api private\n * @param {Object} cov\n * @return {Object}\n */\n\nfunction map(cov) {\n  var ret = {\n    instrumentation: 'node-jscoverage',\n    sloc: 0,\n    hits: 0,\n    misses: 0,\n    coverage: 0,\n    files: []\n  };\n\n  for (var filename in cov) {\n    if (Object.prototype.hasOwnProperty.call(cov, filename)) {\n      var data = coverage(filename, cov[filename]);\n      ret.files.push(data);\n      ret.hits += data.hits;\n      ret.misses += data.misses;\n      ret.sloc += data.sloc;\n    }\n  }\n\n  ret.files.sort(function(a, b) {\n    return a.filename.localeCompare(b.filename);\n  });\n\n  if (ret.sloc > 0) {\n    ret.coverage = (ret.hits / ret.sloc) * 100;\n  }\n\n  return ret;\n}\n\n/**\n * Map jscoverage data for a single source file\n * to a JSON structure suitable for reporting.\n *\n * @api private\n * @param {string} filename name of the source file\n * @param {Object} data jscoverage coverage data\n * @return {Object}\n */\nfunction coverage(filename, data) {\n  var ret = {\n    filename: filename,\n    coverage: 0,\n    hits: 0,\n    misses: 0,\n    sloc: 0,\n    source: {}\n  };\n\n  data.source.forEach(function(line, num) {\n    num++;\n\n    if (data[num] === 0) {\n      ret.misses++;\n      ret.sloc++;\n    } else if (data[num] !== undefined) {\n      ret.hits++;\n      ret.sloc++;\n    }\n\n    ret.source[num] = {\n      source: line,\n      coverage: data[num] === undefined ? '' : data[num]\n    };\n  });\n\n  ret.coverage = ret.hits / ret.sloc * 100;\n\n  return ret;\n}\n\n/**\n * Return a plain-object representation of `test`\n * free of cyclic properties etc.\n *\n * @api private\n * @param {Object} test\n * @return {Object}\n */\nfunction clean(test) {\n  return {\n    duration: test.duration,\n    fullTitle: test.fullTitle(),\n    title: test.title\n  };\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./base\":17,\"_process\":51}],24:[function(require,module,exports){\n(function (process){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\n\n/**\n * Expose `List`.\n */\n\nexports = module.exports = List;\n\n/**\n * Initialize a new `List` test reporter.\n *\n * @api public\n * @param {Runner} runner\n */\nfunction List(runner) {\n  Base.call(this, runner);\n\n  var self = this;\n  var total = runner.total;\n\n  runner.on('start', function() {\n    console.log(JSON.stringify(['start', { total: total }]));\n  });\n\n  runner.on('pass', function(test) {\n    console.log(JSON.stringify(['pass', clean(test)]));\n  });\n\n  runner.on('fail', function(test, err) {\n    test = clean(test);\n    test.err = err.message;\n    test.stack = err.stack || null;\n    console.log(JSON.stringify(['fail', test]));\n  });\n\n  runner.on('end', function() {\n    process.stdout.write(JSON.stringify(['end', self.stats]));\n  });\n}\n\n/**\n * Return a plain-object representation of `test`\n * free of cyclic properties etc.\n *\n * @api private\n * @param {Object} test\n * @return {Object}\n */\nfunction clean(test) {\n  return {\n    title: test.title,\n    fullTitle: test.fullTitle(),\n    duration: test.duration\n  };\n}\n\n}).call(this,require('_process'))\n},{\"./base\":17,\"_process\":51}],25:[function(require,module,exports){\n(function (process){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\n\n/**\n * Expose `JSON`.\n */\n\nexports = module.exports = JSONReporter;\n\n/**\n * Initialize a new `JSON` reporter.\n *\n * @api public\n * @param {Runner} runner\n */\nfunction JSONReporter(runner) {\n  Base.call(this, runner);\n\n  var self = this;\n  var tests = [];\n  var pending = [];\n  var failures = [];\n  var passes = [];\n\n  runner.on('test end', function(test) {\n    tests.push(test);\n  });\n\n  runner.on('pass', function(test) {\n    passes.push(test);\n  });\n\n  runner.on('fail', function(test) {\n    failures.push(test);\n  });\n\n  runner.on('pending', function(test) {\n    pending.push(test);\n  });\n\n  runner.on('end', function() {\n    var obj = {\n      stats: self.stats,\n      tests: tests.map(clean),\n      pending: pending.map(clean),\n      failures: failures.map(clean),\n      passes: passes.map(clean)\n    };\n\n    runner.testResults = obj;\n\n    process.stdout.write(JSON.stringify(obj, null, 2));\n  });\n}\n\n/**\n * Return a plain-object representation of `test`\n * free of cyclic properties etc.\n *\n * @api private\n * @param {Object} test\n * @return {Object}\n */\nfunction clean(test) {\n  return {\n    title: test.title,\n    fullTitle: test.fullTitle(),\n    duration: test.duration,\n    err: errorJSON(test.err || {})\n  };\n}\n\n/**\n * Transform `error` into a JSON object.\n *\n * @api private\n * @param {Error} err\n * @return {Object}\n */\nfunction errorJSON(err) {\n  var res = {};\n  Object.getOwnPropertyNames(err).forEach(function(key) {\n    res[key] = err[key];\n  }, err);\n  return res;\n}\n\n}).call(this,require('_process'))\n},{\"./base\":17,\"_process\":51}],26:[function(require,module,exports){\n(function (process){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar inherits = require('../utils').inherits;\nvar cursor = Base.cursor;\nvar color = Base.color;\n\n/**\n * Expose `Landing`.\n */\n\nexports = module.exports = Landing;\n\n/**\n * Airplane color.\n */\n\nBase.colors.plane = 0;\n\n/**\n * Airplane crash color.\n */\n\nBase.colors['plane crash'] = 31;\n\n/**\n * Runway color.\n */\n\nBase.colors.runway = 90;\n\n/**\n * Initialize a new `Landing` reporter.\n *\n * @api public\n * @param {Runner} runner\n */\nfunction Landing(runner) {\n  Base.call(this, runner);\n\n  var self = this;\n  var width = Base.window.width * .75 | 0;\n  var total = runner.total;\n  var stream = process.stdout;\n  var plane = color('plane', '✈');\n  var crashed = -1;\n  var n = 0;\n\n  function runway() {\n    var buf = Array(width).join('-');\n    return '  ' + color('runway', buf);\n  }\n\n  runner.on('start', function() {\n    stream.write('\\n\\n\\n  ');\n    cursor.hide();\n  });\n\n  runner.on('test end', function(test) {\n    // check if the plane crashed\n    var col = crashed === -1 ? width * ++n / total | 0 : crashed;\n\n    // show the crash\n    if (test.state === 'failed') {\n      plane = color('plane crash', '✈');\n      crashed = col;\n    }\n\n    // render landing strip\n    stream.write('\\u001b[' + (width + 1) + 'D\\u001b[2A');\n    stream.write(runway());\n    stream.write('\\n  ');\n    stream.write(color('runway', Array(col).join('⋅')));\n    stream.write(plane);\n    stream.write(color('runway', Array(width - col).join('⋅') + '\\n'));\n    stream.write(runway());\n    stream.write('\\u001b[0m');\n  });\n\n  runner.on('end', function() {\n    cursor.show();\n    console.log();\n    self.epilogue();\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\ninherits(Landing, Base);\n\n}).call(this,require('_process'))\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],27:[function(require,module,exports){\n(function (process){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar inherits = require('../utils').inherits;\nvar color = Base.color;\nvar cursor = Base.cursor;\n\n/**\n * Expose `List`.\n */\n\nexports = module.exports = List;\n\n/**\n * Initialize a new `List` test reporter.\n *\n * @api public\n * @param {Runner} runner\n */\nfunction List(runner) {\n  Base.call(this, runner);\n\n  var self = this;\n  var n = 0;\n\n  runner.on('start', function() {\n    console.log();\n  });\n\n  runner.on('test', function(test) {\n    process.stdout.write(color('pass', '    ' + test.fullTitle() + ': '));\n  });\n\n  runner.on('pending', function(test) {\n    var fmt = color('checkmark', '  -')\n      + color('pending', ' %s');\n    console.log(fmt, test.fullTitle());\n  });\n\n  runner.on('pass', function(test) {\n    var fmt = color('checkmark', '  ' + Base.symbols.dot)\n      + color('pass', ' %s: ')\n      + color(test.speed, '%dms');\n    cursor.CR();\n    console.log(fmt, test.fullTitle(), test.duration);\n  });\n\n  runner.on('fail', function(test) {\n    cursor.CR();\n    console.log(color('fail', '  %d) %s'), ++n, test.fullTitle());\n  });\n\n  runner.on('end', self.epilogue.bind(self));\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\ninherits(List, Base);\n\n}).call(this,require('_process'))\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],28:[function(require,module,exports){\n(function (process){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar utils = require('../utils');\n\n/**\n * Constants\n */\n\nvar SUITE_PREFIX = '$';\n\n/**\n * Expose `Markdown`.\n */\n\nexports = module.exports = Markdown;\n\n/**\n * Initialize a new `Markdown` reporter.\n *\n * @api public\n * @param {Runner} runner\n */\nfunction Markdown(runner) {\n  Base.call(this, runner);\n\n  var level = 0;\n  var buf = '';\n\n  function title(str) {\n    return Array(level).join('#') + ' ' + str;\n  }\n\n  function mapTOC(suite, obj) {\n    var ret = obj;\n    var key = SUITE_PREFIX + suite.title;\n\n    obj = obj[key] = obj[key] || { suite: suite };\n    suite.suites.forEach(function(suite) {\n      mapTOC(suite, obj);\n    });\n\n    return ret;\n  }\n\n  function stringifyTOC(obj, level) {\n    ++level;\n    var buf = '';\n    var link;\n    for (var key in obj) {\n      if (key === 'suite') {\n        continue;\n      }\n      if (key !== SUITE_PREFIX) {\n        link = ' - [' + key.substring(1) + ']';\n        link += '(#' + utils.slug(obj[key].suite.fullTitle()) + ')\\n';\n        buf += Array(level).join('  ') + link;\n      }\n      buf += stringifyTOC(obj[key], level);\n    }\n    return buf;\n  }\n\n  function generateTOC(suite) {\n    var obj = mapTOC(suite, {});\n    return stringifyTOC(obj, 0);\n  }\n\n  generateTOC(runner.suite);\n\n  runner.on('suite', function(suite) {\n    ++level;\n    var slug = utils.slug(suite.fullTitle());\n    buf += '<a name=\"' + slug + '\"></a>' + '\\n';\n    buf += title(suite.title) + '\\n';\n  });\n\n  runner.on('suite end', function() {\n    --level;\n  });\n\n  runner.on('pass', function(test) {\n    var code = utils.clean(test.fn.toString());\n    buf += test.title + '.\\n';\n    buf += '\\n```js\\n';\n    buf += code + '\\n';\n    buf += '```\\n\\n';\n  });\n\n  runner.on('end', function() {\n    process.stdout.write('# TOC\\n');\n    process.stdout.write(generateTOC(runner.suite));\n    process.stdout.write(buf);\n  });\n}\n\n}).call(this,require('_process'))\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],29:[function(require,module,exports){\n(function (process){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar inherits = require('../utils').inherits;\n\n/**\n * Expose `Min`.\n */\n\nexports = module.exports = Min;\n\n/**\n * Initialize a new `Min` minimal test reporter (best used with --watch).\n *\n * @api public\n * @param {Runner} runner\n */\nfunction Min(runner) {\n  Base.call(this, runner);\n\n  runner.on('start', function() {\n    // clear screen\n    process.stdout.write('\\u001b[2J');\n    // set cursor position\n    process.stdout.write('\\u001b[1;3H');\n  });\n\n  runner.on('end', this.epilogue.bind(this));\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\ninherits(Min, Base);\n\n}).call(this,require('_process'))\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],30:[function(require,module,exports){\n(function (process){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar inherits = require('../utils').inherits;\n\n/**\n * Expose `Dot`.\n */\n\nexports = module.exports = NyanCat;\n\n/**\n * Initialize a new `Dot` matrix test reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction NyanCat(runner) {\n  Base.call(this, runner);\n\n  var self = this;\n  var width = Base.window.width * .75 | 0;\n  var nyanCatWidth = this.nyanCatWidth = 11;\n\n  this.colorIndex = 0;\n  this.numberOfLines = 4;\n  this.rainbowColors = self.generateColors();\n  this.scoreboardWidth = 5;\n  this.tick = 0;\n  this.trajectories = [[], [], [], []];\n  this.trajectoryWidthMax = (width - nyanCatWidth);\n\n  runner.on('start', function() {\n    Base.cursor.hide();\n    self.draw();\n  });\n\n  runner.on('pending', function() {\n    self.draw();\n  });\n\n  runner.on('pass', function() {\n    self.draw();\n  });\n\n  runner.on('fail', function() {\n    self.draw();\n  });\n\n  runner.on('end', function() {\n    Base.cursor.show();\n    for (var i = 0; i < self.numberOfLines; i++) {\n      write('\\n');\n    }\n    self.epilogue();\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\ninherits(NyanCat, Base);\n\n/**\n * Draw the nyan cat\n *\n * @api private\n */\n\nNyanCat.prototype.draw = function() {\n  this.appendRainbow();\n  this.drawScoreboard();\n  this.drawRainbow();\n  this.drawNyanCat();\n  this.tick = !this.tick;\n};\n\n/**\n * Draw the \"scoreboard\" showing the number\n * of passes, failures and pending tests.\n *\n * @api private\n */\n\nNyanCat.prototype.drawScoreboard = function() {\n  var stats = this.stats;\n\n  function draw(type, n) {\n    write(' ');\n    write(Base.color(type, n));\n    write('\\n');\n  }\n\n  draw('green', stats.passes);\n  draw('fail', stats.failures);\n  draw('pending', stats.pending);\n  write('\\n');\n\n  this.cursorUp(this.numberOfLines);\n};\n\n/**\n * Append the rainbow.\n *\n * @api private\n */\n\nNyanCat.prototype.appendRainbow = function() {\n  var segment = this.tick ? '_' : '-';\n  var rainbowified = this.rainbowify(segment);\n\n  for (var index = 0; index < this.numberOfLines; index++) {\n    var trajectory = this.trajectories[index];\n    if (trajectory.length >= this.trajectoryWidthMax) {\n      trajectory.shift();\n    }\n    trajectory.push(rainbowified);\n  }\n};\n\n/**\n * Draw the rainbow.\n *\n * @api private\n */\n\nNyanCat.prototype.drawRainbow = function() {\n  var self = this;\n\n  this.trajectories.forEach(function(line) {\n    write('\\u001b[' + self.scoreboardWidth + 'C');\n    write(line.join(''));\n    write('\\n');\n  });\n\n  this.cursorUp(this.numberOfLines);\n};\n\n/**\n * Draw the nyan cat\n *\n * @api private\n */\nNyanCat.prototype.drawNyanCat = function() {\n  var self = this;\n  var startWidth = this.scoreboardWidth + this.trajectories[0].length;\n  var dist = '\\u001b[' + startWidth + 'C';\n  var padding = '';\n\n  write(dist);\n  write('_,------,');\n  write('\\n');\n\n  write(dist);\n  padding = self.tick ? '  ' : '   ';\n  write('_|' + padding + '/\\\\_/\\\\ ');\n  write('\\n');\n\n  write(dist);\n  padding = self.tick ? '_' : '__';\n  var tail = self.tick ? '~' : '^';\n  write(tail + '|' + padding + this.face() + ' ');\n  write('\\n');\n\n  write(dist);\n  padding = self.tick ? ' ' : '  ';\n  write(padding + '\"\"  \"\" ');\n  write('\\n');\n\n  this.cursorUp(this.numberOfLines);\n};\n\n/**\n * Draw nyan cat face.\n *\n * @api private\n * @return {string}\n */\n\nNyanCat.prototype.face = function() {\n  var stats = this.stats;\n  if (stats.failures) {\n    return '( x .x)';\n  } else if (stats.pending) {\n    return '( o .o)';\n  } else if (stats.passes) {\n    return '( ^ .^)';\n  }\n  return '( - .-)';\n};\n\n/**\n * Move cursor up `n`.\n *\n * @api private\n * @param {number} n\n */\n\nNyanCat.prototype.cursorUp = function(n) {\n  write('\\u001b[' + n + 'A');\n};\n\n/**\n * Move cursor down `n`.\n *\n * @api private\n * @param {number} n\n */\n\nNyanCat.prototype.cursorDown = function(n) {\n  write('\\u001b[' + n + 'B');\n};\n\n/**\n * Generate rainbow colors.\n *\n * @api private\n * @return {Array}\n */\nNyanCat.prototype.generateColors = function() {\n  var colors = [];\n\n  for (var i = 0; i < (6 * 7); i++) {\n    var pi3 = Math.floor(Math.PI / 3);\n    var n = (i * (1.0 / 6));\n    var r = Math.floor(3 * Math.sin(n) + 3);\n    var g = Math.floor(3 * Math.sin(n + 2 * pi3) + 3);\n    var b = Math.floor(3 * Math.sin(n + 4 * pi3) + 3);\n    colors.push(36 * r + 6 * g + b + 16);\n  }\n\n  return colors;\n};\n\n/**\n * Apply rainbow to the given `str`.\n *\n * @api private\n * @param {string} str\n * @return {string}\n */\nNyanCat.prototype.rainbowify = function(str) {\n  if (!Base.useColors) {\n    return str;\n  }\n  var color = this.rainbowColors[this.colorIndex % this.rainbowColors.length];\n  this.colorIndex += 1;\n  return '\\u001b[38;5;' + color + 'm' + str + '\\u001b[0m';\n};\n\n/**\n * Stdout helper.\n *\n * @param {string} string A message to write to stdout.\n */\nfunction write(string) {\n  process.stdout.write(string);\n}\n\n}).call(this,require('_process'))\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],31:[function(require,module,exports){\n(function (process){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar inherits = require('../utils').inherits;\nvar color = Base.color;\nvar cursor = Base.cursor;\n\n/**\n * Expose `Progress`.\n */\n\nexports = module.exports = Progress;\n\n/**\n * General progress bar color.\n */\n\nBase.colors.progress = 90;\n\n/**\n * Initialize a new `Progress` bar test reporter.\n *\n * @api public\n * @param {Runner} runner\n * @param {Object} options\n */\nfunction Progress(runner, options) {\n  Base.call(this, runner);\n\n  var self = this;\n  var width = Base.window.width * .50 | 0;\n  var total = runner.total;\n  var complete = 0;\n  var lastN = -1;\n\n  // default chars\n  options = options || {};\n  options.open = options.open || '[';\n  options.complete = options.complete || '▬';\n  options.incomplete = options.incomplete || Base.symbols.dot;\n  options.close = options.close || ']';\n  options.verbose = false;\n\n  // tests started\n  runner.on('start', function() {\n    console.log();\n    cursor.hide();\n  });\n\n  // tests complete\n  runner.on('test end', function() {\n    complete++;\n\n    var percent = complete / total;\n    var n = width * percent | 0;\n    var i = width - n;\n\n    if (n === lastN && !options.verbose) {\n      // Don't re-render the line if it hasn't changed\n      return;\n    }\n    lastN = n;\n\n    cursor.CR();\n    process.stdout.write('\\u001b[J');\n    process.stdout.write(color('progress', '  ' + options.open));\n    process.stdout.write(Array(n).join(options.complete));\n    process.stdout.write(Array(i).join(options.incomplete));\n    process.stdout.write(color('progress', options.close));\n    if (options.verbose) {\n      process.stdout.write(color('progress', ' ' + complete + ' of ' + total));\n    }\n  });\n\n  // tests are complete, output some stats\n  // and the failures if any\n  runner.on('end', function() {\n    cursor.show();\n    console.log();\n    self.epilogue();\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\ninherits(Progress, Base);\n\n}).call(this,require('_process'))\n},{\"../utils\":39,\"./base\":17,\"_process\":51}],32:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar inherits = require('../utils').inherits;\nvar color = Base.color;\nvar cursor = Base.cursor;\n\n/**\n * Expose `Spec`.\n */\n\nexports = module.exports = Spec;\n\n/**\n * Initialize a new `Spec` test reporter.\n *\n * @api public\n * @param {Runner} runner\n */\nfunction Spec(runner) {\n  Base.call(this, runner);\n\n  var self = this;\n  var indents = 0;\n  var n = 0;\n\n  function indent() {\n    return Array(indents).join('  ');\n  }\n\n  runner.on('start', function() {\n    console.log();\n  });\n\n  runner.on('suite', function(suite) {\n    ++indents;\n    console.log(color('suite', '%s%s'), indent(), suite.title);\n  });\n\n  runner.on('suite end', function() {\n    --indents;\n    if (indents === 1) {\n      console.log();\n    }\n  });\n\n  runner.on('pending', function(test) {\n    var fmt = indent() + color('pending', '  - %s');\n    console.log(fmt, test.title);\n  });\n\n  runner.on('pass', function(test) {\n    var fmt;\n    if (test.speed === 'fast') {\n      fmt = indent()\n        + color('checkmark', '  ' + Base.symbols.ok)\n        + color('pass', ' %s');\n      cursor.CR();\n      console.log(fmt, test.title);\n    } else {\n      fmt = indent()\n        + color('checkmark', '  ' + Base.symbols.ok)\n        + color('pass', ' %s')\n        + color(test.speed, ' (%dms)');\n      cursor.CR();\n      console.log(fmt, test.title, test.duration);\n    }\n  });\n\n  runner.on('fail', function(test) {\n    cursor.CR();\n    console.log(indent() + color('fail', '  %d) %s'), ++n, test.title);\n  });\n\n  runner.on('end', self.epilogue.bind(self));\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\ninherits(Spec, Base);\n\n},{\"../utils\":39,\"./base\":17}],33:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\n\n/**\n * Expose `TAP`.\n */\n\nexports = module.exports = TAP;\n\n/**\n * Initialize a new `TAP` reporter.\n *\n * @api public\n * @param {Runner} runner\n */\nfunction TAP(runner) {\n  Base.call(this, runner);\n\n  var n = 1;\n  var passes = 0;\n  var failures = 0;\n\n  runner.on('start', function() {\n    var total = runner.grepTotal(runner.suite);\n    console.log('%d..%d', 1, total);\n  });\n\n  runner.on('test end', function() {\n    ++n;\n  });\n\n  runner.on('pending', function(test) {\n    console.log('ok %d %s # SKIP -', n, title(test));\n  });\n\n  runner.on('pass', function(test) {\n    passes++;\n    console.log('ok %d %s', n, title(test));\n  });\n\n  runner.on('fail', function(test, err) {\n    failures++;\n    console.log('not ok %d %s', n, title(test));\n    if (err.stack) {\n      console.log(err.stack.replace(/^/gm, '  '));\n    }\n  });\n\n  runner.on('end', function() {\n    console.log('# tests ' + (passes + failures));\n    console.log('# pass ' + passes);\n    console.log('# fail ' + failures);\n  });\n}\n\n/**\n * Return a TAP-safe title of `test`\n *\n * @api private\n * @param {Object} test\n * @return {String}\n */\nfunction title(test) {\n  return test.fullTitle().replace(/#/g, '');\n}\n\n},{\"./base\":17}],34:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar utils = require('../utils');\nvar inherits = utils.inherits;\nvar fs = require('fs');\nvar escape = utils.escape;\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\n/* eslint-disable no-unused-vars, no-native-reassign */\nvar Date = global.Date;\nvar setTimeout = global.setTimeout;\nvar setInterval = global.setInterval;\nvar clearTimeout = global.clearTimeout;\nvar clearInterval = global.clearInterval;\n/* eslint-enable no-unused-vars, no-native-reassign */\n\n/**\n * Expose `XUnit`.\n */\n\nexports = module.exports = XUnit;\n\n/**\n * Initialize a new `XUnit` reporter.\n *\n * @api public\n * @param {Runner} runner\n */\nfunction XUnit(runner, options) {\n  Base.call(this, runner);\n\n  var stats = this.stats;\n  var tests = [];\n  var self = this;\n\n  if (options.reporterOptions && options.reporterOptions.output) {\n    if (!fs.createWriteStream) {\n      throw new Error('file output not supported in browser');\n    }\n    self.fileStream = fs.createWriteStream(options.reporterOptions.output);\n  }\n\n  runner.on('pending', function(test) {\n    tests.push(test);\n  });\n\n  runner.on('pass', function(test) {\n    tests.push(test);\n  });\n\n  runner.on('fail', function(test) {\n    tests.push(test);\n  });\n\n  runner.on('end', function() {\n    self.write(tag('testsuite', {\n      name: 'Mocha Tests',\n      tests: stats.tests,\n      failures: stats.failures,\n      errors: stats.failures,\n      skipped: stats.tests - stats.failures - stats.passes,\n      timestamp: (new Date()).toUTCString(),\n      time: (stats.duration / 1000) || 0\n    }, false));\n\n    tests.forEach(function(t) {\n      self.test(t);\n    });\n\n    self.write('</testsuite>');\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\ninherits(XUnit, Base);\n\n/**\n * Override done to close the stream (if it's a file).\n *\n * @param failures\n * @param {Function} fn\n */\nXUnit.prototype.done = function(failures, fn) {\n  if (this.fileStream) {\n    this.fileStream.end(function() {\n      fn(failures);\n    });\n  } else {\n    fn(failures);\n  }\n};\n\n/**\n * Write out the given line.\n *\n * @param {string} line\n */\nXUnit.prototype.write = function(line) {\n  if (this.fileStream) {\n    this.fileStream.write(line + '\\n');\n  } else {\n    console.log(line);\n  }\n};\n\n/**\n * Output tag for the given `test.`\n *\n * @param {Test} test\n */\nXUnit.prototype.test = function(test) {\n  var attrs = {\n    classname: test.parent.fullTitle(),\n    name: test.title,\n    time: (test.duration / 1000) || 0\n  };\n\n  if (test.state === 'failed') {\n    var err = test.err;\n    this.write(tag('testcase', attrs, false, tag('failure', {}, false, cdata(escape(err.message) + '\\n' + err.stack))));\n  } else if (test.pending) {\n    this.write(tag('testcase', attrs, false, tag('skipped', {}, true)));\n  } else {\n    this.write(tag('testcase', attrs, true));\n  }\n};\n\n/**\n * HTML tag helper.\n *\n * @param name\n * @param attrs\n * @param close\n * @param content\n * @return {string}\n */\nfunction tag(name, attrs, close, content) {\n  var end = close ? '/>' : '>';\n  var pairs = [];\n  var tag;\n\n  for (var key in attrs) {\n    if (Object.prototype.hasOwnProperty.call(attrs, key)) {\n      pairs.push(key + '=\"' + escape(attrs[key]) + '\"');\n    }\n  }\n\n  tag = '<' + name + (pairs.length ? ' ' + pairs.join(' ') : '') + end;\n  if (content) {\n    tag += content + '</' + name + end;\n  }\n  return tag;\n}\n\n/**\n * Return cdata escaped CDATA `str`.\n */\n\nfunction cdata(str) {\n  return '<![CDATA[' + escape(str) + ']]>';\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../utils\":39,\"./base\":17,\"fs\":41}],35:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar EventEmitter = require('events').EventEmitter;\nvar Pending = require('./pending');\nvar debug = require('debug')('mocha:runnable');\nvar milliseconds = require('./ms');\nvar utils = require('./utils');\nvar inherits = utils.inherits;\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\n/* eslint-disable no-unused-vars, no-native-reassign */\nvar Date = global.Date;\nvar setTimeout = global.setTimeout;\nvar setInterval = global.setInterval;\nvar clearTimeout = global.clearTimeout;\nvar clearInterval = global.clearInterval;\n/* eslint-enable no-unused-vars, no-native-reassign */\n\n/**\n * Object#toString().\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Expose `Runnable`.\n */\n\nmodule.exports = Runnable;\n\n/**\n * Initialize a new `Runnable` with the given `title` and callback `fn`.\n *\n * @param {String} title\n * @param {Function} fn\n * @api private\n * @param {string} title\n * @param {Function} fn\n */\nfunction Runnable(title, fn) {\n  this.title = title;\n  this.fn = fn;\n  this.async = fn && fn.length;\n  this.sync = !this.async;\n  this._timeout = 2000;\n  this._slow = 75;\n  this._enableTimeouts = true;\n  this.timedOut = false;\n  this._trace = new Error('done() called multiple times');\n}\n\n/**\n * Inherit from `EventEmitter.prototype`.\n */\ninherits(Runnable, EventEmitter);\n\n/**\n * Set & get timeout `ms`.\n *\n * @api private\n * @param {number|string} ms\n * @return {Runnable|number} ms or Runnable instance.\n */\nRunnable.prototype.timeout = function(ms) {\n  if (!arguments.length) {\n    return this._timeout;\n  }\n  if (ms === 0) {\n    this._enableTimeouts = false;\n  }\n  if (typeof ms === 'string') {\n    ms = milliseconds(ms);\n  }\n  debug('timeout %d', ms);\n  this._timeout = ms;\n  if (this.timer) {\n    this.resetTimeout();\n  }\n  return this;\n};\n\n/**\n * Set & get slow `ms`.\n *\n * @api private\n * @param {number|string} ms\n * @return {Runnable|number} ms or Runnable instance.\n */\nRunnable.prototype.slow = function(ms) {\n  if (!arguments.length) {\n    return this._slow;\n  }\n  if (typeof ms === 'string') {\n    ms = milliseconds(ms);\n  }\n  debug('timeout %d', ms);\n  this._slow = ms;\n  return this;\n};\n\n/**\n * Set and get whether timeout is `enabled`.\n *\n * @api private\n * @param {boolean} enabled\n * @return {Runnable|boolean} enabled or Runnable instance.\n */\nRunnable.prototype.enableTimeouts = function(enabled) {\n  if (!arguments.length) {\n    return this._enableTimeouts;\n  }\n  debug('enableTimeouts %s', enabled);\n  this._enableTimeouts = enabled;\n  return this;\n};\n\n/**\n * Halt and mark as pending.\n *\n * @api private\n */\nRunnable.prototype.skip = function() {\n  throw new Pending();\n};\n\n/**\n * Return the full title generated by recursively concatenating the parent's\n * full title.\n *\n * @api public\n * @return {string}\n */\nRunnable.prototype.fullTitle = function() {\n  return this.parent.fullTitle() + ' ' + this.title;\n};\n\n/**\n * Clear the timeout.\n *\n * @api private\n */\nRunnable.prototype.clearTimeout = function() {\n  clearTimeout(this.timer);\n};\n\n/**\n * Inspect the runnable void of private properties.\n *\n * @api private\n * @return {string}\n */\nRunnable.prototype.inspect = function() {\n  return JSON.stringify(this, function(key, val) {\n    if (key[0] === '_') {\n      return;\n    }\n    if (key === 'parent') {\n      return '#<Suite>';\n    }\n    if (key === 'ctx') {\n      return '#<Context>';\n    }\n    return val;\n  }, 2);\n};\n\n/**\n * Reset the timeout.\n *\n * @api private\n */\nRunnable.prototype.resetTimeout = function() {\n  var self = this;\n  var ms = this.timeout() || 1e9;\n\n  if (!this._enableTimeouts) {\n    return;\n  }\n  this.clearTimeout();\n  this.timer = setTimeout(function() {\n    if (!self._enableTimeouts) {\n      return;\n    }\n    self.callback(new Error('timeout of ' + ms + 'ms exceeded. Ensure the done() callback is being called in this test.'));\n    self.timedOut = true;\n  }, ms);\n};\n\n/**\n * Whitelist a list of globals for this test run.\n *\n * @api private\n * @param {string[]} globals\n */\nRunnable.prototype.globals = function(globals) {\n  this._allowedGlobals = globals;\n};\n\n/**\n * Run the test and invoke `fn(err)`.\n *\n * @param {Function} fn\n * @api private\n */\nRunnable.prototype.run = function(fn) {\n  var self = this;\n  var start = new Date();\n  var ctx = this.ctx;\n  var finished;\n  var emitted;\n\n  // Sometimes the ctx exists, but it is not runnable\n  if (ctx && ctx.runnable) {\n    ctx.runnable(this);\n  }\n\n  // called multiple times\n  function multiple(err) {\n    if (emitted) {\n      return;\n    }\n    emitted = true;\n    self.emit('error', err || new Error('done() called multiple times; stacktrace may be inaccurate'));\n  }\n\n  // finished\n  function done(err) {\n    var ms = self.timeout();\n    if (self.timedOut) {\n      return;\n    }\n    if (finished) {\n      return multiple(err || self._trace);\n    }\n\n    self.clearTimeout();\n    self.duration = new Date() - start;\n    finished = true;\n    if (!err && self.duration > ms && self._enableTimeouts) {\n      err = new Error('timeout of ' + ms + 'ms exceeded. Ensure the done() callback is being called in this test.');\n    }\n    fn(err);\n  }\n\n  // for .resetTimeout()\n  this.callback = done;\n\n  // explicit async with `done` argument\n  if (this.async) {\n    this.resetTimeout();\n\n    if (this.allowUncaught) {\n      return callFnAsync(this.fn);\n    }\n    try {\n      callFnAsync(this.fn);\n    } catch (err) {\n      done(utils.getError(err));\n    }\n    return;\n  }\n\n  if (this.allowUncaught) {\n    callFn(this.fn);\n    done();\n    return;\n  }\n\n  // sync or promise-returning\n  try {\n    if (this.pending) {\n      done();\n    } else {\n      callFn(this.fn);\n    }\n  } catch (err) {\n    done(utils.getError(err));\n  }\n\n  function callFn(fn) {\n    var result = fn.call(ctx);\n    if (result && typeof result.then === 'function') {\n      self.resetTimeout();\n      result\n        .then(function() {\n          done();\n        },\n        function(reason) {\n          done(reason || new Error('Promise rejected with no or falsy reason'));\n        });\n    } else {\n      if (self.asyncOnly) {\n        return done(new Error('--async-only option in use without declaring `done()` or returning a promise'));\n      }\n\n      done();\n    }\n  }\n\n  function callFnAsync(fn) {\n    fn.call(ctx, function(err) {\n      if (err instanceof Error || toString.call(err) === '[object Error]') {\n        return done(err);\n      }\n      if (err) {\n        if (Object.prototype.toString.call(err) === '[object Object]') {\n          return done(new Error('done() invoked with non-Error: '\n            + JSON.stringify(err)));\n        }\n        return done(new Error('done() invoked with non-Error: ' + err));\n      }\n      done();\n    });\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./ms\":15,\"./pending\":16,\"./utils\":39,\"debug\":2,\"events\":3}],36:[function(require,module,exports){\n(function (process,global){\n/**\n * Module dependencies.\n */\n\nvar EventEmitter = require('events').EventEmitter;\nvar Pending = require('./pending');\nvar utils = require('./utils');\nvar inherits = utils.inherits;\nvar debug = require('debug')('mocha:runner');\nvar Runnable = require('./runnable');\nvar filter = utils.filter;\nvar indexOf = utils.indexOf;\nvar keys = utils.keys;\nvar stackFilter = utils.stackTraceFilter();\nvar stringify = utils.stringify;\nvar type = utils.type;\nvar undefinedError = utils.undefinedError;\n\n/**\n * Non-enumerable globals.\n */\n\nvar globals = [\n  'setTimeout',\n  'clearTimeout',\n  'setInterval',\n  'clearInterval',\n  'XMLHttpRequest',\n  'Date',\n  'setImmediate',\n  'clearImmediate'\n];\n\n/**\n * Expose `Runner`.\n */\n\nmodule.exports = Runner;\n\n/**\n * Initialize a `Runner` for the given `suite`.\n *\n * Events:\n *\n *   - `start`  execution started\n *   - `end`  execution complete\n *   - `suite`  (suite) test suite execution started\n *   - `suite end`  (suite) all tests (and sub-suites) have finished\n *   - `test`  (test) test execution started\n *   - `test end`  (test) test completed\n *   - `hook`  (hook) hook execution started\n *   - `hook end`  (hook) hook complete\n *   - `pass`  (test) test passed\n *   - `fail`  (test, err) test failed\n *   - `pending`  (test) test pending\n *\n * @api public\n * @param {Suite} suite Root suite\n * @param {boolean} [delay] Whether or not to delay execution of root suite\n * until ready.\n */\nfunction Runner(suite, delay) {\n  var self = this;\n  this._globals = [];\n  this._abort = false;\n  this._delay = delay;\n  this.suite = suite;\n  this.started = false;\n  this.total = suite.total();\n  this.failures = 0;\n  this.on('test end', function(test) {\n    self.checkGlobals(test);\n  });\n  this.on('hook end', function(hook) {\n    self.checkGlobals(hook);\n  });\n  this._defaultGrep = /.*/;\n  this.grep(this._defaultGrep);\n  this.globals(this.globalProps().concat(extraGlobals()));\n}\n\n/**\n * Wrapper for setImmediate, process.nextTick, or browser polyfill.\n *\n * @param {Function} fn\n * @api private\n */\nRunner.immediately = global.setImmediate || process.nextTick;\n\n/**\n * Inherit from `EventEmitter.prototype`.\n */\ninherits(Runner, EventEmitter);\n\n/**\n * Run tests with full titles matching `re`. Updates runner.total\n * with number of tests matched.\n *\n * @param {RegExp} re\n * @param {Boolean} invert\n * @return {Runner} for chaining\n * @api public\n * @param {RegExp} re\n * @param {boolean} invert\n * @return {Runner} Runner instance.\n */\nRunner.prototype.grep = function(re, invert) {\n  debug('grep %s', re);\n  this._grep = re;\n  this._invert = invert;\n  this.total = this.grepTotal(this.suite);\n  return this;\n};\n\n/**\n * Returns the number of tests matching the grep search for the\n * given suite.\n *\n * @param {Suite} suite\n * @return {Number}\n * @api public\n * @param {Suite} suite\n * @return {number}\n */\nRunner.prototype.grepTotal = function(suite) {\n  var self = this;\n  var total = 0;\n\n  suite.eachTest(function(test) {\n    var match = self._grep.test(test.fullTitle());\n    if (self._invert) {\n      match = !match;\n    }\n    if (match) {\n      total++;\n    }\n  });\n\n  return total;\n};\n\n/**\n * Return a list of global properties.\n *\n * @return {Array}\n * @api private\n */\nRunner.prototype.globalProps = function() {\n  var props = keys(global);\n\n  // non-enumerables\n  for (var i = 0; i < globals.length; ++i) {\n    if (~indexOf(props, globals[i])) {\n      continue;\n    }\n    props.push(globals[i]);\n  }\n\n  return props;\n};\n\n/**\n * Allow the given `arr` of globals.\n *\n * @param {Array} arr\n * @return {Runner} for chaining\n * @api public\n * @param {Array} arr\n * @return {Runner} Runner instance.\n */\nRunner.prototype.globals = function(arr) {\n  if (!arguments.length) {\n    return this._globals;\n  }\n  debug('globals %j', arr);\n  this._globals = this._globals.concat(arr);\n  return this;\n};\n\n/**\n * Check for global variable leaks.\n *\n * @api private\n */\nRunner.prototype.checkGlobals = function(test) {\n  if (this.ignoreLeaks) {\n    return;\n  }\n  var ok = this._globals;\n\n  var globals = this.globalProps();\n  var leaks;\n\n  if (test) {\n    ok = ok.concat(test._allowedGlobals || []);\n  }\n\n  if (this.prevGlobalsLength === globals.length) {\n    return;\n  }\n  this.prevGlobalsLength = globals.length;\n\n  leaks = filterLeaks(ok, globals);\n  this._globals = this._globals.concat(leaks);\n\n  if (leaks.length > 1) {\n    this.fail(test, new Error('global leaks detected: ' + leaks.join(', ') + ''));\n  } else if (leaks.length) {\n    this.fail(test, new Error('global leak detected: ' + leaks[0]));\n  }\n};\n\n/**\n * Fail the given `test`.\n *\n * @api private\n * @param {Test} test\n * @param {Error} err\n */\nRunner.prototype.fail = function(test, err) {\n  ++this.failures;\n  test.state = 'failed';\n\n  if (!(err instanceof Error || err && typeof err.message === 'string')) {\n    err = new Error('the ' + type(err) + ' ' + stringify(err) + ' was thrown, throw an Error :)');\n  }\n\n  err.stack = (this.fullStackTrace || !err.stack)\n    ? err.stack\n    : stackFilter(err.stack);\n\n  this.emit('fail', test, err);\n};\n\n/**\n * Fail the given `hook` with `err`.\n *\n * Hook failures work in the following pattern:\n * - If bail, then exit\n * - Failed `before` hook skips all tests in a suite and subsuites,\n *   but jumps to corresponding `after` hook\n * - Failed `before each` hook skips remaining tests in a\n *   suite and jumps to corresponding `after each` hook,\n *   which is run only once\n * - Failed `after` hook does not alter\n *   execution order\n * - Failed `after each` hook skips remaining tests in a\n *   suite and subsuites, but executes other `after each`\n *   hooks\n *\n * @api private\n * @param {Hook} hook\n * @param {Error} err\n */\nRunner.prototype.failHook = function(hook, err) {\n  if (hook.ctx && hook.ctx.currentTest) {\n    hook.originalTitle = hook.originalTitle || hook.title;\n    hook.title = hook.originalTitle + ' for \"' + hook.ctx.currentTest.title + '\"';\n  }\n\n  this.fail(hook, err);\n  if (this.suite.bail()) {\n    this.emit('end');\n  }\n};\n\n/**\n * Run hook `name` callbacks and then invoke `fn()`.\n *\n * @api private\n * @param {string} name\n * @param {Function} fn\n */\n\nRunner.prototype.hook = function(name, fn) {\n  var suite = this.suite;\n  var hooks = suite['_' + name];\n  var self = this;\n\n  function next(i) {\n    var hook = hooks[i];\n    if (!hook) {\n      return fn();\n    }\n    self.currentRunnable = hook;\n\n    hook.ctx.currentTest = self.test;\n\n    self.emit('hook', hook);\n\n    if (!hook.listeners('error').length) {\n      hook.on('error', function(err) {\n        self.failHook(hook, err);\n      });\n    }\n\n    hook.run(function(err) {\n      var testError = hook.error();\n      if (testError) {\n        self.fail(self.test, testError);\n      }\n      if (err) {\n        if (err instanceof Pending) {\n          suite.pending = true;\n        } else {\n          self.failHook(hook, err);\n\n          // stop executing hooks, notify callee of hook err\n          return fn(err);\n        }\n      }\n      self.emit('hook end', hook);\n      delete hook.ctx.currentTest;\n      next(++i);\n    });\n  }\n\n  Runner.immediately(function() {\n    next(0);\n  });\n};\n\n/**\n * Run hook `name` for the given array of `suites`\n * in order, and callback `fn(err, errSuite)`.\n *\n * @api private\n * @param {string} name\n * @param {Array} suites\n * @param {Function} fn\n */\nRunner.prototype.hooks = function(name, suites, fn) {\n  var self = this;\n  var orig = this.suite;\n\n  function next(suite) {\n    self.suite = suite;\n\n    if (!suite) {\n      self.suite = orig;\n      return fn();\n    }\n\n    self.hook(name, function(err) {\n      if (err) {\n        var errSuite = self.suite;\n        self.suite = orig;\n        return fn(err, errSuite);\n      }\n\n      next(suites.pop());\n    });\n  }\n\n  next(suites.pop());\n};\n\n/**\n * Run hooks from the top level down.\n *\n * @param {String} name\n * @param {Function} fn\n * @api private\n */\nRunner.prototype.hookUp = function(name, fn) {\n  var suites = [this.suite].concat(this.parents()).reverse();\n  this.hooks(name, suites, fn);\n};\n\n/**\n * Run hooks from the bottom up.\n *\n * @param {String} name\n * @param {Function} fn\n * @api private\n */\nRunner.prototype.hookDown = function(name, fn) {\n  var suites = [this.suite].concat(this.parents());\n  this.hooks(name, suites, fn);\n};\n\n/**\n * Return an array of parent Suites from\n * closest to furthest.\n *\n * @return {Array}\n * @api private\n */\nRunner.prototype.parents = function() {\n  var suite = this.suite;\n  var suites = [];\n  while (suite.parent) {\n    suite = suite.parent;\n    suites.push(suite);\n  }\n  return suites;\n};\n\n/**\n * Run the current test and callback `fn(err)`.\n *\n * @param {Function} fn\n * @api private\n */\nRunner.prototype.runTest = function(fn) {\n  var self = this;\n  var test = this.test;\n\n  if (this.asyncOnly) {\n    test.asyncOnly = true;\n  }\n\n  if (this.allowUncaught) {\n    test.allowUncaught = true;\n    return test.run(fn);\n  }\n  try {\n    test.on('error', function(err) {\n      self.fail(test, err);\n    });\n    test.run(fn);\n  } catch (err) {\n    fn(err);\n  }\n};\n\n/**\n * Run tests in the given `suite` and invoke the callback `fn()` when complete.\n *\n * @api private\n * @param {Suite} suite\n * @param {Function} fn\n */\nRunner.prototype.runTests = function(suite, fn) {\n  var self = this;\n  var tests = suite.tests.slice();\n  var test;\n\n  function hookErr(_, errSuite, after) {\n    // before/after Each hook for errSuite failed:\n    var orig = self.suite;\n\n    // for failed 'after each' hook start from errSuite parent,\n    // otherwise start from errSuite itself\n    self.suite = after ? errSuite.parent : errSuite;\n\n    if (self.suite) {\n      // call hookUp afterEach\n      self.hookUp('afterEach', function(err2, errSuite2) {\n        self.suite = orig;\n        // some hooks may fail even now\n        if (err2) {\n          return hookErr(err2, errSuite2, true);\n        }\n        // report error suite\n        fn(errSuite);\n      });\n    } else {\n      // there is no need calling other 'after each' hooks\n      self.suite = orig;\n      fn(errSuite);\n    }\n  }\n\n  function next(err, errSuite) {\n    // if we bail after first err\n    if (self.failures && suite._bail) {\n      return fn();\n    }\n\n    if (self._abort) {\n      return fn();\n    }\n\n    if (err) {\n      return hookErr(err, errSuite, true);\n    }\n\n    // next test\n    test = tests.shift();\n\n    // all done\n    if (!test) {\n      return fn();\n    }\n\n    // grep\n    var match = self._grep.test(test.fullTitle());\n    if (self._invert) {\n      match = !match;\n    }\n    if (!match) {\n      // Run immediately only if we have defined a grep. When we\n      // define a grep — It can cause maximum callstack error if\n      // the grep is doing a large recursive loop by neglecting\n      // all tests. The run immediately function also comes with\n      // a performance cost. So we don't want to run immediately\n      // if we run the whole test suite, because running the whole\n      // test suite don't do any immediate recursive loops. Thus,\n      // allowing a JS runtime to breathe.\n      if (self._grep !== self._defaultGrep) {\n        Runner.immediately(next);\n      } else {\n        next();\n      }\n      return;\n    }\n\n    // pending\n    if (test.pending) {\n      self.emit('pending', test);\n      self.emit('test end', test);\n      return next();\n    }\n\n    // execute test and hook(s)\n    self.emit('test', self.test = test);\n    self.hookDown('beforeEach', function(err, errSuite) {\n      if (suite.pending) {\n        self.emit('pending', test);\n        self.emit('test end', test);\n        return next();\n      }\n      if (err) {\n        return hookErr(err, errSuite, false);\n      }\n      self.currentRunnable = self.test;\n      self.runTest(function(err) {\n        test = self.test;\n\n        if (err) {\n          if (err instanceof Pending) {\n            self.emit('pending', test);\n          } else {\n            self.fail(test, err);\n          }\n          self.emit('test end', test);\n\n          if (err instanceof Pending) {\n            return next();\n          }\n\n          return self.hookUp('afterEach', next);\n        }\n\n        test.state = 'passed';\n        self.emit('pass', test);\n        self.emit('test end', test);\n        self.hookUp('afterEach', next);\n      });\n    });\n  }\n\n  this.next = next;\n  this.hookErr = hookErr;\n  next();\n};\n\n/**\n * Run the given `suite` and invoke the callback `fn()` when complete.\n *\n * @api private\n * @param {Suite} suite\n * @param {Function} fn\n */\nRunner.prototype.runSuite = function(suite, fn) {\n  var i = 0;\n  var self = this;\n  var total = this.grepTotal(suite);\n  var afterAllHookCalled = false;\n\n  debug('run suite %s', suite.fullTitle());\n\n  if (!total || (self.failures && suite._bail)) {\n    return fn();\n  }\n\n  this.emit('suite', this.suite = suite);\n\n  function next(errSuite) {\n    if (errSuite) {\n      // current suite failed on a hook from errSuite\n      if (errSuite === suite) {\n        // if errSuite is current suite\n        // continue to the next sibling suite\n        return done();\n      }\n      // errSuite is among the parents of current suite\n      // stop execution of errSuite and all sub-suites\n      return done(errSuite);\n    }\n\n    if (self._abort) {\n      return done();\n    }\n\n    var curr = suite.suites[i++];\n    if (!curr) {\n      return done();\n    }\n\n    // Avoid grep neglecting large number of tests causing a\n    // huge recursive loop and thus a maximum call stack error.\n    // See comment in `this.runTests()` for more information.\n    if (self._grep !== self._defaultGrep) {\n      Runner.immediately(function() {\n        self.runSuite(curr, next);\n      });\n    } else {\n      self.runSuite(curr, next);\n    }\n  }\n\n  function done(errSuite) {\n    self.suite = suite;\n    self.nextSuite = next;\n\n    if (afterAllHookCalled) {\n      fn(errSuite);\n    } else {\n      // mark that the afterAll block has been called once\n      // and so can be skipped if there is an error in it.\n      afterAllHookCalled = true;\n      self.hook('afterAll', function() {\n        self.emit('suite end', suite);\n        fn(errSuite);\n      });\n    }\n  }\n\n  this.nextSuite = next;\n\n  this.hook('beforeAll', function(err) {\n    if (err) {\n      return done();\n    }\n    self.runTests(suite, next);\n  });\n};\n\n/**\n * Handle uncaught exceptions.\n *\n * @param {Error} err\n * @api private\n */\nRunner.prototype.uncaught = function(err) {\n  if (err) {\n    debug('uncaught exception %s', err !== function() {\n      return this;\n    }.call(err) ? err : (err.message || err));\n  } else {\n    debug('uncaught undefined exception');\n    err = undefinedError();\n  }\n  err.uncaught = true;\n\n  var runnable = this.currentRunnable;\n\n  if (!runnable) {\n    runnable = new Runnable('Uncaught error outside test suite');\n    runnable.parent = this.suite;\n\n    if (this.started) {\n      this.fail(runnable, err);\n    } else {\n      // Can't recover from this failure\n      this.emit('start');\n      this.fail(runnable, err);\n      this.emit('end');\n    }\n\n    return;\n  }\n\n  runnable.clearTimeout();\n\n  // Ignore errors if complete\n  if (runnable.state) {\n    return;\n  }\n  this.fail(runnable, err);\n\n  // recover from test\n  if (runnable.type === 'test') {\n    this.emit('test end', runnable);\n    this.hookUp('afterEach', this.next);\n    return;\n  }\n\n // recover from hooks\n  if (runnable.type === 'hook') {\n    var errSuite = this.suite;\n    // if hook failure is in afterEach block\n    if (runnable.fullTitle().indexOf('after each') > -1) {\n      return this.hookErr(err, errSuite, true);\n    }\n    // if hook failure is in beforeEach block\n    if (runnable.fullTitle().indexOf('before each') > -1) {\n      return this.hookErr(err, errSuite, false);\n    }\n    // if hook failure is in after or before blocks\n    return this.nextSuite(errSuite);\n  }\n\n  // bail\n  this.emit('end');\n};\n\n/**\n * Run the root suite and invoke `fn(failures)`\n * on completion.\n *\n * @param {Function} fn\n * @return {Runner} for chaining\n * @api public\n * @param {Function} fn\n * @return {Runner} Runner instance.\n */\nRunner.prototype.run = function(fn) {\n  var self = this;\n  var rootSuite = this.suite;\n\n  fn = fn || function() {};\n\n  function uncaught(err) {\n    self.uncaught(err);\n  }\n\n  function start() {\n    self.started = true;\n    self.emit('start');\n    self.runSuite(rootSuite, function() {\n      debug('finished running');\n      self.emit('end');\n    });\n  }\n\n  debug('start');\n\n  // callback\n  this.on('end', function() {\n    debug('end');\n    process.removeListener('uncaughtException', uncaught);\n    fn(self.failures);\n  });\n\n  // uncaught exception\n  process.on('uncaughtException', uncaught);\n\n  if (this._delay) {\n    // for reporters, I guess.\n    // might be nice to debounce some dots while we wait.\n    this.emit('waiting', rootSuite);\n    rootSuite.once('run', start);\n  } else {\n    start();\n  }\n\n  return this;\n};\n\n/**\n * Cleanly abort execution.\n *\n * @api public\n * @return {Runner} Runner instance.\n */\nRunner.prototype.abort = function() {\n  debug('aborting');\n  this._abort = true;\n\n  return this;\n};\n\n/**\n * Filter leaks with the given globals flagged as `ok`.\n *\n * @api private\n * @param {Array} ok\n * @param {Array} globals\n * @return {Array}\n */\nfunction filterLeaks(ok, globals) {\n  return filter(globals, function(key) {\n    // Firefox and Chrome exposes iframes as index inside the window object\n    if (/^d+/.test(key)) {\n      return false;\n    }\n\n    // in firefox\n    // if runner runs in an iframe, this iframe's window.getInterface method not init at first\n    // it is assigned in some seconds\n    if (global.navigator && (/^getInterface/).test(key)) {\n      return false;\n    }\n\n    // an iframe could be approached by window[iframeIndex]\n    // in ie6,7,8 and opera, iframeIndex is enumerable, this could cause leak\n    if (global.navigator && (/^\\d+/).test(key)) {\n      return false;\n    }\n\n    // Opera and IE expose global variables for HTML element IDs (issue #243)\n    if (/^mocha-/.test(key)) {\n      return false;\n    }\n\n    var matched = filter(ok, function(ok) {\n      if (~ok.indexOf('*')) {\n        return key.indexOf(ok.split('*')[0]) === 0;\n      }\n      return key === ok;\n    });\n    return !matched.length && (!global.navigator || key !== 'onerror');\n  });\n}\n\n/**\n * Array of globals dependent on the environment.\n *\n * @return {Array}\n * @api private\n */\nfunction extraGlobals() {\n  if (typeof process === 'object' && typeof process.version === 'string') {\n    var parts = process.version.split('.');\n    var nodeVersion = utils.reduce(parts, function(a, v) {\n      return a << 8 | v;\n    });\n\n    // 'errno' was renamed to process._errno in v0.9.11.\n\n    if (nodeVersion < 0x00090B) {\n      return ['errno'];\n    }\n  }\n\n  return [];\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./pending\":16,\"./runnable\":35,\"./utils\":39,\"_process\":51,\"debug\":2,\"events\":3}],37:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar EventEmitter = require('events').EventEmitter;\nvar Hook = require('./hook');\nvar utils = require('./utils');\nvar inherits = utils.inherits;\nvar debug = require('debug')('mocha:suite');\nvar milliseconds = require('./ms');\n\n/**\n * Expose `Suite`.\n */\n\nexports = module.exports = Suite;\n\n/**\n * Create a new `Suite` with the given `title` and parent `Suite`. When a suite\n * with the same title is already present, that suite is returned to provide\n * nicer reporter and more flexible meta-testing.\n *\n * @api public\n * @param {Suite} parent\n * @param {string} title\n * @return {Suite}\n */\nexports.create = function(parent, title) {\n  var suite = new Suite(title, parent.ctx);\n  suite.parent = parent;\n  if (parent.pending) {\n    suite.pending = true;\n  }\n  title = suite.fullTitle();\n  parent.addSuite(suite);\n  return suite;\n};\n\n/**\n * Initialize a new `Suite` with the given `title` and `ctx`.\n *\n * @api private\n * @param {string} title\n * @param {Context} parentContext\n */\nfunction Suite(title, parentContext) {\n  this.title = title;\n  function Context() {}\n  Context.prototype = parentContext;\n  this.ctx = new Context();\n  this.suites = [];\n  this.tests = [];\n  this.pending = false;\n  this._beforeEach = [];\n  this._beforeAll = [];\n  this._afterEach = [];\n  this._afterAll = [];\n  this.root = !title;\n  this._timeout = 2000;\n  this._enableTimeouts = true;\n  this._slow = 75;\n  this._bail = false;\n  this.delayed = false;\n}\n\n/**\n * Inherit from `EventEmitter.prototype`.\n */\ninherits(Suite, EventEmitter);\n\n/**\n * Return a clone of this `Suite`.\n *\n * @api private\n * @return {Suite}\n */\nSuite.prototype.clone = function() {\n  var suite = new Suite(this.title);\n  debug('clone');\n  suite.ctx = this.ctx;\n  suite.timeout(this.timeout());\n  suite.enableTimeouts(this.enableTimeouts());\n  suite.slow(this.slow());\n  suite.bail(this.bail());\n  return suite;\n};\n\n/**\n * Set timeout `ms` or short-hand such as \"2s\".\n *\n * @api private\n * @param {number|string} ms\n * @return {Suite|number} for chaining\n */\nSuite.prototype.timeout = function(ms) {\n  if (!arguments.length) {\n    return this._timeout;\n  }\n  if (ms.toString() === '0') {\n    this._enableTimeouts = false;\n  }\n  if (typeof ms === 'string') {\n    ms = milliseconds(ms);\n  }\n  debug('timeout %d', ms);\n  this._timeout = parseInt(ms, 10);\n  return this;\n};\n\n/**\n  * Set timeout to `enabled`.\n  *\n  * @api private\n  * @param {boolean} enabled\n  * @return {Suite|boolean} self or enabled\n  */\nSuite.prototype.enableTimeouts = function(enabled) {\n  if (!arguments.length) {\n    return this._enableTimeouts;\n  }\n  debug('enableTimeouts %s', enabled);\n  this._enableTimeouts = enabled;\n  return this;\n};\n\n/**\n * Set slow `ms` or short-hand such as \"2s\".\n *\n * @api private\n * @param {number|string} ms\n * @return {Suite|number} for chaining\n */\nSuite.prototype.slow = function(ms) {\n  if (!arguments.length) {\n    return this._slow;\n  }\n  if (typeof ms === 'string') {\n    ms = milliseconds(ms);\n  }\n  debug('slow %d', ms);\n  this._slow = ms;\n  return this;\n};\n\n/**\n * Sets whether to bail after first error.\n *\n * @api private\n * @param {boolean} bail\n * @return {Suite|number} for chaining\n */\nSuite.prototype.bail = function(bail) {\n  if (!arguments.length) {\n    return this._bail;\n  }\n  debug('bail %s', bail);\n  this._bail = bail;\n  return this;\n};\n\n/**\n * Run `fn(test[, done])` before running tests.\n *\n * @api private\n * @param {string} title\n * @param {Function} fn\n * @return {Suite} for chaining\n */\nSuite.prototype.beforeAll = function(title, fn) {\n  if (this.pending) {\n    return this;\n  }\n  if (typeof title === 'function') {\n    fn = title;\n    title = fn.name;\n  }\n  title = '\"before all\" hook' + (title ? ': ' + title : '');\n\n  var hook = new Hook(title, fn);\n  hook.parent = this;\n  hook.timeout(this.timeout());\n  hook.enableTimeouts(this.enableTimeouts());\n  hook.slow(this.slow());\n  hook.ctx = this.ctx;\n  this._beforeAll.push(hook);\n  this.emit('beforeAll', hook);\n  return this;\n};\n\n/**\n * Run `fn(test[, done])` after running tests.\n *\n * @api private\n * @param {string} title\n * @param {Function} fn\n * @return {Suite} for chaining\n */\nSuite.prototype.afterAll = function(title, fn) {\n  if (this.pending) {\n    return this;\n  }\n  if (typeof title === 'function') {\n    fn = title;\n    title = fn.name;\n  }\n  title = '\"after all\" hook' + (title ? ': ' + title : '');\n\n  var hook = new Hook(title, fn);\n  hook.parent = this;\n  hook.timeout(this.timeout());\n  hook.enableTimeouts(this.enableTimeouts());\n  hook.slow(this.slow());\n  hook.ctx = this.ctx;\n  this._afterAll.push(hook);\n  this.emit('afterAll', hook);\n  return this;\n};\n\n/**\n * Run `fn(test[, done])` before each test case.\n *\n * @api private\n * @param {string} title\n * @param {Function} fn\n * @return {Suite} for chaining\n */\nSuite.prototype.beforeEach = function(title, fn) {\n  if (this.pending) {\n    return this;\n  }\n  if (typeof title === 'function') {\n    fn = title;\n    title = fn.name;\n  }\n  title = '\"before each\" hook' + (title ? ': ' + title : '');\n\n  var hook = new Hook(title, fn);\n  hook.parent = this;\n  hook.timeout(this.timeout());\n  hook.enableTimeouts(this.enableTimeouts());\n  hook.slow(this.slow());\n  hook.ctx = this.ctx;\n  this._beforeEach.push(hook);\n  this.emit('beforeEach', hook);\n  return this;\n};\n\n/**\n * Run `fn(test[, done])` after each test case.\n *\n * @api private\n * @param {string} title\n * @param {Function} fn\n * @return {Suite} for chaining\n */\nSuite.prototype.afterEach = function(title, fn) {\n  if (this.pending) {\n    return this;\n  }\n  if (typeof title === 'function') {\n    fn = title;\n    title = fn.name;\n  }\n  title = '\"after each\" hook' + (title ? ': ' + title : '');\n\n  var hook = new Hook(title, fn);\n  hook.parent = this;\n  hook.timeout(this.timeout());\n  hook.enableTimeouts(this.enableTimeouts());\n  hook.slow(this.slow());\n  hook.ctx = this.ctx;\n  this._afterEach.push(hook);\n  this.emit('afterEach', hook);\n  return this;\n};\n\n/**\n * Add a test `suite`.\n *\n * @api private\n * @param {Suite} suite\n * @return {Suite} for chaining\n */\nSuite.prototype.addSuite = function(suite) {\n  suite.parent = this;\n  suite.timeout(this.timeout());\n  suite.enableTimeouts(this.enableTimeouts());\n  suite.slow(this.slow());\n  suite.bail(this.bail());\n  this.suites.push(suite);\n  this.emit('suite', suite);\n  return this;\n};\n\n/**\n * Add a `test` to this suite.\n *\n * @api private\n * @param {Test} test\n * @return {Suite} for chaining\n */\nSuite.prototype.addTest = function(test) {\n  test.parent = this;\n  test.timeout(this.timeout());\n  test.enableTimeouts(this.enableTimeouts());\n  test.slow(this.slow());\n  test.ctx = this.ctx;\n  this.tests.push(test);\n  this.emit('test', test);\n  return this;\n};\n\n/**\n * Return the full title generated by recursively concatenating the parent's\n * full title.\n *\n * @api public\n * @return {string}\n */\nSuite.prototype.fullTitle = function() {\n  if (this.parent) {\n    var full = this.parent.fullTitle();\n    if (full) {\n      return full + ' ' + this.title;\n    }\n  }\n  return this.title;\n};\n\n/**\n * Return the total number of tests.\n *\n * @api public\n * @return {number}\n */\nSuite.prototype.total = function() {\n  return utils.reduce(this.suites, function(sum, suite) {\n    return sum + suite.total();\n  }, 0) + this.tests.length;\n};\n\n/**\n * Iterates through each suite recursively to find all tests. Applies a\n * function in the format `fn(test)`.\n *\n * @api private\n * @param {Function} fn\n * @return {Suite}\n */\nSuite.prototype.eachTest = function(fn) {\n  utils.forEach(this.tests, fn);\n  utils.forEach(this.suites, function(suite) {\n    suite.eachTest(fn);\n  });\n  return this;\n};\n\n/**\n * This will run the root suite if we happen to be running in delayed mode.\n */\nSuite.prototype.run = function run() {\n  if (this.root) {\n    this.emit('run');\n  }\n};\n\n},{\"./hook\":7,\"./ms\":15,\"./utils\":39,\"debug\":2,\"events\":3}],38:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Runnable = require('./runnable');\nvar inherits = require('./utils').inherits;\n\n/**\n * Expose `Test`.\n */\n\nmodule.exports = Test;\n\n/**\n * Initialize a new `Test` with the given `title` and callback `fn`.\n *\n * @api private\n * @param {String} title\n * @param {Function} fn\n */\nfunction Test(title, fn) {\n  Runnable.call(this, title, fn);\n  this.pending = !fn;\n  this.type = 'test';\n}\n\n/**\n * Inherit from `Runnable.prototype`.\n */\ninherits(Test, Runnable);\n\n},{\"./runnable\":35,\"./utils\":39}],39:[function(require,module,exports){\n(function (process,Buffer){\n/* eslint-env browser */\n\n/**\n * Module dependencies.\n */\n\nvar basename = require('path').basename;\nvar debug = require('debug')('mocha:watch');\nvar exists = require('fs').existsSync || require('path').existsSync;\nvar glob = require('glob');\nvar join = require('path').join;\nvar readdirSync = require('fs').readdirSync;\nvar statSync = require('fs').statSync;\nvar watchFile = require('fs').watchFile;\n\n/**\n * Ignored directories.\n */\n\nvar ignore = ['node_modules', '.git'];\n\nexports.inherits = require('util').inherits;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @api private\n * @param  {string} html\n * @return {string}\n */\nexports.escape = function(html) {\n  return String(html)\n    .replace(/&/g, '&amp;')\n    .replace(/\"/g, '&quot;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n};\n\n/**\n * Array#forEach (<=IE8)\n *\n * @api private\n * @param {Array} arr\n * @param {Function} fn\n * @param {Object} scope\n */\nexports.forEach = function(arr, fn, scope) {\n  for (var i = 0, l = arr.length; i < l; i++) {\n    fn.call(scope, arr[i], i);\n  }\n};\n\n/**\n * Test if the given obj is type of string.\n *\n * @api private\n * @param {Object} obj\n * @return {boolean}\n */\nexports.isString = function(obj) {\n  return typeof obj === 'string';\n};\n\n/**\n * Array#map (<=IE8)\n *\n * @api private\n * @param {Array} arr\n * @param {Function} fn\n * @param {Object} scope\n * @return {Array}\n */\nexports.map = function(arr, fn, scope) {\n  var result = [];\n  for (var i = 0, l = arr.length; i < l; i++) {\n    result.push(fn.call(scope, arr[i], i, arr));\n  }\n  return result;\n};\n\n/**\n * Array#indexOf (<=IE8)\n *\n * @api private\n * @param {Array} arr\n * @param {Object} obj to find index of\n * @param {number} start\n * @return {number}\n */\nexports.indexOf = function(arr, obj, start) {\n  for (var i = start || 0, l = arr.length; i < l; i++) {\n    if (arr[i] === obj) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n/**\n * Array#reduce (<=IE8)\n *\n * @api private\n * @param {Array} arr\n * @param {Function} fn\n * @param {Object} val Initial value.\n * @return {*}\n */\nexports.reduce = function(arr, fn, val) {\n  var rval = val;\n\n  for (var i = 0, l = arr.length; i < l; i++) {\n    rval = fn(rval, arr[i], i, arr);\n  }\n\n  return rval;\n};\n\n/**\n * Array#filter (<=IE8)\n *\n * @api private\n * @param {Array} arr\n * @param {Function} fn\n * @return {Array}\n */\nexports.filter = function(arr, fn) {\n  var ret = [];\n\n  for (var i = 0, l = arr.length; i < l; i++) {\n    var val = arr[i];\n    if (fn(val, i, arr)) {\n      ret.push(val);\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Object.keys (<=IE8)\n *\n * @api private\n * @param {Object} obj\n * @return {Array} keys\n */\nexports.keys = typeof Object.keys === 'function' ? Object.keys : function(obj) {\n  var keys = [];\n  var has = Object.prototype.hasOwnProperty; // for `window` on <=IE8\n\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      keys.push(key);\n    }\n  }\n\n  return keys;\n};\n\n/**\n * Watch the given `files` for changes\n * and invoke `fn(file)` on modification.\n *\n * @api private\n * @param {Array} files\n * @param {Function} fn\n */\nexports.watch = function(files, fn) {\n  var options = { interval: 100 };\n  files.forEach(function(file) {\n    debug('file %s', file);\n    watchFile(file, options, function(curr, prev) {\n      if (prev.mtime < curr.mtime) {\n        fn(file);\n      }\n    });\n  });\n};\n\n/**\n * Array.isArray (<=IE8)\n *\n * @api private\n * @param {Object} obj\n * @return {Boolean}\n */\nvar isArray = typeof Array.isArray === 'function' ? Array.isArray : function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n};\n\n/**\n * Buffer.prototype.toJSON polyfill.\n *\n * @type {Function}\n */\nif (typeof Buffer !== 'undefined' && Buffer.prototype) {\n  Buffer.prototype.toJSON = Buffer.prototype.toJSON || function() {\n    return Array.prototype.slice.call(this, 0);\n  };\n}\n\n/**\n * Ignored files.\n *\n * @api private\n * @param {string} path\n * @return {boolean}\n */\nfunction ignored(path) {\n  return !~ignore.indexOf(path);\n}\n\n/**\n * Lookup files in the given `dir`.\n *\n * @api private\n * @param {string} dir\n * @param {string[]} [ext=['.js']]\n * @param {Array} [ret=[]]\n * @return {Array}\n */\nexports.files = function(dir, ext, ret) {\n  ret = ret || [];\n  ext = ext || ['js'];\n\n  var re = new RegExp('\\\\.(' + ext.join('|') + ')$');\n\n  readdirSync(dir)\n    .filter(ignored)\n    .forEach(function(path) {\n      path = join(dir, path);\n      if (statSync(path).isDirectory()) {\n        exports.files(path, ext, ret);\n      } else if (path.match(re)) {\n        ret.push(path);\n      }\n    });\n\n  return ret;\n};\n\n/**\n * Compute a slug from the given `str`.\n *\n * @api private\n * @param {string} str\n * @return {string}\n */\nexports.slug = function(str) {\n  return str\n    .toLowerCase()\n    .replace(/ +/g, '-')\n    .replace(/[^-\\w]/g, '');\n};\n\n/**\n * Strip the function definition from `str`, and re-indent for pre whitespace.\n *\n * @param {string} str\n * @return {string}\n */\nexports.clean = function(str) {\n  str = str\n    .replace(/\\r\\n?|[\\n\\u2028\\u2029]/g, '\\n').replace(/^\\uFEFF/, '')\n    .replace(/^function *\\(.*\\)\\s*{|\\(.*\\) *=> *{?/, '')\n    .replace(/\\s+\\}$/, '');\n\n  var spaces = str.match(/^\\n?( *)/)[1].length;\n  var tabs = str.match(/^\\n?(\\t*)/)[1].length;\n  var re = new RegExp('^\\n?' + (tabs ? '\\t' : ' ') + '{' + (tabs ? tabs : spaces) + '}', 'gm');\n\n  str = str.replace(re, '');\n\n  return exports.trim(str);\n};\n\n/**\n * Trim the given `str`.\n *\n * @api private\n * @param {string} str\n * @return {string}\n */\nexports.trim = function(str) {\n  return str.replace(/^\\s+|\\s+$/g, '');\n};\n\n/**\n * Parse the given `qs`.\n *\n * @api private\n * @param {string} qs\n * @return {Object}\n */\nexports.parseQuery = function(qs) {\n  return exports.reduce(qs.replace('?', '').split('&'), function(obj, pair) {\n    var i = pair.indexOf('=');\n    var key = pair.slice(0, i);\n    var val = pair.slice(++i);\n\n    obj[key] = decodeURIComponent(val);\n    return obj;\n  }, {});\n};\n\n/**\n * Highlight the given string of `js`.\n *\n * @api private\n * @param {string} js\n * @return {string}\n */\nfunction highlight(js) {\n  return js\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\\/\\/(.*)/gm, '<span class=\"comment\">//$1</span>')\n    .replace(/('.*?')/gm, '<span class=\"string\">$1</span>')\n    .replace(/(\\d+\\.\\d+)/gm, '<span class=\"number\">$1</span>')\n    .replace(/(\\d+)/gm, '<span class=\"number\">$1</span>')\n    .replace(/\\bnew[ \\t]+(\\w+)/gm, '<span class=\"keyword\">new</span> <span class=\"init\">$1</span>')\n    .replace(/\\b(function|new|throw|return|var|if|else)\\b/gm, '<span class=\"keyword\">$1</span>');\n}\n\n/**\n * Highlight the contents of tag `name`.\n *\n * @api private\n * @param {string} name\n */\nexports.highlightTags = function(name) {\n  var code = document.getElementById('mocha').getElementsByTagName(name);\n  for (var i = 0, len = code.length; i < len; ++i) {\n    code[i].innerHTML = highlight(code[i].innerHTML);\n  }\n};\n\n/**\n * If a value could have properties, and has none, this function is called,\n * which returns a string representation of the empty value.\n *\n * Functions w/ no properties return `'[Function]'`\n * Arrays w/ length === 0 return `'[]'`\n * Objects w/ no properties return `'{}'`\n * All else: return result of `value.toString()`\n *\n * @api private\n * @param {*} value The value to inspect.\n * @param {string} [type] The type of the value, if known.\n * @returns {string}\n */\nfunction emptyRepresentation(value, type) {\n  type = type || exports.type(value);\n\n  switch (type) {\n    case 'function':\n      return '[Function]';\n    case 'object':\n      return '{}';\n    case 'array':\n      return '[]';\n    default:\n      return value.toString();\n  }\n}\n\n/**\n * Takes some variable and asks `Object.prototype.toString()` what it thinks it\n * is.\n *\n * @api private\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString\n * @param {*} value The value to test.\n * @returns {string}\n * @example\n * type({}) // 'object'\n * type([]) // 'array'\n * type(1) // 'number'\n * type(false) // 'boolean'\n * type(Infinity) // 'number'\n * type(null) // 'null'\n * type(new Date()) // 'date'\n * type(/foo/) // 'regexp'\n * type('type') // 'string'\n * type(global) // 'global'\n */\nexports.type = function type(value) {\n  if (value === undefined) {\n    return 'undefined';\n  } else if (value === null) {\n    return 'null';\n  } else if (typeof Buffer !== 'undefined' && Buffer.isBuffer(value)) {\n    return 'buffer';\n  }\n  return Object.prototype.toString.call(value)\n    .replace(/^\\[.+\\s(.+?)\\]$/, '$1')\n    .toLowerCase();\n};\n\n/**\n * Stringify `value`. Different behavior depending on type of value:\n *\n * - If `value` is undefined or null, return `'[undefined]'` or `'[null]'`, respectively.\n * - If `value` is not an object, function or array, return result of `value.toString()` wrapped in double-quotes.\n * - If `value` is an *empty* object, function, or array, return result of function\n *   {@link emptyRepresentation}.\n * - If `value` has properties, call {@link exports.canonicalize} on it, then return result of\n *   JSON.stringify().\n *\n * @api private\n * @see exports.type\n * @param {*} value\n * @return {string}\n */\nexports.stringify = function(value) {\n  var type = exports.type(value);\n\n  if (!~exports.indexOf(['object', 'array', 'function'], type)) {\n    if (type !== 'buffer') {\n      return jsonStringify(value);\n    }\n    var json = value.toJSON();\n    // Based on the toJSON result\n    return jsonStringify(json.data && json.type ? json.data : json, 2)\n      .replace(/,(\\n|$)/g, '$1');\n  }\n\n  for (var prop in value) {\n    if (Object.prototype.hasOwnProperty.call(value, prop)) {\n      return jsonStringify(exports.canonicalize(value), 2).replace(/,(\\n|$)/g, '$1');\n    }\n  }\n\n  return emptyRepresentation(value, type);\n};\n\n/**\n * like JSON.stringify but more sense.\n *\n * @api private\n * @param {Object}  object\n * @param {number=} spaces\n * @param {number=} depth\n * @returns {*}\n */\nfunction jsonStringify(object, spaces, depth) {\n  if (typeof spaces === 'undefined') {\n    // primitive types\n    return _stringify(object);\n  }\n\n  depth = depth || 1;\n  var space = spaces * depth;\n  var str = isArray(object) ? '[' : '{';\n  var end = isArray(object) ? ']' : '}';\n  var length = object.length || exports.keys(object).length;\n  // `.repeat()` polyfill\n  function repeat(s, n) {\n    return new Array(n).join(s);\n  }\n\n  function _stringify(val) {\n    switch (exports.type(val)) {\n      case 'null':\n      case 'undefined':\n        val = '[' + val + ']';\n        break;\n      case 'array':\n      case 'object':\n        val = jsonStringify(val, spaces, depth + 1);\n        break;\n      case 'boolean':\n      case 'regexp':\n      case 'number':\n        val = val === 0 && (1 / val) === -Infinity // `-0`\n          ? '-0'\n          : val.toString();\n        break;\n      case 'date':\n        var sDate = isNaN(val.getTime())        // Invalid date\n          ? val.toString()\n          : val.toISOString();\n        val = '[Date: ' + sDate + ']';\n        break;\n      case 'buffer':\n        var json = val.toJSON();\n        // Based on the toJSON result\n        json = json.data && json.type ? json.data : json;\n        val = '[Buffer: ' + jsonStringify(json, 2, depth + 1) + ']';\n        break;\n      default:\n        val = (val === '[Function]' || val === '[Circular]')\n          ? val\n          : JSON.stringify(val); // string\n    }\n    return val;\n  }\n\n  for (var i in object) {\n    if (!object.hasOwnProperty(i)) {\n      continue; // not my business\n    }\n    --length;\n    str += '\\n ' + repeat(' ', space)\n      + (isArray(object) ? '' : '\"' + i + '\": ') // key\n      + _stringify(object[i])                     // value\n      + (length ? ',' : '');                     // comma\n  }\n\n  return str\n    // [], {}\n    + (str.length !== 1 ? '\\n' + repeat(' ', --space) + end : end);\n}\n\n/**\n * Test if a value is a buffer.\n *\n * @api private\n * @param {*} value The value to test.\n * @return {boolean} True if `value` is a buffer, otherwise false\n */\nexports.isBuffer = function(value) {\n  return typeof Buffer !== 'undefined' && Buffer.isBuffer(value);\n};\n\n/**\n * Return a new Thing that has the keys in sorted order. Recursive.\n *\n * If the Thing...\n * - has already been seen, return string `'[Circular]'`\n * - is `undefined`, return string `'[undefined]'`\n * - is `null`, return value `null`\n * - is some other primitive, return the value\n * - is not a primitive or an `Array`, `Object`, or `Function`, return the value of the Thing's `toString()` method\n * - is a non-empty `Array`, `Object`, or `Function`, return the result of calling this function again.\n * - is an empty `Array`, `Object`, or `Function`, return the result of calling `emptyRepresentation()`\n *\n * @api private\n * @see {@link exports.stringify}\n * @param {*} value Thing to inspect.  May or may not have properties.\n * @param {Array} [stack=[]] Stack of seen values\n * @return {(Object|Array|Function|string|undefined)}\n */\nexports.canonicalize = function(value, stack) {\n  var canonicalizedObj;\n  /* eslint-disable no-unused-vars */\n  var prop;\n  /* eslint-enable no-unused-vars */\n  var type = exports.type(value);\n  function withStack(value, fn) {\n    stack.push(value);\n    fn();\n    stack.pop();\n  }\n\n  stack = stack || [];\n\n  if (exports.indexOf(stack, value) !== -1) {\n    return '[Circular]';\n  }\n\n  switch (type) {\n    case 'undefined':\n    case 'buffer':\n    case 'null':\n      canonicalizedObj = value;\n      break;\n    case 'array':\n      withStack(value, function() {\n        canonicalizedObj = exports.map(value, function(item) {\n          return exports.canonicalize(item, stack);\n        });\n      });\n      break;\n    case 'function':\n      /* eslint-disable guard-for-in */\n      for (prop in value) {\n        canonicalizedObj = {};\n        break;\n      }\n      /* eslint-enable guard-for-in */\n      if (!canonicalizedObj) {\n        canonicalizedObj = emptyRepresentation(value, type);\n        break;\n      }\n    /* falls through */\n    case 'object':\n      canonicalizedObj = canonicalizedObj || {};\n      withStack(value, function() {\n        exports.forEach(exports.keys(value).sort(), function(key) {\n          canonicalizedObj[key] = exports.canonicalize(value[key], stack);\n        });\n      });\n      break;\n    case 'date':\n    case 'number':\n    case 'regexp':\n    case 'boolean':\n      canonicalizedObj = value;\n      break;\n    default:\n      canonicalizedObj = value.toString();\n  }\n\n  return canonicalizedObj;\n};\n\n/**\n * Lookup file names at the given `path`.\n *\n * @api public\n * @param {string} path Base path to start searching from.\n * @param {string[]} extensions File extensions to look for.\n * @param {boolean} recursive Whether or not to recurse into subdirectories.\n * @return {string[]} An array of paths.\n */\nexports.lookupFiles = function lookupFiles(path, extensions, recursive) {\n  var files = [];\n  var re = new RegExp('\\\\.(' + extensions.join('|') + ')$');\n\n  if (!exists(path)) {\n    if (exists(path + '.js')) {\n      path += '.js';\n    } else {\n      files = glob.sync(path);\n      if (!files.length) {\n        throw new Error(\"cannot resolve path (or pattern) '\" + path + \"'\");\n      }\n      return files;\n    }\n  }\n\n  try {\n    var stat = statSync(path);\n    if (stat.isFile()) {\n      return path;\n    }\n  } catch (err) {\n    // ignore error\n    return;\n  }\n\n  readdirSync(path).forEach(function(file) {\n    file = join(path, file);\n    try {\n      var stat = statSync(file);\n      if (stat.isDirectory()) {\n        if (recursive) {\n          files = files.concat(lookupFiles(file, extensions, recursive));\n        }\n        return;\n      }\n    } catch (err) {\n      // ignore error\n      return;\n    }\n    if (!stat.isFile() || !re.test(file) || basename(file)[0] === '.') {\n      return;\n    }\n    files.push(file);\n  });\n\n  return files;\n};\n\n/**\n * Generate an undefined error with a message warning the user.\n *\n * @return {Error}\n */\n\nexports.undefinedError = function() {\n  return new Error('Caught undefined error, did you throw without specifying what?');\n};\n\n/**\n * Generate an undefined error if `err` is not defined.\n *\n * @param {Error} err\n * @return {Error}\n */\n\nexports.getError = function(err) {\n  return err || exports.undefinedError();\n};\n\n/**\n * @summary\n * This Filter based on `mocha-clean` module.(see: `github.com/rstacruz/mocha-clean`)\n * @description\n * When invoking this function you get a filter function that get the Error.stack as an input,\n * and return a prettify output.\n * (i.e: strip Mocha and internal node functions from stack trace).\n * @returns {Function}\n */\nexports.stackTraceFilter = function() {\n  // TODO: Replace with `process.browser`\n  var slash = '/';\n  var is = typeof document === 'undefined' ? { node: true } : { browser: true };\n  var cwd = is.node\n      ? process.cwd() + slash\n      : (typeof location === 'undefined' ? window.location : location).href.replace(/\\/[^\\/]*$/, '/');\n\n  function isMochaInternal(line) {\n    return (~line.indexOf('node_modules' + slash + 'mocha' + slash))\n      || (~line.indexOf('components' + slash + 'mochajs' + slash))\n      || (~line.indexOf('components' + slash + 'mocha' + slash))\n      || (~line.indexOf(slash + 'mocha.js'));\n  }\n\n  function isNodeInternal(line) {\n    return (~line.indexOf('(timers.js:'))\n      || (~line.indexOf('(events.js:'))\n      || (~line.indexOf('(node.js:'))\n      || (~line.indexOf('(module.js:'))\n      || (~line.indexOf('GeneratorFunctionPrototype.next (native)'))\n      || false;\n  }\n\n  return function(stack) {\n    stack = stack.split('\\n');\n\n    stack = exports.reduce(stack, function(list, line) {\n      if (isMochaInternal(line)) {\n        return list;\n      }\n\n      if (is.node && isNodeInternal(line)) {\n        return list;\n      }\n\n      // Clean up cwd(absolute)\n      list.push(line.replace(cwd, ''));\n      return list;\n    }, []);\n\n    return stack.join('\\n');\n  };\n};\n\n}).call(this,require('_process'),require(\"buffer\").Buffer)\n},{\"_process\":51,\"buffer\":43,\"debug\":2,\"fs\":41,\"glob\":41,\"path\":41,\"util\":66}],40:[function(require,module,exports){\n(function (process){\nvar WritableStream = require('stream').Writable\nvar inherits = require('util').inherits\n\nmodule.exports = BrowserStdout\n\n\ninherits(BrowserStdout, WritableStream)\n\nfunction BrowserStdout(opts) {\n  if (!(this instanceof BrowserStdout)) return new BrowserStdout(opts)\n\n  opts = opts || {}\n  WritableStream.call(this, opts)\n  this.label = (opts.label !== undefined) ? opts.label : 'stdout'\n}\n\nBrowserStdout.prototype._write = function(chunks, encoding, cb) {\n  var output = chunks.toString ? chunks.toString() : chunks\n  if (this.label === false) {\n    console.log(output)\n  } else {\n    console.log(this.label+':', output)\n  }\n  process.nextTick(cb)\n}\n\n}).call(this,require('_process'))\n},{\"_process\":51,\"stream\":63,\"util\":66}],41:[function(require,module,exports){\n\n},{}],42:[function(require,module,exports){\narguments[4][41][0].apply(exports,arguments)\n},{\"dup\":41}],43:[function(require,module,exports){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('is-array')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar rootParent = {}\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Safari 5-7 lacks support for changing the `Object.prototype.constructor` property\n *     on objects.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = (function () {\n  function Bar () {}\n  try {\n    var arr = new Uint8Array(1)\n    arr.foo = function () { return 42 }\n    arr.constructor = Bar\n    return arr.foo() === 42 && // typed array instances can be augmented\n        arr.constructor === Bar && // constructor can be set\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n})()\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (arg) {\n  if (!(this instanceof Buffer)) {\n    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.\n    if (arguments.length > 1) return new Buffer(arg, arguments[1])\n    return new Buffer(arg)\n  }\n\n  this.length = 0\n  this.parent = undefined\n\n  // Common case.\n  if (typeof arg === 'number') {\n    return fromNumber(this, arg)\n  }\n\n  // Slightly less common case.\n  if (typeof arg === 'string') {\n    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')\n  }\n\n  // Unusual.\n  return fromObject(this, arg)\n}\n\nfunction fromNumber (that, length) {\n  that = allocate(that, length < 0 ? 0 : checked(length) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < length; i++) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'\n\n  // Assumption: byteLength() return value is always < kMaxLength.\n  var length = byteLength(string, encoding) | 0\n  that = allocate(that, length)\n\n  that.write(string, encoding)\n  return that\n}\n\nfunction fromObject (that, object) {\n  if (Buffer.isBuffer(object)) return fromBuffer(that, object)\n\n  if (isArray(object)) return fromArray(that, object)\n\n  if (object == null) {\n    throw new TypeError('must start with number, buffer, array or string')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined') {\n    if (object.buffer instanceof ArrayBuffer) {\n      return fromTypedArray(that, object)\n    }\n    if (object instanceof ArrayBuffer) {\n      return fromArrayBuffer(that, object)\n    }\n  }\n\n  if (object.length) return fromArrayLike(that, object)\n\n  return fromJsonObject(that, object)\n}\n\nfunction fromBuffer (that, buffer) {\n  var length = checked(buffer.length) | 0\n  that = allocate(that, length)\n  buffer.copy(that, 0, 0, length)\n  return that\n}\n\nfunction fromArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Duplicate of fromArray() to keep fromArray() monomorphic.\nfunction fromTypedArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  // Truncating the elements is probably not what people expect from typed\n  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior\n  // of the old Buffer constructor.\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    array.byteLength\n    that = Buffer._augment(new Uint8Array(array))\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromTypedArray(that, new Uint8Array(array))\n  }\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.\n// Returns a zero-length buffer for inputs that don't conform to the spec.\nfunction fromJsonObject (that, object) {\n  var array\n  var length = 0\n\n  if (object.type === 'Buffer' && isArray(object.data)) {\n    array = object.data\n    length = checked(array.length) | 0\n  }\n  that = allocate(that, length)\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction allocate (that, length) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = Buffer._augment(new Uint8Array(length))\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that.length = length\n    that._isBuffer = true\n  }\n\n  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1\n  if (fromPool) that.parent = rootParent\n\n  return that\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (subject, encoding) {\n  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)\n\n  var buf = new Buffer(subject, encoding)\n  delete buf.parent\n  return buf\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  var i = 0\n  var len = Math.min(x, y)\n  while (i < len) {\n    if (a[i] !== b[i]) break\n\n    ++i\n  }\n\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; i++) {\n      length += list[i].length\n    }\n  }\n\n  var buf = new Buffer(length)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nfunction byteLength (string, encoding) {\n  if (typeof string !== 'string') string = '' + string\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'binary':\n      // Deprecated\n      case 'raw':\n      case 'raws':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\n// pre-set for values that may exist in the future\nBuffer.prototype.length = undefined\nBuffer.prototype.parent = undefined\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  start = start | 0\n  end = end === undefined || end === Infinity ? this.length : end | 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return 0\n  return Buffer.compare(this, b)\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset) {\n  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff\n  else if (byteOffset < -0x80000000) byteOffset = -0x80000000\n  byteOffset >>= 0\n\n  if (this.length === 0) return -1\n  if (byteOffset >= this.length) return -1\n\n  // Negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)\n\n  if (typeof val === 'string') {\n    if (val.length === 0) return -1 // special case: looking for empty string always fails\n    return String.prototype.indexOf.call(this, val, byteOffset)\n  }\n  if (Buffer.isBuffer(val)) {\n    return arrayIndexOf(this, val, byteOffset)\n  }\n  if (typeof val === 'number') {\n    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)\n    }\n    return arrayIndexOf(this, [ val ], byteOffset)\n  }\n\n  function arrayIndexOf (arr, val, byteOffset) {\n    var foundIndex = -1\n    for (var i = 0; byteOffset + i < arr.length; i++) {\n      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex\n      } else {\n        foundIndex = -1\n      }\n    }\n    return -1\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\n// `get` is deprecated\nBuffer.prototype.get = function get (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` is deprecated\nBuffer.prototype.set = function set (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) throw new Error('Invalid hex string')\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    var swap = encoding\n    encoding = offset\n    offset = length | 0\n    length = swap\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'binary':\n        return binaryWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  if (newBuf.length) newBuf.parent = this.parent || this\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = value\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = value\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = value\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n  if (offset < 0) throw new RangeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; i--) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; i++) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), targetStart)\n  }\n\n  return len\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function fill (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new RangeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function toArrayBuffer () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function _augment (arr) {\n  arr.constructor = Buffer\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array set method before overwriting\n  arr._set = arr.set\n\n  // deprecated\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.indexOf = BP.indexOf\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUIntLE = BP.readUIntLE\n  arr.readUIntBE = BP.readUIntBE\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readIntLE = BP.readIntLE\n  arr.readIntBE = BP.readIntBE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUIntLE = BP.writeUIntLE\n  arr.writeUIntBE = BP.writeUIntBE\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeIntLE = BP.writeIntLE\n  arr.writeIntBE = BP.writeIntBE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; i++) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00 | 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n},{\"base64-js\":44,\"ieee754\":45,\"is-array\":46}],44:[function(require,module,exports){\nvar lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\tvar PLUS_URL_SAFE = '-'.charCodeAt(0)\n\tvar SLASH_URL_SAFE = '_'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS ||\n\t\t    code === PLUS_URL_SAFE)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH ||\n\t\t    code === SLASH_URL_SAFE)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n\n},{}],45:[function(require,module,exports){\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n},{}],46:[function(require,module,exports){\n\n/**\n * isArray\n */\n\nvar isArray = Array.isArray;\n\n/**\n * toString\n */\n\nvar str = Object.prototype.toString;\n\n/**\n * Whether or not the given `val`\n * is an array.\n *\n * example:\n *\n *        isArray([]);\n *        // > true\n *        isArray(arguments);\n *        // > false\n *        isArray('');\n *        // > false\n *\n * @param {mixed} val\n * @return {bool}\n */\n\nmodule.exports = isArray || function (val) {\n  return !! val && '[object Array]' == str.call(val);\n};\n\n},{}],47:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],48:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],49:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],50:[function(require,module,exports){\nexports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\n},{}],51:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],52:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_duplex.js\")\n\n},{\"./lib/_stream_duplex.js\":53}],53:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_readable\":55,\"./_stream_writable\":57,\"_process\":51,\"core-util-is\":58,\"inherits\":48}],54:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n\n},{\"./_stream_transform\":56,\"core-util-is\":58,\"inherits\":48}],55:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\n\n/*<replacement>*/\nvar debug = require('util');\nif (debug && debug.debuglog) {\n  debug = debug.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (util.isString(chunk) && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (util.isNullOrUndefined(chunk)) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      if (!addToFront)\n        state.reading = false;\n\n      // if we want the data now, just emit it.\n      if (state.flowing && state.length === 0 && !state.sync) {\n        stream.emit('data', chunk);\n        stream.read(0);\n      } else {\n        // update the buffer info.\n        state.length += state.objectMode ? 1 : chunk.length;\n        if (addToFront)\n          state.buffer.unshift(chunk);\n        else\n          state.buffer.push(chunk);\n\n        if (state.needReadable)\n          emitReadable(stream);\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (isNaN(n) || util.isNull(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  debug('read', n);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (!util.isNumber(n) || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended)\n      endReadable(this);\n    else\n      emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0)\n      endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  }\n\n  if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read pushed data synchronously, then `reading` will be false,\n  // and we need to re-evaluate how much data we can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  var ret;\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (util.isNull(ret)) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we tried to read() past the EOF, then emit end on the next tick.\n  if (nOrig !== n && state.ended && state.length === 0)\n    endReadable(this);\n\n  if (!util.isNull(ret))\n    this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync)\n      process.nextTick(function() {\n        emitReadable_(stream);\n      });\n    else\n      emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain &&\n        (!dest._writableState || dest._writableState.needDrain))\n      ondrain();\n  }\n\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    if (false === ret) {\n      debug('false write response, pause',\n            src._readableState.awaitDrain);\n      src._readableState.awaitDrain++;\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain)\n      state.awaitDrain--;\n    if (state.awaitDrain === 0 && EE.listenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  // If listening to data, and it has not explicitly been paused,\n  // then call resume to start the flow of data on the next tick.\n  if (ev === 'data' && false !== this._readableState.flowing) {\n    this.resume();\n  }\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        var self = this;\n        process.nextTick(function() {\n          debug('readable nexttick read 0');\n          self.read(0);\n        });\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    if (!state.reading) {\n      debug('resume read 0');\n      this.read(0);\n    }\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(function() {\n      resume_(stream, state);\n    });\n  }\n}\n\nfunction resume_(stream, state) {\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading)\n    stream.read(0);\n}\n\nReadable.prototype.pause = function() {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  if (state.flowing) {\n    do {\n      var chunk = stream.read();\n    } while (null !== chunk && state.flowing);\n  }\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    debug('wrapped data');\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n    if (!chunk || !state.objectMode && !chunk.length)\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (util.isFunction(stream[i]) && util.isUndefined(this[i])) {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":53,\"_process\":51,\"buffer\":43,\"core-util-is\":58,\"events\":47,\"inherits\":48,\"isarray\":49,\"stream\":63,\"string_decoder/\":64,\"util\":42}],56:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (!util.isNullOrUndefined(data))\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('prefinish', function() {\n    if (util.isFunction(this._flush))\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (!util.isNull(ts.writechunk) && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n\n},{\"./_stream_duplex\":53,\"core-util-is\":58,\"inherits\":48}],57:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (!util.isFunction(cb))\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function() {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function() {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing &&\n        !state.corked &&\n        !state.finished &&\n        !state.bufferProcessing &&\n        state.buffer.length)\n      clearBuffer(this, state);\n  }\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      util.isString(chunk)) {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing || state.corked)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev)\n    stream._writev(chunk, state.onwrite);\n  else\n    stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      state.pendingcb--;\n      cb(er);\n    });\n  else {\n    state.pendingcb--;\n    cb(er);\n  }\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished &&\n        !state.corked &&\n        !state.bufferProcessing &&\n        state.buffer.length) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  if (stream._writev && state.buffer.length > 1) {\n    // Fast case, write everything using _writev()\n    var cbs = [];\n    for (var c = 0; c < state.buffer.length; c++)\n      cbs.push(state.buffer[c].callback);\n\n    // count the one we are adding, as well.\n    // TODO(isaacs) clean this up\n    state.pendingcb++;\n    doWrite(stream, state, true, state.length, state.buffer, '', function(err) {\n      for (var i = 0; i < cbs.length; i++) {\n        state.pendingcb--;\n        cbs[i](err);\n      }\n    });\n\n    // Clear buffer\n    state.buffer = [];\n  } else {\n    // Slow case, write chunks one-by-one\n    for (var c = 0; c < state.buffer.length; c++) {\n      var entry = state.buffer[c];\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        c++;\n        break;\n      }\n    }\n\n    if (c < state.buffer.length)\n      state.buffer = state.buffer.slice(c);\n    else\n      state.buffer.length = 0;\n  }\n\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (util.isFunction(chunk)) {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (!util.isNullOrUndefined(chunk))\n    this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else\n      prefinish(stream, state);\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":53,\"_process\":51,\"buffer\":43,\"core-util-is\":58,\"inherits\":48,\"stream\":63}],58:[function(require,module,exports){\n(function (Buffer){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nfunction isBuffer(arg) {\n  return Buffer.isBuffer(arg);\n}\nexports.isBuffer = isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":43}],59:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_passthrough.js\")\n\n},{\"./lib/_stream_passthrough.js\":54}],60:[function(require,module,exports){\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = require('stream');\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n\n},{\"./lib/_stream_duplex.js\":53,\"./lib/_stream_passthrough.js\":54,\"./lib/_stream_readable.js\":55,\"./lib/_stream_transform.js\":56,\"./lib/_stream_writable.js\":57,\"stream\":63}],61:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_transform.js\")\n\n},{\"./lib/_stream_transform.js\":56}],62:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_writable.js\")\n\n},{\"./lib/_stream_writable.js\":57}],63:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n\n},{\"events\":47,\"inherits\":48,\"readable-stream/duplex.js\":52,\"readable-stream/passthrough.js\":59,\"readable-stream/readable.js\":60,\"readable-stream/transform.js\":61,\"readable-stream/writable.js\":62}],64:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n\n},{\"buffer\":43}],65:[function(require,module,exports){\nmodule.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n},{}],66:[function(require,module,exports){\n(function (process,global){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./support/isBuffer\":65,\"_process\":51,\"inherits\":48}],67:[function(require,module,exports){\n/* See LICENSE file for terms of use */\n\n/*\n * Text diff implementation.\n *\n * This library supports the following APIS:\n * JsDiff.diffChars: Character by character diff\n * JsDiff.diffWords: Word (as defined by \\b regex) diff which ignores whitespace\n * JsDiff.diffLines: Line based diff\n *\n * JsDiff.diffCss: Diff targeted at CSS content\n *\n * These methods are based on the implementation proposed in\n * \"An O(ND) Difference Algorithm and its Variations\" (Myers, 1986).\n * http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.4.6927\n */\n(function(global, undefined) {\n  var objectPrototypeToString = Object.prototype.toString;\n\n  /*istanbul ignore next*/\n  function map(arr, mapper, that) {\n    if (Array.prototype.map) {\n      return Array.prototype.map.call(arr, mapper, that);\n    }\n\n    var other = new Array(arr.length);\n\n    for (var i = 0, n = arr.length; i < n; i++) {\n      other[i] = mapper.call(that, arr[i], i, arr);\n    }\n    return other;\n  }\n  function clonePath(path) {\n    return { newPos: path.newPos, components: path.components.slice(0) };\n  }\n  function removeEmpty(array) {\n    var ret = [];\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n    return ret;\n  }\n  function escapeHTML(s) {\n    var n = s;\n    n = n.replace(/&/g, '&amp;');\n    n = n.replace(/</g, '&lt;');\n    n = n.replace(/>/g, '&gt;');\n    n = n.replace(/\"/g, '&quot;');\n\n    return n;\n  }\n\n  // This function handles the presence of circular references by bailing out when encountering an\n  // object that is already on the \"stack\" of items being processed.\n  function canonicalize(obj, stack, replacementStack) {\n    stack = stack || [];\n    replacementStack = replacementStack || [];\n\n    var i;\n\n    for (i = 0; i < stack.length; i += 1) {\n      if (stack[i] === obj) {\n        return replacementStack[i];\n      }\n    }\n\n    var canonicalizedObj;\n\n    if ('[object Array]' === objectPrototypeToString.call(obj)) {\n      stack.push(obj);\n      canonicalizedObj = new Array(obj.length);\n      replacementStack.push(canonicalizedObj);\n      for (i = 0; i < obj.length; i += 1) {\n        canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack);\n      }\n      stack.pop();\n      replacementStack.pop();\n    } else if (typeof obj === 'object' && obj !== null) {\n      stack.push(obj);\n      canonicalizedObj = {};\n      replacementStack.push(canonicalizedObj);\n      var sortedKeys = [],\n          key;\n      for (key in obj) {\n        sortedKeys.push(key);\n      }\n      sortedKeys.sort();\n      for (i = 0; i < sortedKeys.length; i += 1) {\n        key = sortedKeys[i];\n        canonicalizedObj[key] = canonicalize(obj[key], stack, replacementStack);\n      }\n      stack.pop();\n      replacementStack.pop();\n    } else {\n      canonicalizedObj = obj;\n    }\n    return canonicalizedObj;\n  }\n\n  function buildValues(components, newString, oldString, useLongestToken) {\n    var componentPos = 0,\n        componentLen = components.length,\n        newPos = 0,\n        oldPos = 0;\n\n    for (; componentPos < componentLen; componentPos++) {\n      var component = components[componentPos];\n      if (!component.removed) {\n        if (!component.added && useLongestToken) {\n          var value = newString.slice(newPos, newPos + component.count);\n          value = map(value, function(value, i) {\n            var oldValue = oldString[oldPos + i];\n            return oldValue.length > value.length ? oldValue : value;\n          });\n\n          component.value = value.join('');\n        } else {\n          component.value = newString.slice(newPos, newPos + component.count).join('');\n        }\n        newPos += component.count;\n\n        // Common case\n        if (!component.added) {\n          oldPos += component.count;\n        }\n      } else {\n        component.value = oldString.slice(oldPos, oldPos + component.count).join('');\n        oldPos += component.count;\n\n        // Reverse add and remove so removes are output first to match common convention\n        // The diffing algorithm is tied to add then remove output and this is the simplest\n        // route to get the desired output with minimal overhead.\n        if (componentPos && components[componentPos - 1].added) {\n          var tmp = components[componentPos - 1];\n          components[componentPos - 1] = components[componentPos];\n          components[componentPos] = tmp;\n        }\n      }\n    }\n\n    return components;\n  }\n\n  function Diff(ignoreWhitespace) {\n    this.ignoreWhitespace = ignoreWhitespace;\n  }\n  Diff.prototype = {\n    diff: function(oldString, newString, callback) {\n      var self = this;\n\n      function done(value) {\n        if (callback) {\n          setTimeout(function() { callback(undefined, value); }, 0);\n          return true;\n        } else {\n          return value;\n        }\n      }\n\n      // Handle the identity case (this is due to unrolling editLength == 0\n      if (newString === oldString) {\n        return done([{ value: newString }]);\n      }\n      if (!newString) {\n        return done([{ value: oldString, removed: true }]);\n      }\n      if (!oldString) {\n        return done([{ value: newString, added: true }]);\n      }\n\n      newString = this.tokenize(newString);\n      oldString = this.tokenize(oldString);\n\n      var newLen = newString.length, oldLen = oldString.length;\n      var editLength = 1;\n      var maxEditLength = newLen + oldLen;\n      var bestPath = [{ newPos: -1, components: [] }];\n\n      // Seed editLength = 0, i.e. the content starts with the same values\n      var oldPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n      if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n        // Identity per the equality and tokenizer\n        return done([{value: newString.join('')}]);\n      }\n\n      // Main worker method. checks all permutations of a given edit length for acceptance.\n      function execEditLength() {\n        for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n          var basePath;\n          var addPath = bestPath[diagonalPath - 1],\n              removePath = bestPath[diagonalPath + 1],\n              oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n          if (addPath) {\n            // No one else is going to attempt to use this value, clear it\n            bestPath[diagonalPath - 1] = undefined;\n          }\n\n          var canAdd = addPath && addPath.newPos + 1 < newLen,\n              canRemove = removePath && 0 <= oldPos && oldPos < oldLen;\n          if (!canAdd && !canRemove) {\n            // If this path is a terminal then prune\n            bestPath[diagonalPath] = undefined;\n            continue;\n          }\n\n          // Select the diagonal that we want to branch from. We select the prior\n          // path whose position in the new string is the farthest from the origin\n          // and does not pass the bounds of the diff graph\n          if (!canAdd || (canRemove && addPath.newPos < removePath.newPos)) {\n            basePath = clonePath(removePath);\n            self.pushComponent(basePath.components, undefined, true);\n          } else {\n            basePath = addPath;   // No need to clone, we've pulled it from the list\n            basePath.newPos++;\n            self.pushComponent(basePath.components, true, undefined);\n          }\n\n          oldPos = self.extractCommon(basePath, newString, oldString, diagonalPath);\n\n          // If we have hit the end of both strings, then we are done\n          if (basePath.newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n            return done(buildValues(basePath.components, newString, oldString, self.useLongestToken));\n          } else {\n            // Otherwise track this path as a potential candidate and continue.\n            bestPath[diagonalPath] = basePath;\n          }\n        }\n\n        editLength++;\n      }\n\n      // Performs the length of edit iteration. Is a bit fugly as this has to support the\n      // sync and async mode which is never fun. Loops over execEditLength until a value\n      // is produced.\n      if (callback) {\n        (function exec() {\n          setTimeout(function() {\n            // This should not happen, but we want to be safe.\n            /*istanbul ignore next */\n            if (editLength > maxEditLength) {\n              return callback();\n            }\n\n            if (!execEditLength()) {\n              exec();\n            }\n          }, 0);\n        }());\n      } else {\n        while (editLength <= maxEditLength) {\n          var ret = execEditLength();\n          if (ret) {\n            return ret;\n          }\n        }\n      }\n    },\n\n    pushComponent: function(components, added, removed) {\n      var last = components[components.length - 1];\n      if (last && last.added === added && last.removed === removed) {\n        // We need to clone here as the component clone operation is just\n        // as shallow array clone\n        components[components.length - 1] = {count: last.count + 1, added: added, removed: removed };\n      } else {\n        components.push({count: 1, added: added, removed: removed });\n      }\n    },\n    extractCommon: function(basePath, newString, oldString, diagonalPath) {\n      var newLen = newString.length,\n          oldLen = oldString.length,\n          newPos = basePath.newPos,\n          oldPos = newPos - diagonalPath,\n\n          commonCount = 0;\n      while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n        newPos++;\n        oldPos++;\n        commonCount++;\n      }\n\n      if (commonCount) {\n        basePath.components.push({count: commonCount});\n      }\n\n      basePath.newPos = newPos;\n      return oldPos;\n    },\n\n    equals: function(left, right) {\n      var reWhitespace = /\\S/;\n      return left === right || (this.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right));\n    },\n    tokenize: function(value) {\n      return value.split('');\n    }\n  };\n\n  var CharDiff = new Diff();\n\n  var WordDiff = new Diff(true);\n  var WordWithSpaceDiff = new Diff();\n  WordDiff.tokenize = WordWithSpaceDiff.tokenize = function(value) {\n    return removeEmpty(value.split(/(\\s+|\\b)/));\n  };\n\n  var CssDiff = new Diff(true);\n  CssDiff.tokenize = function(value) {\n    return removeEmpty(value.split(/([{}:;,]|\\s+)/));\n  };\n\n  var LineDiff = new Diff();\n\n  var TrimmedLineDiff = new Diff();\n  TrimmedLineDiff.ignoreTrim = true;\n\n  LineDiff.tokenize = TrimmedLineDiff.tokenize = function(value) {\n    var retLines = [],\n        lines = value.split(/^/m);\n    for (var i = 0; i < lines.length; i++) {\n      var line = lines[i],\n          lastLine = lines[i - 1],\n          lastLineLastChar = lastLine && lastLine[lastLine.length - 1];\n\n      // Merge lines that may contain windows new lines\n      if (line === '\\n' && lastLineLastChar === '\\r') {\n          retLines[retLines.length - 1] = retLines[retLines.length - 1].slice(0, -1) + '\\r\\n';\n      } else {\n        if (this.ignoreTrim) {\n          line = line.trim();\n          // add a newline unless this is the last line.\n          if (i < lines.length - 1) {\n            line += '\\n';\n          }\n        }\n        retLines.push(line);\n      }\n    }\n\n    return retLines;\n  };\n\n  var PatchDiff = new Diff();\n  PatchDiff.tokenize = function(value) {\n    var ret = [],\n        linesAndNewlines = value.split(/(\\n|\\r\\n)/);\n\n    // Ignore the final empty token that occurs if the string ends with a new line\n    if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n      linesAndNewlines.pop();\n    }\n\n    // Merge the content and line separators into single tokens\n    for (var i = 0; i < linesAndNewlines.length; i++) {\n      var line = linesAndNewlines[i];\n\n      if (i % 2) {\n        ret[ret.length - 1] += line;\n      } else {\n        ret.push(line);\n      }\n    }\n    return ret;\n  };\n\n  var SentenceDiff = new Diff();\n  SentenceDiff.tokenize = function(value) {\n    return removeEmpty(value.split(/(\\S.+?[.!?])(?=\\s+|$)/));\n  };\n\n  var JsonDiff = new Diff();\n  // Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n  // dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\n  JsonDiff.useLongestToken = true;\n  JsonDiff.tokenize = LineDiff.tokenize;\n  JsonDiff.equals = function(left, right) {\n    return LineDiff.equals(left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'));\n  };\n\n  var JsDiff = {\n    Diff: Diff,\n\n    diffChars: function(oldStr, newStr, callback) { return CharDiff.diff(oldStr, newStr, callback); },\n    diffWords: function(oldStr, newStr, callback) { return WordDiff.diff(oldStr, newStr, callback); },\n    diffWordsWithSpace: function(oldStr, newStr, callback) { return WordWithSpaceDiff.diff(oldStr, newStr, callback); },\n    diffLines: function(oldStr, newStr, callback) { return LineDiff.diff(oldStr, newStr, callback); },\n    diffTrimmedLines: function(oldStr, newStr, callback) { return TrimmedLineDiff.diff(oldStr, newStr, callback); },\n\n    diffSentences: function(oldStr, newStr, callback) { return SentenceDiff.diff(oldStr, newStr, callback); },\n\n    diffCss: function(oldStr, newStr, callback) { return CssDiff.diff(oldStr, newStr, callback); },\n    diffJson: function(oldObj, newObj, callback) {\n      return JsonDiff.diff(\n        typeof oldObj === 'string' ? oldObj : JSON.stringify(canonicalize(oldObj), undefined, '  '),\n        typeof newObj === 'string' ? newObj : JSON.stringify(canonicalize(newObj), undefined, '  '),\n        callback\n      );\n    },\n\n    createTwoFilesPatch: function(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader) {\n      var ret = [];\n\n      if (oldFileName == newFileName) {\n        ret.push('Index: ' + oldFileName);\n      }\n      ret.push('===================================================================');\n      ret.push('--- ' + oldFileName + (typeof oldHeader === 'undefined' ? '' : '\\t' + oldHeader));\n      ret.push('+++ ' + newFileName + (typeof newHeader === 'undefined' ? '' : '\\t' + newHeader));\n\n      var diff = PatchDiff.diff(oldStr, newStr);\n      diff.push({value: '', lines: []});   // Append an empty value to make cleanup easier\n\n      // Formats a given set of lines for printing as context lines in a patch\n      function contextLines(lines) {\n        return map(lines, function(entry) { return ' ' + entry; });\n      }\n\n      // Outputs the no newline at end of file warning if needed\n      function eofNL(curRange, i, current) {\n        var last = diff[diff.length - 2],\n            isLast = i === diff.length - 2,\n            isLastOfType = i === diff.length - 3 && current.added !== last.added;\n\n        // Figure out if this is the last line for the given file and missing NL\n        if (!(/\\n$/.test(current.value)) && (isLast || isLastOfType)) {\n          curRange.push('\\\\ No newline at end of file');\n        }\n      }\n\n      var oldRangeStart = 0, newRangeStart = 0, curRange = [],\n          oldLine = 1, newLine = 1;\n      for (var i = 0; i < diff.length; i++) {\n        var current = diff[i],\n            lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n        current.lines = lines;\n\n        if (current.added || current.removed) {\n          // If we have previous context, start with that\n          if (!oldRangeStart) {\n            var prev = diff[i - 1];\n            oldRangeStart = oldLine;\n            newRangeStart = newLine;\n\n            if (prev) {\n              curRange = contextLines(prev.lines.slice(-4));\n              oldRangeStart -= curRange.length;\n              newRangeStart -= curRange.length;\n            }\n          }\n\n          // Output our changes\n          curRange.push.apply(curRange, map(lines, function(entry) {\n            return (current.added ? '+' : '-') + entry;\n          }));\n          eofNL(curRange, i, current);\n\n          // Track the updated file position\n          if (current.added) {\n            newLine += lines.length;\n          } else {\n            oldLine += lines.length;\n          }\n        } else {\n          // Identical context lines. Track line changes\n          if (oldRangeStart) {\n            // Close out any changes that have been output (or join overlapping)\n            if (lines.length <= 8 && i < diff.length - 2) {\n              // Overlapping\n              curRange.push.apply(curRange, contextLines(lines));\n            } else {\n              // end the range and output\n              var contextSize = Math.min(lines.length, 4);\n              ret.push(\n                  '@@ -' + oldRangeStart + ',' + (oldLine - oldRangeStart + contextSize)\n                  + ' +' + newRangeStart + ',' + (newLine - newRangeStart + contextSize)\n                  + ' @@');\n              ret.push.apply(ret, curRange);\n              ret.push.apply(ret, contextLines(lines.slice(0, contextSize)));\n              if (lines.length <= 4) {\n                eofNL(ret, i, current);\n              }\n\n              oldRangeStart = 0;\n              newRangeStart = 0;\n              curRange = [];\n            }\n          }\n          oldLine += lines.length;\n          newLine += lines.length;\n        }\n      }\n\n      return ret.join('\\n') + '\\n';\n    },\n\n    createPatch: function(fileName, oldStr, newStr, oldHeader, newHeader) {\n      return JsDiff.createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader);\n    },\n\n    applyPatch: function(oldStr, uniDiff) {\n      var diffstr = uniDiff.split('\\n'),\n          hunks = [],\n          i = 0,\n          remEOFNL = false,\n          addEOFNL = false;\n\n      // Skip to the first change hunk\n      while (i < diffstr.length && !(/^@@/.test(diffstr[i]))) {\n        i++;\n      }\n\n      // Parse the unified diff\n      for (; i < diffstr.length; i++) {\n        if (diffstr[i][0] === '@') {\n          var chnukHeader = diffstr[i].split(/@@ -(\\d+),(\\d+) \\+(\\d+),(\\d+) @@/);\n          hunks.unshift({\n            start: chnukHeader[3],\n            oldlength: +chnukHeader[2],\n            removed: [],\n            newlength: chnukHeader[4],\n            added: []\n          });\n        } else if (diffstr[i][0] === '+') {\n          hunks[0].added.push(diffstr[i].substr(1));\n        } else if (diffstr[i][0] === '-') {\n          hunks[0].removed.push(diffstr[i].substr(1));\n        } else if (diffstr[i][0] === ' ') {\n          hunks[0].added.push(diffstr[i].substr(1));\n          hunks[0].removed.push(diffstr[i].substr(1));\n        } else if (diffstr[i][0] === '\\\\') {\n          if (diffstr[i - 1][0] === '+') {\n            remEOFNL = true;\n          } else if (diffstr[i - 1][0] === '-') {\n            addEOFNL = true;\n          }\n        }\n      }\n\n      // Apply the diff to the input\n      var lines = oldStr.split('\\n');\n      for (i = hunks.length - 1; i >= 0; i--) {\n        var hunk = hunks[i];\n        // Sanity check the input string. Bail if we don't match.\n        for (var j = 0; j < hunk.oldlength; j++) {\n          if (lines[hunk.start - 1 + j] !== hunk.removed[j]) {\n            return false;\n          }\n        }\n        Array.prototype.splice.apply(lines, [hunk.start - 1, hunk.oldlength].concat(hunk.added));\n      }\n\n      // Handle EOFNL insertion/removal\n      if (remEOFNL) {\n        while (!lines[lines.length - 1]) {\n          lines.pop();\n        }\n      } else if (addEOFNL) {\n        lines.push('');\n      }\n      return lines.join('\\n');\n    },\n\n    convertChangesToXML: function(changes) {\n      var ret = [];\n      for (var i = 0; i < changes.length; i++) {\n        var change = changes[i];\n        if (change.added) {\n          ret.push('<ins>');\n        } else if (change.removed) {\n          ret.push('<del>');\n        }\n\n        ret.push(escapeHTML(change.value));\n\n        if (change.added) {\n          ret.push('</ins>');\n        } else if (change.removed) {\n          ret.push('</del>');\n        }\n      }\n      return ret.join('');\n    },\n\n    // See: http://code.google.com/p/google-diff-match-patch/wiki/API\n    convertChangesToDMP: function(changes) {\n      var ret = [],\n          change,\n          operation;\n      for (var i = 0; i < changes.length; i++) {\n        change = changes[i];\n        if (change.added) {\n          operation = 1;\n        } else if (change.removed) {\n          operation = -1;\n        } else {\n          operation = 0;\n        }\n\n        ret.push([operation, change.value]);\n      }\n      return ret;\n    },\n\n    canonicalize: canonicalize\n  };\n\n  /*istanbul ignore next */\n  /*global module */\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = JsDiff;\n  } else if (typeof define === 'function' && define.amd) {\n    /*global define */\n    define([], function() { return JsDiff; });\n  } else if (typeof global.JsDiff === 'undefined') {\n    global.JsDiff = JsDiff;\n  }\n}(this));\n\n},{}],68:[function(require,module,exports){\n'use strict';\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\n\nmodule.exports = function (str) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn str.replace(matchOperatorsRe,  '\\\\$&');\n};\n\n},{}],69:[function(require,module,exports){\n(function (process){\n// Growl - Copyright TJ Holowaychuk <tj@vision-media.ca> (MIT Licensed)\n\n/**\n * Module dependencies.\n */\n\nvar exec = require('child_process').exec\n  , fs = require('fs')\n  , path = require('path')\n  , exists = fs.existsSync || path.existsSync\n  , os = require('os')\n  , quote = JSON.stringify\n  , cmd;\n\nfunction which(name) {\n  var paths = process.env.PATH.split(':');\n  var loc;\n  \n  for (var i = 0, len = paths.length; i < len; ++i) {\n    loc = path.join(paths[i], name);\n    if (exists(loc)) return loc;\n  }\n}\n\nswitch(os.type()) {\n  case 'Darwin':\n    if (which('terminal-notifier')) {\n      cmd = {\n          type: \"Darwin-NotificationCenter\"\n        , pkg: \"terminal-notifier\"\n        , msg: '-message'\n        , title: '-title'\n        , subtitle: '-subtitle'\n        , priority: {\n              cmd: '-execute'\n            , range: []\n          }\n      };\n    } else {\n      cmd = {\n          type: \"Darwin-Growl\"\n        , pkg: \"growlnotify\"\n        , msg: '-m'\n        , sticky: '--sticky'\n        , priority: {\n              cmd: '--priority'\n            , range: [\n                -2\n              , -1\n              , 0\n              , 1\n              , 2\n              , \"Very Low\"\n              , \"Moderate\"\n              , \"Normal\"\n              , \"High\"\n              , \"Emergency\"\n            ]\n          }\n      };\n    }\n    break;\n  case 'Linux':\n    cmd = {\n        type: \"Linux\"\n      , pkg: \"notify-send\"\n      , msg: ''\n      , sticky: '-t 0'\n      , icon: '-i'\n      , priority: {\n          cmd: '-u'\n        , range: [\n            \"low\"\n          , \"normal\"\n          , \"critical\"\n        ]\n      }\n    };\n    break;\n  case 'Windows_NT':\n    cmd = {\n        type: \"Windows\"\n      , pkg: \"growlnotify\"\n      , msg: ''\n      , sticky: '/s:true'\n      , title: '/t:'\n      , icon: '/i:'\n      , priority: {\n            cmd: '/p:'\n          , range: [\n              -2\n            , -1\n            , 0\n            , 1\n            , 2\n          ]\n        }\n    };\n    break;\n}\n\n/**\n * Expose `growl`.\n */\n\nexports = module.exports = growl;\n\n/**\n * Node-growl version.\n */\n\nexports.version = '1.4.1'\n\n/**\n * Send growl notification _msg_ with _options_.\n *\n * Options:\n *\n *  - title   Notification title\n *  - sticky  Make the notification stick (defaults to false)\n *  - priority  Specify an int or named key (default is 0)\n *  - name    Application name (defaults to growlnotify)\n *  - image\n *    - path to an icon sets --iconpath\n *    - path to an image sets --image\n *    - capitalized word sets --appIcon\n *    - filename uses extname as --icon\n *    - otherwise treated as --icon\n *\n * Examples:\n *\n *   growl('New email')\n *   growl('5 new emails', { title: 'Thunderbird' })\n *   growl('Email sent', function(){\n *     // ... notification sent\n *   })\n *\n * @param {string} msg\n * @param {object} options\n * @param {function} fn\n * @api public\n */\n\nfunction growl(msg, options, fn) {\n  var image\n    , args\n    , options = options || {}\n    , fn = fn || function(){};\n\n  // noop\n  if (!cmd) return fn(new Error('growl not supported on this platform'));\n  args = [cmd.pkg];\n\n  // image\n  if (image = options.image) {\n    switch(cmd.type) {\n      case 'Darwin-Growl':\n        var flag, ext = path.extname(image).substr(1)\n        flag = flag || ext == 'icns' && 'iconpath'\n        flag = flag || /^[A-Z]/.test(image) && 'appIcon'\n        flag = flag || /^png|gif|jpe?g$/.test(ext) && 'image'\n        flag = flag || ext && (image = ext) && 'icon'\n        flag = flag || 'icon'\n        args.push('--' + flag, quote(image))\n        break;\n      case 'Linux':\n        args.push(cmd.icon, quote(image));\n        // libnotify defaults to sticky, set a hint for transient notifications\n        if (!options.sticky) args.push('--hint=int:transient:1');\n        break;\n      case 'Windows':\n        args.push(cmd.icon + quote(image));\n        break;\n    }\n  }\n\n  // sticky\n  if (options.sticky) args.push(cmd.sticky);\n\n  // priority\n  if (options.priority) {\n    var priority = options.priority + '';\n    var checkindexOf = cmd.priority.range.indexOf(priority);\n    if (~cmd.priority.range.indexOf(priority)) {\n      args.push(cmd.priority, options.priority);\n    }\n  }\n\n  // name\n  if (options.name && cmd.type === \"Darwin-Growl\") {\n    args.push('--name', options.name);\n  }\n\n  switch(cmd.type) {\n    case 'Darwin-Growl':\n      args.push(cmd.msg);\n      args.push(quote(msg));\n      if (options.title) args.push(quote(options.title));\n      break;\n    case 'Darwin-NotificationCenter':\n      args.push(cmd.msg);\n      args.push(quote(msg));\n      if (options.title) {\n        args.push(cmd.title);\n        args.push(quote(options.title));\n      }\n      if (options.subtitle) {\n        args.push(cmd.subtitle);\n        args.push(quote(options.subtitle));\n      }\n      break;\n    case 'Darwin-Growl':\n      args.push(cmd.msg);\n      args.push(quote(msg));\n      if (options.title) args.push(quote(options.title));\n      break;\n    case 'Linux':\n      if (options.title) {\n        args.push(quote(options.title));\n        args.push(cmd.msg);\n        args.push(quote(msg));\n      } else {\n        args.push(quote(msg));\n      }\n      break;\n    case 'Windows':\n      args.push(quote(msg));\n      if (options.title) args.push(cmd.title + quote(options.title));\n      break;\n  }\n\n  // execute\n  exec(args.join(' '), fn);\n};\n\n}).call(this,require('_process'))\n},{\"_process\":51,\"child_process\":41,\"fs\":41,\"os\":50,\"path\":41}],70:[function(require,module,exports){\n(function (process,global){\n/**\n * Shim process.stdout.\n */\n\nprocess.stdout = require('browser-stdout')();\n\nvar Mocha = require('../');\n\n/**\n * Create a Mocha instance.\n *\n * @return {undefined}\n */\n\nvar mocha = new Mocha({ reporter: 'html' });\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\nvar Date = global.Date;\nvar setTimeout = global.setTimeout;\nvar setInterval = global.setInterval;\nvar clearTimeout = global.clearTimeout;\nvar clearInterval = global.clearInterval;\n\nvar uncaughtExceptionHandlers = [];\n\nvar originalOnerrorHandler = global.onerror;\n\n/**\n * Remove uncaughtException listener.\n * Revert to original onerror handler if previously defined.\n */\n\nprocess.removeListener = function(e, fn){\n  if ('uncaughtException' == e) {\n    if (originalOnerrorHandler) {\n      global.onerror = originalOnerrorHandler;\n    } else {\n      global.onerror = function() {};\n    }\n    var i = Mocha.utils.indexOf(uncaughtExceptionHandlers, fn);\n    if (i != -1) { uncaughtExceptionHandlers.splice(i, 1); }\n  }\n};\n\n/**\n * Implements uncaughtException listener.\n */\n\nprocess.on = function(e, fn){\n  if ('uncaughtException' == e) {\n    global.onerror = function(err, url, line){\n      fn(new Error(err + ' (' + url + ':' + line + ')'));\n      return !mocha.allowUncaught;\n    };\n    uncaughtExceptionHandlers.push(fn);\n  }\n};\n\n// The BDD UI is registered by default, but no UI will be functional in the\n// browser without an explicit call to the overridden `mocha.ui` (see below).\n// Ensure that this default UI does not expose its methods to the global scope.\nmocha.suite.removeAllListeners('pre-require');\n\nvar immediateQueue = []\n  , immediateTimeout;\n\nfunction timeslice() {\n  var immediateStart = new Date().getTime();\n  while (immediateQueue.length && (new Date().getTime() - immediateStart) < 100) {\n    immediateQueue.shift()();\n  }\n  if (immediateQueue.length) {\n    immediateTimeout = setTimeout(timeslice, 0);\n  } else {\n    immediateTimeout = null;\n  }\n}\n\n/**\n * High-performance override of Runner.immediately.\n */\n\nMocha.Runner.immediately = function(callback) {\n  immediateQueue.push(callback);\n  if (!immediateTimeout) {\n    immediateTimeout = setTimeout(timeslice, 0);\n  }\n};\n\n/**\n * Function to allow assertion libraries to throw errors directly into mocha.\n * This is useful when running tests in a browser because window.onerror will\n * only receive the 'message' attribute of the Error.\n */\nmocha.throwError = function(err) {\n  Mocha.utils.forEach(uncaughtExceptionHandlers, function (fn) {\n    fn(err);\n  });\n  throw err;\n};\n\n/**\n * Override ui to ensure that the ui functions are initialized.\n * Normally this would happen in Mocha.prototype.loadFiles.\n */\n\nmocha.ui = function(ui){\n  Mocha.prototype.ui.call(this, ui);\n  this.suite.emit('pre-require', global, null, this);\n  return this;\n};\n\n/**\n * Setup mocha with the given setting options.\n */\n\nmocha.setup = function(opts){\n  if ('string' == typeof opts) opts = { ui: opts };\n  for (var opt in opts) this[opt](opts[opt]);\n  return this;\n};\n\n/**\n * Run mocha, returning the Runner.\n */\n\nmocha.run = function(fn){\n  var options = mocha.options;\n  mocha.globals('location');\n\n  var query = Mocha.utils.parseQuery(global.location.search || '');\n  if (query.grep) mocha.grep(new RegExp(query.grep));\n  if (query.fgrep) mocha.grep(query.fgrep);\n  if (query.invert) mocha.invert();\n\n  return Mocha.prototype.run.call(mocha, function(err){\n    // The DOM Document is not available in Web Workers.\n    var document = global.document;\n    if (document && document.getElementById('mocha') && options.noHighlighting !== true) {\n      Mocha.utils.highlightTags('code');\n    }\n    if (fn) fn(err);\n  });\n};\n\n/**\n * Expose the process shim.\n * https://github.com/mochajs/mocha/pull/916\n */\n\nMocha.process = process;\n\n/**\n * Expose mocha.\n */\n\nwindow.Mocha = Mocha;\nwindow.mocha = mocha;\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../\":1,\"_process\":51,\"browser-stdout\":40}]},{},[70]);\n"]},"hash":"260c4d46afdac17281782ea19647f10e38525a32"}
