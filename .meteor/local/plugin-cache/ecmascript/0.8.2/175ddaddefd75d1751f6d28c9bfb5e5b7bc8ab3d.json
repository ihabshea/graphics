{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"jquery","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"$"}]},{"source":"./foundation.util.keyboard","imported":["Keyboard"],"specifiers":[{"kind":"named","imported":"Keyboard","local":"Keyboard"}]},{"source":"./foundation.util.motion","imported":["Motion"],"specifiers":[{"kind":"named","imported":"Motion","local":"Motion"}]},{"source":"./foundation.util.timer","imported":["Timer"],"specifiers":[{"kind":"named","imported":"Timer","local":"Timer"}]},{"source":"./foundation.util.imageLoader","imported":["onImagesLoaded"],"specifiers":[{"kind":"named","imported":"onImagesLoaded","local":"onImagesLoaded"}]},{"source":"./foundation.util.core","imported":["GetYoDigits"],"specifiers":[{"kind":"named","imported":"GetYoDigits","local":"GetYoDigits"}]},{"source":"./foundation.plugin","imported":["Plugin"],"specifiers":[{"kind":"named","imported":"Plugin","local":"Plugin"}]},{"source":"./foundation.util.touch","imported":["Touch"],"specifiers":[{"kind":"named","imported":"Touch","local":"Touch"}]}],"exports":{"exported":["Orbit"],"specifiers":[{"kind":"local","local":"Orbit","exported":"Orbit"}]}}},"options":{"filename":"packages/zurb:foundation-sites/js/foundation.orbit.js","filenameRelative":"packages/zurb:foundation-sites/js/foundation.orbit.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/js/foundation.orbit.js.map","sourceFileName":"packages/zurb:foundation-sites/js/foundation.orbit.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"foundation.orbit"},"ignored":false,"code":"'use strict';\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar module1 = module;\nmodule1.export({\n  Orbit: function () {\n    return Orbit;\n  }\n});\nvar $ = void 0;\nmodule1.watch(require(\"jquery\"), {\n  \"default\": function (v) {\n    $ = v;\n  }\n}, 0);\nvar Keyboard = void 0;\nmodule1.watch(require(\"./foundation.util.keyboard\"), {\n  Keyboard: function (v) {\n    Keyboard = v;\n  }\n}, 1);\nvar Motion = void 0;\nmodule1.watch(require(\"./foundation.util.motion\"), {\n  Motion: function (v) {\n    Motion = v;\n  }\n}, 2);\nvar Timer = void 0;\nmodule1.watch(require(\"./foundation.util.timer\"), {\n  Timer: function (v) {\n    Timer = v;\n  }\n}, 3);\nvar onImagesLoaded = void 0;\nmodule1.watch(require(\"./foundation.util.imageLoader\"), {\n  onImagesLoaded: function (v) {\n    onImagesLoaded = v;\n  }\n}, 4);\nvar GetYoDigits = void 0;\nmodule1.watch(require(\"./foundation.util.core\"), {\n  GetYoDigits: function (v) {\n    GetYoDigits = v;\n  }\n}, 5);\nvar Plugin = void 0;\nmodule1.watch(require(\"./foundation.plugin\"), {\n  Plugin: function (v) {\n    Plugin = v;\n  }\n}, 6);\nvar Touch = void 0;\nmodule1.watch(require(\"./foundation.util.touch\"), {\n  Touch: function (v) {\n    Touch = v;\n  }\n}, 7);\n\n/**\n * Orbit module.\n * @module foundation.orbit\n * @requires foundation.util.keyboard\n * @requires foundation.util.motion\n * @requires foundation.util.timer\n * @requires foundation.util.imageLoader\n * @requires foundation.util.touch\n */var Orbit = function (_Plugin) {\n  (0, _inherits3.default)(Orbit, _Plugin);\n\n  function Orbit() {\n    (0, _classCallCheck3.default)(this, Orbit);\n    return (0, _possibleConstructorReturn3.default)(this, _Plugin.apply(this, arguments));\n  }\n\n  /**\n  * Creates a new instance of an orbit carousel.\n  * @class\n  * @name Orbit\n  * @param {jQuery} element - jQuery object to make into an Orbit Carousel.\n  * @param {Object} options - Overrides to the default plugin settings.\n  */Orbit.prototype._setup = function () {\n    function _setup(element, options) {\n      this.$element = element;\n      this.options = $.extend({}, Orbit.defaults, this.$element.data(), options);\n      this.className = 'Orbit'; // ie9 back compat\n\n      Touch.init($); // Touch init is idempotent, we just need to make sure it's initialied.\n\n      this._init();\n\n      Keyboard.register('Orbit', {\n        'ltr': {\n          'ARROW_RIGHT': 'next',\n          'ARROW_LEFT': 'previous'\n        },\n        'rtl': {\n          'ARROW_LEFT': 'next',\n          'ARROW_RIGHT': 'previous'\n        }\n      });\n    }\n\n    return _setup;\n  }(); /**\n       * Initializes the plugin by creating jQuery collections, setting attributes, and starting the animation.\n       * @function\n       * @private\n       */\n\n  Orbit.prototype._init = function () {\n    function _init() {\n      // @TODO: consider discussion on PR #9278 about DOM pollution by changeSlide\n      this._reset();\n\n      this.$wrapper = this.$element.find(\".\" + this.options.containerClass);\n      this.$slides = this.$element.find(\".\" + this.options.slideClass);\n      var $images = this.$element.find('img'),\n          initActive = this.$slides.filter('.is-active'),\n          id = this.$element[0].id || GetYoDigits(6, 'orbit');\n      this.$element.attr({\n        'data-resize': id,\n        'id': id\n      });\n\n      if (!initActive.length) {\n        this.$slides.eq(0).addClass('is-active');\n      }\n\n      if (!this.options.useMUI) {\n        this.$slides.addClass('no-motionui');\n      }\n\n      if ($images.length) {\n        onImagesLoaded($images, this._prepareForOrbit.bind(this));\n      } else {\n        this._prepareForOrbit(); //hehe\n\n      }\n\n      if (this.options.bullets) {\n        this._loadBullets();\n      }\n\n      this._events();\n\n      if (this.options.autoPlay && this.$slides.length > 1) {\n        this.geoSync();\n      }\n\n      if (this.options.accessible) {\n        // allow wrapper to be focusable to enable arrow navigation\n        this.$wrapper.attr('tabindex', 0);\n      }\n    }\n\n    return _init;\n  }(); /**\n       * Creates a jQuery collection of bullets, if they are being used.\n       * @function\n       * @private\n       */\n\n  Orbit.prototype._loadBullets = function () {\n    function _loadBullets() {\n      this.$bullets = this.$element.find(\".\" + this.options.boxOfBullets).find('button');\n    }\n\n    return _loadBullets;\n  }(); /**\n       * Sets a `timer` object on the orbit, and starts the counter for the next slide.\n       * @function\n       */\n\n  Orbit.prototype.geoSync = function () {\n    function geoSync() {\n      var _this = this;\n\n      this.timer = new Timer(this.$element, {\n        duration: this.options.timerDelay,\n        infinite: false\n      }, function () {\n        _this.changeSlide(true);\n      });\n      this.timer.start();\n    }\n\n    return geoSync;\n  }(); /**\n       * Sets wrapper and slide heights for the orbit.\n       * @function\n       * @private\n       */\n\n  Orbit.prototype._prepareForOrbit = function () {\n    function _prepareForOrbit() {\n      var _this = this;\n\n      this._setWrapperHeight();\n    }\n\n    return _prepareForOrbit;\n  }(); /**\n       * Calulates the height of each slide in the collection, and uses the tallest one for the wrapper height.\n       * @function\n       * @private\n       * @param {Function} cb - a callback function to fire when complete.\n       */\n\n  Orbit.prototype._setWrapperHeight = function () {\n    function _setWrapperHeight(cb) {\n      //rewrite this to `for` loop\n      var max = 0,\n          temp,\n          counter = 0,\n          _this = this;\n\n      this.$slides.each(function () {\n        temp = this.getBoundingClientRect().height;\n        $(this).attr('data-slide', counter);\n\n        if (_this.$slides.filter('.is-active')[0] !== _this.$slides.eq(counter)[0]) {\n          //if not the active slide, set css position and display property\n          $(this).css({\n            'position': 'relative',\n            'display': 'none'\n          });\n        }\n\n        max = temp > max ? temp : max;\n        counter++;\n      });\n\n      if (counter === this.$slides.length) {\n        this.$wrapper.css({\n          'height': max\n        }); //only change the wrapper height property once.\n\n        if (cb) {\n          cb(max);\n        } //fire callback with max height dimension.\n\n      }\n    }\n\n    return _setWrapperHeight;\n  }(); /**\n       * Sets the max-height of each slide.\n       * @function\n       * @private\n       */\n\n  Orbit.prototype._setSlideHeight = function () {\n    function _setSlideHeight(height) {\n      this.$slides.each(function () {\n        $(this).css('max-height', height);\n      });\n    }\n\n    return _setSlideHeight;\n  }(); /**\n       * Adds event listeners to basically everything within the element.\n       * @function\n       * @private\n       */\n\n  Orbit.prototype._events = function () {\n    function _events() {\n      var _this = this; //***************************************\n      //**Now using custom event - thanks to:**\n      //**      Yohai Ararat of Toronto      **\n      //***************************************\n      //\n\n\n      this.$element.off('.resizeme.zf.trigger').on({\n        'resizeme.zf.trigger': this._prepareForOrbit.bind(this)\n      });\n\n      if (this.$slides.length > 1) {\n        if (this.options.swipe) {\n          this.$slides.off('swipeleft.zf.orbit swiperight.zf.orbit').on('swipeleft.zf.orbit', function (e) {\n            e.preventDefault();\n\n            _this.changeSlide(true);\n          }).on('swiperight.zf.orbit', function (e) {\n            e.preventDefault();\n\n            _this.changeSlide(false);\n          });\n        } //***************************************\n\n\n        if (this.options.autoPlay) {\n          this.$slides.on('click.zf.orbit', function () {\n            _this.$element.data('clickedOn', _this.$element.data('clickedOn') ? false : true);\n\n            _this.timer[_this.$element.data('clickedOn') ? 'pause' : 'start']();\n          });\n\n          if (this.options.pauseOnHover) {\n            this.$element.on('mouseenter.zf.orbit', function () {\n              _this.timer.pause();\n            }).on('mouseleave.zf.orbit', function () {\n              if (!_this.$element.data('clickedOn')) {\n                _this.timer.start();\n              }\n            });\n          }\n        }\n\n        if (this.options.navButtons) {\n          var $controls = this.$element.find(\".\" + this.options.nextClass + \", .\" + this.options.prevClass);\n          $controls.attr('tabindex', 0) //also need to handle enter/return and spacebar key presses\n          .on('click.zf.orbit touchend.zf.orbit', function (e) {\n            e.preventDefault();\n\n            _this.changeSlide($(this).hasClass(_this.options.nextClass));\n          });\n        }\n\n        if (this.options.bullets) {\n          this.$bullets.on('click.zf.orbit touchend.zf.orbit', function () {\n            if (/is-active/g.test(this.className)) {\n              return false;\n            } //if this is active, kick out of function.\n\n\n            var idx = $(this).data('slide'),\n                ltr = idx > _this.$slides.filter('.is-active').data('slide'),\n                $slide = _this.$slides.eq(idx);\n\n            _this.changeSlide(ltr, $slide, idx);\n          });\n        }\n\n        if (this.options.accessible) {\n          this.$wrapper.add(this.$bullets).on('keydown.zf.orbit', function (e) {\n            // handle keyboard event with keyboard util\n            Keyboard.handleKey(e, 'Orbit', {\n              next: function () {\n                _this.changeSlide(true);\n              },\n              previous: function () {\n                _this.changeSlide(false);\n              },\n              handled: function () {\n                // if bullet is focused, make sure focus moves\n                if ($(e.target).is(_this.$bullets)) {\n                  _this.$bullets.filter('.is-active').focus();\n                }\n              }\n            });\n          });\n        }\n      }\n    }\n\n    return _events;\n  }(); /**\n        * Resets Orbit so it can be reinitialized\n        */\n\n  Orbit.prototype._reset = function () {\n    function _reset() {\n      // Don't do anything if there are no slides (first run)\n      if (typeof this.$slides == 'undefined') {\n        return;\n      }\n\n      if (this.$slides.length > 1) {\n        // Remove old events\n        this.$element.off('.zf.orbit').find('*').off('.zf.orbit'); // Restart timer if autoPlay is enabled\n\n        if (this.options.autoPlay) {\n          this.timer.restart();\n        } // Reset all sliddes\n\n\n        this.$slides.each(function (el) {\n          $(el).removeClass('is-active is-active is-in').removeAttr('aria-live').hide();\n        }); // Show the first slide\n\n        this.$slides.first().addClass('is-active').show(); // Triggers when the slide has finished animating\n\n        this.$element.trigger('slidechange.zf.orbit', [this.$slides.first()]); // Select first bullet if bullets are present\n\n        if (this.options.bullets) {\n          this._updateBullets(0);\n        }\n      }\n    }\n\n    return _reset;\n  }(); /**\n       * Changes the current slide to a new one.\n       * @function\n       * @param {Boolean} isLTR - flag if the slide should move left to right.\n       * @param {jQuery} chosenSlide - the jQuery element of the slide to show next, if one is selected.\n       * @param {Number} idx - the index of the new slide in its collection, if one chosen.\n       * @fires Orbit#slidechange\n       */\n\n  Orbit.prototype.changeSlide = function () {\n    function changeSlide(isLTR, chosenSlide, idx) {\n      if (!this.$slides) {\n        return;\n      } // Don't freak out if we're in the middle of cleanup\n\n\n      var $curSlide = this.$slides.filter('.is-active').eq(0);\n\n      if (/mui/g.test($curSlide[0].className)) {\n        return false;\n      } //if the slide is currently animating, kick out of the function\n\n\n      var $firstSlide = this.$slides.first(),\n          $lastSlide = this.$slides.last(),\n          dirIn = isLTR ? 'Right' : 'Left',\n          dirOut = isLTR ? 'Left' : 'Right',\n          _this = this,\n          $newSlide;\n\n      if (!chosenSlide) {\n        //most of the time, this will be auto played or clicked from the navButtons.\n        $newSlide = isLTR ? //if wrapping enabled, check to see if there is a `next` or `prev` sibling, if not, select the first or last slide to fill in. if wrapping not enabled, attempt to select `next` or `prev`, if there's nothing there, the function will kick out on next step. CRAZY NESTED TERNARIES!!!!!\n        this.options.infiniteWrap ? $curSlide.next(\".\" + this.options.slideClass).length ? $curSlide.next(\".\" + this.options.slideClass) : $firstSlide : $curSlide.next(\".\" + this.options.slideClass) : //pick next slide if moving left to right\n        this.options.infiniteWrap ? $curSlide.prev(\".\" + this.options.slideClass).length ? $curSlide.prev(\".\" + this.options.slideClass) : $lastSlide : $curSlide.prev(\".\" + this.options.slideClass); //pick prev slide if moving right to left\n      } else {\n        $newSlide = chosenSlide;\n      }\n\n      if ($newSlide.length) {\n        /**\n        * Triggers before the next slide starts animating in and only if a next slide has been found.\n        * @event Orbit#beforeslidechange\n        */this.$element.trigger('beforeslidechange.zf.orbit', [$curSlide, $newSlide]);\n\n        if (this.options.bullets) {\n          idx = idx || this.$slides.index($newSlide); //grab index to update bullets\n\n          this._updateBullets(idx);\n        }\n\n        if (this.options.useMUI && !this.$element.is(':hidden')) {\n          Motion.animateIn($newSlide.addClass('is-active').css({\n            'position': 'absolute',\n            'top': 0\n          }), this.options[\"animInFrom\" + dirIn], function () {\n            $newSlide.css({\n              'position': 'relative',\n              'display': 'block'\n            }).attr('aria-live', 'polite');\n          });\n          Motion.animateOut($curSlide.removeClass('is-active'), this.options[\"animOutTo\" + dirOut], function () {\n            $curSlide.removeAttr('aria-live');\n\n            if (_this.options.autoPlay && !_this.timer.isPaused) {\n              _this.timer.restart();\n            } //do stuff?\n\n          });\n        } else {\n          $curSlide.removeClass('is-active is-in').removeAttr('aria-live').hide();\n          $newSlide.addClass('is-active is-in').attr('aria-live', 'polite').show();\n\n          if (this.options.autoPlay && !this.timer.isPaused) {\n            this.timer.restart();\n          }\n        } /**\n          * Triggers when the slide has finished animating in.\n          * @event Orbit#slidechange\n          */\n\n        this.$element.trigger('slidechange.zf.orbit', [$newSlide]);\n      }\n    }\n\n    return changeSlide;\n  }(); /**\n       * Updates the active state of the bullets, if displayed.\n       * @function\n       * @private\n       * @param {Number} idx - the index of the current slide.\n       */\n\n  Orbit.prototype._updateBullets = function () {\n    function _updateBullets(idx) {\n      var $oldBullet = this.$element.find(\".\" + this.options.boxOfBullets).find('.is-active').removeClass('is-active').blur(),\n          span = $oldBullet.find('span:last').detach(),\n          $newBullet = this.$bullets.eq(idx).addClass('is-active').append(span);\n    }\n\n    return _updateBullets;\n  }(); /**\n       * Destroys the carousel and hides the element.\n       * @function\n       */\n\n  Orbit.prototype._destroy = function () {\n    function _destroy() {\n      this.$element.off('.zf.orbit').find('*').off('.zf.orbit').end().hide();\n    }\n\n    return _destroy;\n  }();\n\n  return Orbit;\n}(Plugin);\n\nOrbit.defaults = {\n  /**\n  * Tells the JS to look for and loadBullets.\n  * @option\n   * @type {boolean}\n  * @default true\n  */bullets: true,\n  /**\n  * Tells the JS to apply event listeners to nav buttons\n  * @option\n   * @type {boolean}\n  * @default true\n  */navButtons: true,\n  /**\n  * motion-ui animation class to apply\n  * @option\n   * @type {string}\n  * @default 'slide-in-right'\n  */animInFromRight: 'slide-in-right',\n  /**\n  * motion-ui animation class to apply\n  * @option\n   * @type {string}\n  * @default 'slide-out-right'\n  */animOutToRight: 'slide-out-right',\n  /**\n  * motion-ui animation class to apply\n  * @option\n   * @type {string}\n  * @default 'slide-in-left'\n  *\n  */animInFromLeft: 'slide-in-left',\n  /**\n  * motion-ui animation class to apply\n  * @option\n   * @type {string}\n  * @default 'slide-out-left'\n  */animOutToLeft: 'slide-out-left',\n  /**\n  * Allows Orbit to automatically animate on page load.\n  * @option\n   * @type {boolean}\n  * @default true\n  */autoPlay: true,\n  /**\n  * Amount of time, in ms, between slide transitions\n  * @option\n   * @type {number}\n  * @default 5000\n  */timerDelay: 5000,\n  /**\n  * Allows Orbit to infinitely loop through the slides\n  * @option\n   * @type {boolean}\n  * @default true\n  */infiniteWrap: true,\n  /**\n  * Allows the Orbit slides to bind to swipe events for mobile, requires an additional util library\n  * @option\n   * @type {boolean}\n  * @default true\n  */swipe: true,\n  /**\n  * Allows the timing function to pause animation on hover.\n  * @option\n   * @type {boolean}\n  * @default true\n  */pauseOnHover: true,\n  /**\n  * Allows Orbit to bind keyboard events to the slider, to animate frames with arrow keys\n  * @option\n   * @type {boolean}\n  * @default true\n  */accessible: true,\n  /**\n  * Class applied to the container of Orbit\n  * @option\n   * @type {string}\n  * @default 'orbit-container'\n  */containerClass: 'orbit-container',\n  /**\n  * Class applied to individual slides.\n  * @option\n   * @type {string}\n  * @default 'orbit-slide'\n  */slideClass: 'orbit-slide',\n  /**\n  * Class applied to the bullet container. You're welcome.\n  * @option\n   * @type {string}\n  * @default 'orbit-bullets'\n  */boxOfBullets: 'orbit-bullets',\n  /**\n  * Class applied to the `next` navigation button.\n  * @option\n   * @type {string}\n  * @default 'orbit-next'\n  */nextClass: 'orbit-next',\n  /**\n  * Class applied to the `previous` navigation button.\n  * @option\n   * @type {string}\n  * @default 'orbit-previous'\n  */prevClass: 'orbit-previous',\n  /**\n  * Boolean to flag the js to use motion ui classes or not. Default to true for backwards compatability.\n  * @option\n   * @type {boolean}\n  * @default true\n  */useMUI: true\n};","map":{"version":3,"sources":["packages/zurb:foundation-sites/js/foundation.orbit.js"],"names":["module1","module","export","Orbit","$","watch","require","v","Keyboard","Motion","Timer","onImagesLoaded","GetYoDigits","Plugin","Touch","_setup","element","options","$element","extend","defaults","data","className","init","_init","register","_reset","$wrapper","find","containerClass","$slides","slideClass","$images","initActive","filter","id","attr","length","eq","addClass","useMUI","_prepareForOrbit","bind","bullets","_loadBullets","_events","autoPlay","geoSync","accessible","$bullets","boxOfBullets","_this","timer","duration","timerDelay","infinite","changeSlide","start","_setWrapperHeight","cb","max","temp","counter","each","getBoundingClientRect","height","css","_setSlideHeight","off","on","swipe","e","preventDefault","pauseOnHover","pause","navButtons","$controls","nextClass","prevClass","hasClass","test","idx","ltr","$slide","add","handleKey","next","previous","handled","target","is","focus","restart","el","removeClass","removeAttr","hide","first","show","trigger","_updateBullets","isLTR","chosenSlide","$curSlide","$firstSlide","$lastSlide","last","dirIn","dirOut","$newSlide","infiniteWrap","prev","index","animateIn","animateOut","isPaused","$oldBullet","blur","span","detach","$newBullet","append","_destroy","end","animInFromRight","animOutToRight","animInFromLeft","animOutToLeft"],"mappings":"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","file":"packages/zurb:foundation-sites/js/foundation.orbit.js.map","sourcesContent":["'use strict';\n\nimport $ from 'jquery';\nimport { Keyboard } from './foundation.util.keyboard';\nimport { Motion } from './foundation.util.motion';\nimport { Timer } from './foundation.util.timer';\nimport { onImagesLoaded } from './foundation.util.imageLoader';\nimport { GetYoDigits } from './foundation.util.core';\nimport { Plugin } from './foundation.plugin';\nimport { Touch } from './foundation.util.touch'\n\n\n/**\n * Orbit module.\n * @module foundation.orbit\n * @requires foundation.util.keyboard\n * @requires foundation.util.motion\n * @requires foundation.util.timer\n * @requires foundation.util.imageLoader\n * @requires foundation.util.touch\n */\n\nclass Orbit extends Plugin {\n  /**\n  * Creates a new instance of an orbit carousel.\n  * @class\n  * @name Orbit\n  * @param {jQuery} element - jQuery object to make into an Orbit Carousel.\n  * @param {Object} options - Overrides to the default plugin settings.\n  */\n  _setup(element, options){\n    this.$element = element;\n    this.options = $.extend({}, Orbit.defaults, this.$element.data(), options);\n    this.className = 'Orbit'; // ie9 back compat\n\n    Touch.init($); // Touch init is idempotent, we just need to make sure it's initialied.\n\n    this._init();\n\n    Keyboard.register('Orbit', {\n      'ltr': {\n        'ARROW_RIGHT': 'next',\n        'ARROW_LEFT': 'previous'\n      },\n      'rtl': {\n        'ARROW_LEFT': 'next',\n        'ARROW_RIGHT': 'previous'\n      }\n    });\n  }\n\n  /**\n  * Initializes the plugin by creating jQuery collections, setting attributes, and starting the animation.\n  * @function\n  * @private\n  */\n  _init() {\n    // @TODO: consider discussion on PR #9278 about DOM pollution by changeSlide\n    this._reset();\n\n    this.$wrapper = this.$element.find(`.${this.options.containerClass}`);\n    this.$slides = this.$element.find(`.${this.options.slideClass}`);\n\n    var $images = this.$element.find('img'),\n        initActive = this.$slides.filter('.is-active'),\n        id = this.$element[0].id || GetYoDigits(6, 'orbit');\n\n    this.$element.attr({\n      'data-resize': id,\n      'id': id\n    });\n\n    if (!initActive.length) {\n      this.$slides.eq(0).addClass('is-active');\n    }\n\n    if (!this.options.useMUI) {\n      this.$slides.addClass('no-motionui');\n    }\n\n    if ($images.length) {\n      onImagesLoaded($images, this._prepareForOrbit.bind(this));\n    } else {\n      this._prepareForOrbit();//hehe\n    }\n\n    if (this.options.bullets) {\n      this._loadBullets();\n    }\n\n    this._events();\n\n    if (this.options.autoPlay && this.$slides.length > 1) {\n      this.geoSync();\n    }\n\n    if (this.options.accessible) { // allow wrapper to be focusable to enable arrow navigation\n      this.$wrapper.attr('tabindex', 0);\n    }\n  }\n\n  /**\n  * Creates a jQuery collection of bullets, if they are being used.\n  * @function\n  * @private\n  */\n  _loadBullets() {\n    this.$bullets = this.$element.find(`.${this.options.boxOfBullets}`).find('button');\n  }\n\n  /**\n  * Sets a `timer` object on the orbit, and starts the counter for the next slide.\n  * @function\n  */\n  geoSync() {\n    var _this = this;\n    this.timer = new Timer(\n      this.$element,\n      {\n        duration: this.options.timerDelay,\n        infinite: false\n      },\n      function() {\n        _this.changeSlide(true);\n      });\n    this.timer.start();\n  }\n\n  /**\n  * Sets wrapper and slide heights for the orbit.\n  * @function\n  * @private\n  */\n  _prepareForOrbit() {\n    var _this = this;\n    this._setWrapperHeight();\n  }\n\n  /**\n  * Calulates the height of each slide in the collection, and uses the tallest one for the wrapper height.\n  * @function\n  * @private\n  * @param {Function} cb - a callback function to fire when complete.\n  */\n  _setWrapperHeight(cb) {//rewrite this to `for` loop\n    var max = 0, temp, counter = 0, _this = this;\n\n    this.$slides.each(function() {\n      temp = this.getBoundingClientRect().height;\n      $(this).attr('data-slide', counter);\n\n      if (_this.$slides.filter('.is-active')[0] !== _this.$slides.eq(counter)[0]) {//if not the active slide, set css position and display property\n        $(this).css({'position': 'relative', 'display': 'none'});\n      }\n      max = temp > max ? temp : max;\n      counter++;\n    });\n\n    if (counter === this.$slides.length) {\n      this.$wrapper.css({'height': max}); //only change the wrapper height property once.\n      if(cb) {cb(max);} //fire callback with max height dimension.\n    }\n  }\n\n  /**\n  * Sets the max-height of each slide.\n  * @function\n  * @private\n  */\n  _setSlideHeight(height) {\n    this.$slides.each(function() {\n      $(this).css('max-height', height);\n    });\n  }\n\n  /**\n  * Adds event listeners to basically everything within the element.\n  * @function\n  * @private\n  */\n  _events() {\n    var _this = this;\n\n    //***************************************\n    //**Now using custom event - thanks to:**\n    //**      Yohai Ararat of Toronto      **\n    //***************************************\n    //\n    this.$element.off('.resizeme.zf.trigger').on({\n      'resizeme.zf.trigger': this._prepareForOrbit.bind(this)\n    })\n    if (this.$slides.length > 1) {\n\n      if (this.options.swipe) {\n        this.$slides.off('swipeleft.zf.orbit swiperight.zf.orbit')\n        .on('swipeleft.zf.orbit', function(e){\n          e.preventDefault();\n          _this.changeSlide(true);\n        }).on('swiperight.zf.orbit', function(e){\n          e.preventDefault();\n          _this.changeSlide(false);\n        });\n      }\n      //***************************************\n\n      if (this.options.autoPlay) {\n        this.$slides.on('click.zf.orbit', function() {\n          _this.$element.data('clickedOn', _this.$element.data('clickedOn') ? false : true);\n          _this.timer[_this.$element.data('clickedOn') ? 'pause' : 'start']();\n        });\n\n        if (this.options.pauseOnHover) {\n          this.$element.on('mouseenter.zf.orbit', function() {\n            _this.timer.pause();\n          }).on('mouseleave.zf.orbit', function() {\n            if (!_this.$element.data('clickedOn')) {\n              _this.timer.start();\n            }\n          });\n        }\n      }\n\n      if (this.options.navButtons) {\n        var $controls = this.$element.find(`.${this.options.nextClass}, .${this.options.prevClass}`);\n        $controls.attr('tabindex', 0)\n        //also need to handle enter/return and spacebar key presses\n        .on('click.zf.orbit touchend.zf.orbit', function(e){\n\t  e.preventDefault();\n          _this.changeSlide($(this).hasClass(_this.options.nextClass));\n        });\n      }\n\n      if (this.options.bullets) {\n        this.$bullets.on('click.zf.orbit touchend.zf.orbit', function() {\n          if (/is-active/g.test(this.className)) { return false; }//if this is active, kick out of function.\n          var idx = $(this).data('slide'),\n          ltr = idx > _this.$slides.filter('.is-active').data('slide'),\n          $slide = _this.$slides.eq(idx);\n\n          _this.changeSlide(ltr, $slide, idx);\n        });\n      }\n\n      if (this.options.accessible) {\n        this.$wrapper.add(this.$bullets).on('keydown.zf.orbit', function(e) {\n          // handle keyboard event with keyboard util\n          Keyboard.handleKey(e, 'Orbit', {\n            next: function() {\n              _this.changeSlide(true);\n            },\n            previous: function() {\n              _this.changeSlide(false);\n            },\n            handled: function() { // if bullet is focused, make sure focus moves\n              if ($(e.target).is(_this.$bullets)) {\n                _this.$bullets.filter('.is-active').focus();\n              }\n            }\n          });\n        });\n      }\n    }\n  }\n\n  /**\n   * Resets Orbit so it can be reinitialized\n   */\n  _reset() {\n    // Don't do anything if there are no slides (first run)\n    if (typeof this.$slides == 'undefined') {\n      return;\n    }\n\n    if (this.$slides.length > 1) {\n      // Remove old events\n      this.$element.off('.zf.orbit').find('*').off('.zf.orbit')\n\n      // Restart timer if autoPlay is enabled\n      if (this.options.autoPlay) {\n        this.timer.restart();\n      }\n\n      // Reset all sliddes\n      this.$slides.each(function(el) {\n        $(el).removeClass('is-active is-active is-in')\n          .removeAttr('aria-live')\n          .hide();\n      });\n\n      // Show the first slide\n      this.$slides.first().addClass('is-active').show();\n\n      // Triggers when the slide has finished animating\n      this.$element.trigger('slidechange.zf.orbit', [this.$slides.first()]);\n\n      // Select first bullet if bullets are present\n      if (this.options.bullets) {\n        this._updateBullets(0);\n      }\n    }\n  }\n\n  /**\n  * Changes the current slide to a new one.\n  * @function\n  * @param {Boolean} isLTR - flag if the slide should move left to right.\n  * @param {jQuery} chosenSlide - the jQuery element of the slide to show next, if one is selected.\n  * @param {Number} idx - the index of the new slide in its collection, if one chosen.\n  * @fires Orbit#slidechange\n  */\n  changeSlide(isLTR, chosenSlide, idx) {\n    if (!this.$slides) {return; } // Don't freak out if we're in the middle of cleanup\n    var $curSlide = this.$slides.filter('.is-active').eq(0);\n\n    if (/mui/g.test($curSlide[0].className)) { return false; } //if the slide is currently animating, kick out of the function\n\n    var $firstSlide = this.$slides.first(),\n    $lastSlide = this.$slides.last(),\n    dirIn = isLTR ? 'Right' : 'Left',\n    dirOut = isLTR ? 'Left' : 'Right',\n    _this = this,\n    $newSlide;\n\n    if (!chosenSlide) { //most of the time, this will be auto played or clicked from the navButtons.\n      $newSlide = isLTR ? //if wrapping enabled, check to see if there is a `next` or `prev` sibling, if not, select the first or last slide to fill in. if wrapping not enabled, attempt to select `next` or `prev`, if there's nothing there, the function will kick out on next step. CRAZY NESTED TERNARIES!!!!!\n      (this.options.infiniteWrap ? $curSlide.next(`.${this.options.slideClass}`).length ? $curSlide.next(`.${this.options.slideClass}`) : $firstSlide : $curSlide.next(`.${this.options.slideClass}`))//pick next slide if moving left to right\n      :\n      (this.options.infiniteWrap ? $curSlide.prev(`.${this.options.slideClass}`).length ? $curSlide.prev(`.${this.options.slideClass}`) : $lastSlide : $curSlide.prev(`.${this.options.slideClass}`));//pick prev slide if moving right to left\n    } else {\n      $newSlide = chosenSlide;\n    }\n\n    if ($newSlide.length) {\n      /**\n      * Triggers before the next slide starts animating in and only if a next slide has been found.\n      * @event Orbit#beforeslidechange\n      */\n      this.$element.trigger('beforeslidechange.zf.orbit', [$curSlide, $newSlide]);\n\n      if (this.options.bullets) {\n        idx = idx || this.$slides.index($newSlide); //grab index to update bullets\n        this._updateBullets(idx);\n      }\n\n      if (this.options.useMUI && !this.$element.is(':hidden')) {\n        Motion.animateIn(\n          $newSlide.addClass('is-active').css({'position': 'absolute', 'top': 0}),\n          this.options[`animInFrom${dirIn}`],\n          function(){\n            $newSlide.css({'position': 'relative', 'display': 'block'})\n            .attr('aria-live', 'polite');\n        });\n\n        Motion.animateOut(\n          $curSlide.removeClass('is-active'),\n          this.options[`animOutTo${dirOut}`],\n          function(){\n            $curSlide.removeAttr('aria-live');\n            if(_this.options.autoPlay && !_this.timer.isPaused){\n              _this.timer.restart();\n            }\n            //do stuff?\n          });\n      } else {\n        $curSlide.removeClass('is-active is-in').removeAttr('aria-live').hide();\n        $newSlide.addClass('is-active is-in').attr('aria-live', 'polite').show();\n        if (this.options.autoPlay && !this.timer.isPaused) {\n          this.timer.restart();\n        }\n      }\n    /**\n    * Triggers when the slide has finished animating in.\n    * @event Orbit#slidechange\n    */\n      this.$element.trigger('slidechange.zf.orbit', [$newSlide]);\n    }\n  }\n\n  /**\n  * Updates the active state of the bullets, if displayed.\n  * @function\n  * @private\n  * @param {Number} idx - the index of the current slide.\n  */\n  _updateBullets(idx) {\n    var $oldBullet = this.$element.find(`.${this.options.boxOfBullets}`)\n    .find('.is-active').removeClass('is-active').blur(),\n    span = $oldBullet.find('span:last').detach(),\n    $newBullet = this.$bullets.eq(idx).addClass('is-active').append(span);\n  }\n\n  /**\n  * Destroys the carousel and hides the element.\n  * @function\n  */\n  _destroy() {\n    this.$element.off('.zf.orbit').find('*').off('.zf.orbit').end().hide();\n  }\n}\n\nOrbit.defaults = {\n  /**\n  * Tells the JS to look for and loadBullets.\n  * @option\n   * @type {boolean}\n  * @default true\n  */\n  bullets: true,\n  /**\n  * Tells the JS to apply event listeners to nav buttons\n  * @option\n   * @type {boolean}\n  * @default true\n  */\n  navButtons: true,\n  /**\n  * motion-ui animation class to apply\n  * @option\n   * @type {string}\n  * @default 'slide-in-right'\n  */\n  animInFromRight: 'slide-in-right',\n  /**\n  * motion-ui animation class to apply\n  * @option\n   * @type {string}\n  * @default 'slide-out-right'\n  */\n  animOutToRight: 'slide-out-right',\n  /**\n  * motion-ui animation class to apply\n  * @option\n   * @type {string}\n  * @default 'slide-in-left'\n  *\n  */\n  animInFromLeft: 'slide-in-left',\n  /**\n  * motion-ui animation class to apply\n  * @option\n   * @type {string}\n  * @default 'slide-out-left'\n  */\n  animOutToLeft: 'slide-out-left',\n  /**\n  * Allows Orbit to automatically animate on page load.\n  * @option\n   * @type {boolean}\n  * @default true\n  */\n  autoPlay: true,\n  /**\n  * Amount of time, in ms, between slide transitions\n  * @option\n   * @type {number}\n  * @default 5000\n  */\n  timerDelay: 5000,\n  /**\n  * Allows Orbit to infinitely loop through the slides\n  * @option\n   * @type {boolean}\n  * @default true\n  */\n  infiniteWrap: true,\n  /**\n  * Allows the Orbit slides to bind to swipe events for mobile, requires an additional util library\n  * @option\n   * @type {boolean}\n  * @default true\n  */\n  swipe: true,\n  /**\n  * Allows the timing function to pause animation on hover.\n  * @option\n   * @type {boolean}\n  * @default true\n  */\n  pauseOnHover: true,\n  /**\n  * Allows Orbit to bind keyboard events to the slider, to animate frames with arrow keys\n  * @option\n   * @type {boolean}\n  * @default true\n  */\n  accessible: true,\n  /**\n  * Class applied to the container of Orbit\n  * @option\n   * @type {string}\n  * @default 'orbit-container'\n  */\n  containerClass: 'orbit-container',\n  /**\n  * Class applied to individual slides.\n  * @option\n   * @type {string}\n  * @default 'orbit-slide'\n  */\n  slideClass: 'orbit-slide',\n  /**\n  * Class applied to the bullet container. You're welcome.\n  * @option\n   * @type {string}\n  * @default 'orbit-bullets'\n  */\n  boxOfBullets: 'orbit-bullets',\n  /**\n  * Class applied to the `next` navigation button.\n  * @option\n   * @type {string}\n  * @default 'orbit-next'\n  */\n  nextClass: 'orbit-next',\n  /**\n  * Class applied to the `previous` navigation button.\n  * @option\n   * @type {string}\n  * @default 'orbit-previous'\n  */\n  prevClass: 'orbit-previous',\n  /**\n  * Boolean to flag the js to use motion ui classes or not. Default to true for backwards compatability.\n  * @option\n   * @type {boolean}\n  * @default true\n  */\n  useMUI: true\n};\n\nexport {Orbit};\n"]},"hash":"175ddaddefd75d1751f6d28c9bfb5e5b7bc8ab3d"}
