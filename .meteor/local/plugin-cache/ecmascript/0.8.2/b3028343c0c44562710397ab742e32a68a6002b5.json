{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"jquery","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"$"}]},{"source":"./foundation.util.keyboard","imported":["Keyboard"],"specifiers":[{"kind":"named","imported":"Keyboard","local":"Keyboard"}]},{"source":"./foundation.util.nest","imported":["Nest"],"specifiers":[{"kind":"named","imported":"Nest","local":"Nest"}]},{"source":"./foundation.util.box","imported":["Box"],"specifiers":[{"kind":"named","imported":"Box","local":"Box"}]},{"source":"./foundation.util.core","imported":["rtl"],"specifiers":[{"kind":"named","imported":"rtl","local":"Rtl"}]},{"source":"./foundation.plugin","imported":["Plugin"],"specifiers":[{"kind":"named","imported":"Plugin","local":"Plugin"}]}],"exports":{"exported":["DropdownMenu"],"specifiers":[{"kind":"local","local":"DropdownMenu","exported":"DropdownMenu"}]}}},"options":{"filename":"packages/zurb:foundation-sites/js/foundation.dropdownMenu.js","filenameRelative":"packages/zurb:foundation-sites/js/foundation.dropdownMenu.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/js/foundation.dropdownMenu.js.map","sourceFileName":"packages/zurb:foundation-sites/js/foundation.dropdownMenu.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"foundation.dropdownMenu"},"ignored":false,"code":"'use strict';\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar module1 = module;\nmodule1.export({\n  DropdownMenu: function () {\n    return DropdownMenu;\n  }\n});\nvar $ = void 0;\nmodule1.watch(require(\"jquery\"), {\n  \"default\": function (v) {\n    $ = v;\n  }\n}, 0);\nvar Keyboard = void 0;\nmodule1.watch(require(\"./foundation.util.keyboard\"), {\n  Keyboard: function (v) {\n    Keyboard = v;\n  }\n}, 1);\nvar Nest = void 0;\nmodule1.watch(require(\"./foundation.util.nest\"), {\n  Nest: function (v) {\n    Nest = v;\n  }\n}, 2);\nvar Box = void 0;\nmodule1.watch(require(\"./foundation.util.box\"), {\n  Box: function (v) {\n    Box = v;\n  }\n}, 3);\nvar Rtl = void 0;\nmodule1.watch(require(\"./foundation.util.core\"), {\n  rtl: function (v) {\n    Rtl = v;\n  }\n}, 4);\nvar Plugin = void 0;\nmodule1.watch(require(\"./foundation.plugin\"), {\n  Plugin: function (v) {\n    Plugin = v;\n  }\n}, 5);\n\n/**\n * DropdownMenu module.\n * @module foundation.dropdown-menu\n * @requires foundation.util.keyboard\n * @requires foundation.util.box\n * @requires foundation.util.nest\n */var DropdownMenu = function (_Plugin) {\n  (0, _inherits3.default)(DropdownMenu, _Plugin);\n\n  function DropdownMenu() {\n    (0, _classCallCheck3.default)(this, DropdownMenu);\n    return (0, _possibleConstructorReturn3.default)(this, _Plugin.apply(this, arguments));\n  }\n\n  /**\n   * Creates a new instance of DropdownMenu.\n   * @class\n   * @name DropdownMenu\n   * @fires DropdownMenu#init\n   * @param {jQuery} element - jQuery object to make into a dropdown menu.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */DropdownMenu.prototype._setup = function () {\n    function _setup(element, options) {\n      this.$element = element;\n      this.options = $.extend({}, DropdownMenu.defaults, this.$element.data(), options);\n      this.className = 'DropdownMenu'; // ie9 back compat\n\n      Nest.Feather(this.$element, 'dropdown');\n\n      this._init();\n\n      Keyboard.register('DropdownMenu', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'previous',\n        'ESCAPE': 'close'\n      });\n    }\n\n    return _setup;\n  }(); /**\n        * Initializes the plugin, and calls _prepareMenu\n        * @private\n        * @function\n        */\n\n  DropdownMenu.prototype._init = function () {\n    function _init() {\n      var subs = this.$element.find('li.is-dropdown-submenu-parent');\n      this.$element.children('.is-dropdown-submenu-parent').children('.is-dropdown-submenu').addClass('first-sub');\n      this.$menuItems = this.$element.find('[role=\"menuitem\"]');\n      this.$tabs = this.$element.children('[role=\"menuitem\"]');\n      this.$tabs.find('ul.is-dropdown-submenu').addClass(this.options.verticalClass);\n\n      if (this.options.alignment === 'auto') {\n        if (this.$element.hasClass(this.options.rightClass) || Rtl() || this.$element.parents('.top-bar-right').is('*')) {\n          this.options.alignment = 'right';\n          subs.addClass('opens-left');\n        } else {\n          this.options.alignment = 'left';\n          subs.addClass('opens-right');\n        }\n      } else {\n        if (this.options.alignment === 'right') {\n          subs.addClass('opens-left');\n        } else {\n          subs.addClass('opens-right');\n        }\n      }\n\n      this.changed = false;\n\n      this._events();\n    }\n\n    return _init;\n  }();\n\n  DropdownMenu.prototype._isVertical = function () {\n    function _isVertical() {\n      return this.$tabs.css('display') === 'block' || this.$element.css('flex-direction') === 'column';\n    }\n\n    return _isVertical;\n  }();\n\n  DropdownMenu.prototype._isRtl = function () {\n    function _isRtl() {\n      return this.$element.hasClass('align-right') || Rtl() && !this.$element.hasClass('align-left');\n    }\n\n    return _isRtl;\n  }(); /**\n        * Adds event listeners to elements within the menu\n        * @private\n        * @function\n        */\n\n  DropdownMenu.prototype._events = function () {\n    function _events() {\n      var _this = this,\n          hasTouch = 'ontouchstart' in window || typeof window.ontouchstart !== 'undefined',\n          parClass = 'is-dropdown-submenu-parent'; // used for onClick and in the keyboard handlers\n\n\n      var handleClickFn = function (e) {\n        var $elem = $(e.target).parentsUntil('ul', \".\" + parClass),\n            hasSub = $elem.hasClass(parClass),\n            hasClicked = $elem.attr('data-is-click') === 'true',\n            $sub = $elem.children('.is-dropdown-submenu');\n\n        if (hasSub) {\n          if (hasClicked) {\n            if (!_this.options.closeOnClick || !_this.options.clickOpen && !hasTouch || _this.options.forceFollow && hasTouch) {\n              return;\n            } else {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n\n              _this._hide($elem);\n            }\n          } else {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n\n            _this._show($sub);\n\n            $elem.add($elem.parentsUntil(_this.$element, \".\" + parClass)).attr('data-is-click', true);\n          }\n        }\n      };\n\n      if (this.options.clickOpen || hasTouch) {\n        this.$menuItems.on('click.zf.dropdownmenu touchstart.zf.dropdownmenu', handleClickFn);\n      } // Handle Leaf element Clicks\n\n\n      if (_this.options.closeOnClickInside) {\n        this.$menuItems.on('click.zf.dropdownmenu', function (e) {\n          var $elem = $(this),\n              hasSub = $elem.hasClass(parClass);\n\n          if (!hasSub) {\n            _this._hide();\n          }\n        });\n      }\n\n      if (!this.options.disableHover) {\n        this.$menuItems.on('mouseenter.zf.dropdownmenu', function (e) {\n          var $elem = $(this),\n              hasSub = $elem.hasClass(parClass);\n\n          if (hasSub) {\n            clearTimeout($elem.data('_delay'));\n            $elem.data('_delay', setTimeout(function () {\n              _this._show($elem.children('.is-dropdown-submenu'));\n            }, _this.options.hoverDelay));\n          }\n        }).on('mouseleave.zf.dropdownmenu', function (e) {\n          var $elem = $(this),\n              hasSub = $elem.hasClass(parClass);\n\n          if (hasSub && _this.options.autoclose) {\n            if ($elem.attr('data-is-click') === 'true' && _this.options.clickOpen) {\n              return false;\n            }\n\n            clearTimeout($elem.data('_delay'));\n            $elem.data('_delay', setTimeout(function () {\n              _this._hide($elem);\n            }, _this.options.closingTime));\n          }\n        });\n      }\n\n      this.$menuItems.on('keydown.zf.dropdownmenu', function (e) {\n        var $element = $(e.target).parentsUntil('ul', '[role=\"menuitem\"]'),\n            isTab = _this.$tabs.index($element) > -1,\n            $elements = isTab ? _this.$tabs : $element.siblings('li').add($element),\n            $prevElement,\n            $nextElement;\n        $elements.each(function (i) {\n          if ($(this).is($element)) {\n            $prevElement = $elements.eq(i - 1);\n            $nextElement = $elements.eq(i + 1);\n            return;\n          }\n        });\n\n        var nextSibling = function () {\n          if (!$element.is(':last-child')) {\n            $nextElement.children('a:first').focus();\n            e.preventDefault();\n          }\n        },\n            prevSibling = function () {\n          $prevElement.children('a:first').focus();\n          e.preventDefault();\n        },\n            openSub = function () {\n          var $sub = $element.children('ul.is-dropdown-submenu');\n\n          if ($sub.length) {\n            _this._show($sub);\n\n            $element.find('li > a:first').focus();\n            e.preventDefault();\n          } else {\n            return;\n          }\n        },\n            closeSub = function () {\n          //if ($element.is(':first-child')) {\n          var close = $element.parent('ul').parent('li');\n          close.children('a:first').focus();\n\n          _this._hide(close);\n\n          e.preventDefault(); //}\n        };\n\n        var functions = {\n          open: openSub,\n          close: function () {\n            _this._hide(_this.$element);\n\n            _this.$menuItems.eq(0).children('a').focus(); // focus to first element\n\n\n            e.preventDefault();\n          },\n          handled: function () {\n            e.stopImmediatePropagation();\n          }\n        };\n\n        if (isTab) {\n          if (_this._isVertical()) {\n            // vertical menu\n            if (_this._isRtl()) {\n              // right aligned\n              $.extend(functions, {\n                down: nextSibling,\n                up: prevSibling,\n                next: closeSub,\n                previous: openSub\n              });\n            } else {\n              // left aligned\n              $.extend(functions, {\n                down: nextSibling,\n                up: prevSibling,\n                next: openSub,\n                previous: closeSub\n              });\n            }\n          } else {\n            // horizontal menu\n            if (_this._isRtl()) {\n              // right aligned\n              $.extend(functions, {\n                next: prevSibling,\n                previous: nextSibling,\n                down: openSub,\n                up: closeSub\n              });\n            } else {\n              // left aligned\n              $.extend(functions, {\n                next: nextSibling,\n                previous: prevSibling,\n                down: openSub,\n                up: closeSub\n              });\n            }\n          }\n        } else {\n          // not tabs -> one sub\n          if (_this._isRtl()) {\n            // right aligned\n            $.extend(functions, {\n              next: closeSub,\n              previous: openSub,\n              down: nextSibling,\n              up: prevSibling\n            });\n          } else {\n            // left aligned\n            $.extend(functions, {\n              next: openSub,\n              previous: closeSub,\n              down: nextSibling,\n              up: prevSibling\n            });\n          }\n        }\n\n        Keyboard.handleKey(e, 'DropdownMenu', functions);\n      });\n    }\n\n    return _events;\n  }(); /**\n        * Adds an event handler to the body to close any dropdowns on a click.\n        * @function\n        * @private\n        */\n\n  DropdownMenu.prototype._addBodyHandler = function () {\n    function _addBodyHandler() {\n      var $body = $(document.body),\n          _this = this;\n\n      $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu').on('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu', function (e) {\n        var $link = _this.$element.find(e.target);\n\n        if ($link.length) {\n          return;\n        }\n\n        _this._hide();\n\n        $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu');\n      });\n    }\n\n    return _addBodyHandler;\n  }(); /**\n        * Opens a dropdown pane, and checks for collisions first.\n        * @param {jQuery} $sub - ul element that is a submenu to show\n        * @function\n        * @private\n        * @fires DropdownMenu#show\n        */\n\n  DropdownMenu.prototype._show = function () {\n    function _show($sub) {\n      var idx = this.$tabs.index(this.$tabs.filter(function (i, el) {\n        return $(el).find($sub).length > 0;\n      }));\n      var $sibs = $sub.parent('li.is-dropdown-submenu-parent').siblings('li.is-dropdown-submenu-parent');\n\n      this._hide($sibs, idx);\n\n      $sub.css('visibility', 'hidden').addClass('js-dropdown-active').parent('li.is-dropdown-submenu-parent').addClass('is-active');\n      var clear = Box.ImNotTouchingYou($sub, null, true);\n\n      if (!clear) {\n        var oldClass = this.options.alignment === 'left' ? '-right' : '-left',\n            $parentLi = $sub.parent('.is-dropdown-submenu-parent');\n        $parentLi.removeClass(\"opens\" + oldClass).addClass(\"opens-\" + this.options.alignment);\n        clear = Box.ImNotTouchingYou($sub, null, true);\n\n        if (!clear) {\n          $parentLi.removeClass(\"opens-\" + this.options.alignment).addClass('opens-inner');\n        }\n\n        this.changed = true;\n      }\n\n      $sub.css('visibility', '');\n\n      if (this.options.closeOnClick) {\n        this._addBodyHandler();\n      } /**\n         * Fires when the new dropdown pane is visible.\n         * @event DropdownMenu#show\n         */\n\n      this.$element.trigger('show.zf.dropdownmenu', [$sub]);\n    }\n\n    return _show;\n  }(); /**\n        * Hides a single, currently open dropdown pane, if passed a parameter, otherwise, hides everything.\n        * @function\n        * @param {jQuery} $elem - element with a submenu to hide\n        * @param {Number} idx - index of the $tabs collection to hide\n        * @private\n        */\n\n  DropdownMenu.prototype._hide = function () {\n    function _hide($elem, idx) {\n      var $toClose;\n\n      if ($elem && $elem.length) {\n        $toClose = $elem;\n      } else if (idx !== undefined) {\n        $toClose = this.$tabs.not(function (i, el) {\n          return i === idx;\n        });\n      } else {\n        $toClose = this.$element;\n      }\n\n      var somethingToClose = $toClose.hasClass('is-active') || $toClose.find('.is-active').length > 0;\n\n      if (somethingToClose) {\n        $toClose.find('li.is-active').add($toClose).attr({\n          'data-is-click': false\n        }).removeClass('is-active');\n        $toClose.find('ul.js-dropdown-active').removeClass('js-dropdown-active');\n\n        if (this.changed || $toClose.find('opens-inner').length) {\n          var oldClass = this.options.alignment === 'left' ? 'right' : 'left';\n          $toClose.find('li.is-dropdown-submenu-parent').add($toClose).removeClass(\"opens-inner opens-\" + this.options.alignment).addClass(\"opens-\" + oldClass);\n          this.changed = false;\n        } /**\n           * Fires when the open menus are closed.\n           * @event DropdownMenu#hide\n           */\n\n        this.$element.trigger('hide.zf.dropdownmenu', [$toClose]);\n      }\n    }\n\n    return _hide;\n  }(); /**\n        * Destroys the plugin.\n        * @function\n        */\n\n  DropdownMenu.prototype._destroy = function () {\n    function _destroy() {\n      this.$menuItems.off('.zf.dropdownmenu').removeAttr('data-is-click').removeClass('is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner');\n      $(document.body).off('.zf.dropdownmenu');\n      Nest.Burn(this.$element, 'dropdown');\n    }\n\n    return _destroy;\n  }();\n\n  return DropdownMenu;\n}(Plugin); /**\n            * Default settings for plugin\n            */\n\nDropdownMenu.defaults = {\n  /**\n   * Disallows hover events from opening submenus\n   * @option\n   * @type {boolean}\n   * @default false\n   */disableHover: false,\n  /**\n   * Allow a submenu to automatically close on a mouseleave event, if not clicked open.\n   * @option\n   * @type {boolean}\n   * @default true\n   */autoclose: true,\n  /**\n   * Amount of time to delay opening a submenu on hover event.\n   * @option\n   * @type {number}\n   * @default 50\n   */hoverDelay: 50,\n  /**\n   * Allow a submenu to open/remain open on parent click event. Allows cursor to move away from menu.\n   * @option\n   * @type {boolean}\n   * @default false\n   */clickOpen: false,\n  /**\n   * Amount of time to delay closing a submenu on a mouseleave event.\n   * @option\n   * @type {number}\n   * @default 500\n   */closingTime: 500,\n  /**\n   * Position of the menu relative to what direction the submenus should open. Handled by JS. Can be `'auto'`, `'left'` or `'right'`.\n   * @option\n   * @type {string}\n   * @default 'auto'\n   */alignment: 'auto',\n  /**\n   * Allow clicks on the body to close any open submenus.\n   * @option\n   * @type {boolean}\n   * @default true\n   */closeOnClick: true,\n  /**\n   * Allow clicks on leaf anchor links to close any open submenus.\n   * @option\n   * @type {boolean}\n   * @default true\n   */closeOnClickInside: true,\n  /**\n   * Class applied to vertical oriented menus, Foundation default is `vertical`. Update this if using your own class.\n   * @option\n   * @type {string}\n   * @default 'vertical'\n   */verticalClass: 'vertical',\n  /**\n   * Class applied to right-side oriented menus, Foundation default is `align-right`. Update this if using your own class.\n   * @option\n   * @type {string}\n   * @default 'align-right'\n   */rightClass: 'align-right',\n  /**\n   * Boolean to force overide the clicking of links to perform default action, on second touch event for mobile.\n   * @option\n   * @type {boolean}\n   * @default true\n   */forceFollow: true\n};","map":{"version":3,"sources":["packages/zurb:foundation-sites/js/foundation.dropdownMenu.js"],"names":["module1","module","export","DropdownMenu","$","watch","require","v","Keyboard","Nest","Box","Rtl","rtl","Plugin","_setup","element","options","$element","extend","defaults","data","className","Feather","_init","register","subs","find","children","addClass","$menuItems","$tabs","verticalClass","alignment","hasClass","rightClass","parents","is","changed","_events","_isVertical","css","_isRtl","_this","hasTouch","window","ontouchstart","parClass","handleClickFn","e","$elem","target","parentsUntil","hasSub","hasClicked","attr","$sub","closeOnClick","clickOpen","forceFollow","stopImmediatePropagation","preventDefault","_hide","_show","add","on","closeOnClickInside","disableHover","clearTimeout","setTimeout","hoverDelay","autoclose","closingTime","isTab","index","$elements","siblings","$prevElement","$nextElement","each","i","eq","nextSibling","focus","prevSibling","openSub","length","closeSub","close","parent","functions","open","handled","down","up","next","previous","handleKey","_addBodyHandler","$body","document","body","off","$link","idx","filter","el","$sibs","clear","ImNotTouchingYou","oldClass","$parentLi","removeClass","trigger","$toClose","undefined","not","somethingToClose","_destroy","removeAttr","Burn"],"mappings":"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","file":"packages/zurb:foundation-sites/js/foundation.dropdownMenu.js.map","sourcesContent":["'use strict';\n\nimport $ from 'jquery';\nimport { Keyboard } from './foundation.util.keyboard';\nimport { Nest } from './foundation.util.nest';\nimport { Box } from './foundation.util.box';\nimport { rtl as Rtl } from './foundation.util.core';\nimport { Plugin } from './foundation.plugin';\n\n\n/**\n * DropdownMenu module.\n * @module foundation.dropdown-menu\n * @requires foundation.util.keyboard\n * @requires foundation.util.box\n * @requires foundation.util.nest\n */\n\nclass DropdownMenu extends Plugin {\n  /**\n   * Creates a new instance of DropdownMenu.\n   * @class\n   * @name DropdownMenu\n   * @fires DropdownMenu#init\n   * @param {jQuery} element - jQuery object to make into a dropdown menu.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n  _setup(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, DropdownMenu.defaults, this.$element.data(), options);\n    this.className = 'DropdownMenu'; // ie9 back compat\n\n    Nest.Feather(this.$element, 'dropdown');\n    this._init();\n\n    Keyboard.register('DropdownMenu', {\n      'ENTER': 'open',\n      'SPACE': 'open',\n      'ARROW_RIGHT': 'next',\n      'ARROW_UP': 'up',\n      'ARROW_DOWN': 'down',\n      'ARROW_LEFT': 'previous',\n      'ESCAPE': 'close'\n    });\n  }\n\n  /**\n   * Initializes the plugin, and calls _prepareMenu\n   * @private\n   * @function\n   */\n  _init() {\n    var subs = this.$element.find('li.is-dropdown-submenu-parent');\n    this.$element.children('.is-dropdown-submenu-parent').children('.is-dropdown-submenu').addClass('first-sub');\n\n    this.$menuItems = this.$element.find('[role=\"menuitem\"]');\n    this.$tabs = this.$element.children('[role=\"menuitem\"]');\n    this.$tabs.find('ul.is-dropdown-submenu').addClass(this.options.verticalClass);\n\n    if (this.options.alignment === 'auto') {\n        if (this.$element.hasClass(this.options.rightClass) || Rtl() || this.$element.parents('.top-bar-right').is('*')) {\n            this.options.alignment = 'right';\n            subs.addClass('opens-left');\n        } else {\n            this.options.alignment = 'left';\n            subs.addClass('opens-right');\n        }\n    } else {\n      if (this.options.alignment === 'right') {\n          subs.addClass('opens-left');\n      } else {\n          subs.addClass('opens-right');\n      }\n    }\n    this.changed = false;\n    this._events();\n  };\n\n  _isVertical() {\n    return this.$tabs.css('display') === 'block' || this.$element.css('flex-direction') === 'column';\n  }\n\n  _isRtl() {\n    return this.$element.hasClass('align-right') || (Rtl() && !this.$element.hasClass('align-left'));\n  }\n\n  /**\n   * Adds event listeners to elements within the menu\n   * @private\n   * @function\n   */\n  _events() {\n    var _this = this,\n        hasTouch = 'ontouchstart' in window || (typeof window.ontouchstart !== 'undefined'),\n        parClass = 'is-dropdown-submenu-parent';\n\n    // used for onClick and in the keyboard handlers\n    var handleClickFn = function(e) {\n      var $elem = $(e.target).parentsUntil('ul', `.${parClass}`),\n          hasSub = $elem.hasClass(parClass),\n          hasClicked = $elem.attr('data-is-click') === 'true',\n          $sub = $elem.children('.is-dropdown-submenu');\n\n      if (hasSub) {\n        if (hasClicked) {\n          if (!_this.options.closeOnClick || (!_this.options.clickOpen && !hasTouch) || (_this.options.forceFollow && hasTouch)) { return; }\n          else {\n            e.stopImmediatePropagation();\n            e.preventDefault();\n            _this._hide($elem);\n          }\n        } else {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n          _this._show($sub);\n          $elem.add($elem.parentsUntil(_this.$element, `.${parClass}`)).attr('data-is-click', true);\n        }\n      }\n    };\n\n    if (this.options.clickOpen || hasTouch) {\n      this.$menuItems.on('click.zf.dropdownmenu touchstart.zf.dropdownmenu', handleClickFn);\n    }\n\n    // Handle Leaf element Clicks\n    if(_this.options.closeOnClickInside){\n      this.$menuItems.on('click.zf.dropdownmenu', function(e) {\n        var $elem = $(this),\n            hasSub = $elem.hasClass(parClass);\n        if(!hasSub){\n          _this._hide();\n        }\n      });\n    }\n\n    if (!this.options.disableHover) {\n      this.$menuItems.on('mouseenter.zf.dropdownmenu', function(e) {\n        var $elem = $(this),\n            hasSub = $elem.hasClass(parClass);\n\n        if (hasSub) {\n          clearTimeout($elem.data('_delay'));\n          $elem.data('_delay', setTimeout(function() {\n            _this._show($elem.children('.is-dropdown-submenu'));\n          }, _this.options.hoverDelay));\n        }\n      }).on('mouseleave.zf.dropdownmenu', function(e) {\n        var $elem = $(this),\n            hasSub = $elem.hasClass(parClass);\n        if (hasSub && _this.options.autoclose) {\n          if ($elem.attr('data-is-click') === 'true' && _this.options.clickOpen) { return false; }\n\n          clearTimeout($elem.data('_delay'));\n          $elem.data('_delay', setTimeout(function() {\n            _this._hide($elem);\n          }, _this.options.closingTime));\n        }\n      });\n    }\n    this.$menuItems.on('keydown.zf.dropdownmenu', function(e) {\n      var $element = $(e.target).parentsUntil('ul', '[role=\"menuitem\"]'),\n          isTab = _this.$tabs.index($element) > -1,\n          $elements = isTab ? _this.$tabs : $element.siblings('li').add($element),\n          $prevElement,\n          $nextElement;\n\n      $elements.each(function(i) {\n        if ($(this).is($element)) {\n          $prevElement = $elements.eq(i-1);\n          $nextElement = $elements.eq(i+1);\n          return;\n        }\n      });\n\n      var nextSibling = function() {\n        if (!$element.is(':last-child')) {\n          $nextElement.children('a:first').focus();\n          e.preventDefault();\n        }\n      }, prevSibling = function() {\n        $prevElement.children('a:first').focus();\n        e.preventDefault();\n      }, openSub = function() {\n        var $sub = $element.children('ul.is-dropdown-submenu');\n        if ($sub.length) {\n          _this._show($sub);\n          $element.find('li > a:first').focus();\n          e.preventDefault();\n        } else { return; }\n      }, closeSub = function() {\n        //if ($element.is(':first-child')) {\n        var close = $element.parent('ul').parent('li');\n        close.children('a:first').focus();\n        _this._hide(close);\n        e.preventDefault();\n        //}\n      };\n      var functions = {\n        open: openSub,\n        close: function() {\n          _this._hide(_this.$element);\n          _this.$menuItems.eq(0).children('a').focus(); // focus to first element\n          e.preventDefault();\n        },\n        handled: function() {\n          e.stopImmediatePropagation();\n        }\n      };\n\n      if (isTab) {\n        if (_this._isVertical()) { // vertical menu\n          if (_this._isRtl()) { // right aligned\n            $.extend(functions, {\n              down: nextSibling,\n              up: prevSibling,\n              next: closeSub,\n              previous: openSub\n            });\n          } else { // left aligned\n            $.extend(functions, {\n              down: nextSibling,\n              up: prevSibling,\n              next: openSub,\n              previous: closeSub\n            });\n          }\n        } else { // horizontal menu\n          if (_this._isRtl()) { // right aligned\n            $.extend(functions, {\n              next: prevSibling,\n              previous: nextSibling,\n              down: openSub,\n              up: closeSub\n            });\n          } else { // left aligned\n            $.extend(functions, {\n              next: nextSibling,\n              previous: prevSibling,\n              down: openSub,\n              up: closeSub\n            });\n          }\n        }\n      } else { // not tabs -> one sub\n        if (_this._isRtl()) { // right aligned\n          $.extend(functions, {\n            next: closeSub,\n            previous: openSub,\n            down: nextSibling,\n            up: prevSibling\n          });\n        } else { // left aligned\n          $.extend(functions, {\n            next: openSub,\n            previous: closeSub,\n            down: nextSibling,\n            up: prevSibling\n          });\n        }\n      }\n      Keyboard.handleKey(e, 'DropdownMenu', functions);\n\n    });\n  }\n\n  /**\n   * Adds an event handler to the body to close any dropdowns on a click.\n   * @function\n   * @private\n   */\n  _addBodyHandler() {\n    var $body = $(document.body),\n        _this = this;\n    $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu')\n         .on('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu', function(e) {\n           var $link = _this.$element.find(e.target);\n           if ($link.length) { return; }\n\n           _this._hide();\n           $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu');\n         });\n  }\n\n  /**\n   * Opens a dropdown pane, and checks for collisions first.\n   * @param {jQuery} $sub - ul element that is a submenu to show\n   * @function\n   * @private\n   * @fires DropdownMenu#show\n   */\n  _show($sub) {\n    var idx = this.$tabs.index(this.$tabs.filter(function(i, el) {\n      return $(el).find($sub).length > 0;\n    }));\n    var $sibs = $sub.parent('li.is-dropdown-submenu-parent').siblings('li.is-dropdown-submenu-parent');\n    this._hide($sibs, idx);\n    $sub.css('visibility', 'hidden').addClass('js-dropdown-active')\n        .parent('li.is-dropdown-submenu-parent').addClass('is-active');\n    var clear = Box.ImNotTouchingYou($sub, null, true);\n    if (!clear) {\n      var oldClass = this.options.alignment === 'left' ? '-right' : '-left',\n          $parentLi = $sub.parent('.is-dropdown-submenu-parent');\n      $parentLi.removeClass(`opens${oldClass}`).addClass(`opens-${this.options.alignment}`);\n      clear = Box.ImNotTouchingYou($sub, null, true);\n      if (!clear) {\n        $parentLi.removeClass(`opens-${this.options.alignment}`).addClass('opens-inner');\n      }\n      this.changed = true;\n    }\n    $sub.css('visibility', '');\n    if (this.options.closeOnClick) { this._addBodyHandler(); }\n    /**\n     * Fires when the new dropdown pane is visible.\n     * @event DropdownMenu#show\n     */\n    this.$element.trigger('show.zf.dropdownmenu', [$sub]);\n  }\n\n  /**\n   * Hides a single, currently open dropdown pane, if passed a parameter, otherwise, hides everything.\n   * @function\n   * @param {jQuery} $elem - element with a submenu to hide\n   * @param {Number} idx - index of the $tabs collection to hide\n   * @private\n   */\n  _hide($elem, idx) {\n    var $toClose;\n    if ($elem && $elem.length) {\n      $toClose = $elem;\n    } else if (idx !== undefined) {\n      $toClose = this.$tabs.not(function(i, el) {\n        return i === idx;\n      });\n    }\n    else {\n      $toClose = this.$element;\n    }\n    var somethingToClose = $toClose.hasClass('is-active') || $toClose.find('.is-active').length > 0;\n\n    if (somethingToClose) {\n      $toClose.find('li.is-active').add($toClose).attr({\n        'data-is-click': false\n      }).removeClass('is-active');\n\n      $toClose.find('ul.js-dropdown-active').removeClass('js-dropdown-active');\n\n      if (this.changed || $toClose.find('opens-inner').length) {\n        var oldClass = this.options.alignment === 'left' ? 'right' : 'left';\n        $toClose.find('li.is-dropdown-submenu-parent').add($toClose)\n                .removeClass(`opens-inner opens-${this.options.alignment}`)\n                .addClass(`opens-${oldClass}`);\n        this.changed = false;\n      }\n      /**\n       * Fires when the open menus are closed.\n       * @event DropdownMenu#hide\n       */\n      this.$element.trigger('hide.zf.dropdownmenu', [$toClose]);\n    }\n  }\n\n  /**\n   * Destroys the plugin.\n   * @function\n   */\n  _destroy() {\n    this.$menuItems.off('.zf.dropdownmenu').removeAttr('data-is-click')\n        .removeClass('is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner');\n    $(document.body).off('.zf.dropdownmenu');\n    Nest.Burn(this.$element, 'dropdown');\n  }\n}\n\n/**\n * Default settings for plugin\n */\nDropdownMenu.defaults = {\n  /**\n   * Disallows hover events from opening submenus\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  disableHover: false,\n  /**\n   * Allow a submenu to automatically close on a mouseleave event, if not clicked open.\n   * @option\n   * @type {boolean}\n   * @default true\n   */\n  autoclose: true,\n  /**\n   * Amount of time to delay opening a submenu on hover event.\n   * @option\n   * @type {number}\n   * @default 50\n   */\n  hoverDelay: 50,\n  /**\n   * Allow a submenu to open/remain open on parent click event. Allows cursor to move away from menu.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  clickOpen: false,\n  /**\n   * Amount of time to delay closing a submenu on a mouseleave event.\n   * @option\n   * @type {number}\n   * @default 500\n   */\n\n  closingTime: 500,\n  /**\n   * Position of the menu relative to what direction the submenus should open. Handled by JS. Can be `'auto'`, `'left'` or `'right'`.\n   * @option\n   * @type {string}\n   * @default 'auto'\n   */\n  alignment: 'auto',\n  /**\n   * Allow clicks on the body to close any open submenus.\n   * @option\n   * @type {boolean}\n   * @default true\n   */\n  closeOnClick: true,\n  /**\n   * Allow clicks on leaf anchor links to close any open submenus.\n   * @option\n   * @type {boolean}\n   * @default true\n   */\n  closeOnClickInside: true,\n  /**\n   * Class applied to vertical oriented menus, Foundation default is `vertical`. Update this if using your own class.\n   * @option\n   * @type {string}\n   * @default 'vertical'\n   */\n  verticalClass: 'vertical',\n  /**\n   * Class applied to right-side oriented menus, Foundation default is `align-right`. Update this if using your own class.\n   * @option\n   * @type {string}\n   * @default 'align-right'\n   */\n  rightClass: 'align-right',\n  /**\n   * Boolean to force overide the clicking of links to perform default action, on second touch event for mobile.\n   * @option\n   * @type {boolean}\n   * @default true\n   */\n  forceFollow: true\n};\n\nexport {DropdownMenu};\n"]},"hash":"b3028343c0c44562710397ab742e32a68a6002b5"}
