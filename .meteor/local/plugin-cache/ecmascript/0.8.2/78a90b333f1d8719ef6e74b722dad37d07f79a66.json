{"metadata":{"usedHelpers":["typeof","interopRequireDefault"],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/zurb:foundation-sites/_build/assets/js/docs.js","filenameRelative":"packages/zurb:foundation-sites/_build/assets/js/docs.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/_build/assets/js/docs.js.map","sourceFileName":"packages/zurb:foundation-sites/_build/assets/js/docs.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"docs"},"ignored":false,"code":"var _typeof3 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof4 = _interopRequireDefault2(_typeof3);\n\nfunction _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/*!\n * clipboard.js v1.7.1\n * https://zenorocha.github.io/clipboard.js\n *\n * Licensed MIT Â© Zeno Rocha\n */(function (f) {\n    if ((typeof exports === \"undefined\" ? \"undefined\" : (0, _typeof4.default)(exports)) === \"object\" && typeof module !== \"undefined\") {\n        module.exports = f();\n    } else if (typeof define === \"function\" && define.amd) {\n        define([], f);\n    } else {\n        var g;\n\n        if (typeof window !== \"undefined\") {\n            g = window;\n        } else if (typeof global !== \"undefined\") {\n            g = global;\n        } else if (typeof self !== \"undefined\") {\n            g = self;\n        } else {\n            g = this;\n        }\n\n        g.Clipboard = f();\n    }\n})(function () {\n    var define, module, exports;\n    return function () {\n        function e(t, n, r) {\n            function s(o, u) {\n                if (!n[o]) {\n                    if (!t[o]) {\n                        var a = typeof require == \"function\" && require;\n                        if (!u && a) return a(o, !0);\n                        if (i) return i(o, !0);\n                        var f = new Error(\"Cannot find module '\" + o + \"'\");\n                        throw f.code = \"MODULE_NOT_FOUND\", f;\n                    }\n\n                    var l = n[o] = {\n                        exports: {}\n                    };\n                    t[o][0].call(l.exports, function (e) {\n                        var n = t[o][1][e];\n                        return s(n ? n : e);\n                    }, l, l.exports, e, t, n, r);\n                }\n\n                return n[o].exports;\n            }\n\n            var i = typeof require == \"function\" && require;\n\n            for (var o = 0; o < r.length; o++) {\n                s(r[o]);\n            }\n\n            return s;\n        }\n\n        return e;\n    }()({\n        1: [function (require, module, exports) {\n            var DOCUMENT_NODE_TYPE = 9; /**\n                                         * A polyfill for Element.matches()\n                                         */\n\n            if (typeof Element !== 'undefined' && !Element.prototype.matches) {\n                var proto = Element.prototype;\n                proto.matches = proto.matchesSelector || proto.mozMatchesSelector || proto.msMatchesSelector || proto.oMatchesSelector || proto.webkitMatchesSelector;\n            } /**\n               * Finds the closest parent that matches a selector.\n               *\n               * @param {Element} element\n               * @param {String} selector\n               * @return {Function}\n               */\n\n            function closest(element, selector) {\n                while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n                    if (typeof element.matches === 'function' && element.matches(selector)) {\n                        return element;\n                    }\n\n                    element = element.parentNode;\n                }\n            }\n\n            module.exports = closest;\n        }, {}],\n        2: [function (require, module, exports) {\n            var closest = require('./closest'); /**\n                                                 * Delegates event to a selector.\n                                                 *\n                                                 * @param {Element} element\n                                                 * @param {String} selector\n                                                 * @param {String} type\n                                                 * @param {Function} callback\n                                                 * @param {Boolean} useCapture\n                                                 * @return {Object}\n                                                 */\n\n            function delegate(element, selector, type, callback, useCapture) {\n                var listenerFn = listener.apply(this, arguments);\n                element.addEventListener(type, listenerFn, useCapture);\n                return {\n                    destroy: function () {\n                        element.removeEventListener(type, listenerFn, useCapture);\n                    }\n                };\n            } /**\n               * Finds closest match and invokes callback.\n               *\n               * @param {Element} element\n               * @param {String} selector\n               * @param {String} type\n               * @param {Function} callback\n               * @return {Function}\n               */\n\n            function listener(element, selector, type, callback) {\n                return function (e) {\n                    e.delegateTarget = closest(e.target, selector);\n\n                    if (e.delegateTarget) {\n                        callback.call(element, e);\n                    }\n                };\n            }\n\n            module.exports = delegate;\n        }, {\n            \"./closest\": 1\n        }],\n        3: [function (require, module, exports) {\n            /**\n             * Check if argument is a HTML element.\n             *\n             * @param {Object} value\n             * @return {Boolean}\n             */exports.node = function (value) {\n                return value !== undefined && value instanceof HTMLElement && value.nodeType === 1;\n            }; /**\n                * Check if argument is a list of HTML elements.\n                *\n                * @param {Object} value\n                * @return {Boolean}\n                */\n\n            exports.nodeList = function (value) {\n                var type = Object.prototype.toString.call(value);\n                return value !== undefined && (type === '[object NodeList]' || type === '[object HTMLCollection]') && 'length' in value && (value.length === 0 || exports.node(value[0]));\n            }; /**\n                * Check if argument is a string.\n                *\n                * @param {Object} value\n                * @return {Boolean}\n                */\n\n            exports.string = function (value) {\n                return typeof value === 'string' || value instanceof String;\n            }; /**\n                * Check if argument is a function.\n                *\n                * @param {Object} value\n                * @return {Boolean}\n                */\n\n            exports.fn = function (value) {\n                var type = Object.prototype.toString.call(value);\n                return type === '[object Function]';\n            };\n        }, {}],\n        4: [function (require, module, exports) {\n            var is = require('./is');\n\n            var delegate = require('delegate'); /**\n                                                 * Validates all params and calls the right\n                                                 * listener function based on its target type.\n                                                 *\n                                                 * @param {String|HTMLElement|HTMLCollection|NodeList} target\n                                                 * @param {String} type\n                                                 * @param {Function} callback\n                                                 * @return {Object}\n                                                 */\n\n            function listen(target, type, callback) {\n                if (!target && !type && !callback) {\n                    throw new Error('Missing required arguments');\n                }\n\n                if (!is.string(type)) {\n                    throw new TypeError('Second argument must be a String');\n                }\n\n                if (!is.fn(callback)) {\n                    throw new TypeError('Third argument must be a Function');\n                }\n\n                if (is.node(target)) {\n                    return listenNode(target, type, callback);\n                } else if (is.nodeList(target)) {\n                    return listenNodeList(target, type, callback);\n                } else if (is.string(target)) {\n                    return listenSelector(target, type, callback);\n                } else {\n                    throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n                }\n            } /**\n               * Adds an event listener to a HTML element\n               * and returns a remove listener function.\n               *\n               * @param {HTMLElement} node\n               * @param {String} type\n               * @param {Function} callback\n               * @return {Object}\n               */\n\n            function listenNode(node, type, callback) {\n                node.addEventListener(type, callback);\n                return {\n                    destroy: function () {\n                        node.removeEventListener(type, callback);\n                    }\n                };\n            } /**\n               * Add an event listener to a list of HTML elements\n               * and returns a remove listener function.\n               *\n               * @param {NodeList|HTMLCollection} nodeList\n               * @param {String} type\n               * @param {Function} callback\n               * @return {Object}\n               */\n\n            function listenNodeList(nodeList, type, callback) {\n                Array.prototype.forEach.call(nodeList, function (node) {\n                    node.addEventListener(type, callback);\n                });\n                return {\n                    destroy: function () {\n                        Array.prototype.forEach.call(nodeList, function (node) {\n                            node.removeEventListener(type, callback);\n                        });\n                    }\n                };\n            } /**\n               * Add an event listener to a selector\n               * and returns a remove listener function.\n               *\n               * @param {String} selector\n               * @param {String} type\n               * @param {Function} callback\n               * @return {Object}\n               */\n\n            function listenSelector(selector, type, callback) {\n                return delegate(document.body, selector, type, callback);\n            }\n\n            module.exports = listen;\n        }, {\n            \"./is\": 3,\n            \"delegate\": 2\n        }],\n        5: [function (require, module, exports) {\n            function select(element) {\n                var selectedText;\n\n                if (element.nodeName === 'SELECT') {\n                    element.focus();\n                    selectedText = element.value;\n                } else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n                    var isReadOnly = element.hasAttribute('readonly');\n\n                    if (!isReadOnly) {\n                        element.setAttribute('readonly', '');\n                    }\n\n                    element.select();\n                    element.setSelectionRange(0, element.value.length);\n\n                    if (!isReadOnly) {\n                        element.removeAttribute('readonly');\n                    }\n\n                    selectedText = element.value;\n                } else {\n                    if (element.hasAttribute('contenteditable')) {\n                        element.focus();\n                    }\n\n                    var selection = window.getSelection();\n                    var range = document.createRange();\n                    range.selectNodeContents(element);\n                    selection.removeAllRanges();\n                    selection.addRange(range);\n                    selectedText = selection.toString();\n                }\n\n                return selectedText;\n            }\n\n            module.exports = select;\n        }, {}],\n        6: [function (require, module, exports) {\n            function E() {// Keep this empty so it's easier to inherit from\n                // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n            }\n\n            E.prototype = {\n                on: function (name, callback, ctx) {\n                    var e = this.e || (this.e = {});\n                    (e[name] || (e[name] = [])).push({\n                        fn: callback,\n                        ctx: ctx\n                    });\n                    return this;\n                },\n                once: function (name, callback, ctx) {\n                    var self = this;\n\n                    function listener() {\n                        self.off(name, listener);\n                        callback.apply(ctx, arguments);\n                    }\n\n                    ;\n                    listener._ = callback;\n                    return this.on(name, listener, ctx);\n                },\n                emit: function (name) {\n                    var data = [].slice.call(arguments, 1);\n                    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n                    var i = 0;\n                    var len = evtArr.length;\n\n                    for (i; i < len; i++) {\n                        evtArr[i].fn.apply(evtArr[i].ctx, data);\n                    }\n\n                    return this;\n                },\n                off: function (name, callback) {\n                    var e = this.e || (this.e = {});\n                    var evts = e[name];\n                    var liveEvents = [];\n\n                    if (evts && callback) {\n                        for (var i = 0, len = evts.length; i < len; i++) {\n                            if (evts[i].fn !== callback && evts[i].fn._ !== callback) liveEvents.push(evts[i]);\n                        }\n                    } // Remove event from queue to prevent memory leak\n                    // Suggested by https://github.com/lazd\n                    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n\n                    liveEvents.length ? e[name] = liveEvents : delete e[name];\n                    return this;\n                }\n            };\n            module.exports = E;\n        }, {}],\n        7: [function (require, module, exports) {\n            (function (global, factory) {\n                if (typeof define === \"function\" && define.amd) {\n                    define(['module', 'select'], factory);\n                } else if (typeof exports !== \"undefined\") {\n                    factory(module, require('select'));\n                } else {\n                    var mod = {\n                        exports: {}\n                    };\n                    factory(mod, global.select);\n                    global.clipboardAction = mod.exports;\n                }\n            })(this, function (module, _select) {\n                'use strict';\n\n                var _select2 = _interopRequireDefault(_select);\n\n                function _interopRequireDefault(obj) {\n                    return obj && obj.__esModule ? obj : {\n                        \"default\": obj\n                    };\n                }\n\n                var _typeof = typeof Symbol === \"function\" && (0, _typeof4.default)(Symbol.iterator) === \"symbol\" ? function (obj) {\n                    return typeof obj === \"undefined\" ? \"undefined\" : (0, _typeof4.default)(obj);\n                } : function (obj) {\n                    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : (0, _typeof4.default)(obj);\n                };\n\n                function _classCallCheck(instance, Constructor) {\n                    if (!(instance instanceof Constructor)) {\n                        throw new TypeError(\"Cannot call a class as a function\");\n                    }\n                }\n\n                var _createClass = function () {\n                    function defineProperties(target, props) {\n                        for (var i = 0; i < props.length; i++) {\n                            var descriptor = props[i];\n                            descriptor.enumerable = descriptor.enumerable || false;\n                            descriptor.configurable = true;\n                            if (\"value\" in descriptor) descriptor.writable = true;\n                            Object.defineProperty(target, descriptor.key, descriptor);\n                        }\n                    }\n\n                    return function (Constructor, protoProps, staticProps) {\n                        if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                        if (staticProps) defineProperties(Constructor, staticProps);\n                        return Constructor;\n                    };\n                }();\n\n                var ClipboardAction = function () {\n                    /**\n                     * @param {Object} options\n                     */function ClipboardAction(options) {\n                        _classCallCheck(this, ClipboardAction);\n\n                        this.resolveOptions(options);\n                        this.initSelection();\n                    } /**\n                       * Defines base properties passed from constructor.\n                       * @param {Object} options\n                       */\n\n                    _createClass(ClipboardAction, [{\n                        key: 'resolveOptions',\n                        value: function () {\n                            function resolveOptions() {\n                                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n                                this.action = options.action;\n                                this.container = options.container;\n                                this.emitter = options.emitter;\n                                this.target = options.target;\n                                this.text = options.text;\n                                this.trigger = options.trigger;\n                                this.selectedText = '';\n                            }\n\n                            return resolveOptions;\n                        }()\n                    }, {\n                        key: 'initSelection',\n                        value: function () {\n                            function initSelection() {\n                                if (this.text) {\n                                    this.selectFake();\n                                } else if (this.target) {\n                                    this.selectTarget();\n                                }\n                            }\n\n                            return initSelection;\n                        }()\n                    }, {\n                        key: 'selectFake',\n                        value: function () {\n                            function selectFake() {\n                                var _this = this;\n\n                                var isRTL = document.documentElement.getAttribute('dir') == 'rtl';\n                                this.removeFake();\n\n                                this.fakeHandlerCallback = function () {\n                                    return _this.removeFake();\n                                };\n\n                                this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;\n                                this.fakeElem = document.createElement('textarea'); // Prevent zooming on iOS\n\n                                this.fakeElem.style.fontSize = '12pt'; // Reset box model\n\n                                this.fakeElem.style.border = '0';\n                                this.fakeElem.style.padding = '0';\n                                this.fakeElem.style.margin = '0'; // Move element out of screen horizontally\n\n                                this.fakeElem.style.position = 'absolute';\n                                this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px'; // Move element to the same position vertically\n\n                                var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n                                this.fakeElem.style.top = yPosition + 'px';\n                                this.fakeElem.setAttribute('readonly', '');\n                                this.fakeElem.value = this.text;\n                                this.container.appendChild(this.fakeElem);\n                                this.selectedText = (0, _select2.default)(this.fakeElem);\n                                this.copyText();\n                            }\n\n                            return selectFake;\n                        }()\n                    }, {\n                        key: 'removeFake',\n                        value: function () {\n                            function removeFake() {\n                                if (this.fakeHandler) {\n                                    this.container.removeEventListener('click', this.fakeHandlerCallback);\n                                    this.fakeHandler = null;\n                                    this.fakeHandlerCallback = null;\n                                }\n\n                                if (this.fakeElem) {\n                                    this.container.removeChild(this.fakeElem);\n                                    this.fakeElem = null;\n                                }\n                            }\n\n                            return removeFake;\n                        }()\n                    }, {\n                        key: 'selectTarget',\n                        value: function () {\n                            function selectTarget() {\n                                this.selectedText = (0, _select2.default)(this.target);\n                                this.copyText();\n                            }\n\n                            return selectTarget;\n                        }()\n                    }, {\n                        key: 'copyText',\n                        value: function () {\n                            function copyText() {\n                                var succeeded = void 0;\n\n                                try {\n                                    succeeded = document.execCommand(this.action);\n                                } catch (err) {\n                                    succeeded = false;\n                                }\n\n                                this.handleResult(succeeded);\n                            }\n\n                            return copyText;\n                        }()\n                    }, {\n                        key: 'handleResult',\n                        value: function () {\n                            function handleResult(succeeded) {\n                                this.emitter.emit(succeeded ? 'success' : 'error', {\n                                    action: this.action,\n                                    text: this.selectedText,\n                                    trigger: this.trigger,\n                                    clearSelection: this.clearSelection.bind(this)\n                                });\n                            }\n\n                            return handleResult;\n                        }()\n                    }, {\n                        key: 'clearSelection',\n                        value: function () {\n                            function clearSelection() {\n                                if (this.trigger) {\n                                    this.trigger.focus();\n                                }\n\n                                window.getSelection().removeAllRanges();\n                            }\n\n                            return clearSelection;\n                        }()\n                    }, {\n                        key: 'destroy',\n                        value: function () {\n                            function destroy() {\n                                this.removeFake();\n                            }\n\n                            return destroy;\n                        }()\n                    }, {\n                        key: 'action',\n                        set: function () {\n                            function set() {\n                                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';\n                                this._action = action;\n\n                                if (this._action !== 'copy' && this._action !== 'cut') {\n                                    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n                                }\n                            }\n\n                            return set;\n                        }(),\n                        get: function () {\n                            function get() {\n                                return this._action;\n                            }\n\n                            return get;\n                        }()\n                    }, {\n                        key: 'target',\n                        set: function () {\n                            function set(target) {\n                                if (target !== undefined) {\n                                    if (target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && target.nodeType === 1) {\n                                        if (this.action === 'copy' && target.hasAttribute('disabled')) {\n                                            throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n                                        }\n\n                                        if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n                                            throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n                                        }\n\n                                        this._target = target;\n                                    } else {\n                                        throw new Error('Invalid \"target\" value, use a valid Element');\n                                    }\n                                }\n                            }\n\n                            return set;\n                        }(),\n                        get: function () {\n                            function get() {\n                                return this._target;\n                            }\n\n                            return get;\n                        }()\n                    }]);\n\n                    return ClipboardAction;\n                }();\n\n                module.exports = ClipboardAction;\n            });\n        }, {\n            \"select\": 5\n        }],\n        8: [function (require, module, exports) {\n            (function (global, factory) {\n                if (typeof define === \"function\" && define.amd) {\n                    define(['module', './clipboard-action', 'tiny-emitter', 'good-listener'], factory);\n                } else if (typeof exports !== \"undefined\") {\n                    factory(module, require('./clipboard-action'), require('tiny-emitter'), require('good-listener'));\n                } else {\n                    var mod = {\n                        exports: {}\n                    };\n                    factory(mod, global.clipboardAction, global.tinyEmitter, global.goodListener);\n                    global.clipboard = mod.exports;\n                }\n            })(this, function (module, _clipboardAction, _tinyEmitter, _goodListener) {\n                'use strict';\n\n                var _clipboardAction2 = _interopRequireDefault(_clipboardAction);\n\n                var _tinyEmitter2 = _interopRequireDefault(_tinyEmitter);\n\n                var _goodListener2 = _interopRequireDefault(_goodListener);\n\n                function _interopRequireDefault(obj) {\n                    return obj && obj.__esModule ? obj : {\n                        \"default\": obj\n                    };\n                }\n\n                var _typeof = typeof Symbol === \"function\" && (0, _typeof4.default)(Symbol.iterator) === \"symbol\" ? function (obj) {\n                    return typeof obj === \"undefined\" ? \"undefined\" : (0, _typeof4.default)(obj);\n                } : function (obj) {\n                    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : (0, _typeof4.default)(obj);\n                };\n\n                function _classCallCheck(instance, Constructor) {\n                    if (!(instance instanceof Constructor)) {\n                        throw new TypeError(\"Cannot call a class as a function\");\n                    }\n                }\n\n                var _createClass = function () {\n                    function defineProperties(target, props) {\n                        for (var i = 0; i < props.length; i++) {\n                            var descriptor = props[i];\n                            descriptor.enumerable = descriptor.enumerable || false;\n                            descriptor.configurable = true;\n                            if (\"value\" in descriptor) descriptor.writable = true;\n                            Object.defineProperty(target, descriptor.key, descriptor);\n                        }\n                    }\n\n                    return function (Constructor, protoProps, staticProps) {\n                        if (protoProps) defineProperties(Constructor.prototype, protoProps);\n                        if (staticProps) defineProperties(Constructor, staticProps);\n                        return Constructor;\n                    };\n                }();\n\n                function _possibleConstructorReturn(self, call) {\n                    if (!self) {\n                        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n                    }\n\n                    return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof4.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n                }\n\n                function _inherits(subClass, superClass) {\n                    if (typeof superClass !== \"function\" && superClass !== null) {\n                        throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof4.default)(superClass)));\n                    }\n\n                    subClass.prototype = Object.create(superClass && superClass.prototype, {\n                        constructor: {\n                            value: subClass,\n                            enumerable: false,\n                            writable: true,\n                            configurable: true\n                        }\n                    });\n                    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n                }\n\n                var Clipboard = function (_Emitter) {\n                    _inherits(Clipboard, _Emitter); /**\n                                                     * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n                                                     * @param {Object} options\n                                                     */\n\n                    function Clipboard(trigger, options) {\n                        _classCallCheck(this, Clipboard);\n\n                        var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this));\n\n                        _this.resolveOptions(options);\n\n                        _this.listenClick(trigger);\n\n                        return _this;\n                    } /**\n                       * Defines if attributes would be resolved using internal setter functions\n                       * or custom functions that were passed in the constructor.\n                       * @param {Object} options\n                       */\n\n                    _createClass(Clipboard, [{\n                        key: 'resolveOptions',\n                        value: function () {\n                            function resolveOptions() {\n                                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n                                this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n                                this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n                                this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n                                this.container = _typeof(options.container) === 'object' ? options.container : document.body;\n                            }\n\n                            return resolveOptions;\n                        }()\n                    }, {\n                        key: 'listenClick',\n                        value: function () {\n                            function listenClick(trigger) {\n                                var _this2 = this;\n\n                                this.listener = (0, _goodListener2.default)(trigger, 'click', function (e) {\n                                    return _this2.onClick(e);\n                                });\n                            }\n\n                            return listenClick;\n                        }()\n                    }, {\n                        key: 'onClick',\n                        value: function () {\n                            function onClick(e) {\n                                var trigger = e.delegateTarget || e.currentTarget;\n\n                                if (this.clipboardAction) {\n                                    this.clipboardAction = null;\n                                }\n\n                                this.clipboardAction = new _clipboardAction2.default({\n                                    action: this.action(trigger),\n                                    target: this.target(trigger),\n                                    text: this.text(trigger),\n                                    container: this.container,\n                                    trigger: trigger,\n                                    emitter: this\n                                });\n                            }\n\n                            return onClick;\n                        }()\n                    }, {\n                        key: 'defaultAction',\n                        value: function () {\n                            function defaultAction(trigger) {\n                                return getAttributeValue('action', trigger);\n                            }\n\n                            return defaultAction;\n                        }()\n                    }, {\n                        key: 'defaultTarget',\n                        value: function () {\n                            function defaultTarget(trigger) {\n                                var selector = getAttributeValue('target', trigger);\n\n                                if (selector) {\n                                    return document.querySelector(selector);\n                                }\n                            }\n\n                            return defaultTarget;\n                        }()\n                    }, {\n                        key: 'defaultText',\n                        value: function () {\n                            function defaultText(trigger) {\n                                return getAttributeValue('text', trigger);\n                            }\n\n                            return defaultText;\n                        }()\n                    }, {\n                        key: 'destroy',\n                        value: function () {\n                            function destroy() {\n                                this.listener.destroy();\n\n                                if (this.clipboardAction) {\n                                    this.clipboardAction.destroy();\n                                    this.clipboardAction = null;\n                                }\n                            }\n\n                            return destroy;\n                        }()\n                    }], [{\n                        key: 'isSupported',\n                        value: function () {\n                            function isSupported() {\n                                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n                                var actions = typeof action === 'string' ? [action] : action;\n                                var support = !!document.queryCommandSupported;\n                                actions.forEach(function (action) {\n                                    support = support && !!document.queryCommandSupported(action);\n                                });\n                                return support;\n                            }\n\n                            return isSupported;\n                        }()\n                    }]);\n\n                    return Clipboard;\n                }(_tinyEmitter2.default); /**\n                                           * Helper function to retrieve attribute value.\n                                           * @param {String} suffix\n                                           * @param {Element} element\n                                           */\n\n                function getAttributeValue(suffix, element) {\n                    var attribute = 'data-clipboard-' + suffix;\n\n                    if (!element.hasAttribute(attribute)) {\n                        return;\n                    }\n\n                    return element.getAttribute(attribute);\n                }\n\n                module.exports = Clipboard;\n            });\n        }, {\n            \"./clipboard-action\": 7,\n            \"good-listener\": 4,\n            \"tiny-emitter\": 6\n        }]\n    }, {}, [8])(8);\n}); /*!\n     * typeahead.js 1.1.1\n     * https://github.com/twitter/typeahead.js\n     * Copyright 2013-2017 Twitter, Inc. and other contributors; Licensed MIT\n     */\n\n(function (root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define([\"jquery\"], function (a0) {\n            return root[\"Bloodhound\"] = factory(a0);\n        });\n    } else if ((typeof exports === \"undefined\" ? \"undefined\" : (0, _typeof4.default)(exports)) === \"object\") {\n        module.exports = factory(require(\"jquery\"));\n    } else {\n        root[\"Bloodhound\"] = factory(root[\"jQuery\"]);\n    }\n})(this, function ($) {\n    var _ = function () {\n        \"use strict\";\n\n        return {\n            isMsie: function () {\n                return (/(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false\n                );\n            },\n            isBlankString: function (str) {\n                return !str || /^\\s*$/.test(str);\n            },\n            escapeRegExChars: function (str) {\n                return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n            },\n            isString: function (obj) {\n                return typeof obj === \"string\";\n            },\n            isNumber: function (obj) {\n                return typeof obj === \"number\";\n            },\n            isArray: $.isArray,\n            isFunction: $.isFunction,\n            isObject: $.isPlainObject,\n            isUndefined: function (obj) {\n                return typeof obj === \"undefined\";\n            },\n            isElement: function (obj) {\n                return !!(obj && obj.nodeType === 1);\n            },\n            isJQuery: function (obj) {\n                return obj instanceof $;\n            },\n            toStr: function () {\n                function toStr(s) {\n                    return _.isUndefined(s) || s === null ? \"\" : s + \"\";\n                }\n\n                return toStr;\n            }(),\n            bind: $.proxy,\n            each: function (collection, cb) {\n                $.each(collection, reverseArgs);\n\n                function reverseArgs(index, value) {\n                    return cb(value, index);\n                }\n            },\n            map: $.map,\n            filter: $.grep,\n            every: function (obj, test) {\n                var result = true;\n\n                if (!obj) {\n                    return result;\n                }\n\n                $.each(obj, function (key, val) {\n                    if (!(result = test.call(null, val, key, obj))) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            some: function (obj, test) {\n                var result = false;\n\n                if (!obj) {\n                    return result;\n                }\n\n                $.each(obj, function (key, val) {\n                    if (result = test.call(null, val, key, obj)) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            mixin: $.extend,\n            identity: function (x) {\n                return x;\n            },\n            clone: function (obj) {\n                return $.extend(true, {}, obj);\n            },\n            getIdGenerator: function () {\n                var counter = 0;\n                return function () {\n                    return counter++;\n                };\n            },\n            templatify: function () {\n                function templatify(obj) {\n                    return $.isFunction(obj) ? obj : template;\n\n                    function template() {\n                        return String(obj);\n                    }\n                }\n\n                return templatify;\n            }(),\n            defer: function (fn) {\n                setTimeout(fn, 0);\n            },\n            debounce: function (func, wait, immediate) {\n                var timeout, result;\n                return function () {\n                    var context = this,\n                        args = arguments,\n                        later,\n                        callNow;\n\n                    later = function () {\n                        timeout = null;\n\n                        if (!immediate) {\n                            result = func.apply(context, args);\n                        }\n                    };\n\n                    callNow = immediate && !timeout;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(later, wait);\n\n                    if (callNow) {\n                        result = func.apply(context, args);\n                    }\n\n                    return result;\n                };\n            },\n            throttle: function (func, wait) {\n                var context, args, timeout, result, previous, later;\n                previous = 0;\n\n                later = function () {\n                    previous = new Date();\n                    timeout = null;\n                    result = func.apply(context, args);\n                };\n\n                return function () {\n                    var now = new Date(),\n                        remaining = wait - (now - previous);\n                    context = this;\n                    args = arguments;\n\n                    if (remaining <= 0) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                        previous = now;\n                        result = func.apply(context, args);\n                    } else if (!timeout) {\n                        timeout = setTimeout(later, remaining);\n                    }\n\n                    return result;\n                };\n            },\n            stringify: function (val) {\n                return _.isString(val) ? val : JSON.stringify(val);\n            },\n            guid: function () {\n                function _p8(s) {\n                    var p = (Math.random().toString(16) + \"000000000\").substr(2, 8);\n                    return s ? \"-\" + p.substr(0, 4) + \"-\" + p.substr(4, 4) : p;\n                }\n\n                return \"tt-\" + _p8() + _p8(true) + _p8(true) + _p8();\n            },\n            noop: function () {}\n        };\n    }();\n\n    var VERSION = \"1.1.1\";\n\n    var tokenizers = function () {\n        \"use strict\";\n\n        return {\n            nonword: nonword,\n            whitespace: whitespace,\n            ngram: ngram,\n            obj: {\n                nonword: getObjTokenizer(nonword),\n                whitespace: getObjTokenizer(whitespace),\n                ngram: getObjTokenizer(ngram)\n            }\n        };\n\n        function whitespace(str) {\n            str = _.toStr(str);\n            return str ? str.split(/\\s+/) : [];\n        }\n\n        function nonword(str) {\n            str = _.toStr(str);\n            return str ? str.split(/\\W+/) : [];\n        }\n\n        function ngram(str) {\n            str = _.toStr(str);\n            var tokens = [],\n                word = \"\";\n\n            _.each(str.split(\"\"), function (char) {\n                if (char.match(/\\s+/)) {\n                    word = \"\";\n                } else {\n                    tokens.push(word + char);\n                    word += char;\n                }\n            });\n\n            return tokens;\n        }\n\n        function getObjTokenizer(tokenizer) {\n            return function () {\n                function setKey(keys) {\n                    keys = _.isArray(keys) ? keys : [].slice.call(arguments, 0);\n                    return function () {\n                        function tokenize(o) {\n                            var tokens = [];\n\n                            _.each(keys, function (k) {\n                                tokens = tokens.concat(tokenizer(_.toStr(o[k])));\n                            });\n\n                            return tokens;\n                        }\n\n                        return tokenize;\n                    }();\n                }\n\n                return setKey;\n            }();\n        }\n    }();\n\n    var LruCache = function () {\n        \"use strict\";\n\n        function LruCache(maxSize) {\n            this.maxSize = _.isNumber(maxSize) ? maxSize : 100;\n            this.reset();\n\n            if (this.maxSize <= 0) {\n                this.set = this.get = $.noop;\n            }\n        }\n\n        _.mixin(LruCache.prototype, {\n            set: function () {\n                function set(key, val) {\n                    var tailItem = this.list.tail,\n                        node;\n\n                    if (this.size >= this.maxSize) {\n                        this.list.remove(tailItem);\n                        delete this.hash[tailItem.key];\n                        this.size--;\n                    }\n\n                    if (node = this.hash[key]) {\n                        node.val = val;\n                        this.list.moveToFront(node);\n                    } else {\n                        node = new Node(key, val);\n                        this.list.add(node);\n                        this.hash[key] = node;\n                        this.size++;\n                    }\n                }\n\n                return set;\n            }(),\n            get: function () {\n                function get(key) {\n                    var node = this.hash[key];\n\n                    if (node) {\n                        this.list.moveToFront(node);\n                        return node.val;\n                    }\n                }\n\n                return get;\n            }(),\n            reset: function () {\n                function reset() {\n                    this.size = 0;\n                    this.hash = {};\n                    this.list = new List();\n                }\n\n                return reset;\n            }()\n        });\n\n        function List() {\n            this.head = this.tail = null;\n        }\n\n        _.mixin(List.prototype, {\n            add: function () {\n                function add(node) {\n                    if (this.head) {\n                        node.next = this.head;\n                        this.head.prev = node;\n                    }\n\n                    this.head = node;\n                    this.tail = this.tail || node;\n                }\n\n                return add;\n            }(),\n            remove: function () {\n                function remove(node) {\n                    node.prev ? node.prev.next = node.next : this.head = node.next;\n                    node.next ? node.next.prev = node.prev : this.tail = node.prev;\n                }\n\n                return remove;\n            }(),\n            moveToFront: function (node) {\n                this.remove(node);\n                this.add(node);\n            }\n        });\n\n        function Node(key, val) {\n            this.key = key;\n            this.val = val;\n            this.prev = this.next = null;\n        }\n\n        return LruCache;\n    }();\n\n    var PersistentStorage = function () {\n        \"use strict\";\n\n        var LOCAL_STORAGE;\n\n        try {\n            LOCAL_STORAGE = window.localStorage;\n            LOCAL_STORAGE.setItem(\"~~~\", \"!\");\n            LOCAL_STORAGE.removeItem(\"~~~\");\n        } catch (err) {\n            LOCAL_STORAGE = null;\n        }\n\n        function PersistentStorage(namespace, override) {\n            this.prefix = [\"__\", namespace, \"__\"].join(\"\");\n            this.ttlKey = \"__ttl__\";\n            this.keyMatcher = new RegExp(\"^\" + _.escapeRegExChars(this.prefix));\n            this.ls = override || LOCAL_STORAGE;\n            !this.ls && this._noop();\n        }\n\n        _.mixin(PersistentStorage.prototype, {\n            _prefix: function (key) {\n                return this.prefix + key;\n            },\n            _ttlKey: function (key) {\n                return this._prefix(key) + this.ttlKey;\n            },\n            _noop: function () {\n                this.get = this.set = this.remove = this.clear = this.isExpired = _.noop;\n            },\n            _safeSet: function (key, val) {\n                try {\n                    this.ls.setItem(key, val);\n                } catch (err) {\n                    if (err.name === \"QuotaExceededError\") {\n                        this.clear();\n\n                        this._noop();\n                    }\n                }\n            },\n            get: function (key) {\n                if (this.isExpired(key)) {\n                    this.remove(key);\n                }\n\n                return decode(this.ls.getItem(this._prefix(key)));\n            },\n            set: function (key, val, ttl) {\n                if (_.isNumber(ttl)) {\n                    this._safeSet(this._ttlKey(key), encode(now() + ttl));\n                } else {\n                    this.ls.removeItem(this._ttlKey(key));\n                }\n\n                return this._safeSet(this._prefix(key), encode(val));\n            },\n            remove: function (key) {\n                this.ls.removeItem(this._ttlKey(key));\n                this.ls.removeItem(this._prefix(key));\n                return this;\n            },\n            clear: function () {\n                var i,\n                    keys = gatherMatchingKeys(this.keyMatcher);\n\n                for (i = keys.length; i--;) {\n                    this.remove(keys[i]);\n                }\n\n                return this;\n            },\n            isExpired: function (key) {\n                var ttl = decode(this.ls.getItem(this._ttlKey(key)));\n                return _.isNumber(ttl) && now() > ttl ? true : false;\n            }\n        });\n\n        return PersistentStorage;\n\n        function now() {\n            return new Date().getTime();\n        }\n\n        function encode(val) {\n            return JSON.stringify(_.isUndefined(val) ? null : val);\n        }\n\n        function decode(val) {\n            return $.parseJSON(val);\n        }\n\n        function gatherMatchingKeys(keyMatcher) {\n            var i,\n                key,\n                keys = [],\n                len = LOCAL_STORAGE.length;\n\n            for (i = 0; i < len; i++) {\n                if ((key = LOCAL_STORAGE.key(i)).match(keyMatcher)) {\n                    keys.push(key.replace(keyMatcher, \"\"));\n                }\n            }\n\n            return keys;\n        }\n    }();\n\n    var Transport = function () {\n        \"use strict\";\n\n        var pendingRequestsCount = 0,\n            pendingRequests = {},\n            sharedCache = new LruCache(10);\n\n        function Transport(o) {\n            o = o || {};\n            this.maxPendingRequests = o.maxPendingRequests || 6;\n            this.cancelled = false;\n            this.lastReq = null;\n            this._send = o.transport;\n            this._get = o.limiter ? o.limiter(this._get) : this._get;\n            this._cache = o.cache === false ? new LruCache(0) : sharedCache;\n        }\n\n        Transport.setMaxPendingRequests = function () {\n            function setMaxPendingRequests(num) {\n                this.maxPendingRequests = num;\n            }\n\n            return setMaxPendingRequests;\n        }();\n\n        Transport.resetCache = function () {\n            function resetCache() {\n                sharedCache.reset();\n            }\n\n            return resetCache;\n        }();\n\n        _.mixin(Transport.prototype, {\n            _fingerprint: function () {\n                function fingerprint(o) {\n                    o = o || {};\n                    return o.url + o.type + $.param(o.data || {});\n                }\n\n                return fingerprint;\n            }(),\n            _get: function (o, cb) {\n                var that = this,\n                    fingerprint,\n                    jqXhr;\n                fingerprint = this._fingerprint(o);\n\n                if (this.cancelled || fingerprint !== this.lastReq) {\n                    return;\n                }\n\n                if (jqXhr = pendingRequests[fingerprint]) {\n                    jqXhr.done(done).fail(fail);\n                } else if (pendingRequestsCount < this.maxPendingRequests) {\n                    pendingRequestsCount++;\n                    pendingRequests[fingerprint] = this._send(o).done(done).fail(fail).always(always);\n                } else {\n                    this.onDeckRequestArgs = [].slice.call(arguments, 0);\n                }\n\n                function done(resp) {\n                    cb(null, resp);\n\n                    that._cache.set(fingerprint, resp);\n                }\n\n                function fail() {\n                    cb(true);\n                }\n\n                function always() {\n                    pendingRequestsCount--;\n                    delete pendingRequests[fingerprint];\n\n                    if (that.onDeckRequestArgs) {\n                        that._get.apply(that, that.onDeckRequestArgs);\n\n                        that.onDeckRequestArgs = null;\n                    }\n                }\n            },\n            get: function (o, cb) {\n                var resp, fingerprint;\n                cb = cb || $.noop;\n                o = _.isString(o) ? {\n                    url: o\n                } : o || {};\n                fingerprint = this._fingerprint(o);\n                this.cancelled = false;\n                this.lastReq = fingerprint;\n\n                if (resp = this._cache.get(fingerprint)) {\n                    cb(null, resp);\n                } else {\n                    this._get(o, cb);\n                }\n            },\n            cancel: function () {\n                this.cancelled = true;\n            }\n        });\n\n        return Transport;\n    }();\n\n    var SearchIndex = window.SearchIndex = function () {\n        \"use strict\";\n\n        var CHILDREN = \"c\",\n            IDS = \"i\";\n\n        function SearchIndex(o) {\n            o = o || {};\n\n            if (!o.datumTokenizer || !o.queryTokenizer) {\n                $.error(\"datumTokenizer and queryTokenizer are both required\");\n            }\n\n            this.identify = o.identify || _.stringify;\n            this.datumTokenizer = o.datumTokenizer;\n            this.queryTokenizer = o.queryTokenizer;\n            this.matchAnyQueryToken = o.matchAnyQueryToken;\n            this.reset();\n        }\n\n        _.mixin(SearchIndex.prototype, {\n            bootstrap: function () {\n                function bootstrap(o) {\n                    this.datums = o.datums;\n                    this.trie = o.trie;\n                }\n\n                return bootstrap;\n            }(),\n            add: function (data) {\n                var that = this;\n                data = _.isArray(data) ? data : [data];\n\n                _.each(data, function (datum) {\n                    var id, tokens;\n                    that.datums[id = that.identify(datum)] = datum;\n                    tokens = normalizeTokens(that.datumTokenizer(datum));\n\n                    _.each(tokens, function (token) {\n                        var node, chars, ch;\n                        node = that.trie;\n                        chars = token.split(\"\");\n\n                        while (ch = chars.shift()) {\n                            node = node[CHILDREN][ch] || (node[CHILDREN][ch] = newNode());\n                            node[IDS].push(id);\n                        }\n                    });\n                });\n            },\n            get: function () {\n                function get(ids) {\n                    var that = this;\n                    return _.map(ids, function (id) {\n                        return that.datums[id];\n                    });\n                }\n\n                return get;\n            }(),\n            search: function () {\n                function search(query) {\n                    var that = this,\n                        tokens,\n                        matches;\n                    tokens = normalizeTokens(this.queryTokenizer(query));\n\n                    _.each(tokens, function (token) {\n                        var node, chars, ch, ids;\n\n                        if (matches && matches.length === 0 && !that.matchAnyQueryToken) {\n                            return false;\n                        }\n\n                        node = that.trie;\n                        chars = token.split(\"\");\n\n                        while (node && (ch = chars.shift())) {\n                            node = node[CHILDREN][ch];\n                        }\n\n                        if (node && chars.length === 0) {\n                            ids = node[IDS].slice(0);\n                            matches = matches ? getIntersection(matches, ids) : ids;\n                        } else {\n                            if (!that.matchAnyQueryToken) {\n                                matches = [];\n                                return false;\n                            }\n                        }\n                    });\n\n                    return matches ? _.map(unique(matches), function (id) {\n                        return that.datums[id];\n                    }) : [];\n                }\n\n                return search;\n            }(),\n            all: function () {\n                function all() {\n                    var values = [];\n\n                    for (var key in meteorBabelHelpers.sanitizeForInObject(this.datums)) {\n                        values.push(this.datums[key]);\n                    }\n\n                    return values;\n                }\n\n                return all;\n            }(),\n            reset: function () {\n                function reset() {\n                    this.datums = {};\n                    this.trie = newNode();\n                }\n\n                return reset;\n            }(),\n            serialize: function () {\n                function serialize() {\n                    return {\n                        datums: this.datums,\n                        trie: this.trie\n                    };\n                }\n\n                return serialize;\n            }()\n        });\n\n        return SearchIndex;\n\n        function normalizeTokens(tokens) {\n            tokens = _.filter(tokens, function (token) {\n                return !!token;\n            });\n            tokens = _.map(tokens, function (token) {\n                return token.toLowerCase();\n            });\n            return tokens;\n        }\n\n        function newNode() {\n            var node = {};\n            node[IDS] = [];\n            node[CHILDREN] = {};\n            return node;\n        }\n\n        function unique(array) {\n            var seen = {},\n                uniques = [];\n\n            for (var i = 0, len = array.length; i < len; i++) {\n                if (!seen[array[i]]) {\n                    seen[array[i]] = true;\n                    uniques.push(array[i]);\n                }\n            }\n\n            return uniques;\n        }\n\n        function getIntersection(arrayA, arrayB) {\n            var ai = 0,\n                bi = 0,\n                intersection = [];\n            arrayA = arrayA.sort();\n            arrayB = arrayB.sort();\n            var lenArrayA = arrayA.length,\n                lenArrayB = arrayB.length;\n\n            while (ai < lenArrayA && bi < lenArrayB) {\n                if (arrayA[ai] < arrayB[bi]) {\n                    ai++;\n                } else if (arrayA[ai] > arrayB[bi]) {\n                    bi++;\n                } else {\n                    intersection.push(arrayA[ai]);\n                    ai++;\n                    bi++;\n                }\n            }\n\n            return intersection;\n        }\n    }();\n\n    var Prefetch = function () {\n        \"use strict\";\n\n        var keys;\n        keys = {\n            data: \"data\",\n            protocol: \"protocol\",\n            thumbprint: \"thumbprint\"\n        };\n\n        function Prefetch(o) {\n            this.url = o.url;\n            this.ttl = o.ttl;\n            this.cache = o.cache;\n            this.prepare = o.prepare;\n            this.transform = o.transform;\n            this.transport = o.transport;\n            this.thumbprint = o.thumbprint;\n            this.storage = new PersistentStorage(o.cacheKey);\n        }\n\n        _.mixin(Prefetch.prototype, {\n            _settings: function () {\n                function settings() {\n                    return {\n                        url: this.url,\n                        type: \"GET\",\n                        dataType: \"json\"\n                    };\n                }\n\n                return settings;\n            }(),\n            store: function () {\n                function store(data) {\n                    if (!this.cache) {\n                        return;\n                    }\n\n                    this.storage.set(keys.data, data, this.ttl);\n                    this.storage.set(keys.protocol, location.protocol, this.ttl);\n                    this.storage.set(keys.thumbprint, this.thumbprint, this.ttl);\n                }\n\n                return store;\n            }(),\n            fromCache: function () {\n                function fromCache() {\n                    var stored = {},\n                        isExpired;\n\n                    if (!this.cache) {\n                        return null;\n                    }\n\n                    stored.data = this.storage.get(keys.data);\n                    stored.protocol = this.storage.get(keys.protocol);\n                    stored.thumbprint = this.storage.get(keys.thumbprint);\n                    isExpired = stored.thumbprint !== this.thumbprint || stored.protocol !== location.protocol;\n                    return stored.data && !isExpired ? stored.data : null;\n                }\n\n                return fromCache;\n            }(),\n            fromNetwork: function (cb) {\n                var that = this,\n                    settings;\n\n                if (!cb) {\n                    return;\n                }\n\n                settings = this.prepare(this._settings());\n                this.transport(settings).fail(onError).done(onResponse);\n\n                function onError() {\n                    cb(true);\n                }\n\n                function onResponse(resp) {\n                    cb(null, that.transform(resp));\n                }\n            },\n            clear: function () {\n                function clear() {\n                    this.storage.clear();\n                    return this;\n                }\n\n                return clear;\n            }()\n        });\n\n        return Prefetch;\n    }();\n\n    var Remote = function () {\n        \"use strict\";\n\n        function Remote(o) {\n            this.url = o.url;\n            this.prepare = o.prepare;\n            this.transform = o.transform;\n            this.indexResponse = o.indexResponse;\n            this.transport = new Transport({\n                cache: o.cache,\n                limiter: o.limiter,\n                transport: o.transport,\n                maxPendingRequests: o.maxPendingRequests\n            });\n        }\n\n        _.mixin(Remote.prototype, {\n            _settings: function () {\n                function settings() {\n                    return {\n                        url: this.url,\n                        type: \"GET\",\n                        dataType: \"json\"\n                    };\n                }\n\n                return settings;\n            }(),\n            get: function () {\n                function get(query, cb) {\n                    var that = this,\n                        settings;\n\n                    if (!cb) {\n                        return;\n                    }\n\n                    query = query || \"\";\n                    settings = this.prepare(query, this._settings());\n                    return this.transport.get(settings, onResponse);\n\n                    function onResponse(err, resp) {\n                        err ? cb([]) : cb(that.transform(resp));\n                    }\n                }\n\n                return get;\n            }(),\n            cancelLastRequest: function () {\n                function cancelLastRequest() {\n                    this.transport.cancel();\n                }\n\n                return cancelLastRequest;\n            }()\n        });\n\n        return Remote;\n    }();\n\n    var oParser = function () {\n        \"use strict\";\n\n        return function () {\n            function parse(o) {\n                var defaults, sorter;\n                defaults = {\n                    initialize: true,\n                    identify: _.stringify,\n                    datumTokenizer: null,\n                    queryTokenizer: null,\n                    matchAnyQueryToken: false,\n                    sufficient: 5,\n                    indexRemote: false,\n                    sorter: null,\n                    local: [],\n                    prefetch: null,\n                    remote: null\n                };\n                o = _.mixin(defaults, o || {});\n                !o.datumTokenizer && $.error(\"datumTokenizer is required\");\n                !o.queryTokenizer && $.error(\"queryTokenizer is required\");\n                sorter = o.sorter;\n                o.sorter = sorter ? function (x) {\n                    return x.sort(sorter);\n                } : _.identity;\n                o.local = _.isFunction(o.local) ? o.local() : o.local;\n                o.prefetch = parsePrefetch(o.prefetch);\n                o.remote = parseRemote(o.remote);\n                return o;\n            }\n\n            return parse;\n        }();\n\n        function parsePrefetch(o) {\n            var defaults;\n\n            if (!o) {\n                return null;\n            }\n\n            defaults = {\n                url: null,\n                ttl: 24 * 60 * 60 * 1e3,\n                cache: true,\n                cacheKey: null,\n                thumbprint: \"\",\n                prepare: _.identity,\n                transform: _.identity,\n                transport: null\n            };\n            o = _.isString(o) ? {\n                url: o\n            } : o;\n            o = _.mixin(defaults, o);\n            !o.url && $.error(\"prefetch requires url to be set\");\n            o.transform = o.filter || o.transform;\n            o.cacheKey = o.cacheKey || o.url;\n            o.thumbprint = VERSION + o.thumbprint;\n            o.transport = o.transport ? callbackToDeferred(o.transport) : $.ajax;\n            return o;\n        }\n\n        function parseRemote(o) {\n            var defaults;\n\n            if (!o) {\n                return;\n            }\n\n            defaults = {\n                url: null,\n                cache: true,\n                prepare: null,\n                replace: null,\n                wildcard: null,\n                limiter: null,\n                rateLimitBy: \"debounce\",\n                rateLimitWait: 300,\n                transform: _.identity,\n                transport: null\n            };\n            o = _.isString(o) ? {\n                url: o\n            } : o;\n            o = _.mixin(defaults, o);\n            !o.url && $.error(\"remote requires url to be set\");\n            o.transform = o.filter || o.transform;\n            o.prepare = toRemotePrepare(o);\n            o.limiter = toLimiter(o);\n            o.transport = o.transport ? callbackToDeferred(o.transport) : $.ajax;\n            delete o.replace;\n            delete o.wildcard;\n            delete o.rateLimitBy;\n            delete o.rateLimitWait;\n            return o;\n        }\n\n        function toRemotePrepare(o) {\n            var prepare, replace, wildcard;\n            prepare = o.prepare;\n            replace = o.replace;\n            wildcard = o.wildcard;\n\n            if (prepare) {\n                return prepare;\n            }\n\n            if (replace) {\n                prepare = prepareByReplace;\n            } else if (o.wildcard) {\n                prepare = prepareByWildcard;\n            } else {\n                prepare = idenityPrepare;\n            }\n\n            return prepare;\n\n            function prepareByReplace(query, settings) {\n                settings.url = replace(settings.url, query);\n                return settings;\n            }\n\n            function prepareByWildcard(query, settings) {\n                settings.url = settings.url.replace(wildcard, encodeURIComponent(query));\n                return settings;\n            }\n\n            function idenityPrepare(query, settings) {\n                return settings;\n            }\n        }\n\n        function toLimiter(o) {\n            var limiter, method, wait;\n            limiter = o.limiter;\n            method = o.rateLimitBy;\n            wait = o.rateLimitWait;\n\n            if (!limiter) {\n                limiter = /^throttle$/i.test(method) ? throttle(wait) : debounce(wait);\n            }\n\n            return limiter;\n\n            function debounce(wait) {\n                return function () {\n                    function debounce(fn) {\n                        return _.debounce(fn, wait);\n                    }\n\n                    return debounce;\n                }();\n            }\n\n            function throttle(wait) {\n                return function () {\n                    function throttle(fn) {\n                        return _.throttle(fn, wait);\n                    }\n\n                    return throttle;\n                }();\n            }\n        }\n\n        function callbackToDeferred(fn) {\n            return function () {\n                function wrapper(o) {\n                    var deferred = $.Deferred();\n                    fn(o, onSuccess, onError);\n                    return deferred;\n\n                    function onSuccess(resp) {\n                        _.defer(function () {\n                            deferred.resolve(resp);\n                        });\n                    }\n\n                    function onError(err) {\n                        _.defer(function () {\n                            deferred.reject(err);\n                        });\n                    }\n                }\n\n                return wrapper;\n            }();\n        }\n    }();\n\n    var Bloodhound = function () {\n        \"use strict\";\n\n        var old;\n        old = window && window.Bloodhound;\n\n        function Bloodhound(o) {\n            o = oParser(o);\n            this.sorter = o.sorter;\n            this.identify = o.identify;\n            this.sufficient = o.sufficient;\n            this.indexRemote = o.indexRemote;\n            this.local = o.local;\n            this.remote = o.remote ? new Remote(o.remote) : null;\n            this.prefetch = o.prefetch ? new Prefetch(o.prefetch) : null;\n            this.index = new SearchIndex({\n                identify: this.identify,\n                datumTokenizer: o.datumTokenizer,\n                queryTokenizer: o.queryTokenizer\n            });\n            o.initialize !== false && this.initialize();\n        }\n\n        Bloodhound.noConflict = function () {\n            function noConflict() {\n                window && (window.Bloodhound = old);\n                return Bloodhound;\n            }\n\n            return noConflict;\n        }();\n\n        Bloodhound.tokenizers = tokenizers;\n\n        _.mixin(Bloodhound.prototype, {\n            __ttAdapter: function () {\n                function ttAdapter() {\n                    var that = this;\n                    return this.remote ? withAsync : withoutAsync;\n\n                    function withAsync(query, sync, async) {\n                        return that.search(query, sync, async);\n                    }\n\n                    function withoutAsync(query, sync) {\n                        return that.search(query, sync);\n                    }\n                }\n\n                return ttAdapter;\n            }(),\n            _loadPrefetch: function () {\n                function loadPrefetch() {\n                    var that = this,\n                        deferred,\n                        serialized;\n                    deferred = $.Deferred();\n\n                    if (!this.prefetch) {\n                        deferred.resolve();\n                    } else if (serialized = this.prefetch.fromCache()) {\n                        this.index.bootstrap(serialized);\n                        deferred.resolve();\n                    } else {\n                        this.prefetch.fromNetwork(done);\n                    }\n\n                    return deferred.promise();\n\n                    function done(err, data) {\n                        if (err) {\n                            return deferred.reject();\n                        }\n\n                        that.add(data);\n                        that.prefetch.store(that.index.serialize());\n                        deferred.resolve();\n                    }\n                }\n\n                return loadPrefetch;\n            }(),\n            _initialize: function () {\n                function initialize() {\n                    var that = this,\n                        deferred;\n                    this.clear();\n\n                    (this.initPromise = this._loadPrefetch()).done(addLocalToIndex);\n\n                    return this.initPromise;\n\n                    function addLocalToIndex() {\n                        that.add(that.local);\n                    }\n                }\n\n                return initialize;\n            }(),\n            initialize: function () {\n                function initialize(force) {\n                    return !this.initPromise || force ? this._initialize() : this.initPromise;\n                }\n\n                return initialize;\n            }(),\n            add: function () {\n                function add(data) {\n                    this.index.add(data);\n                    return this;\n                }\n\n                return add;\n            }(),\n            get: function () {\n                function get(ids) {\n                    ids = _.isArray(ids) ? ids : [].slice.call(arguments);\n                    return this.index.get(ids);\n                }\n\n                return get;\n            }(),\n            search: function () {\n                function search(query, sync, async) {\n                    var that = this,\n                        local;\n                    sync = sync || _.noop;\n                    async = async || _.noop;\n                    local = this.sorter(this.index.search(query));\n                    sync(this.remote ? local.slice() : local);\n\n                    if (this.remote && local.length < this.sufficient) {\n                        this.remote.get(query, processRemote);\n                    } else if (this.remote) {\n                        this.remote.cancelLastRequest();\n                    }\n\n                    return this;\n\n                    function processRemote(remote) {\n                        var nonDuplicates = [];\n\n                        _.each(remote, function (r) {\n                            !_.some(local, function (l) {\n                                return that.identify(r) === that.identify(l);\n                            }) && nonDuplicates.push(r);\n                        });\n\n                        that.indexRemote && that.add(nonDuplicates);\n                        async(nonDuplicates);\n                    }\n                }\n\n                return search;\n            }(),\n            all: function () {\n                function all() {\n                    return this.index.all();\n                }\n\n                return all;\n            }(),\n            clear: function () {\n                function clear() {\n                    this.index.reset();\n                    return this;\n                }\n\n                return clear;\n            }(),\n            clearPrefetchCache: function () {\n                function clearPrefetchCache() {\n                    this.prefetch && this.prefetch.clear();\n                    return this;\n                }\n\n                return clearPrefetchCache;\n            }(),\n            clearRemoteCache: function () {\n                function clearRemoteCache() {\n                    Transport.resetCache();\n                    return this;\n                }\n\n                return clearRemoteCache;\n            }(),\n            ttAdapter: function () {\n                function ttAdapter() {\n                    return this.__ttAdapter();\n                }\n\n                return ttAdapter;\n            }()\n        });\n\n        return Bloodhound;\n    }();\n\n    return Bloodhound;\n});\n\n(function (root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define([\"jquery\"], function (a0) {\n            return factory(a0);\n        });\n    } else if ((typeof exports === \"undefined\" ? \"undefined\" : (0, _typeof4.default)(exports)) === \"object\") {\n        module.exports = factory(require(\"jquery\"));\n    } else {\n        factory(root[\"jQuery\"]);\n    }\n})(this, function ($) {\n    var _ = function () {\n        \"use strict\";\n\n        return {\n            isMsie: function () {\n                return (/(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false\n                );\n            },\n            isBlankString: function (str) {\n                return !str || /^\\s*$/.test(str);\n            },\n            escapeRegExChars: function (str) {\n                return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n            },\n            isString: function (obj) {\n                return typeof obj === \"string\";\n            },\n            isNumber: function (obj) {\n                return typeof obj === \"number\";\n            },\n            isArray: $.isArray,\n            isFunction: $.isFunction,\n            isObject: $.isPlainObject,\n            isUndefined: function (obj) {\n                return typeof obj === \"undefined\";\n            },\n            isElement: function (obj) {\n                return !!(obj && obj.nodeType === 1);\n            },\n            isJQuery: function (obj) {\n                return obj instanceof $;\n            },\n            toStr: function () {\n                function toStr(s) {\n                    return _.isUndefined(s) || s === null ? \"\" : s + \"\";\n                }\n\n                return toStr;\n            }(),\n            bind: $.proxy,\n            each: function (collection, cb) {\n                $.each(collection, reverseArgs);\n\n                function reverseArgs(index, value) {\n                    return cb(value, index);\n                }\n            },\n            map: $.map,\n            filter: $.grep,\n            every: function (obj, test) {\n                var result = true;\n\n                if (!obj) {\n                    return result;\n                }\n\n                $.each(obj, function (key, val) {\n                    if (!(result = test.call(null, val, key, obj))) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            some: function (obj, test) {\n                var result = false;\n\n                if (!obj) {\n                    return result;\n                }\n\n                $.each(obj, function (key, val) {\n                    if (result = test.call(null, val, key, obj)) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            mixin: $.extend,\n            identity: function (x) {\n                return x;\n            },\n            clone: function (obj) {\n                return $.extend(true, {}, obj);\n            },\n            getIdGenerator: function () {\n                var counter = 0;\n                return function () {\n                    return counter++;\n                };\n            },\n            templatify: function () {\n                function templatify(obj) {\n                    return $.isFunction(obj) ? obj : template;\n\n                    function template() {\n                        return String(obj);\n                    }\n                }\n\n                return templatify;\n            }(),\n            defer: function (fn) {\n                setTimeout(fn, 0);\n            },\n            debounce: function (func, wait, immediate) {\n                var timeout, result;\n                return function () {\n                    var context = this,\n                        args = arguments,\n                        later,\n                        callNow;\n\n                    later = function () {\n                        timeout = null;\n\n                        if (!immediate) {\n                            result = func.apply(context, args);\n                        }\n                    };\n\n                    callNow = immediate && !timeout;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(later, wait);\n\n                    if (callNow) {\n                        result = func.apply(context, args);\n                    }\n\n                    return result;\n                };\n            },\n            throttle: function (func, wait) {\n                var context, args, timeout, result, previous, later;\n                previous = 0;\n\n                later = function () {\n                    previous = new Date();\n                    timeout = null;\n                    result = func.apply(context, args);\n                };\n\n                return function () {\n                    var now = new Date(),\n                        remaining = wait - (now - previous);\n                    context = this;\n                    args = arguments;\n\n                    if (remaining <= 0) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                        previous = now;\n                        result = func.apply(context, args);\n                    } else if (!timeout) {\n                        timeout = setTimeout(later, remaining);\n                    }\n\n                    return result;\n                };\n            },\n            stringify: function (val) {\n                return _.isString(val) ? val : JSON.stringify(val);\n            },\n            guid: function () {\n                function _p8(s) {\n                    var p = (Math.random().toString(16) + \"000000000\").substr(2, 8);\n                    return s ? \"-\" + p.substr(0, 4) + \"-\" + p.substr(4, 4) : p;\n                }\n\n                return \"tt-\" + _p8() + _p8(true) + _p8(true) + _p8();\n            },\n            noop: function () {}\n        };\n    }();\n\n    var WWW = function () {\n        \"use strict\";\n\n        var defaultClassNames = {\n            wrapper: \"twitter-typeahead\",\n            input: \"tt-input\",\n            hint: \"tt-hint\",\n            menu: \"tt-menu\",\n            dataset: \"tt-dataset\",\n            suggestion: \"tt-suggestion\",\n            selectable: \"tt-selectable\",\n            empty: \"tt-empty\",\n            open: \"tt-open\",\n            cursor: \"tt-cursor\",\n            highlight: \"tt-highlight\"\n        };\n        return build;\n\n        function build(o) {\n            var www, classes;\n            classes = _.mixin({}, defaultClassNames, o);\n            www = {\n                css: buildCss(),\n                classes: classes,\n                html: buildHtml(classes),\n                selectors: buildSelectors(classes)\n            };\n            return {\n                css: www.css,\n                html: www.html,\n                classes: www.classes,\n                selectors: www.selectors,\n                mixin: function (o) {\n                    _.mixin(o, www);\n                }\n            };\n        }\n\n        function buildHtml(c) {\n            return {\n                wrapper: '<span class=\"' + c.wrapper + '\"></span>',\n                menu: '<div role=\"listbox\" class=\"' + c.menu + '\"></div>'\n            };\n        }\n\n        function buildSelectors(classes) {\n            var selectors = {};\n\n            _.each(classes, function (v, k) {\n                selectors[k] = \".\" + v;\n            });\n\n            return selectors;\n        }\n\n        function buildCss() {\n            var css = {\n                wrapper: {\n                    position: \"relative\",\n                    display: \"inline-block\"\n                },\n                hint: {\n                    position: \"absolute\",\n                    top: \"0\",\n                    left: \"0\",\n                    borderColor: \"transparent\",\n                    boxShadow: \"none\",\n                    opacity: \"1\"\n                },\n                input: {\n                    position: \"relative\",\n                    verticalAlign: \"top\",\n                    backgroundColor: \"transparent\"\n                },\n                inputWithNoHint: {\n                    position: \"relative\",\n                    verticalAlign: \"top\"\n                },\n                menu: {\n                    position: \"absolute\",\n                    top: \"100%\",\n                    left: \"0\",\n                    zIndex: \"100\",\n                    display: \"none\"\n                },\n                ltr: {\n                    left: \"0\",\n                    right: \"auto\"\n                },\n                rtl: {\n                    left: \"auto\",\n                    right: \" 0\"\n                }\n            };\n\n            if (_.isMsie()) {\n                _.mixin(css.input, {\n                    backgroundImage: \"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)\"\n                });\n            }\n\n            return css;\n        }\n    }();\n\n    var EventBus = function () {\n        \"use strict\";\n\n        var namespace, deprecationMap;\n        namespace = \"typeahead:\";\n        deprecationMap = {\n            render: \"rendered\",\n            cursorchange: \"cursorchanged\",\n            select: \"selected\",\n            autocomplete: \"autocompleted\"\n        };\n\n        function EventBus(o) {\n            if (!o || !o.el) {\n                $.error(\"EventBus initialized without el\");\n            }\n\n            this.$el = $(o.el);\n        }\n\n        _.mixin(EventBus.prototype, {\n            _trigger: function (type, args) {\n                var $e = $.Event(namespace + type);\n                this.$el.trigger.call(this.$el, $e, args || []);\n                return $e;\n            },\n            before: function (type) {\n                var args, $e;\n                args = [].slice.call(arguments, 1);\n                $e = this._trigger(\"before\" + type, args);\n                return $e.isDefaultPrevented();\n            },\n            trigger: function (type) {\n                var deprecatedType;\n\n                this._trigger(type, [].slice.call(arguments, 1));\n\n                if (deprecatedType = deprecationMap[type]) {\n                    this._trigger(deprecatedType, [].slice.call(arguments, 1));\n                }\n            }\n        });\n\n        return EventBus;\n    }();\n\n    var EventEmitter = function () {\n        \"use strict\";\n\n        var splitter = /\\s+/,\n            nextTick = getNextTick();\n        return {\n            onSync: onSync,\n            onAsync: onAsync,\n            off: off,\n            trigger: trigger\n        };\n\n        function on(method, types, cb, context) {\n            var type;\n\n            if (!cb) {\n                return this;\n            }\n\n            types = types.split(splitter);\n            cb = context ? bindContext(cb, context) : cb;\n            this._callbacks = this._callbacks || {};\n\n            while (type = types.shift()) {\n                this._callbacks[type] = this._callbacks[type] || {\n                    sync: [],\n                    async: []\n                };\n\n                this._callbacks[type][method].push(cb);\n            }\n\n            return this;\n        }\n\n        function onAsync(types, cb, context) {\n            return on.call(this, \"async\", types, cb, context);\n        }\n\n        function onSync(types, cb, context) {\n            return on.call(this, \"sync\", types, cb, context);\n        }\n\n        function off(types) {\n            var type;\n\n            if (!this._callbacks) {\n                return this;\n            }\n\n            types = types.split(splitter);\n\n            while (type = types.shift()) {\n                delete this._callbacks[type];\n            }\n\n            return this;\n        }\n\n        function trigger(types) {\n            var type, callbacks, args, syncFlush, asyncFlush;\n\n            if (!this._callbacks) {\n                return this;\n            }\n\n            types = types.split(splitter);\n            args = [].slice.call(arguments, 1);\n\n            while ((type = types.shift()) && (callbacks = this._callbacks[type])) {\n                syncFlush = getFlush(callbacks.sync, this, [type].concat(args));\n                asyncFlush = getFlush(callbacks.async, this, [type].concat(args));\n                syncFlush() && nextTick(asyncFlush);\n            }\n\n            return this;\n        }\n\n        function getFlush(callbacks, context, args) {\n            return flush;\n\n            function flush() {\n                var cancelled;\n\n                for (var i = 0, len = callbacks.length; !cancelled && i < len; i += 1) {\n                    cancelled = callbacks[i].apply(context, args) === false;\n                }\n\n                return !cancelled;\n            }\n        }\n\n        function getNextTick() {\n            var nextTickFn;\n\n            if (window.setImmediate) {\n                nextTickFn = function () {\n                    function nextTickSetImmediate(fn) {\n                        setImmediate(function () {\n                            fn();\n                        });\n                    }\n\n                    return nextTickSetImmediate;\n                }();\n            } else {\n                nextTickFn = function () {\n                    function nextTickSetTimeout(fn) {\n                        setTimeout(function () {\n                            fn();\n                        }, 0);\n                    }\n\n                    return nextTickSetTimeout;\n                }();\n            }\n\n            return nextTickFn;\n        }\n\n        function bindContext(fn, context) {\n            return fn.bind ? fn.bind(context) : function () {\n                fn.apply(context, [].slice.call(arguments, 0));\n            };\n        }\n    }();\n\n    var highlight = function (doc) {\n        \"use strict\";\n\n        var defaults = {\n            node: null,\n            pattern: null,\n            tagName: \"strong\",\n            className: null,\n            wordsOnly: false,\n            caseSensitive: false,\n            diacriticInsensitive: false\n        };\n        var accented = {\n            A: \"[AaÂªÃ-ÃÃ -Ã¥Ä-ÄÇÇÈ-ÈÈ¦È§á´¬áµá¸á¸áºáº -áº£ââââ»ââ¶âã±-ã´ã-ãããã©-ã¯ãããã¿ï¼¡ï½]\",\n            B: \"[Bbá´®áµá¸-á¸â¬ââ·âã´ã-ãããããï¼¢ï½]\",\n            C: \"[CcÃÃ§Ä-Äá¶ââââââ­â­â½ââ¸âã¶ãããã ã¤ã-ãï¼£ï½]\",\n            D: \"[DdÄÄÇ-ÇÇ±-Ç³á´°áµá¸-á¸âââ®â¾ââ¹âãã²ã·-ã¹ãã­-ã¯ããï¼¤ï½]\",\n            E: \"[EeÃ-ÃÃ¨-Ã«Ä-ÄÈ-ÈÈ¨È©á´±áµá¸-á¸áº¸-áº½ââ¡â¯â°ââ âºâãããï¼¥ï½]\",\n            F: \"[Ffá¶ á¸á¸ââ±â»â¡â»âã-ããï¬-ï¬ï¼¦ï½]\",\n            G: \"[GgÄ-Ä£Ç¦Ç§Ç´Çµá´³áµá¸ á¸¡ââ¢â¼âãããã-ããã¬ãããã¿ï¼§ï½]\",\n            H: \"[HhÄ¤Ä¥ÈÈÊ°á´´á¸¢-á¸«áºâ-ââ£â½âãã±ã-ããããï¼¨ï½]\",\n            I: \"[IiÃ-ÃÃ¬-Ã¯Ä¨-Ä°Ä²Ä³ÇÇÈ-Èá´µáµ¢á¸¬á¸­á»-á»â±âââ¹ââ -â£â¥-â¨âªâ«â°-â³âµ-â¸âºâ»â¤â¾âãºããï¬ï¬ï¼©ï½]\",\n            J: \"[JjÄ²-ÄµÇ-ÇÇ°Ê²á´¶ââ¥â¿ââ±¼ï¼ªï½]\",\n            K: \"[KkÄ¶Ä·Ç¨Ç©á´·áµá¸°-á¸µâªâ¦ââãããããããã¢ã¦ãªã¸ã¾ããã-ãï¼«ï½]\",\n            L: \"[LlÄ¹-ÅÇ-ÇË¡á´¸á¸¶á¸·á¸º-á¸½âââ¡â¬â¼â§ââãããã-ãããã¿ï¬ï¬ï¼¬ï½]\",\n            M: \"[Mmá´¹áµá¸¾-á¹â â¢â³â¯â¿â¨ââã·-ã¹ãããããã-ã¨ã«ã³ã·ã¹ã½ã¿ããããã-ãããããï¼­ï½]\",\n            N: \"[NnÃÃ±Å-ÅÇ-ÇÇ¸Ç¹á´ºá¹-á¹â¿âââ©ââãããã±ãµã»ããï¼®ï½]\",\n            O: \"[OoÂºÃ-ÃÃ²-Ã¶Å-ÅÆ Æ¡ÇÇÇªÇ«È-ÈÈ®È¯á´¼áµá»-á»ââââ´âªââãµãããï¼¯ï½]\",\n            P: \"[Ppá´¾áµá¹-á¹ââ«ââãã±ã¶ããã©-ã¬ã°ã´ãºãã-ãï¼°ï½]\",\n            Q: \"[Qqââ¬ââ ãï¼±ï½]\",\n            R: \"[RrÅ-ÅÈ-ÈÊ³á´¿áµ£á¹-á¹á¹á¹â¨â-ââ­ââ¡ãã´ã­-ã¯ããï¼²ï½]\",\n            S: \"[SsÅ-Å¡Å¿ÈÈË¢á¹ -á¹£â¨ââ â®ââ¢ã§ã¨ã®-ã³ããï¬ï¼³ï½]\",\n            T: \"[TtÅ¢-Å¥ÈÈáµáµá¹ª-á¹±áºâ¡â¢â¯ââ£ããããï¬ï¬ï¼´ï½]\",\n            U: \"[UuÃ-ÃÃ¹-Ã¼Å¨-Å³Æ¯Æ°ÇÇÈ-Èáµáµáµ¤á¹²-á¹·á»¤-á»§ââ°ââ¤ã³ãºï¼µï½]\",\n            V: \"[Vváµáµ¥á¹¼-á¹¿â£-â§â³-â·â±ââ¥â±½ããµã´-ã¹ããï¼¶ï½]\",\n            W: \"[WwÅ´ÅµÊ·áµáº-áºáºâ²ââ¦ãº-ã¿ãï¼·ï½]\",\n            X: \"[XxË£áº-áºââ»â¨-â«â¸-â»â³ââ§ãï¼¸ï½]\",\n            Y: \"[YyÃÃ½Ã¿Å¶-Å¸È²È³Ê¸áºáºáºá»²-á»¹â´ââ¨ãï¼¹ï½]\",\n            Z: \"[ZzÅ¹-Å¾Ç±-Ç³á¶»áº-áºâ¤â¨âµââ©ã-ãï¼ºï½]\"\n        };\n        return function () {\n            function hightlight(o) {\n                var regex;\n                o = _.mixin({}, defaults, o);\n\n                if (!o.node || !o.pattern) {\n                    return;\n                }\n\n                o.pattern = _.isArray(o.pattern) ? o.pattern : [o.pattern];\n                regex = getRegex(o.pattern, o.caseSensitive, o.wordsOnly, o.diacriticInsensitive);\n                traverse(o.node, hightlightTextNode);\n\n                function hightlightTextNode(textNode) {\n                    var match, patternNode, wrapperNode;\n\n                    if (match = regex.exec(textNode.data)) {\n                        wrapperNode = doc.createElement(o.tagName);\n                        o.className && (wrapperNode.className = o.className);\n                        patternNode = textNode.splitText(match.index);\n                        patternNode.splitText(match[0].length);\n                        wrapperNode.appendChild(patternNode.cloneNode(true));\n                        textNode.parentNode.replaceChild(wrapperNode, patternNode);\n                    }\n\n                    return !!match;\n                }\n\n                function traverse(el, hightlightTextNode) {\n                    var childNode,\n                        TEXT_NODE_TYPE = 3;\n\n                    for (var i = 0; i < el.childNodes.length; i++) {\n                        childNode = el.childNodes[i];\n\n                        if (childNode.nodeType === TEXT_NODE_TYPE) {\n                            i += hightlightTextNode(childNode) ? 1 : 0;\n                        } else {\n                            traverse(childNode, hightlightTextNode);\n                        }\n                    }\n                }\n            }\n\n            return hightlight;\n        }();\n\n        function accent_replacer(chr) {\n            return accented[chr.toUpperCase()] || chr;\n        }\n\n        function getRegex(patterns, caseSensitive, wordsOnly, diacriticInsensitive) {\n            var escapedPatterns = [],\n                regexStr;\n\n            for (var i = 0, len = patterns.length; i < len; i++) {\n                var escapedWord = _.escapeRegExChars(patterns[i]);\n\n                if (diacriticInsensitive) {\n                    escapedWord = escapedWord.replace(/\\S/g, accent_replacer);\n                }\n\n                escapedPatterns.push(escapedWord);\n            }\n\n            regexStr = wordsOnly ? \"\\\\b(\" + escapedPatterns.join(\"|\") + \")\\\\b\" : \"(\" + escapedPatterns.join(\"|\") + \")\";\n            return caseSensitive ? new RegExp(regexStr) : new RegExp(regexStr, \"i\");\n        }\n    }(window.document);\n\n    var Input = function () {\n        \"use strict\";\n\n        var specialKeyCodeMap;\n        specialKeyCodeMap = {\n            9: \"tab\",\n            27: \"esc\",\n            37: \"left\",\n            39: \"right\",\n            13: \"enter\",\n            38: \"up\",\n            40: \"down\"\n        };\n\n        function Input(o, www) {\n            o = o || {};\n\n            if (!o.input) {\n                $.error(\"input is missing\");\n            }\n\n            www.mixin(this);\n            this.$hint = $(o.hint);\n            this.$input = $(o.input);\n            this.$input.attr({\n                \"aria-activedescendant\": \"\",\n                \"aria-owns\": this.$input.attr(\"id\") + \"_listbox\",\n                role: \"combobox\",\n                \"aria-readonly\": \"true\",\n                \"aria-autocomplete\": \"list\"\n            });\n            $(www.menu).attr(\"id\", this.$input.attr(\"id\") + \"_listbox\");\n            this.query = this.$input.val();\n            this.queryWhenFocused = this.hasFocus() ? this.query : null;\n            this.$overflowHelper = buildOverflowHelper(this.$input);\n\n            this._checkLanguageDirection();\n\n            if (this.$hint.length === 0) {\n                this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = _.noop;\n            }\n\n            this.onSync(\"cursorchange\", this._updateDescendent);\n        }\n\n        Input.normalizeQuery = function (str) {\n            return _.toStr(str).replace(/^\\s*/g, \"\").replace(/\\s{2,}/g, \" \");\n        };\n\n        _.mixin(Input.prototype, EventEmitter, {\n            _onBlur: function () {\n                function onBlur() {\n                    this.resetInputValue();\n                    this.trigger(\"blurred\");\n                }\n\n                return onBlur;\n            }(),\n            _onFocus: function () {\n                function onFocus() {\n                    this.queryWhenFocused = this.query;\n                    this.trigger(\"focused\");\n                }\n\n                return onFocus;\n            }(),\n            _onKeydown: function () {\n                function onKeydown($e) {\n                    var keyName = specialKeyCodeMap[$e.which || $e.keyCode];\n\n                    this._managePreventDefault(keyName, $e);\n\n                    if (keyName && this._shouldTrigger(keyName, $e)) {\n                        this.trigger(keyName + \"Keyed\", $e);\n                    }\n                }\n\n                return onKeydown;\n            }(),\n            _onInput: function () {\n                function onInput() {\n                    this._setQuery(this.getInputValue());\n\n                    this.clearHintIfInvalid();\n\n                    this._checkLanguageDirection();\n                }\n\n                return onInput;\n            }(),\n            _managePreventDefault: function () {\n                function managePreventDefault(keyName, $e) {\n                    var preventDefault;\n\n                    switch (keyName) {\n                        case \"up\":\n                        case \"down\":\n                            preventDefault = !withModifier($e);\n                            break;\n\n                        default:\n                            preventDefault = false;\n                    }\n\n                    preventDefault && $e.preventDefault();\n                }\n\n                return managePreventDefault;\n            }(),\n            _shouldTrigger: function () {\n                function shouldTrigger(keyName, $e) {\n                    var trigger;\n\n                    switch (keyName) {\n                        case \"tab\":\n                            trigger = !withModifier($e);\n                            break;\n\n                        default:\n                            trigger = true;\n                    }\n\n                    return trigger;\n                }\n\n                return shouldTrigger;\n            }(),\n            _checkLanguageDirection: function () {\n                function checkLanguageDirection() {\n                    var dir = (this.$input.css(\"direction\") || \"ltr\").toLowerCase();\n\n                    if (this.dir !== dir) {\n                        this.dir = dir;\n                        this.$hint.attr(\"dir\", dir);\n                        this.trigger(\"langDirChanged\", dir);\n                    }\n                }\n\n                return checkLanguageDirection;\n            }(),\n            _setQuery: function () {\n                function setQuery(val, silent) {\n                    var areEquivalent, hasDifferentWhitespace;\n                    areEquivalent = areQueriesEquivalent(val, this.query);\n                    hasDifferentWhitespace = areEquivalent ? this.query.length !== val.length : false;\n                    this.query = val;\n\n                    if (!silent && !areEquivalent) {\n                        this.trigger(\"queryChanged\", this.query);\n                    } else if (!silent && hasDifferentWhitespace) {\n                        this.trigger(\"whitespaceChanged\", this.query);\n                    }\n                }\n\n                return setQuery;\n            }(),\n            _updateDescendent: function () {\n                function updateDescendent(event, id) {\n                    this.$input.attr(\"aria-activedescendant\", id);\n                }\n\n                return updateDescendent;\n            }(),\n            bind: function () {\n                var that = this,\n                    onBlur,\n                    onFocus,\n                    onKeydown,\n                    onInput;\n                onBlur = _.bind(this._onBlur, this);\n                onFocus = _.bind(this._onFocus, this);\n                onKeydown = _.bind(this._onKeydown, this);\n                onInput = _.bind(this._onInput, this);\n                this.$input.on(\"blur.tt\", onBlur).on(\"focus.tt\", onFocus).on(\"keydown.tt\", onKeydown);\n\n                if (!_.isMsie() || _.isMsie() > 9) {\n                    this.$input.on(\"input.tt\", onInput);\n                } else {\n                    this.$input.on(\"keydown.tt keypress.tt cut.tt paste.tt\", function ($e) {\n                        if (specialKeyCodeMap[$e.which || $e.keyCode]) {\n                            return;\n                        }\n\n                        _.defer(_.bind(that._onInput, that, $e));\n                    });\n                }\n\n                return this;\n            },\n            focus: function () {\n                function focus() {\n                    this.$input.focus();\n                }\n\n                return focus;\n            }(),\n            blur: function () {\n                function blur() {\n                    this.$input.blur();\n                }\n\n                return blur;\n            }(),\n            getLangDir: function () {\n                function getLangDir() {\n                    return this.dir;\n                }\n\n                return getLangDir;\n            }(),\n            getQuery: function () {\n                function getQuery() {\n                    return this.query || \"\";\n                }\n\n                return getQuery;\n            }(),\n            setQuery: function () {\n                function setQuery(val, silent) {\n                    this.setInputValue(val);\n\n                    this._setQuery(val, silent);\n                }\n\n                return setQuery;\n            }(),\n            hasQueryChangedSinceLastFocus: function () {\n                function hasQueryChangedSinceLastFocus() {\n                    return this.query !== this.queryWhenFocused;\n                }\n\n                return hasQueryChangedSinceLastFocus;\n            }(),\n            getInputValue: function () {\n                function getInputValue() {\n                    return this.$input.val();\n                }\n\n                return getInputValue;\n            }(),\n            setInputValue: function () {\n                function setInputValue(value) {\n                    this.$input.val(value);\n                    this.clearHintIfInvalid();\n\n                    this._checkLanguageDirection();\n                }\n\n                return setInputValue;\n            }(),\n            resetInputValue: function () {\n                function resetInputValue() {\n                    this.setInputValue(this.query);\n                }\n\n                return resetInputValue;\n            }(),\n            getHint: function () {\n                function getHint() {\n                    return this.$hint.val();\n                }\n\n                return getHint;\n            }(),\n            setHint: function () {\n                function setHint(value) {\n                    this.$hint.val(value);\n                }\n\n                return setHint;\n            }(),\n            clearHint: function () {\n                function clearHint() {\n                    this.setHint(\"\");\n                }\n\n                return clearHint;\n            }(),\n            clearHintIfInvalid: function () {\n                function clearHintIfInvalid() {\n                    var val, hint, valIsPrefixOfHint, isValid;\n                    val = this.getInputValue();\n                    hint = this.getHint();\n                    valIsPrefixOfHint = val !== hint && hint.indexOf(val) === 0;\n                    isValid = val !== \"\" && valIsPrefixOfHint && !this.hasOverflow();\n                    !isValid && this.clearHint();\n                }\n\n                return clearHintIfInvalid;\n            }(),\n            hasFocus: function () {\n                function hasFocus() {\n                    return this.$input.is(\":focus\");\n                }\n\n                return hasFocus;\n            }(),\n            hasOverflow: function () {\n                function hasOverflow() {\n                    var constraint = this.$input.width() - 2;\n                    this.$overflowHelper.text(this.getInputValue());\n                    return this.$overflowHelper.width() >= constraint;\n                }\n\n                return hasOverflow;\n            }(),\n            isCursorAtEnd: function () {\n                var valueLength, selectionStart, range;\n                valueLength = this.$input.val().length;\n                selectionStart = this.$input[0].selectionStart;\n\n                if (_.isNumber(selectionStart)) {\n                    return selectionStart === valueLength;\n                } else if (document.selection) {\n                    range = document.selection.createRange();\n                    range.moveStart(\"character\", -valueLength);\n                    return valueLength === range.text.length;\n                }\n\n                return true;\n            },\n            destroy: function () {\n                function destroy() {\n                    this.$hint.off(\".tt\");\n                    this.$input.off(\".tt\");\n                    this.$overflowHelper.remove();\n                    this.$hint = this.$input = this.$overflowHelper = $(\"<div>\");\n                }\n\n                return destroy;\n            }()\n        });\n\n        return Input;\n\n        function buildOverflowHelper($input) {\n            return $('<pre aria-hidden=\"true\"></pre>').css({\n                position: \"absolute\",\n                visibility: \"hidden\",\n                whiteSpace: \"pre\",\n                fontFamily: $input.css(\"font-family\"),\n                fontSize: $input.css(\"font-size\"),\n                fontStyle: $input.css(\"font-style\"),\n                fontVariant: $input.css(\"font-variant\"),\n                fontWeight: $input.css(\"font-weight\"),\n                wordSpacing: $input.css(\"word-spacing\"),\n                letterSpacing: $input.css(\"letter-spacing\"),\n                textIndent: $input.css(\"text-indent\"),\n                textRendering: $input.css(\"text-rendering\"),\n                textTransform: $input.css(\"text-transform\")\n            }).insertAfter($input);\n        }\n\n        function areQueriesEquivalent(a, b) {\n            return Input.normalizeQuery(a) === Input.normalizeQuery(b);\n        }\n\n        function withModifier($e) {\n            return $e.altKey || $e.ctrlKey || $e.metaKey || $e.shiftKey;\n        }\n    }();\n\n    var Dataset = function () {\n        \"use strict\";\n\n        var keys, nameGenerator;\n        keys = {\n            dataset: \"tt-selectable-dataset\",\n            val: \"tt-selectable-display\",\n            obj: \"tt-selectable-object\"\n        };\n        nameGenerator = _.getIdGenerator();\n\n        function Dataset(o, www) {\n            o = o || {};\n            o.templates = o.templates || {};\n            o.templates.notFound = o.templates.notFound || o.templates.empty;\n\n            if (!o.source) {\n                $.error(\"missing source\");\n            }\n\n            if (!o.node) {\n                $.error(\"missing node\");\n            }\n\n            if (o.name && !isValidName(o.name)) {\n                $.error(\"invalid dataset name: \" + o.name);\n            }\n\n            www.mixin(this);\n            this.highlight = !!o.highlight;\n            this.name = _.toStr(o.name || nameGenerator());\n            this.limit = o.limit || 5;\n            this.displayFn = getDisplayFn(o.display || o.displayKey);\n            this.templates = getTemplates(o.templates, this.displayFn);\n            this.source = o.source.__ttAdapter ? o.source.__ttAdapter() : o.source;\n            this.async = _.isUndefined(o.async) ? this.source.length > 2 : !!o.async;\n\n            this._resetLastSuggestion();\n\n            this.$el = $(o.node).attr(\"role\", \"presentation\").addClass(this.classes.dataset).addClass(this.classes.dataset + \"-\" + this.name);\n        }\n\n        Dataset.extractData = function () {\n            function extractData(el) {\n                var $el = $(el);\n\n                if ($el.data(keys.obj)) {\n                    return {\n                        dataset: $el.data(keys.dataset) || \"\",\n                        val: $el.data(keys.val) || \"\",\n                        obj: $el.data(keys.obj) || null\n                    };\n                }\n\n                return null;\n            }\n\n            return extractData;\n        }();\n\n        _.mixin(Dataset.prototype, EventEmitter, {\n            _overwrite: function () {\n                function overwrite(query, suggestions) {\n                    suggestions = suggestions || [];\n\n                    if (suggestions.length) {\n                        this._renderSuggestions(query, suggestions);\n                    } else if (this.async && this.templates.pending) {\n                        this._renderPending(query);\n                    } else if (!this.async && this.templates.notFound) {\n                        this._renderNotFound(query);\n                    } else {\n                        this._empty();\n                    }\n\n                    this.trigger(\"rendered\", suggestions, false, this.name);\n                }\n\n                return overwrite;\n            }(),\n            _append: function () {\n                function append(query, suggestions) {\n                    suggestions = suggestions || [];\n\n                    if (suggestions.length && this.$lastSuggestion.length) {\n                        this._appendSuggestions(query, suggestions);\n                    } else if (suggestions.length) {\n                        this._renderSuggestions(query, suggestions);\n                    } else if (!this.$lastSuggestion.length && this.templates.notFound) {\n                        this._renderNotFound(query);\n                    }\n\n                    this.trigger(\"rendered\", suggestions, true, this.name);\n                }\n\n                return append;\n            }(),\n            _renderSuggestions: function () {\n                function renderSuggestions(query, suggestions) {\n                    var $fragment;\n                    $fragment = this._getSuggestionsFragment(query, suggestions);\n                    this.$lastSuggestion = $fragment.children().last();\n                    this.$el.html($fragment).prepend(this._getHeader(query, suggestions)).append(this._getFooter(query, suggestions));\n                }\n\n                return renderSuggestions;\n            }(),\n            _appendSuggestions: function () {\n                function appendSuggestions(query, suggestions) {\n                    var $fragment, $lastSuggestion;\n                    $fragment = this._getSuggestionsFragment(query, suggestions);\n                    $lastSuggestion = $fragment.children().last();\n                    this.$lastSuggestion.after($fragment);\n                    this.$lastSuggestion = $lastSuggestion;\n                }\n\n                return appendSuggestions;\n            }(),\n            _renderPending: function () {\n                function renderPending(query) {\n                    var template = this.templates.pending;\n\n                    this._resetLastSuggestion();\n\n                    template && this.$el.html(template({\n                        query: query,\n                        dataset: this.name\n                    }));\n                }\n\n                return renderPending;\n            }(),\n            _renderNotFound: function () {\n                function renderNotFound(query) {\n                    var template = this.templates.notFound;\n\n                    this._resetLastSuggestion();\n\n                    template && this.$el.html(template({\n                        query: query,\n                        dataset: this.name\n                    }));\n                }\n\n                return renderNotFound;\n            }(),\n            _empty: function () {\n                function empty() {\n                    this.$el.empty();\n\n                    this._resetLastSuggestion();\n                }\n\n                return empty;\n            }(),\n            _getSuggestionsFragment: function () {\n                function getSuggestionsFragment(query, suggestions) {\n                    var that = this,\n                        fragment;\n                    fragment = document.createDocumentFragment();\n\n                    _.each(suggestions, function () {\n                        function getSuggestionNode(suggestion) {\n                            var $el, context;\n                            context = that._injectQuery(query, suggestion);\n                            $el = $(that.templates.suggestion(context)).data(keys.dataset, that.name).data(keys.obj, suggestion).data(keys.val, that.displayFn(suggestion)).addClass(that.classes.suggestion + \" \" + that.classes.selectable);\n                            fragment.appendChild($el[0]);\n                        }\n\n                        return getSuggestionNode;\n                    }());\n\n                    this.highlight && highlight({\n                        className: this.classes.highlight,\n                        node: fragment,\n                        pattern: query\n                    });\n                    return $(fragment);\n                }\n\n                return getSuggestionsFragment;\n            }(),\n            _getFooter: function () {\n                function getFooter(query, suggestions) {\n                    return this.templates.footer ? this.templates.footer({\n                        query: query,\n                        suggestions: suggestions,\n                        dataset: this.name\n                    }) : null;\n                }\n\n                return getFooter;\n            }(),\n            _getHeader: function () {\n                function getHeader(query, suggestions) {\n                    return this.templates.header ? this.templates.header({\n                        query: query,\n                        suggestions: suggestions,\n                        dataset: this.name\n                    }) : null;\n                }\n\n                return getHeader;\n            }(),\n            _resetLastSuggestion: function () {\n                function resetLastSuggestion() {\n                    this.$lastSuggestion = $();\n                }\n\n                return resetLastSuggestion;\n            }(),\n            _injectQuery: function () {\n                function injectQuery(query, obj) {\n                    return _.isObject(obj) ? _.mixin({\n                        _query: query\n                    }, obj) : obj;\n                }\n\n                return injectQuery;\n            }(),\n            update: function () {\n                function update(query) {\n                    var that = this,\n                        canceled = false,\n                        syncCalled = false,\n                        rendered = 0;\n                    this.cancel();\n\n                    this.cancel = function () {\n                        function cancel() {\n                            canceled = true;\n                            that.cancel = $.noop;\n                            that.async && that.trigger(\"asyncCanceled\", query, that.name);\n                        }\n\n                        return cancel;\n                    }();\n\n                    this.source(query, sync, async);\n                    !syncCalled && sync([]);\n\n                    function sync(suggestions) {\n                        if (syncCalled) {\n                            return;\n                        }\n\n                        syncCalled = true;\n                        suggestions = (suggestions || []).slice(0, that.limit);\n                        rendered = suggestions.length;\n\n                        that._overwrite(query, suggestions);\n\n                        if (rendered < that.limit && that.async) {\n                            that.trigger(\"asyncRequested\", query, that.name);\n                        }\n                    }\n\n                    function async(suggestions) {\n                        suggestions = suggestions || [];\n\n                        if (!canceled && rendered < that.limit) {\n                            that.cancel = $.noop;\n                            var idx = Math.abs(rendered - that.limit);\n                            rendered += idx;\n\n                            that._append(query, suggestions.slice(0, idx));\n\n                            that.async && that.trigger(\"asyncReceived\", query, that.name);\n                        }\n                    }\n                }\n\n                return update;\n            }(),\n            cancel: $.noop,\n            clear: function () {\n                function clear() {\n                    this._empty();\n\n                    this.cancel();\n                    this.trigger(\"cleared\");\n                }\n\n                return clear;\n            }(),\n            isEmpty: function () {\n                function isEmpty() {\n                    return this.$el.is(\":empty\");\n                }\n\n                return isEmpty;\n            }(),\n            destroy: function () {\n                function destroy() {\n                    this.$el = $(\"<div>\");\n                }\n\n                return destroy;\n            }()\n        });\n\n        return Dataset;\n\n        function getDisplayFn(display) {\n            display = display || _.stringify;\n            return _.isFunction(display) ? display : displayFn;\n\n            function displayFn(obj) {\n                return obj[display];\n            }\n        }\n\n        function getTemplates(templates, displayFn) {\n            return {\n                notFound: templates.notFound && _.templatify(templates.notFound),\n                pending: templates.pending && _.templatify(templates.pending),\n                header: templates.header && _.templatify(templates.header),\n                footer: templates.footer && _.templatify(templates.footer),\n                suggestion: templates.suggestion || suggestionTemplate\n            };\n\n            function suggestionTemplate(context) {\n                return $('<div role=\"option\">').attr(\"id\", _.guid()).text(displayFn(context));\n            }\n        }\n\n        function isValidName(str) {\n            return (/^[_a-zA-Z0-9-]+$/.test(str)\n            );\n        }\n    }();\n\n    var Menu = function () {\n        \"use strict\";\n\n        function Menu(o, www) {\n            var that = this;\n            o = o || {};\n\n            if (!o.node) {\n                $.error(\"node is required\");\n            }\n\n            www.mixin(this);\n            this.$node = $(o.node);\n            this.query = null;\n            this.datasets = _.map(o.datasets, initializeDataset);\n\n            function initializeDataset(oDataset) {\n                var node = that.$node.find(oDataset.node).first();\n                oDataset.node = node.length ? node : $(\"<div>\").appendTo(that.$node);\n                return new Dataset(oDataset, www);\n            }\n        }\n\n        _.mixin(Menu.prototype, EventEmitter, {\n            _onSelectableClick: function () {\n                function onSelectableClick($e) {\n                    this.trigger(\"selectableClicked\", $($e.currentTarget));\n                }\n\n                return onSelectableClick;\n            }(),\n            _onRendered: function () {\n                function onRendered(type, dataset, suggestions, async) {\n                    this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());\n                    this.trigger(\"datasetRendered\", dataset, suggestions, async);\n                }\n\n                return onRendered;\n            }(),\n            _onCleared: function () {\n                function onCleared() {\n                    this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());\n                    this.trigger(\"datasetCleared\");\n                }\n\n                return onCleared;\n            }(),\n            _propagate: function () {\n                function propagate() {\n                    this.trigger.apply(this, arguments);\n                }\n\n                return propagate;\n            }(),\n            _allDatasetsEmpty: function () {\n                function allDatasetsEmpty() {\n                    return _.every(this.datasets, _.bind(function () {\n                        function isDatasetEmpty(dataset) {\n                            var isEmpty = dataset.isEmpty();\n                            this.$node.attr(\"aria-expanded\", !isEmpty);\n                            return isEmpty;\n                        }\n\n                        return isDatasetEmpty;\n                    }(), this));\n                }\n\n                return allDatasetsEmpty;\n            }(),\n            _getSelectables: function () {\n                function getSelectables() {\n                    return this.$node.find(this.selectors.selectable);\n                }\n\n                return getSelectables;\n            }(),\n            _removeCursor: function () {\n                function _removeCursor() {\n                    var $selectable = this.getActiveSelectable();\n                    $selectable && $selectable.removeClass(this.classes.cursor);\n                }\n\n                return _removeCursor;\n            }(),\n            _ensureVisible: function () {\n                function ensureVisible($el) {\n                    var elTop, elBottom, nodeScrollTop, nodeHeight;\n                    elTop = $el.position().top;\n                    elBottom = elTop + $el.outerHeight(true);\n                    nodeScrollTop = this.$node.scrollTop();\n                    nodeHeight = this.$node.height() + parseInt(this.$node.css(\"paddingTop\"), 10) + parseInt(this.$node.css(\"paddingBottom\"), 10);\n\n                    if (elTop < 0) {\n                        this.$node.scrollTop(nodeScrollTop + elTop);\n                    } else if (nodeHeight < elBottom) {\n                        this.$node.scrollTop(nodeScrollTop + (elBottom - nodeHeight));\n                    }\n                }\n\n                return ensureVisible;\n            }(),\n            bind: function () {\n                var that = this,\n                    onSelectableClick;\n                onSelectableClick = _.bind(this._onSelectableClick, this);\n                this.$node.on(\"click.tt\", this.selectors.selectable, onSelectableClick);\n                this.$node.on(\"mouseover\", this.selectors.selectable, function () {\n                    that.setCursor($(this));\n                });\n                this.$node.on(\"mouseleave\", function () {\n                    that._removeCursor();\n                });\n\n                _.each(this.datasets, function (dataset) {\n                    dataset.onSync(\"asyncRequested\", that._propagate, that).onSync(\"asyncCanceled\", that._propagate, that).onSync(\"asyncReceived\", that._propagate, that).onSync(\"rendered\", that._onRendered, that).onSync(\"cleared\", that._onCleared, that);\n                });\n\n                return this;\n            },\n            isOpen: function () {\n                function isOpen() {\n                    return this.$node.hasClass(this.classes.open);\n                }\n\n                return isOpen;\n            }(),\n            open: function () {\n                function open() {\n                    this.$node.scrollTop(0);\n                    this.$node.addClass(this.classes.open);\n                }\n\n                return open;\n            }(),\n            close: function () {\n                function close() {\n                    this.$node.attr(\"aria-expanded\", false);\n                    this.$node.removeClass(this.classes.open);\n\n                    this._removeCursor();\n                }\n\n                return close;\n            }(),\n            setLanguageDirection: function () {\n                function setLanguageDirection(dir) {\n                    this.$node.attr(\"dir\", dir);\n                }\n\n                return setLanguageDirection;\n            }(),\n            selectableRelativeToCursor: function () {\n                function selectableRelativeToCursor(delta) {\n                    var $selectables, $oldCursor, oldIndex, newIndex;\n                    $oldCursor = this.getActiveSelectable();\n                    $selectables = this._getSelectables();\n                    oldIndex = $oldCursor ? $selectables.index($oldCursor) : -1;\n                    newIndex = oldIndex + delta;\n                    newIndex = (newIndex + 1) % ($selectables.length + 1) - 1;\n                    newIndex = newIndex < -1 ? $selectables.length - 1 : newIndex;\n                    return newIndex === -1 ? null : $selectables.eq(newIndex);\n                }\n\n                return selectableRelativeToCursor;\n            }(),\n            setCursor: function () {\n                function setCursor($selectable) {\n                    this._removeCursor();\n\n                    if ($selectable = $selectable && $selectable.first()) {\n                        $selectable.addClass(this.classes.cursor);\n\n                        this._ensureVisible($selectable);\n                    }\n                }\n\n                return setCursor;\n            }(),\n            getSelectableData: function () {\n                function getSelectableData($el) {\n                    return $el && $el.length ? Dataset.extractData($el) : null;\n                }\n\n                return getSelectableData;\n            }(),\n            getActiveSelectable: function () {\n                function getActiveSelectable() {\n                    var $selectable = this._getSelectables().filter(this.selectors.cursor).first();\n\n                    return $selectable.length ? $selectable : null;\n                }\n\n                return getActiveSelectable;\n            }(),\n            getTopSelectable: function () {\n                function getTopSelectable() {\n                    var $selectable = this._getSelectables().first();\n\n                    return $selectable.length ? $selectable : null;\n                }\n\n                return getTopSelectable;\n            }(),\n            update: function () {\n                function update(query) {\n                    var isValidUpdate = query !== this.query;\n\n                    if (isValidUpdate) {\n                        this.query = query;\n\n                        _.each(this.datasets, updateDataset);\n                    }\n\n                    return isValidUpdate;\n\n                    function updateDataset(dataset) {\n                        dataset.update(query);\n                    }\n                }\n\n                return update;\n            }(),\n            empty: function () {\n                function empty() {\n                    _.each(this.datasets, clearDataset);\n\n                    this.query = null;\n                    this.$node.addClass(this.classes.empty);\n\n                    function clearDataset(dataset) {\n                        dataset.clear();\n                    }\n                }\n\n                return empty;\n            }(),\n            destroy: function () {\n                function destroy() {\n                    this.$node.off(\".tt\");\n                    this.$node = $(\"<div>\");\n\n                    _.each(this.datasets, destroyDataset);\n\n                    function destroyDataset(dataset) {\n                        dataset.destroy();\n                    }\n                }\n\n                return destroy;\n            }()\n        });\n\n        return Menu;\n    }();\n\n    var Status = function () {\n        \"use strict\";\n\n        function Status(options) {\n            this.$el = $(\"<span></span>\", {\n                role: \"status\",\n                \"aria-live\": \"polite\"\n            }).css({\n                position: \"absolute\",\n                padding: \"0\",\n                border: \"0\",\n                height: \"1px\",\n                width: \"1px\",\n                \"margin-bottom\": \"-1px\",\n                \"margin-right\": \"-1px\",\n                overflow: \"hidden\",\n                clip: \"rect(0 0 0 0)\",\n                \"white-space\": \"nowrap\"\n            });\n            options.$input.after(this.$el);\n\n            _.each(options.menu.datasets, _.bind(function (dataset) {\n                if (dataset.onSync) {\n                    dataset.onSync(\"rendered\", _.bind(this.update, this));\n                    dataset.onSync(\"cleared\", _.bind(this.cleared, this));\n                }\n            }, this));\n        }\n\n        _.mixin(Status.prototype, {\n            update: function () {\n                function update(event, suggestions) {\n                    var length = suggestions.length;\n                    var words;\n\n                    if (length === 1) {\n                        words = {\n                            result: \"result\",\n                            is: \"is\"\n                        };\n                    } else {\n                        words = {\n                            result: \"results\",\n                            is: \"are\"\n                        };\n                    }\n\n                    this.$el.text(length + \" \" + words.result + \" \" + words.is + \" available, use up and down arrow keys to navigate.\");\n                }\n\n                return update;\n            }(),\n            cleared: function () {\n                this.$el.text(\"\");\n            }\n        });\n\n        return Status;\n    }();\n\n    var DefaultMenu = function () {\n        \"use strict\";\n\n        var s = Menu.prototype;\n\n        function DefaultMenu() {\n            Menu.apply(this, [].slice.call(arguments, 0));\n        }\n\n        _.mixin(DefaultMenu.prototype, Menu.prototype, {\n            open: function () {\n                function open() {\n                    !this._allDatasetsEmpty() && this._show();\n                    return s.open.apply(this, [].slice.call(arguments, 0));\n                }\n\n                return open;\n            }(),\n            close: function () {\n                function close() {\n                    this._hide();\n\n                    return s.close.apply(this, [].slice.call(arguments, 0));\n                }\n\n                return close;\n            }(),\n            _onRendered: function () {\n                function onRendered() {\n                    if (this._allDatasetsEmpty()) {\n                        this._hide();\n                    } else {\n                        this.isOpen() && this._show();\n                    }\n\n                    return s._onRendered.apply(this, [].slice.call(arguments, 0));\n                }\n\n                return onRendered;\n            }(),\n            _onCleared: function () {\n                function onCleared() {\n                    if (this._allDatasetsEmpty()) {\n                        this._hide();\n                    } else {\n                        this.isOpen() && this._show();\n                    }\n\n                    return s._onCleared.apply(this, [].slice.call(arguments, 0));\n                }\n\n                return onCleared;\n            }(),\n            setLanguageDirection: function () {\n                function setLanguageDirection(dir) {\n                    this.$node.css(dir === \"ltr\" ? this.css.ltr : this.css.rtl);\n                    return s.setLanguageDirection.apply(this, [].slice.call(arguments, 0));\n                }\n\n                return setLanguageDirection;\n            }(),\n            _hide: function () {\n                function hide() {\n                    this.$node.hide();\n                }\n\n                return hide;\n            }(),\n            _show: function () {\n                function show() {\n                    this.$node.css(\"display\", \"block\");\n                }\n\n                return show;\n            }()\n        });\n\n        return DefaultMenu;\n    }();\n\n    var Typeahead = function () {\n        \"use strict\";\n\n        function Typeahead(o, www) {\n            var onFocused, onBlurred, onEnterKeyed, onTabKeyed, onEscKeyed, onUpKeyed, onDownKeyed, onLeftKeyed, onRightKeyed, onQueryChanged, onWhitespaceChanged;\n            o = o || {};\n\n            if (!o.input) {\n                $.error(\"missing input\");\n            }\n\n            if (!o.menu) {\n                $.error(\"missing menu\");\n            }\n\n            if (!o.eventBus) {\n                $.error(\"missing event bus\");\n            }\n\n            www.mixin(this);\n            this.eventBus = o.eventBus;\n            this.minLength = _.isNumber(o.minLength) ? o.minLength : 1;\n            this.input = o.input;\n            this.menu = o.menu;\n            this.enabled = true;\n            this.active = false;\n            this.input.hasFocus() && this.activate();\n            this.dir = this.input.getLangDir();\n\n            this._hacks();\n\n            this.menu.bind().onSync(\"selectableClicked\", this._onSelectableClicked, this).onSync(\"asyncRequested\", this._onAsyncRequested, this).onSync(\"asyncCanceled\", this._onAsyncCanceled, this).onSync(\"asyncReceived\", this._onAsyncReceived, this).onSync(\"datasetRendered\", this._onDatasetRendered, this).onSync(\"datasetCleared\", this._onDatasetCleared, this);\n            onFocused = c(this, \"activate\", \"open\", \"_onFocused\");\n            onBlurred = c(this, \"deactivate\", \"_onBlurred\");\n            onEnterKeyed = c(this, \"isActive\", \"isOpen\", \"_onEnterKeyed\");\n            onTabKeyed = c(this, \"isActive\", \"isOpen\", \"_onTabKeyed\");\n            onEscKeyed = c(this, \"isActive\", \"_onEscKeyed\");\n            onUpKeyed = c(this, \"isActive\", \"open\", \"_onUpKeyed\");\n            onDownKeyed = c(this, \"isActive\", \"open\", \"_onDownKeyed\");\n            onLeftKeyed = c(this, \"isActive\", \"isOpen\", \"_onLeftKeyed\");\n            onRightKeyed = c(this, \"isActive\", \"isOpen\", \"_onRightKeyed\");\n            onQueryChanged = c(this, \"_openIfActive\", \"_onQueryChanged\");\n            onWhitespaceChanged = c(this, \"_openIfActive\", \"_onWhitespaceChanged\");\n            this.input.bind().onSync(\"focused\", onFocused, this).onSync(\"blurred\", onBlurred, this).onSync(\"enterKeyed\", onEnterKeyed, this).onSync(\"tabKeyed\", onTabKeyed, this).onSync(\"escKeyed\", onEscKeyed, this).onSync(\"upKeyed\", onUpKeyed, this).onSync(\"downKeyed\", onDownKeyed, this).onSync(\"leftKeyed\", onLeftKeyed, this).onSync(\"rightKeyed\", onRightKeyed, this).onSync(\"queryChanged\", onQueryChanged, this).onSync(\"whitespaceChanged\", onWhitespaceChanged, this).onSync(\"langDirChanged\", this._onLangDirChanged, this);\n        }\n\n        _.mixin(Typeahead.prototype, {\n            _hacks: function () {\n                function hacks() {\n                    var $input, $menu;\n                    $input = this.input.$input || $(\"<div>\");\n                    $menu = this.menu.$node || $(\"<div>\");\n                    $input.on(\"blur.tt\", function ($e) {\n                        var active, isActive, hasActive;\n                        active = document.activeElement;\n                        isActive = $menu.is(active);\n                        hasActive = $menu.has(active).length > 0;\n\n                        if (_.isMsie() && (isActive || hasActive)) {\n                            $e.preventDefault();\n                            $e.stopImmediatePropagation();\n\n                            _.defer(function () {\n                                $input.focus();\n                            });\n                        }\n                    });\n                    $menu.on(\"mousedown.tt\", function ($e) {\n                        $e.preventDefault();\n                    });\n                }\n\n                return hacks;\n            }(),\n            _onSelectableClicked: function () {\n                function onSelectableClicked(type, $el) {\n                    this.select($el);\n                }\n\n                return onSelectableClicked;\n            }(),\n            _onDatasetCleared: function () {\n                function onDatasetCleared() {\n                    this._updateHint();\n                }\n\n                return onDatasetCleared;\n            }(),\n            _onDatasetRendered: function () {\n                function onDatasetRendered(type, suggestions, async, dataset) {\n                    this._updateHint();\n\n                    this.eventBus.trigger(\"render\", suggestions, async, dataset);\n                }\n\n                return onDatasetRendered;\n            }(),\n            _onAsyncRequested: function () {\n                function onAsyncRequested(type, dataset, query) {\n                    this.eventBus.trigger(\"asyncrequest\", query, dataset);\n                }\n\n                return onAsyncRequested;\n            }(),\n            _onAsyncCanceled: function () {\n                function onAsyncCanceled(type, dataset, query) {\n                    this.eventBus.trigger(\"asynccancel\", query, dataset);\n                }\n\n                return onAsyncCanceled;\n            }(),\n            _onAsyncReceived: function () {\n                function onAsyncReceived(type, dataset, query) {\n                    this.eventBus.trigger(\"asyncreceive\", query, dataset);\n                }\n\n                return onAsyncReceived;\n            }(),\n            _onFocused: function () {\n                function onFocused() {\n                    this._minLengthMet() && this.menu.update(this.input.getQuery());\n                }\n\n                return onFocused;\n            }(),\n            _onBlurred: function () {\n                function onBlurred() {\n                    if (this.input.hasQueryChangedSinceLastFocus()) {\n                        this.eventBus.trigger(\"change\", this.input.getQuery());\n                    }\n                }\n\n                return onBlurred;\n            }(),\n            _onEnterKeyed: function () {\n                function onEnterKeyed(type, $e) {\n                    var $selectable;\n\n                    if ($selectable = this.menu.getActiveSelectable()) {\n                        if (this.select($selectable)) {\n                            $e.preventDefault();\n                            $e.stopPropagation();\n                        }\n                    }\n                }\n\n                return onEnterKeyed;\n            }(),\n            _onTabKeyed: function () {\n                function onTabKeyed(type, $e) {\n                    var $selectable;\n\n                    if ($selectable = this.menu.getActiveSelectable()) {\n                        this.select($selectable) && $e.preventDefault();\n                    } else if ($selectable = this.menu.getTopSelectable()) {\n                        this.autocomplete($selectable) && $e.preventDefault();\n                    }\n                }\n\n                return onTabKeyed;\n            }(),\n            _onEscKeyed: function () {\n                function onEscKeyed() {\n                    this.close();\n                }\n\n                return onEscKeyed;\n            }(),\n            _onUpKeyed: function () {\n                function onUpKeyed() {\n                    this.moveCursor(-1);\n                }\n\n                return onUpKeyed;\n            }(),\n            _onDownKeyed: function () {\n                function onDownKeyed() {\n                    this.moveCursor(+1);\n                }\n\n                return onDownKeyed;\n            }(),\n            _onLeftKeyed: function () {\n                function onLeftKeyed() {\n                    if (this.dir === \"rtl\" && this.input.isCursorAtEnd()) {\n                        this.autocomplete(this.menu.getActiveSelectable() || this.menu.getTopSelectable());\n                    }\n                }\n\n                return onLeftKeyed;\n            }(),\n            _onRightKeyed: function () {\n                function onRightKeyed() {\n                    if (this.dir === \"ltr\" && this.input.isCursorAtEnd()) {\n                        this.autocomplete(this.menu.getActiveSelectable() || this.menu.getTopSelectable());\n                    }\n                }\n\n                return onRightKeyed;\n            }(),\n            _onQueryChanged: function () {\n                function onQueryChanged(e, query) {\n                    this._minLengthMet(query) ? this.menu.update(query) : this.menu.empty();\n                }\n\n                return onQueryChanged;\n            }(),\n            _onWhitespaceChanged: function () {\n                function onWhitespaceChanged() {\n                    this._updateHint();\n                }\n\n                return onWhitespaceChanged;\n            }(),\n            _onLangDirChanged: function () {\n                function onLangDirChanged(e, dir) {\n                    if (this.dir !== dir) {\n                        this.dir = dir;\n                        this.menu.setLanguageDirection(dir);\n                    }\n                }\n\n                return onLangDirChanged;\n            }(),\n            _openIfActive: function () {\n                function openIfActive() {\n                    this.isActive() && this.open();\n                }\n\n                return openIfActive;\n            }(),\n            _minLengthMet: function () {\n                function minLengthMet(query) {\n                    query = _.isString(query) ? query : this.input.getQuery() || \"\";\n                    return query.length >= this.minLength;\n                }\n\n                return minLengthMet;\n            }(),\n            _updateHint: function () {\n                function updateHint() {\n                    var $selectable, data, val, query, escapedQuery, frontMatchRegEx, match;\n                    $selectable = this.menu.getTopSelectable();\n                    data = this.menu.getSelectableData($selectable);\n                    val = this.input.getInputValue();\n\n                    if (data && !_.isBlankString(val) && !this.input.hasOverflow()) {\n                        query = Input.normalizeQuery(val);\n                        escapedQuery = _.escapeRegExChars(query);\n                        frontMatchRegEx = new RegExp(\"^(?:\" + escapedQuery + \")(.+$)\", \"i\");\n                        match = frontMatchRegEx.exec(data.val);\n                        match && this.input.setHint(val + match[1]);\n                    } else {\n                        this.input.clearHint();\n                    }\n                }\n\n                return updateHint;\n            }(),\n            isEnabled: function () {\n                function isEnabled() {\n                    return this.enabled;\n                }\n\n                return isEnabled;\n            }(),\n            enable: function () {\n                function enable() {\n                    this.enabled = true;\n                }\n\n                return enable;\n            }(),\n            disable: function () {\n                function disable() {\n                    this.enabled = false;\n                }\n\n                return disable;\n            }(),\n            isActive: function () {\n                function isActive() {\n                    return this.active;\n                }\n\n                return isActive;\n            }(),\n            activate: function () {\n                function activate() {\n                    if (this.isActive()) {\n                        return true;\n                    } else if (!this.isEnabled() || this.eventBus.before(\"active\")) {\n                        return false;\n                    } else {\n                        this.active = true;\n                        this.eventBus.trigger(\"active\");\n                        return true;\n                    }\n                }\n\n                return activate;\n            }(),\n            deactivate: function () {\n                function deactivate() {\n                    if (!this.isActive()) {\n                        return true;\n                    } else if (this.eventBus.before(\"idle\")) {\n                        return false;\n                    } else {\n                        this.active = false;\n                        this.close();\n                        this.eventBus.trigger(\"idle\");\n                        return true;\n                    }\n                }\n\n                return deactivate;\n            }(),\n            isOpen: function () {\n                function isOpen() {\n                    return this.menu.isOpen();\n                }\n\n                return isOpen;\n            }(),\n            open: function () {\n                function open() {\n                    if (!this.isOpen() && !this.eventBus.before(\"open\")) {\n                        this.menu.open();\n\n                        this._updateHint();\n\n                        this.eventBus.trigger(\"open\");\n                    }\n\n                    return this.isOpen();\n                }\n\n                return open;\n            }(),\n            close: function () {\n                function close() {\n                    if (this.isOpen() && !this.eventBus.before(\"close\")) {\n                        this.menu.close();\n                        this.input.clearHint();\n                        this.input.resetInputValue();\n                        this.eventBus.trigger(\"close\");\n                    }\n\n                    return !this.isOpen();\n                }\n\n                return close;\n            }(),\n            setVal: function () {\n                function setVal(val) {\n                    this.input.setQuery(_.toStr(val));\n                }\n\n                return setVal;\n            }(),\n            getVal: function () {\n                function getVal() {\n                    return this.input.getQuery();\n                }\n\n                return getVal;\n            }(),\n            select: function () {\n                function select($selectable) {\n                    var data = this.menu.getSelectableData($selectable);\n\n                    if (data && !this.eventBus.before(\"select\", data.obj, data.dataset)) {\n                        this.input.setQuery(data.val, true);\n                        this.eventBus.trigger(\"select\", data.obj, data.dataset);\n                        this.close();\n                        return true;\n                    }\n\n                    return false;\n                }\n\n                return select;\n            }(),\n            autocomplete: function () {\n                function autocomplete($selectable) {\n                    var query, data, isValid;\n                    query = this.input.getQuery();\n                    data = this.menu.getSelectableData($selectable);\n                    isValid = data && query !== data.val;\n\n                    if (isValid && !this.eventBus.before(\"autocomplete\", data.obj, data.dataset)) {\n                        this.input.setQuery(data.val);\n                        this.eventBus.trigger(\"autocomplete\", data.obj, data.dataset);\n                        return true;\n                    }\n\n                    return false;\n                }\n\n                return autocomplete;\n            }(),\n            moveCursor: function () {\n                function moveCursor(delta) {\n                    var query, $candidate, data, suggestion, datasetName, cancelMove, id;\n                    query = this.input.getQuery();\n                    $candidate = this.menu.selectableRelativeToCursor(delta);\n                    data = this.menu.getSelectableData($candidate);\n                    suggestion = data ? data.obj : null;\n                    datasetName = data ? data.dataset : null;\n                    id = $candidate ? $candidate.attr(\"id\") : null;\n                    this.input.trigger(\"cursorchange\", id);\n                    cancelMove = this._minLengthMet() && this.menu.update(query);\n\n                    if (!cancelMove && !this.eventBus.before(\"cursorchange\", suggestion, datasetName)) {\n                        this.menu.setCursor($candidate);\n\n                        if (data) {\n                            this.input.setInputValue(data.val);\n                        } else {\n                            this.input.resetInputValue();\n\n                            this._updateHint();\n                        }\n\n                        this.eventBus.trigger(\"cursorchange\", suggestion, datasetName);\n                        return true;\n                    }\n\n                    return false;\n                }\n\n                return moveCursor;\n            }(),\n            destroy: function () {\n                function destroy() {\n                    this.input.destroy();\n                    this.menu.destroy();\n                }\n\n                return destroy;\n            }()\n        });\n\n        return Typeahead;\n\n        function c(ctx) {\n            var methods = [].slice.call(arguments, 1);\n            return function () {\n                var args = [].slice.call(arguments);\n\n                _.each(methods, function (method) {\n                    return ctx[method].apply(ctx, args);\n                });\n            };\n        }\n    }();\n\n    (function () {\n        \"use strict\";\n\n        var old, keys, methods;\n        old = $.fn.typeahead;\n        keys = {\n            www: \"tt-www\",\n            attrs: \"tt-attrs\",\n            typeahead: \"tt-typeahead\"\n        };\n        methods = {\n            initialize: function () {\n                function initialize(o, datasets) {\n                    var www;\n                    datasets = _.isArray(datasets) ? datasets : [].slice.call(arguments, 1);\n                    o = o || {};\n                    www = WWW(o.classNames);\n                    return this.each(attach);\n\n                    function attach() {\n                        var $input, $wrapper, $hint, $menu, defaultHint, defaultMenu, eventBus, input, menu, status, typeahead, MenuConstructor;\n\n                        _.each(datasets, function (d) {\n                            d.highlight = !!o.highlight;\n                        });\n\n                        $input = $(this);\n                        $wrapper = $(www.html.wrapper);\n                        $hint = $elOrNull(o.hint);\n                        $menu = $elOrNull(o.menu);\n                        defaultHint = o.hint !== false && !$hint;\n                        defaultMenu = o.menu !== false && !$menu;\n                        defaultHint && ($hint = buildHintFromInput($input, www));\n                        defaultMenu && ($menu = $(www.html.menu).css(www.css.menu));\n                        $hint && $hint.val(\"\");\n                        $input = prepInput($input, www);\n\n                        if (defaultHint || defaultMenu) {\n                            $wrapper.css(www.css.wrapper);\n                            $input.css(defaultHint ? www.css.input : www.css.inputWithNoHint);\n                            $input.wrap($wrapper).parent().prepend(defaultHint ? $hint : null).append(defaultMenu ? $menu : null);\n                        }\n\n                        MenuConstructor = defaultMenu ? DefaultMenu : Menu;\n                        eventBus = new EventBus({\n                            el: $input\n                        });\n                        input = new Input({\n                            hint: $hint,\n                            input: $input\n                        }, www);\n                        menu = new MenuConstructor({\n                            node: $menu,\n                            datasets: datasets\n                        }, www);\n                        status = new Status({\n                            $input: $input,\n                            menu: menu\n                        });\n                        typeahead = new Typeahead({\n                            input: input,\n                            menu: menu,\n                            eventBus: eventBus,\n                            minLength: o.minLength\n                        }, www);\n                        $input.data(keys.www, www);\n                        $input.data(keys.typeahead, typeahead);\n                    }\n                }\n\n                return initialize;\n            }(),\n            isEnabled: function () {\n                function isEnabled() {\n                    var enabled;\n                    ttEach(this.first(), function (t) {\n                        enabled = t.isEnabled();\n                    });\n                    return enabled;\n                }\n\n                return isEnabled;\n            }(),\n            enable: function () {\n                function enable() {\n                    ttEach(this, function (t) {\n                        t.enable();\n                    });\n                    return this;\n                }\n\n                return enable;\n            }(),\n            disable: function () {\n                function disable() {\n                    ttEach(this, function (t) {\n                        t.disable();\n                    });\n                    return this;\n                }\n\n                return disable;\n            }(),\n            isActive: function () {\n                function isActive() {\n                    var active;\n                    ttEach(this.first(), function (t) {\n                        active = t.isActive();\n                    });\n                    return active;\n                }\n\n                return isActive;\n            }(),\n            activate: function () {\n                function activate() {\n                    ttEach(this, function (t) {\n                        t.activate();\n                    });\n                    return this;\n                }\n\n                return activate;\n            }(),\n            deactivate: function () {\n                function deactivate() {\n                    ttEach(this, function (t) {\n                        t.deactivate();\n                    });\n                    return this;\n                }\n\n                return deactivate;\n            }(),\n            isOpen: function () {\n                function isOpen() {\n                    var open;\n                    ttEach(this.first(), function (t) {\n                        open = t.isOpen();\n                    });\n                    return open;\n                }\n\n                return isOpen;\n            }(),\n            open: function () {\n                function open() {\n                    ttEach(this, function (t) {\n                        t.open();\n                    });\n                    return this;\n                }\n\n                return open;\n            }(),\n            close: function () {\n                function close() {\n                    ttEach(this, function (t) {\n                        t.close();\n                    });\n                    return this;\n                }\n\n                return close;\n            }(),\n            select: function () {\n                function select(el) {\n                    var success = false,\n                        $el = $(el);\n                    ttEach(this.first(), function (t) {\n                        success = t.select($el);\n                    });\n                    return success;\n                }\n\n                return select;\n            }(),\n            autocomplete: function () {\n                function autocomplete(el) {\n                    var success = false,\n                        $el = $(el);\n                    ttEach(this.first(), function (t) {\n                        success = t.autocomplete($el);\n                    });\n                    return success;\n                }\n\n                return autocomplete;\n            }(),\n            moveCursor: function () {\n                function moveCursoe(delta) {\n                    var success = false;\n                    ttEach(this.first(), function (t) {\n                        success = t.moveCursor(delta);\n                    });\n                    return success;\n                }\n\n                return moveCursoe;\n            }(),\n            val: function () {\n                function val(newVal) {\n                    var query;\n\n                    if (!arguments.length) {\n                        ttEach(this.first(), function (t) {\n                            query = t.getVal();\n                        });\n                        return query;\n                    } else {\n                        ttEach(this, function (t) {\n                            t.setVal(_.toStr(newVal));\n                        });\n                        return this;\n                    }\n                }\n\n                return val;\n            }(),\n            destroy: function () {\n                function destroy() {\n                    ttEach(this, function (typeahead, $input) {\n                        revert($input);\n                        typeahead.destroy();\n                    });\n                    return this;\n                }\n\n                return destroy;\n            }()\n        };\n\n        $.fn.typeahead = function (method) {\n            if (methods[method]) {\n                return methods[method].apply(this, [].slice.call(arguments, 1));\n            } else {\n                return methods.initialize.apply(this, arguments);\n            }\n        };\n\n        $.fn.typeahead.noConflict = function () {\n            function noConflict() {\n                $.fn.typeahead = old;\n                return this;\n            }\n\n            return noConflict;\n        }();\n\n        function ttEach($els, fn) {\n            $els.each(function () {\n                var $input = $(this),\n                    typeahead;\n                (typeahead = $input.data(keys.typeahead)) && fn(typeahead, $input);\n            });\n        }\n\n        function buildHintFromInput($input, www) {\n            return $input.clone().addClass(www.classes.hint).removeData().css(www.css.hint).css(getBackgroundStyles($input)).prop(\"readonly\", true).removeAttr(\"id name placeholder required\").attr({\n                spellcheck: \"false\",\n                tabindex: -1\n            });\n        }\n\n        function prepInput($input, www) {\n            $input.data(keys.attrs, {\n                dir: $input.attr(\"dir\"),\n                autocomplete: $input.attr(\"autocomplete\"),\n                spellcheck: $input.attr(\"spellcheck\"),\n                style: $input.attr(\"style\")\n            });\n            $input.addClass(www.classes.input).attr({\n                spellcheck: false\n            });\n\n            try {\n                !$input.attr(\"dir\") && $input.attr(\"dir\", \"auto\");\n            } catch (e) {}\n\n            return $input;\n        }\n\n        function getBackgroundStyles($el) {\n            return {\n                backgroundAttachment: $el.css(\"background-attachment\"),\n                backgroundClip: $el.css(\"background-clip\"),\n                backgroundColor: $el.css(\"background-color\"),\n                backgroundImage: $el.css(\"background-image\"),\n                backgroundOrigin: $el.css(\"background-origin\"),\n                backgroundPosition: $el.css(\"background-position\"),\n                backgroundRepeat: $el.css(\"background-repeat\"),\n                backgroundSize: $el.css(\"background-size\")\n            };\n        }\n\n        function revert($input) {\n            var www, $wrapper;\n            www = $input.data(keys.www);\n            $wrapper = $input.parent().filter(www.selectors.wrapper);\n\n            _.each($input.data(keys.attrs), function (val, key) {\n                _.isUndefined(val) ? $input.removeAttr(key) : $input.attr(key, val);\n            });\n\n            $input.removeData(keys.typeahead).removeData(keys.www).removeData(keys.attr).removeClass(www.classes.input);\n\n            if ($wrapper.length) {\n                $input.detach().insertAfter($wrapper);\n                $wrapper.remove();\n            }\n        }\n\n        function $elOrNull(obj) {\n            var isValid, $el;\n            isValid = _.isJQuery(obj) || _.isElement(obj);\n            $el = isValid ? $(obj).first() : [];\n            return $el.length ? $el : null;\n        }\n    })();\n}); /**\n     * This module adds a copy button to all code examples in the docs.\n     */\n\n!function () {\n    // Look for code samples and set up a copy button on each\n    $('[data-docs-code]').each(function (index, value) {\n        var copyBtnId = 'copy-btn-' + index.toString();\n        var $button = $('<button class=\"docs-code-copy\" id=\"' + copyBtnId + '\">Copy</button>');\n        var text = $(this).find('code').text().replace('&lt;', '<').replace('&gt;', '>');\n        $(this).prepend($button);\n        var clipboard = new Clipboard('#' + copyBtnId, {\n            text: function () {\n                return text;\n            }\n        }); // Change the text of the copy button when it's clicked on\n\n        clipboard.on('success', function (event) {\n            $button.text('Copied!');\n            window.setTimeout(function () {\n                $button.text('Copy');\n            }, 3000);\n        }); // Log errors on copy failure\n\n        clipboard.on('error', function (event) {\n            console.error('Action:', event.action);\n            console.error('Trigger:', event.trigger);\n        });\n    });\n}(); /**\n      * This module activates on a Kitchen Sink page, and changes how code examples are rendered.\n      * The code example is hidden, and can be revealed with a toggle.\n      */\n!function () {\n    var $ks = $('#docs-kitchen-sink');\n    if (!$ks.length) return;\n    $ks.find('[data-ks-codepen]').each(function () {\n        var $codepen = $(this);\n        var $code = $codepen.next('[data-docs-code]');\n        $link = $('<a class=\"docs-code-toggle\">Toggle Code</a>');\n        $link.on('click.docs', function () {\n            $codepen.slideToggle(250);\n            $code.slideToggle(250);\n        });\n        $link.insertBefore(this);\n        $code.addClass('kitchen-sink').hide(0);\n        $codepen.addClass('kitchen-sink').hide(0);\n    });\n}(); /**\n      * This module sets up the search bar.\n      */\n!function () {\n    var source = {\n        // Only show 10 results at once\n        limit: 10,\n        // Function to fetch result list and then find a result;\n        source: function (query, sync, async) {\n            query = query.toLowerCase();\n            $.getJSON('./data/search.json', function (data, status) {\n                async(data.filter(function (elem, i, arr) {\n                    var name = elem.name.toLowerCase();\n                    var terms = [name, name.replace('-', '')].concat(elem.tags || []);\n\n                    for (var i in meteorBabelHelpers.sanitizeForInObject(terms)) {\n                        if (terms[i].indexOf(query) > -1) return true;\n                    }\n\n                    return false;\n                }));\n            });\n        },\n        // Name to use for the search result itself\n        display: function (item) {\n            return item.name;\n        },\n        templates: {\n            // HTML that renders if there are no results\n            notFound: function (query) {\n                return '<div class=\"tt-empty\">No results for \"' + query.query + '\".</div>';\n            },\n            // HTML that renders for each result in the list\n            suggestion: function (item) {\n                return '<div><span class=\"name\">' + item.name + '<span class=\"meta\">' + item.type + '</span></span> <span class=\"desc\">' + item.description + '</span></div>';\n            }\n        } // Search\n\n    };\n    $('[data-docs-search]').typeahead({\n        highlight: false\n    }, source).on('typeahead:select', function (e, sel) {\n        window.location.href = sel.link;\n    }); // Auto-highlight unless it's a phone\n\n    if (!navigator.userAgent.match(/(iP(hone|ad|od)|Android)/)) {\n        $('[data-docs-search]').focus();\n    }\n}(); /**\n      * This module generates a table of contents from the <h2>s on a page.\n      */\n!function () {\n    var $h2s = $('.docs-component h2');\n    var $toc = $('[data-docs-toc]');\n    $h2s.each(function () {\n        // Ignore <h2>s inside of a rendered code sample\n        if ($(this).parents('.docs-code-live').length) return;\n        var text = $(this).text();\n        var anchor = $(this).children('a').attr('href');\n        $toc.append('<li><a href=\"' + anchor + '\">' + text + '</a></li>');\n    }); // Initialize Magellan on the generated table of contents\n\n    if ($toc.length) {\n        if (typeof Foundation !== 'undefined') {\n            new Foundation.Magellan($toc, {\n                offset: 130\n            });\n        }\n    }\n}(); //var $window = $(window);\n//var $container = $('.docs-component');\n//var $TOC = $('#docsToc');\n//var $TOCparent = $TOC.parent();\n//\n//if($TOC.is('*')) {\n//  var fixedTop = $container.offset().top;\n//  var innerHeight = 0;\n//  $container.children().each(function() {innerHeight += $(this).height()});\n//  var containerHeight = $container.height();\n//  var handler = function() {\n//    var tocHeight = $TOC.height();\n//    var parentOffset = $TOCparent.offset().top;\n//    var windowScroll = $window.scrollTop();\n//    var containerScroll = $container.scrollTop();\n//    var visibleNav = (containerHeight + fixedTop) - windowScroll;\n//\n//    if (visibleNav < tocHeight || containerScroll + tocHeight >= innerHeight) {\n//      $TOC.removeClass('is-fixed');\n//      $TOC.addClass('is-docked').css({top: 'auto'});\n//    } else if ((windowScroll > fixedTop && parentOffset < windowScroll)|| (parentOffset < fixedTop - windowScroll)) {\n//      var offset = Math.max(fixedTop - windowScroll, 0)\n//      $TOC.removeClass('is-docked');\n//      $TOC.addClass('is-fixed').css({top: offset});\n//    } else {\n//      $TOC.removeClass('is-fixed');\n//      $TOC.removeClass('is-docked');\n//    }\n//  };\n//  $(document).on('load scroll', handler);\n//  $container.on('scroll', handler);\n//}\n\n(function () {\n    var prev = 0;\n    var $window = $(window);\n    var nav = $('.docs-sticky-top-bar');\n    $window.on('scroll', function () {\n        var scrollTop = $window.scrollTop();\n        nav.toggleClass('mobile-hidden', scrollTop > prev && scrollTop > 100);\n        prev = scrollTop;\n    });\n    $('#inline-search').on('on.zf.toggler', function () {\n        $(this).find('input').focus();\n        $('.search-button').addClass('search-open');\n    });\n    $('#inline-search').on('off.zf.toggler', function () {\n        $(this).find('input').blur();\n        $('.search-button').removeClass('search-open');\n    });\n})(); // From http://stackoverflow.com/questions/979975/how-to-get-the-value-from-the-get-parameters\n\n\nvar QueryString = function () {\n    // This function is anonymous, is executed immediately and \n    // the return value is assigned to QueryString!\n    var query_string = {};\n    var query = window.location.search.substring(1);\n    var vars = query.split(\"&\");\n\n    for (var i = 0; i < vars.length; i++) {\n        var pair = vars[i].split(\"=\"); // If first entry with this name\n\n        if (typeof query_string[pair[0]] === \"undefined\") {\n            query_string[pair[0]] = decodeURIComponent(pair[1]); // If second entry with this name\n        } else if (typeof query_string[pair[0]] === \"string\") {\n            var arr = [query_string[pair[0]], decodeURIComponent(pair[1])];\n            query_string[pair[0]] = arr; // If third or later entry with this name\n        } else {\n            query_string[pair[0]].push(decodeURIComponent(pair[1]));\n        }\n    }\n\n    return query_string;\n}(); // 2. This code loads the IFrame Player API code asynchronously.\n\n\nif ($('#main-video').is('*')) {\n    var onYouTubeIframeAPIReady = function () {\n        mainPlayer = new YT.Player('main-video', {\n            height: '385',\n            width: '690',\n            videoId: videoId,\n            playerVars: {\n                showinfo: '0'\n            },\n            events: {\n                'onReady': onPlayerReady,\n                'onStateChange': onPlayerStateChange\n            }\n        });\n        $('[data-linkable-video]').each(function () {\n            var $vid = $(this);\n            var id = this.id;\n            var videoId = $vid.data().linkableVideo;\n            embeddedPlayers.push({\n                id: id,\n                video: videoId,\n                player: new YT.Player(id, {\n                    events: {\n                        'onReady': onPlayerReady\n                    }\n                })\n            });\n        });\n    }; // 4. The API will call this function when the video mainPlayer is ready.\n\n\n    var onPlayerReady = function (event) {\n        if (QueryString.video == videoId) {\n            mainPlayer.playVideo();\n        } else if (QueryString.video) {\n            for (var i = 0; i < embeddedPlayers.length; i++) {\n                if (QueryString.video == embeddedPlayers[i].video) {\n                    $(window).scrollTop($('#' + embeddedPlayers[i].id).offset().top - 200); // Don't show the main vid if we're autoplaying a different one.\n\n                    $videoInner.removeClass('autostick').removeClass('expanded');\n                    $videoOverlay.removeClass('expanded');\n                    embeddedPlayers[i].player.playVideo();\n                }\n            }\n        }\n    }; // 5. The API calls this function when the mainPlayer's state changes.\n    //    The function indicates that when playing a video (state=1),\n    //    the mainPlayer should play for six seconds and then stop.\n\n\n    var onPlayerStateChange = function (event) {\n        if (event.data == YT.PlayerState.PLAYING) {\n            $videoInner.addClass('playing').addClass('autostick');\n        } else {\n            $videoInner.removeClass('playing');\n        }\n    };\n\n    var $videoOuter = $('#subpage-intro-video');\n    var $videoInner = $videoOuter.find('.docs-video-inner');\n    var $videoOverlay = $videoOuter.find('.video-overlay');\n    var videoId = $('#main-video').data().video;\n    var tag = document.createElement('script');\n    tag.src = \"https://www.youtube.com/iframe_api\";\n    var firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag); // 3. This function creates an <iframe> (and YouTube mainPlayer)\n    //    after the API code downloads.\n\n    var mainPlayer,\n        embeddedPlayers = [];\n    var $window = $(window);\n    $(window).on(\"scroll\", function () {\n        var videoOffset = $videoOuter.offset().top;\n        var videoHeight = $videoOuter.height();\n        var myScrollPosition = $(this).scrollTop();\n\n        if (myScrollPosition > videoOffset + videoHeight - 300) {\n            $videoInner.addClass('is-stuck');\n            $videoOverlay.addClass('is-stuck');\n        } else {\n            $videoInner.removeClass('is-stuck');\n            $videoOverlay.removeClass('is-stuck');\n        }\n    });\n    $('[data-close-video]').on('click', function () {\n        mainPlayer.stopVideo();\n        $videoInner.removeClass('autostick').removeClass('expanded');\n        $videoOverlay.removeClass('expanded');\n    });\n    $('[data-expand-contract-video]').on('click', function () {\n        $videoInner.toggleClass('expanded');\n        $videoOverlay.toggleClass('expanded');\n    });\n\n    var getSeconds = function (link) {\n        var time = $(link).data().openVideo;\n        var sections = String(time).split(':');\n        var seconds;\n\n        if (sections.length > 1) {\n            seconds = 60 * Number(sections[0]) + Number(sections[1]);\n        } else {\n            seconds = Number(sections[0]);\n        }\n\n        return seconds;\n    };\n\n    var href = $('#docs-mobile-video-link').attr('href');\n    $('[data-open-video]').each(function () {\n        var seconds = getSeconds(this);\n        this.href = href + '&t=' + seconds;\n        this.target = '_blank';\n    });\n    $('[data-open-video]').on('click', function (e) {\n        if (Foundation.MediaQuery.is('small only')) {\n            return;\n        }\n\n        e.preventDefault();\n        var seconds = getSeconds(this);\n        mainPlayer.seekTo(seconds, true);\n        mainPlayer.playVideo();\n        $videoOverlay.addClass('expanded');\n        $videoInner.addClass('expanded').addClass('autostick');\n    });\n}\n\n$(function () {\n    // TODO: Add alternate between advanced and intro\n    var topic = $('h1.docs-page-title').text();\n\n    if (topic.length < 1) {\n        topic = 'Foundation';\n    }\n\n    var header = 'Master ' + topic;\n    var body = 'Get up to speed FAST, learn straight from the experts who built Foundation.';\n    var link = 'http://zurb.com/university/foundation-intro?utm_source=Foundation%20Docs&utm_medium=Docs&utm_content=Struggling&utm_campaign=Docs%20To%20Intro';\n    var cta = 'Learn More';\n    var html = '<div class=\"ad-unit\"><h3 class=\"ad-unit-title\">' + header + '</h3>' + '<p class=\"ad-unit-text\">' + body + '</p>' + '<a class=\"button ad-unit-button\" href=\"' + link + '\">' + cta + '</a></div>';\n    $('#TOCAdUnit').html(html);\n}); // Adds links to Building Blocks from the ZURB library to each component page\n\n!function () {\n    $.ajax({\n        url: 'http://zurb.com/library/api/building_blocks/type/buttons',\n        dataType: 'jsonp',\n        success: addBuildingBlocks\n    });\n\n    function addBuildingBlocks(data) {\n        var html = '';\n        $.each(data, function () {\n            html += '<div class=\"docs-bb\"><div class=\"docs-bb-thumb\"><a href=\"http://zurb.com/building-blocks/' + this.slug + '\"><img src=\"' + this.image_url + '\"/></a></div><div class=\"docs-bb-main\"><h3><a href=\"http://zurb.com/building-blocks/' + this.slug + '\">' + this.name + '</a></h3><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolor, amet incidunt sint esse nihil eum repellendus necessitatibus officiis iusto reprehenderit, alias laudantium veniam ad. Soluta repellat nemo quaerat quis laboriosam.</p></div></div>';\n        });\n        $('[data-building-blocks]').each(function () {\n            $(this).html(html);\n        });\n\n        if ($('[data-building-blocks] .docs-bb').length === 0) {\n            $('.docs-building-blocks').hide(0);\n        }\n    }\n}(); // Code for specific docs examples.\n\n!function () {\n    $('[data-docs-example-ofc]').click(function () {\n        $('#offCanvasLeft').toggleClass('reveal-for-large');\n        $('.sticky').foundation('_calc', true);\n    });\n    $('[data-docs-example-series]').click(function () {\n        $('#series-example').addClass('is-animating');\n    });\n    var $transitionDemo = $('.docs-transition-demo');\n    $('.docs-transitions').change(function () {\n        var value = $(this).val();\n        var method = value.match('-in') ? 'animateIn' : 'animateOut';\n        Foundation.Motion[method]($transitionDemo, value, function () {\n            $transitionDemo.show();\n        });\n    });\n    var stickyMag = $('#sticky-magellan');\n    stickyMag.on('sticky.zf.stuckto:top', function () {\n        stickyMag.find('nav').addClass('stuck-mag');\n    }).on('sticky.zf.unstuckfrom:top', function (e) {\n        stickyMag.find('nav').removeClass('stuck-mag');\n    });\n}();\n!function () {\n    var loaded = false;\n    $('#docs-example-interchange').on('replaced.zf.interchange', function () {\n        if (Foundation.MediaQuery.atLeast('large')) {\n            if (!loaded) {\n                $.getScript(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBOVwxUM9akvFrSWmmb2iKc7Fe0vjRBY7c&sensor=false&callback=initializeMaps\").done(function () {\n                    loaded = true;\n                });\n            } else {\n                window.initializeMaps();\n            }\n        }\n    });\n\n    window.initializeMaps = function () {\n        // Basic options for a simple Google Map\n        // For more options see: https://developers.google.com/maps/documentation/javascript/reference#MapOptions\n        var mapOptions = {\n            // How zoomed in you want the map to start at (always required)\n            zoom: 11,\n            // The latitude and longitude to center the map (always required)\n            center: new google.maps.LatLng(37.2845934, -121.951675),\n            // ZURB HQ\n            // How you would like to style the map.\n            // This is where you would paste any style found on Snazzy Maps.\n            styles: [{\n                'featureType': 'water',\n                'stylers': [{\n                    'visibility': 'on'\n                }, {\n                    'color': '#acbcc9'\n                }]\n            }, {\n                'featureType': 'landscape',\n                'stylers': [{\n                    'color': '#f2e5d4'\n                }]\n            }, {\n                'featureType': 'road.highway',\n                'elementType': 'geometry',\n                'stylers': [{\n                    'color': '#c5c6c6'\n                }]\n            }, {\n                'featureType': 'road.arterial',\n                'elementType': 'geometry',\n                'stylers': [{\n                    'color': '#e4d7c6'\n                }]\n            }, {\n                'featureType': 'road.local',\n                'elementType': 'geometry',\n                'stylers': [{\n                    'color': '#fbfaf7'\n                }]\n            }, {\n                'featureType': 'poi.park',\n                'elementType': 'geometry',\n                'stylers': [{\n                    'color': '#c5dac6'\n                }]\n            }, {\n                'featureType': 'administrative',\n                'stylers': [{\n                    'visibility': 'on'\n                }, {\n                    'lightness': 33\n                }]\n            }, {\n                'featureType': 'road'\n            }, {\n                'featureType': 'poi.park',\n                'elementType': 'labels',\n                'stylers': [{\n                    'visibility': 'on'\n                }, {\n                    'lightness': 20\n                }]\n            }, {}, {\n                'featureType': 'road',\n                'stylers': [{\n                    'lightness': 20\n                }]\n            }]\n        }; // Get the HTML DOM element that will contain your map\n        // We are using a div with id=\"map\" seen below in the <body>\n\n        var mapElement = document.getElementById('map'); // Create the Google Map using out element and options defined above\n\n        var map = new google.maps.Map(mapElement, mapOptions);\n        var markerOptions = {\n            map: map,\n            position: {\n                lat: 37.2845934,\n                lng: -121.951675\n            },\n            title: 'ZURB HQ'\n        };\n        var marker = new google.maps.Marker(markerOptions);\n    };\n}(); // Kissmetrics reporting\n\n!function () {\n    var _kmq = _kmq || [];\n\n    var _kmk = _kmk || \"d945f04ff5e68057c85f5323b46f185efb3826b3\";\n\n    function _kms(u) {\n        setTimeout(function () {\n            var d = document,\n                f = d.getElementsByTagName('script')[0],\n                s = d.createElement('script');\n            s.type = 'text/javascript';\n            s.async = true;\n            s.src = u;\n            f.parentNode.insertBefore(s, f);\n        }, 1);\n    }\n\n    _kms('//i.kissmetrics.com/i.js');\n\n    _kms('//doug1izaerwt3.cloudfront.net/' + _kmk + '.1.js');\n}();\n$(document).foundation(); // [TODO] Remove this when possible\n\n$(function () {\n    // Equalizer test\n    var counter = 0;\n    $('#test-eq').on('postEqualized.zf.Equalizer', function () {\n        counter++;\n        console.log(counter);\n    });\n    $('#pokemonRed').on('invalid.fndtn.abide', function (e, data) {\n        console.log(data);\n    });\n});\n$(function () {\n    $('[data-docs-version]').text('v' + Foundation.version);\n});\nvar ACCORDION_KEY = 'docs-accordion-expandall';\n\nvar expandAccordion = function ($a) {\n    $a.parent('.accordion').find('.accordion-item, .accordion-content').addClass('is-active');\n    $a.text('Collapse');\n    $a.data('expandAll', false);\n\n    if (localStorage) {\n        localStorage.setItem(ACCORDION_KEY, 'true');\n    }\n};\n\nvar contractAccordion = function ($a) {\n    $a.parent('.accordion').find('.accordion-item, .accordion-content').removeClass('is-active');\n    $a.text('Expand');\n    $a.data('expandAll', true);\n\n    if (localStorage) {\n        localStorage.setItem(ACCORDION_KEY, 'false');\n    }\n};\n\n$('[data-expand-all]').on('click', function () {\n    var $a = $(this);\n\n    if ($a.data().expandAll === true) {\n        expandAccordion($a);\n    } else {\n        contractAccordion($a);\n    }\n});\n\nif (localStorage.getItem(ACCORDION_KEY) === 'true') {\n    expandAccordion($('[data-expand-all]'));\n} else {\n    $('[data-expand-all]').text('Expand');\n}","map":{"version":3,"sources":["packages/zurb:foundation-sites/_build/assets/js/docs.js"],"names":["f","exports","module","define","amd","g","window","global","self","Clipboard","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","DOCUMENT_NODE_TYPE","Element","prototype","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","element","selector","nodeType","parentNode","delegate","type","callback","useCapture","listenerFn","listener","apply","arguments","addEventListener","destroy","removeEventListener","delegateTarget","target","node","value","undefined","HTMLElement","nodeList","Object","toString","string","String","fn","is","listen","TypeError","listenNode","listenNodeList","listenSelector","Array","forEach","document","body","select","selectedText","nodeName","focus","isReadOnly","hasAttribute","setAttribute","setSelectionRange","removeAttribute","selection","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","E","on","name","ctx","push","once","off","_","emit","data","slice","evtArr","len","evts","liveEvents","factory","mod","clipboardAction","_select","_select2","_interopRequireDefault","obj","__esModule","_typeof","Symbol","iterator","constructor","_classCallCheck","instance","Constructor","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","key","protoProps","staticProps","ClipboardAction","options","resolveOptions","initSelection","action","container","emitter","text","trigger","selectFake","selectTarget","_this","isRTL","documentElement","getAttribute","removeFake","fakeHandlerCallback","fakeHandler","fakeElem","createElement","style","fontSize","border","padding","margin","position","yPosition","pageYOffset","scrollTop","top","appendChild","default","copyText","removeChild","succeeded","execCommand","err","handleResult","clearSelection","bind","set","_action","get","_target","tinyEmitter","goodListener","clipboard","_clipboardAction","_tinyEmitter","_goodListener","_clipboardAction2","_tinyEmitter2","_goodListener2","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","_Emitter","getPrototypeOf","listenClick","defaultAction","defaultTarget","defaultText","_this2","onClick","currentTarget","getAttributeValue","querySelector","isSupported","actions","support","queryCommandSupported","suffix","attribute","root","a0","$","isMsie","test","navigator","userAgent","match","isBlankString","str","escapeRegExChars","replace","isString","isNumber","isArray","isFunction","isObject","isPlainObject","isUndefined","isElement","isJQuery","toStr","proxy","each","collection","cb","reverseArgs","index","map","filter","grep","every","result","val","some","mixin","extend","identity","x","clone","getIdGenerator","counter","templatify","template","defer","setTimeout","debounce","func","wait","immediate","timeout","context","args","later","callNow","clearTimeout","throttle","previous","Date","now","remaining","stringify","JSON","guid","_p8","p","Math","random","substr","noop","VERSION","tokenizers","nonword","whitespace","ngram","getObjTokenizer","split","tokens","word","char","tokenizer","setKey","keys","tokenize","k","concat","LruCache","maxSize","reset","tailItem","list","tail","size","remove","hash","moveToFront","Node","add","List","head","next","prev","PersistentStorage","LOCAL_STORAGE","localStorage","setItem","removeItem","namespace","override","prefix","join","ttlKey","keyMatcher","RegExp","ls","_noop","_prefix","_ttlKey","clear","isExpired","_safeSet","decode","getItem","ttl","encode","gatherMatchingKeys","getTime","parseJSON","Transport","pendingRequestsCount","pendingRequests","sharedCache","maxPendingRequests","cancelled","lastReq","_send","transport","_get","limiter","_cache","cache","setMaxPendingRequests","num","resetCache","_fingerprint","fingerprint","url","param","that","jqXhr","done","fail","always","onDeckRequestArgs","resp","cancel","SearchIndex","CHILDREN","IDS","datumTokenizer","queryTokenizer","error","identify","matchAnyQueryToken","bootstrap","datums","trie","datum","id","normalizeTokens","token","chars","ch","shift","newNode","ids","search","query","getIntersection","unique","all","values","serialize","toLowerCase","array","seen","uniques","arrayA","arrayB","ai","bi","intersection","sort","lenArrayA","lenArrayB","Prefetch","protocol","thumbprint","prepare","transform","storage","cacheKey","_settings","settings","dataType","store","location","fromCache","stored","fromNetwork","onError","onResponse","Remote","indexResponse","cancelLastRequest","oParser","parse","defaults","sorter","initialize","sufficient","indexRemote","local","prefetch","remote","parsePrefetch","parseRemote","callbackToDeferred","ajax","wildcard","rateLimitBy","rateLimitWait","toRemotePrepare","toLimiter","prepareByReplace","prepareByWildcard","idenityPrepare","encodeURIComponent","method","wrapper","deferred","Deferred","onSuccess","resolve","reject","Bloodhound","old","noConflict","__ttAdapter","ttAdapter","withAsync","withoutAsync","sync","async","_loadPrefetch","loadPrefetch","serialized","promise","_initialize","initPromise","addLocalToIndex","force","processRemote","nonDuplicates","clearPrefetchCache","clearRemoteCache","WWW","defaultClassNames","input","hint","menu","dataset","suggestion","selectable","empty","open","cursor","highlight","build","www","classes","css","buildCss","html","buildHtml","selectors","buildSelectors","c","v","display","left","borderColor","boxShadow","opacity","verticalAlign","backgroundColor","inputWithNoHint","zIndex","ltr","right","rtl","backgroundImage","EventBus","deprecationMap","render","cursorchange","autocomplete","el","$el","_trigger","$e","Event","before","isDefaultPrevented","deprecatedType","EventEmitter","splitter","nextTick","getNextTick","onSync","onAsync","types","bindContext","_callbacks","callbacks","syncFlush","asyncFlush","getFlush","flush","nextTickFn","setImmediate","nextTickSetImmediate","nextTickSetTimeout","doc","pattern","tagName","className","wordsOnly","caseSensitive","diacriticInsensitive","accented","A","B","C","D","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","hightlight","regex","getRegex","traverse","hightlightTextNode","textNode","patternNode","wrapperNode","exec","splitText","cloneNode","replaceChild","childNode","TEXT_NODE_TYPE","childNodes","accent_replacer","chr","toUpperCase","patterns","escapedPatterns","regexStr","escapedWord","Input","specialKeyCodeMap","$hint","$input","attr","role","queryWhenFocused","hasFocus","$overflowHelper","buildOverflowHelper","_checkLanguageDirection","setHint","getHint","clearHint","clearHintIfInvalid","_updateDescendent","normalizeQuery","_onBlur","onBlur","resetInputValue","_onFocus","onFocus","_onKeydown","onKeydown","keyName","which","keyCode","_managePreventDefault","_shouldTrigger","_onInput","onInput","_setQuery","getInputValue","managePreventDefault","preventDefault","withModifier","shouldTrigger","checkLanguageDirection","dir","setQuery","silent","areEquivalent","hasDifferentWhitespace","areQueriesEquivalent","updateDescendent","event","blur","getLangDir","getQuery","setInputValue","hasQueryChangedSinceLastFocus","valIsPrefixOfHint","isValid","indexOf","hasOverflow","constraint","width","isCursorAtEnd","valueLength","selectionStart","moveStart","visibility","whiteSpace","fontFamily","fontStyle","fontVariant","fontWeight","wordSpacing","letterSpacing","textIndent","textRendering","textTransform","insertAfter","b","altKey","ctrlKey","metaKey","shiftKey","Dataset","nameGenerator","templates","notFound","source","isValidName","limit","displayFn","getDisplayFn","displayKey","getTemplates","_resetLastSuggestion","addClass","extractData","_overwrite","overwrite","suggestions","_renderSuggestions","pending","_renderPending","_renderNotFound","_empty","_append","append","$lastSuggestion","_appendSuggestions","renderSuggestions","$fragment","_getSuggestionsFragment","children","last","prepend","_getHeader","_getFooter","appendSuggestions","after","renderPending","renderNotFound","getSuggestionsFragment","fragment","createDocumentFragment","getSuggestionNode","_injectQuery","getFooter","footer","getHeader","header","resetLastSuggestion","injectQuery","_query","update","canceled","syncCalled","rendered","idx","abs","isEmpty","suggestionTemplate","Menu","$node","datasets","initializeDataset","oDataset","find","first","appendTo","_onSelectableClick","onSelectableClick","_onRendered","onRendered","toggleClass","_allDatasetsEmpty","_onCleared","onCleared","_propagate","propagate","allDatasetsEmpty","isDatasetEmpty","_getSelectables","getSelectables","_removeCursor","$selectable","getActiveSelectable","removeClass","_ensureVisible","ensureVisible","elTop","elBottom","nodeScrollTop","nodeHeight","outerHeight","height","parseInt","setCursor","isOpen","hasClass","close","setLanguageDirection","selectableRelativeToCursor","delta","$selectables","$oldCursor","oldIndex","newIndex","eq","getSelectableData","getTopSelectable","isValidUpdate","updateDataset","clearDataset","destroyDataset","Status","overflow","clip","cleared","words","DefaultMenu","_show","_hide","hide","show","Typeahead","onFocused","onBlurred","onEnterKeyed","onTabKeyed","onEscKeyed","onUpKeyed","onDownKeyed","onLeftKeyed","onRightKeyed","onQueryChanged","onWhitespaceChanged","eventBus","minLength","enabled","active","activate","_hacks","_onSelectableClicked","_onAsyncRequested","_onAsyncCanceled","_onAsyncReceived","_onDatasetRendered","_onDatasetCleared","_onLangDirChanged","hacks","$menu","isActive","hasActive","activeElement","has","stopImmediatePropagation","onSelectableClicked","onDatasetCleared","_updateHint","onDatasetRendered","onAsyncRequested","onAsyncCanceled","onAsyncReceived","_onFocused","_minLengthMet","_onBlurred","_onEnterKeyed","stopPropagation","_onTabKeyed","_onEscKeyed","_onUpKeyed","moveCursor","_onDownKeyed","_onLeftKeyed","_onRightKeyed","_onQueryChanged","_onWhitespaceChanged","onLangDirChanged","_openIfActive","openIfActive","minLengthMet","updateHint","escapedQuery","frontMatchRegEx","isEnabled","enable","disable","deactivate","setVal","getVal","$candidate","datasetName","cancelMove","methods","typeahead","attrs","classNames","attach","$wrapper","defaultHint","defaultMenu","status","MenuConstructor","d","$elOrNull","buildHintFromInput","prepInput","wrap","parent","ttEach","success","moveCursoe","newVal","revert","$els","removeData","getBackgroundStyles","prop","removeAttr","spellcheck","tabindex","backgroundAttachment","backgroundClip","backgroundOrigin","backgroundPosition","backgroundRepeat","backgroundSize","detach","copyBtnId","$button","console","$ks","$codepen","$code","$link","slideToggle","insertBefore","getJSON","elem","arr","terms","tags","item","description","sel","href","link","$h2s","$toc","parents","anchor","Foundation","Magellan","offset","$window","nav","QueryString","query_string","substring","vars","pair","decodeURIComponent","onYouTubeIframeAPIReady","mainPlayer","YT","Player","videoId","playerVars","showinfo","events","onPlayerReady","onPlayerStateChange","$vid","linkableVideo","embeddedPlayers","video","player","playVideo","$videoInner","$videoOverlay","PlayerState","PLAYING","$videoOuter","tag","src","firstScriptTag","getElementsByTagName","videoOffset","videoHeight","myScrollPosition","stopVideo","getSeconds","time","openVideo","sections","seconds","Number","MediaQuery","seekTo","topic","cta","addBuildingBlocks","slug","image_url","click","foundation","$transitionDemo","change","Motion","stickyMag","loaded","atLeast","getScript","initializeMaps","mapOptions","zoom","center","google","maps","LatLng","styles","mapElement","getElementById","Map","markerOptions","lat","lng","title","marker","Marker","_kmq","_kmk","_kms","log","version","ACCORDION_KEY","expandAccordion","$a","contractAccordion","expandAll"],"mappings":"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","file":"packages/zurb:foundation-sites/_build/assets/js/docs.js.map","sourcesContent":["/*!\n * clipboard.js v1.7.1\n * https://zenorocha.github.io/clipboard.js\n *\n * Licensed MIT Â© Zeno Rocha\n */\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Clipboard = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n},{}],2:[function(require,module,exports){\nvar closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n},{\"./closest\":1}],3:[function(require,module,exports){\n/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n\n},{}],4:[function(require,module,exports){\nvar is = require('./is');\nvar delegate = require('delegate');\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n\n},{\"./is\":3,\"delegate\":2}],5:[function(require,module,exports){\nfunction select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n\n},{}],6:[function(require,module,exports){\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n\n},{}],7:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['module', 'select'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('select'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.select);\n        global.clipboardAction = mod.exports;\n    }\n})(this, function (module, _select) {\n    'use strict';\n\n    var _select2 = _interopRequireDefault(_select);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    var ClipboardAction = function () {\n        /**\n         * @param {Object} options\n         */\n        function ClipboardAction(options) {\n            _classCallCheck(this, ClipboardAction);\n\n            this.resolveOptions(options);\n            this.initSelection();\n        }\n\n        /**\n         * Defines base properties passed from constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(ClipboardAction, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = options.action;\n                this.container = options.container;\n                this.emitter = options.emitter;\n                this.target = options.target;\n                this.text = options.text;\n                this.trigger = options.trigger;\n\n                this.selectedText = '';\n            }\n        }, {\n            key: 'initSelection',\n            value: function initSelection() {\n                if (this.text) {\n                    this.selectFake();\n                } else if (this.target) {\n                    this.selectTarget();\n                }\n            }\n        }, {\n            key: 'selectFake',\n            value: function selectFake() {\n                var _this = this;\n\n                var isRTL = document.documentElement.getAttribute('dir') == 'rtl';\n\n                this.removeFake();\n\n                this.fakeHandlerCallback = function () {\n                    return _this.removeFake();\n                };\n                this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;\n\n                this.fakeElem = document.createElement('textarea');\n                // Prevent zooming on iOS\n                this.fakeElem.style.fontSize = '12pt';\n                // Reset box model\n                this.fakeElem.style.border = '0';\n                this.fakeElem.style.padding = '0';\n                this.fakeElem.style.margin = '0';\n                // Move element out of screen horizontally\n                this.fakeElem.style.position = 'absolute';\n                this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px';\n                // Move element to the same position vertically\n                var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n                this.fakeElem.style.top = yPosition + 'px';\n\n                this.fakeElem.setAttribute('readonly', '');\n                this.fakeElem.value = this.text;\n\n                this.container.appendChild(this.fakeElem);\n\n                this.selectedText = (0, _select2.default)(this.fakeElem);\n                this.copyText();\n            }\n        }, {\n            key: 'removeFake',\n            value: function removeFake() {\n                if (this.fakeHandler) {\n                    this.container.removeEventListener('click', this.fakeHandlerCallback);\n                    this.fakeHandler = null;\n                    this.fakeHandlerCallback = null;\n                }\n\n                if (this.fakeElem) {\n                    this.container.removeChild(this.fakeElem);\n                    this.fakeElem = null;\n                }\n            }\n        }, {\n            key: 'selectTarget',\n            value: function selectTarget() {\n                this.selectedText = (0, _select2.default)(this.target);\n                this.copyText();\n            }\n        }, {\n            key: 'copyText',\n            value: function copyText() {\n                var succeeded = void 0;\n\n                try {\n                    succeeded = document.execCommand(this.action);\n                } catch (err) {\n                    succeeded = false;\n                }\n\n                this.handleResult(succeeded);\n            }\n        }, {\n            key: 'handleResult',\n            value: function handleResult(succeeded) {\n                this.emitter.emit(succeeded ? 'success' : 'error', {\n                    action: this.action,\n                    text: this.selectedText,\n                    trigger: this.trigger,\n                    clearSelection: this.clearSelection.bind(this)\n                });\n            }\n        }, {\n            key: 'clearSelection',\n            value: function clearSelection() {\n                if (this.trigger) {\n                    this.trigger.focus();\n                }\n\n                window.getSelection().removeAllRanges();\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.removeFake();\n            }\n        }, {\n            key: 'action',\n            set: function set() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';\n\n                this._action = action;\n\n                if (this._action !== 'copy' && this._action !== 'cut') {\n                    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n                }\n            },\n            get: function get() {\n                return this._action;\n            }\n        }, {\n            key: 'target',\n            set: function set(target) {\n                if (target !== undefined) {\n                    if (target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && target.nodeType === 1) {\n                        if (this.action === 'copy' && target.hasAttribute('disabled')) {\n                            throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n                        }\n\n                        if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n                            throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n                        }\n\n                        this._target = target;\n                    } else {\n                        throw new Error('Invalid \"target\" value, use a valid Element');\n                    }\n                }\n            },\n            get: function get() {\n                return this._target;\n            }\n        }]);\n\n        return ClipboardAction;\n    }();\n\n    module.exports = ClipboardAction;\n});\n\n},{\"select\":5}],8:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['module', './clipboard-action', 'tiny-emitter', 'good-listener'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('./clipboard-action'), require('tiny-emitter'), require('good-listener'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.clipboardAction, global.tinyEmitter, global.goodListener);\n        global.clipboard = mod.exports;\n    }\n})(this, function (module, _clipboardAction, _tinyEmitter, _goodListener) {\n    'use strict';\n\n    var _clipboardAction2 = _interopRequireDefault(_clipboardAction);\n\n    var _tinyEmitter2 = _interopRequireDefault(_tinyEmitter);\n\n    var _goodListener2 = _interopRequireDefault(_goodListener);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    function _possibleConstructorReturn(self, call) {\n        if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n    }\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                enumerable: false,\n                writable: true,\n                configurable: true\n            }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n    }\n\n    var Clipboard = function (_Emitter) {\n        _inherits(Clipboard, _Emitter);\n\n        /**\n         * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n         * @param {Object} options\n         */\n        function Clipboard(trigger, options) {\n            _classCallCheck(this, Clipboard);\n\n            var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this));\n\n            _this.resolveOptions(options);\n            _this.listenClick(trigger);\n            return _this;\n        }\n\n        /**\n         * Defines if attributes would be resolved using internal setter functions\n         * or custom functions that were passed in the constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(Clipboard, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n                this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n                this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n                this.container = _typeof(options.container) === 'object' ? options.container : document.body;\n            }\n        }, {\n            key: 'listenClick',\n            value: function listenClick(trigger) {\n                var _this2 = this;\n\n                this.listener = (0, _goodListener2.default)(trigger, 'click', function (e) {\n                    return _this2.onClick(e);\n                });\n            }\n        }, {\n            key: 'onClick',\n            value: function onClick(e) {\n                var trigger = e.delegateTarget || e.currentTarget;\n\n                if (this.clipboardAction) {\n                    this.clipboardAction = null;\n                }\n\n                this.clipboardAction = new _clipboardAction2.default({\n                    action: this.action(trigger),\n                    target: this.target(trigger),\n                    text: this.text(trigger),\n                    container: this.container,\n                    trigger: trigger,\n                    emitter: this\n                });\n            }\n        }, {\n            key: 'defaultAction',\n            value: function defaultAction(trigger) {\n                return getAttributeValue('action', trigger);\n            }\n        }, {\n            key: 'defaultTarget',\n            value: function defaultTarget(trigger) {\n                var selector = getAttributeValue('target', trigger);\n\n                if (selector) {\n                    return document.querySelector(selector);\n                }\n            }\n        }, {\n            key: 'defaultText',\n            value: function defaultText(trigger) {\n                return getAttributeValue('text', trigger);\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.listener.destroy();\n\n                if (this.clipboardAction) {\n                    this.clipboardAction.destroy();\n                    this.clipboardAction = null;\n                }\n            }\n        }], [{\n            key: 'isSupported',\n            value: function isSupported() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n\n                var actions = typeof action === 'string' ? [action] : action;\n                var support = !!document.queryCommandSupported;\n\n                actions.forEach(function (action) {\n                    support = support && !!document.queryCommandSupported(action);\n                });\n\n                return support;\n            }\n        }]);\n\n        return Clipboard;\n    }(_tinyEmitter2.default);\n\n    /**\n     * Helper function to retrieve attribute value.\n     * @param {String} suffix\n     * @param {Element} element\n     */\n    function getAttributeValue(suffix, element) {\n        var attribute = 'data-clipboard-' + suffix;\n\n        if (!element.hasAttribute(attribute)) {\n            return;\n        }\n\n        return element.getAttribute(attribute);\n    }\n\n    module.exports = Clipboard;\n});\n\n},{\"./clipboard-action\":7,\"good-listener\":4,\"tiny-emitter\":6}]},{},[8])(8)\n});\n/*!\n * typeahead.js 1.1.1\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2017 Twitter, Inc. and other contributors; Licensed MIT\n */\n\n(function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define([ \"jquery\" ], function(a0) {\n            return root[\"Bloodhound\"] = factory(a0);\n        });\n    } else if (typeof exports === \"object\") {\n        module.exports = factory(require(\"jquery\"));\n    } else {\n        root[\"Bloodhound\"] = factory(root[\"jQuery\"]);\n    }\n})(this, function($) {\n    var _ = function() {\n        \"use strict\";\n        return {\n            isMsie: function() {\n                return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\n            },\n            isBlankString: function(str) {\n                return !str || /^\\s*$/.test(str);\n            },\n            escapeRegExChars: function(str) {\n                return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n            },\n            isString: function(obj) {\n                return typeof obj === \"string\";\n            },\n            isNumber: function(obj) {\n                return typeof obj === \"number\";\n            },\n            isArray: $.isArray,\n            isFunction: $.isFunction,\n            isObject: $.isPlainObject,\n            isUndefined: function(obj) {\n                return typeof obj === \"undefined\";\n            },\n            isElement: function(obj) {\n                return !!(obj && obj.nodeType === 1);\n            },\n            isJQuery: function(obj) {\n                return obj instanceof $;\n            },\n            toStr: function toStr(s) {\n                return _.isUndefined(s) || s === null ? \"\" : s + \"\";\n            },\n            bind: $.proxy,\n            each: function(collection, cb) {\n                $.each(collection, reverseArgs);\n                function reverseArgs(index, value) {\n                    return cb(value, index);\n                }\n            },\n            map: $.map,\n            filter: $.grep,\n            every: function(obj, test) {\n                var result = true;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (!(result = test.call(null, val, key, obj))) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            some: function(obj, test) {\n                var result = false;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (result = test.call(null, val, key, obj)) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            mixin: $.extend,\n            identity: function(x) {\n                return x;\n            },\n            clone: function(obj) {\n                return $.extend(true, {}, obj);\n            },\n            getIdGenerator: function() {\n                var counter = 0;\n                return function() {\n                    return counter++;\n                };\n            },\n            templatify: function templatify(obj) {\n                return $.isFunction(obj) ? obj : template;\n                function template() {\n                    return String(obj);\n                }\n            },\n            defer: function(fn) {\n                setTimeout(fn, 0);\n            },\n            debounce: function(func, wait, immediate) {\n                var timeout, result;\n                return function() {\n                    var context = this, args = arguments, later, callNow;\n                    later = function() {\n                        timeout = null;\n                        if (!immediate) {\n                            result = func.apply(context, args);\n                        }\n                    };\n                    callNow = immediate && !timeout;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(later, wait);\n                    if (callNow) {\n                        result = func.apply(context, args);\n                    }\n                    return result;\n                };\n            },\n            throttle: function(func, wait) {\n                var context, args, timeout, result, previous, later;\n                previous = 0;\n                later = function() {\n                    previous = new Date();\n                    timeout = null;\n                    result = func.apply(context, args);\n                };\n                return function() {\n                    var now = new Date(), remaining = wait - (now - previous);\n                    context = this;\n                    args = arguments;\n                    if (remaining <= 0) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                        previous = now;\n                        result = func.apply(context, args);\n                    } else if (!timeout) {\n                        timeout = setTimeout(later, remaining);\n                    }\n                    return result;\n                };\n            },\n            stringify: function(val) {\n                return _.isString(val) ? val : JSON.stringify(val);\n            },\n            guid: function() {\n                function _p8(s) {\n                    var p = (Math.random().toString(16) + \"000000000\").substr(2, 8);\n                    return s ? \"-\" + p.substr(0, 4) + \"-\" + p.substr(4, 4) : p;\n                }\n                return \"tt-\" + _p8() + _p8(true) + _p8(true) + _p8();\n            },\n            noop: function() {}\n        };\n    }();\n    var VERSION = \"1.1.1\";\n    var tokenizers = function() {\n        \"use strict\";\n        return {\n            nonword: nonword,\n            whitespace: whitespace,\n            ngram: ngram,\n            obj: {\n                nonword: getObjTokenizer(nonword),\n                whitespace: getObjTokenizer(whitespace),\n                ngram: getObjTokenizer(ngram)\n            }\n        };\n        function whitespace(str) {\n            str = _.toStr(str);\n            return str ? str.split(/\\s+/) : [];\n        }\n        function nonword(str) {\n            str = _.toStr(str);\n            return str ? str.split(/\\W+/) : [];\n        }\n        function ngram(str) {\n            str = _.toStr(str);\n            var tokens = [], word = \"\";\n            _.each(str.split(\"\"), function(char) {\n                if (char.match(/\\s+/)) {\n                    word = \"\";\n                } else {\n                    tokens.push(word + char);\n                    word += char;\n                }\n            });\n            return tokens;\n        }\n        function getObjTokenizer(tokenizer) {\n            return function setKey(keys) {\n                keys = _.isArray(keys) ? keys : [].slice.call(arguments, 0);\n                return function tokenize(o) {\n                    var tokens = [];\n                    _.each(keys, function(k) {\n                        tokens = tokens.concat(tokenizer(_.toStr(o[k])));\n                    });\n                    return tokens;\n                };\n            };\n        }\n    }();\n    var LruCache = function() {\n        \"use strict\";\n        function LruCache(maxSize) {\n            this.maxSize = _.isNumber(maxSize) ? maxSize : 100;\n            this.reset();\n            if (this.maxSize <= 0) {\n                this.set = this.get = $.noop;\n            }\n        }\n        _.mixin(LruCache.prototype, {\n            set: function set(key, val) {\n                var tailItem = this.list.tail, node;\n                if (this.size >= this.maxSize) {\n                    this.list.remove(tailItem);\n                    delete this.hash[tailItem.key];\n                    this.size--;\n                }\n                if (node = this.hash[key]) {\n                    node.val = val;\n                    this.list.moveToFront(node);\n                } else {\n                    node = new Node(key, val);\n                    this.list.add(node);\n                    this.hash[key] = node;\n                    this.size++;\n                }\n            },\n            get: function get(key) {\n                var node = this.hash[key];\n                if (node) {\n                    this.list.moveToFront(node);\n                    return node.val;\n                }\n            },\n            reset: function reset() {\n                this.size = 0;\n                this.hash = {};\n                this.list = new List();\n            }\n        });\n        function List() {\n            this.head = this.tail = null;\n        }\n        _.mixin(List.prototype, {\n            add: function add(node) {\n                if (this.head) {\n                    node.next = this.head;\n                    this.head.prev = node;\n                }\n                this.head = node;\n                this.tail = this.tail || node;\n            },\n            remove: function remove(node) {\n                node.prev ? node.prev.next = node.next : this.head = node.next;\n                node.next ? node.next.prev = node.prev : this.tail = node.prev;\n            },\n            moveToFront: function(node) {\n                this.remove(node);\n                this.add(node);\n            }\n        });\n        function Node(key, val) {\n            this.key = key;\n            this.val = val;\n            this.prev = this.next = null;\n        }\n        return LruCache;\n    }();\n    var PersistentStorage = function() {\n        \"use strict\";\n        var LOCAL_STORAGE;\n        try {\n            LOCAL_STORAGE = window.localStorage;\n            LOCAL_STORAGE.setItem(\"~~~\", \"!\");\n            LOCAL_STORAGE.removeItem(\"~~~\");\n        } catch (err) {\n            LOCAL_STORAGE = null;\n        }\n        function PersistentStorage(namespace, override) {\n            this.prefix = [ \"__\", namespace, \"__\" ].join(\"\");\n            this.ttlKey = \"__ttl__\";\n            this.keyMatcher = new RegExp(\"^\" + _.escapeRegExChars(this.prefix));\n            this.ls = override || LOCAL_STORAGE;\n            !this.ls && this._noop();\n        }\n        _.mixin(PersistentStorage.prototype, {\n            _prefix: function(key) {\n                return this.prefix + key;\n            },\n            _ttlKey: function(key) {\n                return this._prefix(key) + this.ttlKey;\n            },\n            _noop: function() {\n                this.get = this.set = this.remove = this.clear = this.isExpired = _.noop;\n            },\n            _safeSet: function(key, val) {\n                try {\n                    this.ls.setItem(key, val);\n                } catch (err) {\n                    if (err.name === \"QuotaExceededError\") {\n                        this.clear();\n                        this._noop();\n                    }\n                }\n            },\n            get: function(key) {\n                if (this.isExpired(key)) {\n                    this.remove(key);\n                }\n                return decode(this.ls.getItem(this._prefix(key)));\n            },\n            set: function(key, val, ttl) {\n                if (_.isNumber(ttl)) {\n                    this._safeSet(this._ttlKey(key), encode(now() + ttl));\n                } else {\n                    this.ls.removeItem(this._ttlKey(key));\n                }\n                return this._safeSet(this._prefix(key), encode(val));\n            },\n            remove: function(key) {\n                this.ls.removeItem(this._ttlKey(key));\n                this.ls.removeItem(this._prefix(key));\n                return this;\n            },\n            clear: function() {\n                var i, keys = gatherMatchingKeys(this.keyMatcher);\n                for (i = keys.length; i--; ) {\n                    this.remove(keys[i]);\n                }\n                return this;\n            },\n            isExpired: function(key) {\n                var ttl = decode(this.ls.getItem(this._ttlKey(key)));\n                return _.isNumber(ttl) && now() > ttl ? true : false;\n            }\n        });\n        return PersistentStorage;\n        function now() {\n            return new Date().getTime();\n        }\n        function encode(val) {\n            return JSON.stringify(_.isUndefined(val) ? null : val);\n        }\n        function decode(val) {\n            return $.parseJSON(val);\n        }\n        function gatherMatchingKeys(keyMatcher) {\n            var i, key, keys = [], len = LOCAL_STORAGE.length;\n            for (i = 0; i < len; i++) {\n                if ((key = LOCAL_STORAGE.key(i)).match(keyMatcher)) {\n                    keys.push(key.replace(keyMatcher, \"\"));\n                }\n            }\n            return keys;\n        }\n    }();\n    var Transport = function() {\n        \"use strict\";\n        var pendingRequestsCount = 0, pendingRequests = {}, sharedCache = new LruCache(10);\n        function Transport(o) {\n            o = o || {};\n            this.maxPendingRequests = o.maxPendingRequests || 6;\n            this.cancelled = false;\n            this.lastReq = null;\n            this._send = o.transport;\n            this._get = o.limiter ? o.limiter(this._get) : this._get;\n            this._cache = o.cache === false ? new LruCache(0) : sharedCache;\n        }\n        Transport.setMaxPendingRequests = function setMaxPendingRequests(num) {\n            this.maxPendingRequests = num;\n        };\n        Transport.resetCache = function resetCache() {\n            sharedCache.reset();\n        };\n        _.mixin(Transport.prototype, {\n            _fingerprint: function fingerprint(o) {\n                o = o || {};\n                return o.url + o.type + $.param(o.data || {});\n            },\n            _get: function(o, cb) {\n                var that = this, fingerprint, jqXhr;\n                fingerprint = this._fingerprint(o);\n                if (this.cancelled || fingerprint !== this.lastReq) {\n                    return;\n                }\n                if (jqXhr = pendingRequests[fingerprint]) {\n                    jqXhr.done(done).fail(fail);\n                } else if (pendingRequestsCount < this.maxPendingRequests) {\n                    pendingRequestsCount++;\n                    pendingRequests[fingerprint] = this._send(o).done(done).fail(fail).always(always);\n                } else {\n                    this.onDeckRequestArgs = [].slice.call(arguments, 0);\n                }\n                function done(resp) {\n                    cb(null, resp);\n                    that._cache.set(fingerprint, resp);\n                }\n                function fail() {\n                    cb(true);\n                }\n                function always() {\n                    pendingRequestsCount--;\n                    delete pendingRequests[fingerprint];\n                    if (that.onDeckRequestArgs) {\n                        that._get.apply(that, that.onDeckRequestArgs);\n                        that.onDeckRequestArgs = null;\n                    }\n                }\n            },\n            get: function(o, cb) {\n                var resp, fingerprint;\n                cb = cb || $.noop;\n                o = _.isString(o) ? {\n                    url: o\n                } : o || {};\n                fingerprint = this._fingerprint(o);\n                this.cancelled = false;\n                this.lastReq = fingerprint;\n                if (resp = this._cache.get(fingerprint)) {\n                    cb(null, resp);\n                } else {\n                    this._get(o, cb);\n                }\n            },\n            cancel: function() {\n                this.cancelled = true;\n            }\n        });\n        return Transport;\n    }();\n    var SearchIndex = window.SearchIndex = function() {\n        \"use strict\";\n        var CHILDREN = \"c\", IDS = \"i\";\n        function SearchIndex(o) {\n            o = o || {};\n            if (!o.datumTokenizer || !o.queryTokenizer) {\n                $.error(\"datumTokenizer and queryTokenizer are both required\");\n            }\n            this.identify = o.identify || _.stringify;\n            this.datumTokenizer = o.datumTokenizer;\n            this.queryTokenizer = o.queryTokenizer;\n            this.matchAnyQueryToken = o.matchAnyQueryToken;\n            this.reset();\n        }\n        _.mixin(SearchIndex.prototype, {\n            bootstrap: function bootstrap(o) {\n                this.datums = o.datums;\n                this.trie = o.trie;\n            },\n            add: function(data) {\n                var that = this;\n                data = _.isArray(data) ? data : [ data ];\n                _.each(data, function(datum) {\n                    var id, tokens;\n                    that.datums[id = that.identify(datum)] = datum;\n                    tokens = normalizeTokens(that.datumTokenizer(datum));\n                    _.each(tokens, function(token) {\n                        var node, chars, ch;\n                        node = that.trie;\n                        chars = token.split(\"\");\n                        while (ch = chars.shift()) {\n                            node = node[CHILDREN][ch] || (node[CHILDREN][ch] = newNode());\n                            node[IDS].push(id);\n                        }\n                    });\n                });\n            },\n            get: function get(ids) {\n                var that = this;\n                return _.map(ids, function(id) {\n                    return that.datums[id];\n                });\n            },\n            search: function search(query) {\n                var that = this, tokens, matches;\n                tokens = normalizeTokens(this.queryTokenizer(query));\n                _.each(tokens, function(token) {\n                    var node, chars, ch, ids;\n                    if (matches && matches.length === 0 && !that.matchAnyQueryToken) {\n                        return false;\n                    }\n                    node = that.trie;\n                    chars = token.split(\"\");\n                    while (node && (ch = chars.shift())) {\n                        node = node[CHILDREN][ch];\n                    }\n                    if (node && chars.length === 0) {\n                        ids = node[IDS].slice(0);\n                        matches = matches ? getIntersection(matches, ids) : ids;\n                    } else {\n                        if (!that.matchAnyQueryToken) {\n                            matches = [];\n                            return false;\n                        }\n                    }\n                });\n                return matches ? _.map(unique(matches), function(id) {\n                    return that.datums[id];\n                }) : [];\n            },\n            all: function all() {\n                var values = [];\n                for (var key in this.datums) {\n                    values.push(this.datums[key]);\n                }\n                return values;\n            },\n            reset: function reset() {\n                this.datums = {};\n                this.trie = newNode();\n            },\n            serialize: function serialize() {\n                return {\n                    datums: this.datums,\n                    trie: this.trie\n                };\n            }\n        });\n        return SearchIndex;\n        function normalizeTokens(tokens) {\n            tokens = _.filter(tokens, function(token) {\n                return !!token;\n            });\n            tokens = _.map(tokens, function(token) {\n                return token.toLowerCase();\n            });\n            return tokens;\n        }\n        function newNode() {\n            var node = {};\n            node[IDS] = [];\n            node[CHILDREN] = {};\n            return node;\n        }\n        function unique(array) {\n            var seen = {}, uniques = [];\n            for (var i = 0, len = array.length; i < len; i++) {\n                if (!seen[array[i]]) {\n                    seen[array[i]] = true;\n                    uniques.push(array[i]);\n                }\n            }\n            return uniques;\n        }\n        function getIntersection(arrayA, arrayB) {\n            var ai = 0, bi = 0, intersection = [];\n            arrayA = arrayA.sort();\n            arrayB = arrayB.sort();\n            var lenArrayA = arrayA.length, lenArrayB = arrayB.length;\n            while (ai < lenArrayA && bi < lenArrayB) {\n                if (arrayA[ai] < arrayB[bi]) {\n                    ai++;\n                } else if (arrayA[ai] > arrayB[bi]) {\n                    bi++;\n                } else {\n                    intersection.push(arrayA[ai]);\n                    ai++;\n                    bi++;\n                }\n            }\n            return intersection;\n        }\n    }();\n    var Prefetch = function() {\n        \"use strict\";\n        var keys;\n        keys = {\n            data: \"data\",\n            protocol: \"protocol\",\n            thumbprint: \"thumbprint\"\n        };\n        function Prefetch(o) {\n            this.url = o.url;\n            this.ttl = o.ttl;\n            this.cache = o.cache;\n            this.prepare = o.prepare;\n            this.transform = o.transform;\n            this.transport = o.transport;\n            this.thumbprint = o.thumbprint;\n            this.storage = new PersistentStorage(o.cacheKey);\n        }\n        _.mixin(Prefetch.prototype, {\n            _settings: function settings() {\n                return {\n                    url: this.url,\n                    type: \"GET\",\n                    dataType: \"json\"\n                };\n            },\n            store: function store(data) {\n                if (!this.cache) {\n                    return;\n                }\n                this.storage.set(keys.data, data, this.ttl);\n                this.storage.set(keys.protocol, location.protocol, this.ttl);\n                this.storage.set(keys.thumbprint, this.thumbprint, this.ttl);\n            },\n            fromCache: function fromCache() {\n                var stored = {}, isExpired;\n                if (!this.cache) {\n                    return null;\n                }\n                stored.data = this.storage.get(keys.data);\n                stored.protocol = this.storage.get(keys.protocol);\n                stored.thumbprint = this.storage.get(keys.thumbprint);\n                isExpired = stored.thumbprint !== this.thumbprint || stored.protocol !== location.protocol;\n                return stored.data && !isExpired ? stored.data : null;\n            },\n            fromNetwork: function(cb) {\n                var that = this, settings;\n                if (!cb) {\n                    return;\n                }\n                settings = this.prepare(this._settings());\n                this.transport(settings).fail(onError).done(onResponse);\n                function onError() {\n                    cb(true);\n                }\n                function onResponse(resp) {\n                    cb(null, that.transform(resp));\n                }\n            },\n            clear: function clear() {\n                this.storage.clear();\n                return this;\n            }\n        });\n        return Prefetch;\n    }();\n    var Remote = function() {\n        \"use strict\";\n        function Remote(o) {\n            this.url = o.url;\n            this.prepare = o.prepare;\n            this.transform = o.transform;\n            this.indexResponse = o.indexResponse;\n            this.transport = new Transport({\n                cache: o.cache,\n                limiter: o.limiter,\n                transport: o.transport,\n                maxPendingRequests: o.maxPendingRequests\n            });\n        }\n        _.mixin(Remote.prototype, {\n            _settings: function settings() {\n                return {\n                    url: this.url,\n                    type: \"GET\",\n                    dataType: \"json\"\n                };\n            },\n            get: function get(query, cb) {\n                var that = this, settings;\n                if (!cb) {\n                    return;\n                }\n                query = query || \"\";\n                settings = this.prepare(query, this._settings());\n                return this.transport.get(settings, onResponse);\n                function onResponse(err, resp) {\n                    err ? cb([]) : cb(that.transform(resp));\n                }\n            },\n            cancelLastRequest: function cancelLastRequest() {\n                this.transport.cancel();\n            }\n        });\n        return Remote;\n    }();\n    var oParser = function() {\n        \"use strict\";\n        return function parse(o) {\n            var defaults, sorter;\n            defaults = {\n                initialize: true,\n                identify: _.stringify,\n                datumTokenizer: null,\n                queryTokenizer: null,\n                matchAnyQueryToken: false,\n                sufficient: 5,\n                indexRemote: false,\n                sorter: null,\n                local: [],\n                prefetch: null,\n                remote: null\n            };\n            o = _.mixin(defaults, o || {});\n            !o.datumTokenizer && $.error(\"datumTokenizer is required\");\n            !o.queryTokenizer && $.error(\"queryTokenizer is required\");\n            sorter = o.sorter;\n            o.sorter = sorter ? function(x) {\n                return x.sort(sorter);\n            } : _.identity;\n            o.local = _.isFunction(o.local) ? o.local() : o.local;\n            o.prefetch = parsePrefetch(o.prefetch);\n            o.remote = parseRemote(o.remote);\n            return o;\n        };\n        function parsePrefetch(o) {\n            var defaults;\n            if (!o) {\n                return null;\n            }\n            defaults = {\n                url: null,\n                ttl: 24 * 60 * 60 * 1e3,\n                cache: true,\n                cacheKey: null,\n                thumbprint: \"\",\n                prepare: _.identity,\n                transform: _.identity,\n                transport: null\n            };\n            o = _.isString(o) ? {\n                url: o\n            } : o;\n            o = _.mixin(defaults, o);\n            !o.url && $.error(\"prefetch requires url to be set\");\n            o.transform = o.filter || o.transform;\n            o.cacheKey = o.cacheKey || o.url;\n            o.thumbprint = VERSION + o.thumbprint;\n            o.transport = o.transport ? callbackToDeferred(o.transport) : $.ajax;\n            return o;\n        }\n        function parseRemote(o) {\n            var defaults;\n            if (!o) {\n                return;\n            }\n            defaults = {\n                url: null,\n                cache: true,\n                prepare: null,\n                replace: null,\n                wildcard: null,\n                limiter: null,\n                rateLimitBy: \"debounce\",\n                rateLimitWait: 300,\n                transform: _.identity,\n                transport: null\n            };\n            o = _.isString(o) ? {\n                url: o\n            } : o;\n            o = _.mixin(defaults, o);\n            !o.url && $.error(\"remote requires url to be set\");\n            o.transform = o.filter || o.transform;\n            o.prepare = toRemotePrepare(o);\n            o.limiter = toLimiter(o);\n            o.transport = o.transport ? callbackToDeferred(o.transport) : $.ajax;\n            delete o.replace;\n            delete o.wildcard;\n            delete o.rateLimitBy;\n            delete o.rateLimitWait;\n            return o;\n        }\n        function toRemotePrepare(o) {\n            var prepare, replace, wildcard;\n            prepare = o.prepare;\n            replace = o.replace;\n            wildcard = o.wildcard;\n            if (prepare) {\n                return prepare;\n            }\n            if (replace) {\n                prepare = prepareByReplace;\n            } else if (o.wildcard) {\n                prepare = prepareByWildcard;\n            } else {\n                prepare = idenityPrepare;\n            }\n            return prepare;\n            function prepareByReplace(query, settings) {\n                settings.url = replace(settings.url, query);\n                return settings;\n            }\n            function prepareByWildcard(query, settings) {\n                settings.url = settings.url.replace(wildcard, encodeURIComponent(query));\n                return settings;\n            }\n            function idenityPrepare(query, settings) {\n                return settings;\n            }\n        }\n        function toLimiter(o) {\n            var limiter, method, wait;\n            limiter = o.limiter;\n            method = o.rateLimitBy;\n            wait = o.rateLimitWait;\n            if (!limiter) {\n                limiter = /^throttle$/i.test(method) ? throttle(wait) : debounce(wait);\n            }\n            return limiter;\n            function debounce(wait) {\n                return function debounce(fn) {\n                    return _.debounce(fn, wait);\n                };\n            }\n            function throttle(wait) {\n                return function throttle(fn) {\n                    return _.throttle(fn, wait);\n                };\n            }\n        }\n        function callbackToDeferred(fn) {\n            return function wrapper(o) {\n                var deferred = $.Deferred();\n                fn(o, onSuccess, onError);\n                return deferred;\n                function onSuccess(resp) {\n                    _.defer(function() {\n                        deferred.resolve(resp);\n                    });\n                }\n                function onError(err) {\n                    _.defer(function() {\n                        deferred.reject(err);\n                    });\n                }\n            };\n        }\n    }();\n    var Bloodhound = function() {\n        \"use strict\";\n        var old;\n        old = window && window.Bloodhound;\n        function Bloodhound(o) {\n            o = oParser(o);\n            this.sorter = o.sorter;\n            this.identify = o.identify;\n            this.sufficient = o.sufficient;\n            this.indexRemote = o.indexRemote;\n            this.local = o.local;\n            this.remote = o.remote ? new Remote(o.remote) : null;\n            this.prefetch = o.prefetch ? new Prefetch(o.prefetch) : null;\n            this.index = new SearchIndex({\n                identify: this.identify,\n                datumTokenizer: o.datumTokenizer,\n                queryTokenizer: o.queryTokenizer\n            });\n            o.initialize !== false && this.initialize();\n        }\n        Bloodhound.noConflict = function noConflict() {\n            window && (window.Bloodhound = old);\n            return Bloodhound;\n        };\n        Bloodhound.tokenizers = tokenizers;\n        _.mixin(Bloodhound.prototype, {\n            __ttAdapter: function ttAdapter() {\n                var that = this;\n                return this.remote ? withAsync : withoutAsync;\n                function withAsync(query, sync, async) {\n                    return that.search(query, sync, async);\n                }\n                function withoutAsync(query, sync) {\n                    return that.search(query, sync);\n                }\n            },\n            _loadPrefetch: function loadPrefetch() {\n                var that = this, deferred, serialized;\n                deferred = $.Deferred();\n                if (!this.prefetch) {\n                    deferred.resolve();\n                } else if (serialized = this.prefetch.fromCache()) {\n                    this.index.bootstrap(serialized);\n                    deferred.resolve();\n                } else {\n                    this.prefetch.fromNetwork(done);\n                }\n                return deferred.promise();\n                function done(err, data) {\n                    if (err) {\n                        return deferred.reject();\n                    }\n                    that.add(data);\n                    that.prefetch.store(that.index.serialize());\n                    deferred.resolve();\n                }\n            },\n            _initialize: function initialize() {\n                var that = this, deferred;\n                this.clear();\n                (this.initPromise = this._loadPrefetch()).done(addLocalToIndex);\n                return this.initPromise;\n                function addLocalToIndex() {\n                    that.add(that.local);\n                }\n            },\n            initialize: function initialize(force) {\n                return !this.initPromise || force ? this._initialize() : this.initPromise;\n            },\n            add: function add(data) {\n                this.index.add(data);\n                return this;\n            },\n            get: function get(ids) {\n                ids = _.isArray(ids) ? ids : [].slice.call(arguments);\n                return this.index.get(ids);\n            },\n            search: function search(query, sync, async) {\n                var that = this, local;\n                sync = sync || _.noop;\n                async = async || _.noop;\n                local = this.sorter(this.index.search(query));\n                sync(this.remote ? local.slice() : local);\n                if (this.remote && local.length < this.sufficient) {\n                    this.remote.get(query, processRemote);\n                } else if (this.remote) {\n                    this.remote.cancelLastRequest();\n                }\n                return this;\n                function processRemote(remote) {\n                    var nonDuplicates = [];\n                    _.each(remote, function(r) {\n                        !_.some(local, function(l) {\n                            return that.identify(r) === that.identify(l);\n                        }) && nonDuplicates.push(r);\n                    });\n                    that.indexRemote && that.add(nonDuplicates);\n                    async(nonDuplicates);\n                }\n            },\n            all: function all() {\n                return this.index.all();\n            },\n            clear: function clear() {\n                this.index.reset();\n                return this;\n            },\n            clearPrefetchCache: function clearPrefetchCache() {\n                this.prefetch && this.prefetch.clear();\n                return this;\n            },\n            clearRemoteCache: function clearRemoteCache() {\n                Transport.resetCache();\n                return this;\n            },\n            ttAdapter: function ttAdapter() {\n                return this.__ttAdapter();\n            }\n        });\n        return Bloodhound;\n    }();\n    return Bloodhound;\n});\n\n(function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define([ \"jquery\" ], function(a0) {\n            return factory(a0);\n        });\n    } else if (typeof exports === \"object\") {\n        module.exports = factory(require(\"jquery\"));\n    } else {\n        factory(root[\"jQuery\"]);\n    }\n})(this, function($) {\n    var _ = function() {\n        \"use strict\";\n        return {\n            isMsie: function() {\n                return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\n            },\n            isBlankString: function(str) {\n                return !str || /^\\s*$/.test(str);\n            },\n            escapeRegExChars: function(str) {\n                return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n            },\n            isString: function(obj) {\n                return typeof obj === \"string\";\n            },\n            isNumber: function(obj) {\n                return typeof obj === \"number\";\n            },\n            isArray: $.isArray,\n            isFunction: $.isFunction,\n            isObject: $.isPlainObject,\n            isUndefined: function(obj) {\n                return typeof obj === \"undefined\";\n            },\n            isElement: function(obj) {\n                return !!(obj && obj.nodeType === 1);\n            },\n            isJQuery: function(obj) {\n                return obj instanceof $;\n            },\n            toStr: function toStr(s) {\n                return _.isUndefined(s) || s === null ? \"\" : s + \"\";\n            },\n            bind: $.proxy,\n            each: function(collection, cb) {\n                $.each(collection, reverseArgs);\n                function reverseArgs(index, value) {\n                    return cb(value, index);\n                }\n            },\n            map: $.map,\n            filter: $.grep,\n            every: function(obj, test) {\n                var result = true;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (!(result = test.call(null, val, key, obj))) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            some: function(obj, test) {\n                var result = false;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (result = test.call(null, val, key, obj)) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            mixin: $.extend,\n            identity: function(x) {\n                return x;\n            },\n            clone: function(obj) {\n                return $.extend(true, {}, obj);\n            },\n            getIdGenerator: function() {\n                var counter = 0;\n                return function() {\n                    return counter++;\n                };\n            },\n            templatify: function templatify(obj) {\n                return $.isFunction(obj) ? obj : template;\n                function template() {\n                    return String(obj);\n                }\n            },\n            defer: function(fn) {\n                setTimeout(fn, 0);\n            },\n            debounce: function(func, wait, immediate) {\n                var timeout, result;\n                return function() {\n                    var context = this, args = arguments, later, callNow;\n                    later = function() {\n                        timeout = null;\n                        if (!immediate) {\n                            result = func.apply(context, args);\n                        }\n                    };\n                    callNow = immediate && !timeout;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(later, wait);\n                    if (callNow) {\n                        result = func.apply(context, args);\n                    }\n                    return result;\n                };\n            },\n            throttle: function(func, wait) {\n                var context, args, timeout, result, previous, later;\n                previous = 0;\n                later = function() {\n                    previous = new Date();\n                    timeout = null;\n                    result = func.apply(context, args);\n                };\n                return function() {\n                    var now = new Date(), remaining = wait - (now - previous);\n                    context = this;\n                    args = arguments;\n                    if (remaining <= 0) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                        previous = now;\n                        result = func.apply(context, args);\n                    } else if (!timeout) {\n                        timeout = setTimeout(later, remaining);\n                    }\n                    return result;\n                };\n            },\n            stringify: function(val) {\n                return _.isString(val) ? val : JSON.stringify(val);\n            },\n            guid: function() {\n                function _p8(s) {\n                    var p = (Math.random().toString(16) + \"000000000\").substr(2, 8);\n                    return s ? \"-\" + p.substr(0, 4) + \"-\" + p.substr(4, 4) : p;\n                }\n                return \"tt-\" + _p8() + _p8(true) + _p8(true) + _p8();\n            },\n            noop: function() {}\n        };\n    }();\n    var WWW = function() {\n        \"use strict\";\n        var defaultClassNames = {\n            wrapper: \"twitter-typeahead\",\n            input: \"tt-input\",\n            hint: \"tt-hint\",\n            menu: \"tt-menu\",\n            dataset: \"tt-dataset\",\n            suggestion: \"tt-suggestion\",\n            selectable: \"tt-selectable\",\n            empty: \"tt-empty\",\n            open: \"tt-open\",\n            cursor: \"tt-cursor\",\n            highlight: \"tt-highlight\"\n        };\n        return build;\n        function build(o) {\n            var www, classes;\n            classes = _.mixin({}, defaultClassNames, o);\n            www = {\n                css: buildCss(),\n                classes: classes,\n                html: buildHtml(classes),\n                selectors: buildSelectors(classes)\n            };\n            return {\n                css: www.css,\n                html: www.html,\n                classes: www.classes,\n                selectors: www.selectors,\n                mixin: function(o) {\n                    _.mixin(o, www);\n                }\n            };\n        }\n        function buildHtml(c) {\n            return {\n                wrapper: '<span class=\"' + c.wrapper + '\"></span>',\n                menu: '<div role=\"listbox\" class=\"' + c.menu + '\"></div>'\n            };\n        }\n        function buildSelectors(classes) {\n            var selectors = {};\n            _.each(classes, function(v, k) {\n                selectors[k] = \".\" + v;\n            });\n            return selectors;\n        }\n        function buildCss() {\n            var css = {\n                wrapper: {\n                    position: \"relative\",\n                    display: \"inline-block\"\n                },\n                hint: {\n                    position: \"absolute\",\n                    top: \"0\",\n                    left: \"0\",\n                    borderColor: \"transparent\",\n                    boxShadow: \"none\",\n                    opacity: \"1\"\n                },\n                input: {\n                    position: \"relative\",\n                    verticalAlign: \"top\",\n                    backgroundColor: \"transparent\"\n                },\n                inputWithNoHint: {\n                    position: \"relative\",\n                    verticalAlign: \"top\"\n                },\n                menu: {\n                    position: \"absolute\",\n                    top: \"100%\",\n                    left: \"0\",\n                    zIndex: \"100\",\n                    display: \"none\"\n                },\n                ltr: {\n                    left: \"0\",\n                    right: \"auto\"\n                },\n                rtl: {\n                    left: \"auto\",\n                    right: \" 0\"\n                }\n            };\n            if (_.isMsie()) {\n                _.mixin(css.input, {\n                    backgroundImage: \"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)\"\n                });\n            }\n            return css;\n        }\n    }();\n    var EventBus = function() {\n        \"use strict\";\n        var namespace, deprecationMap;\n        namespace = \"typeahead:\";\n        deprecationMap = {\n            render: \"rendered\",\n            cursorchange: \"cursorchanged\",\n            select: \"selected\",\n            autocomplete: \"autocompleted\"\n        };\n        function EventBus(o) {\n            if (!o || !o.el) {\n                $.error(\"EventBus initialized without el\");\n            }\n            this.$el = $(o.el);\n        }\n        _.mixin(EventBus.prototype, {\n            _trigger: function(type, args) {\n                var $e = $.Event(namespace + type);\n                this.$el.trigger.call(this.$el, $e, args || []);\n                return $e;\n            },\n            before: function(type) {\n                var args, $e;\n                args = [].slice.call(arguments, 1);\n                $e = this._trigger(\"before\" + type, args);\n                return $e.isDefaultPrevented();\n            },\n            trigger: function(type) {\n                var deprecatedType;\n                this._trigger(type, [].slice.call(arguments, 1));\n                if (deprecatedType = deprecationMap[type]) {\n                    this._trigger(deprecatedType, [].slice.call(arguments, 1));\n                }\n            }\n        });\n        return EventBus;\n    }();\n    var EventEmitter = function() {\n        \"use strict\";\n        var splitter = /\\s+/, nextTick = getNextTick();\n        return {\n            onSync: onSync,\n            onAsync: onAsync,\n            off: off,\n            trigger: trigger\n        };\n        function on(method, types, cb, context) {\n            var type;\n            if (!cb) {\n                return this;\n            }\n            types = types.split(splitter);\n            cb = context ? bindContext(cb, context) : cb;\n            this._callbacks = this._callbacks || {};\n            while (type = types.shift()) {\n                this._callbacks[type] = this._callbacks[type] || {\n                    sync: [],\n                    async: []\n                };\n                this._callbacks[type][method].push(cb);\n            }\n            return this;\n        }\n        function onAsync(types, cb, context) {\n            return on.call(this, \"async\", types, cb, context);\n        }\n        function onSync(types, cb, context) {\n            return on.call(this, \"sync\", types, cb, context);\n        }\n        function off(types) {\n            var type;\n            if (!this._callbacks) {\n                return this;\n            }\n            types = types.split(splitter);\n            while (type = types.shift()) {\n                delete this._callbacks[type];\n            }\n            return this;\n        }\n        function trigger(types) {\n            var type, callbacks, args, syncFlush, asyncFlush;\n            if (!this._callbacks) {\n                return this;\n            }\n            types = types.split(splitter);\n            args = [].slice.call(arguments, 1);\n            while ((type = types.shift()) && (callbacks = this._callbacks[type])) {\n                syncFlush = getFlush(callbacks.sync, this, [ type ].concat(args));\n                asyncFlush = getFlush(callbacks.async, this, [ type ].concat(args));\n                syncFlush() && nextTick(asyncFlush);\n            }\n            return this;\n        }\n        function getFlush(callbacks, context, args) {\n            return flush;\n            function flush() {\n                var cancelled;\n                for (var i = 0, len = callbacks.length; !cancelled && i < len; i += 1) {\n                    cancelled = callbacks[i].apply(context, args) === false;\n                }\n                return !cancelled;\n            }\n        }\n        function getNextTick() {\n            var nextTickFn;\n            if (window.setImmediate) {\n                nextTickFn = function nextTickSetImmediate(fn) {\n                    setImmediate(function() {\n                        fn();\n                    });\n                };\n            } else {\n                nextTickFn = function nextTickSetTimeout(fn) {\n                    setTimeout(function() {\n                        fn();\n                    }, 0);\n                };\n            }\n            return nextTickFn;\n        }\n        function bindContext(fn, context) {\n            return fn.bind ? fn.bind(context) : function() {\n                fn.apply(context, [].slice.call(arguments, 0));\n            };\n        }\n    }();\n    var highlight = function(doc) {\n        \"use strict\";\n        var defaults = {\n            node: null,\n            pattern: null,\n            tagName: \"strong\",\n            className: null,\n            wordsOnly: false,\n            caseSensitive: false,\n            diacriticInsensitive: false\n        };\n        var accented = {\n            A: \"[AaÂªÃ-ÃÃ -Ã¥Ä-ÄÇÇÈ-ÈÈ¦È§á´¬áµá¸á¸áºáº -áº£ââââ»ââ¶âã±-ã´ã-ãããã©-ã¯ãããã¿ï¼¡ï½]\",\n            B: \"[Bbá´®áµá¸-á¸â¬ââ·âã´ã-ãããããï¼¢ï½]\",\n            C: \"[CcÃÃ§Ä-Äá¶ââââââ­â­â½ââ¸âã¶ãããã ã¤ã-ãï¼£ï½]\",\n            D: \"[DdÄÄÇ-ÇÇ±-Ç³á´°áµá¸-á¸âââ®â¾ââ¹âãã²ã·-ã¹ãã­-ã¯ããï¼¤ï½]\",\n            E: \"[EeÃ-ÃÃ¨-Ã«Ä-ÄÈ-ÈÈ¨È©á´±áµá¸-á¸áº¸-áº½ââ¡â¯â°ââ âºâãããï¼¥ï½]\",\n            F: \"[Ffá¶ á¸á¸ââ±â»â¡â»âã-ããï¬-ï¬ï¼¦ï½]\",\n            G: \"[GgÄ-Ä£Ç¦Ç§Ç´Çµá´³áµá¸ á¸¡ââ¢â¼âãããã-ããã¬ãããã¿ï¼§ï½]\",\n            H: \"[HhÄ¤Ä¥ÈÈÊ°á´´á¸¢-á¸«áºâ-ââ£â½âãã±ã-ããããï¼¨ï½]\",\n            I: \"[IiÃ-ÃÃ¬-Ã¯Ä¨-Ä°Ä²Ä³ÇÇÈ-Èá´µáµ¢á¸¬á¸­á»-á»â±âââ¹ââ -â£â¥-â¨âªâ«â°-â³âµ-â¸âºâ»â¤â¾âãºããï¬ï¬ï¼©ï½]\",\n            J: \"[JjÄ²-ÄµÇ-ÇÇ°Ê²á´¶ââ¥â¿ââ±¼ï¼ªï½]\",\n            K: \"[KkÄ¶Ä·Ç¨Ç©á´·áµá¸°-á¸µâªâ¦ââãããããããã¢ã¦ãªã¸ã¾ããã-ãï¼«ï½]\",\n            L: \"[LlÄ¹-ÅÇ-ÇË¡á´¸á¸¶á¸·á¸º-á¸½âââ¡â¬â¼â§ââãããã-ãããã¿ï¬ï¬ï¼¬ï½]\",\n            M: \"[Mmá´¹áµá¸¾-á¹â â¢â³â¯â¿â¨ââã·-ã¹ãããããã-ã¨ã«ã³ã·ã¹ã½ã¿ããããã-ãããããï¼­ï½]\",\n            N: \"[NnÃÃ±Å-ÅÇ-ÇÇ¸Ç¹á´ºá¹-á¹â¿âââ©ââãããã±ãµã»ããï¼®ï½]\",\n            O: \"[OoÂºÃ-ÃÃ²-Ã¶Å-ÅÆ Æ¡ÇÇÇªÇ«È-ÈÈ®È¯á´¼áµá»-á»ââââ´âªââãµãããï¼¯ï½]\",\n            P: \"[Ppá´¾áµá¹-á¹ââ«ââãã±ã¶ããã©-ã¬ã°ã´ãºãã-ãï¼°ï½]\",\n            Q: \"[Qqââ¬ââ ãï¼±ï½]\",\n            R: \"[RrÅ-ÅÈ-ÈÊ³á´¿áµ£á¹-á¹á¹á¹â¨â-ââ­ââ¡ãã´ã­-ã¯ããï¼²ï½]\",\n            S: \"[SsÅ-Å¡Å¿ÈÈË¢á¹ -á¹£â¨ââ â®ââ¢ã§ã¨ã®-ã³ããï¬ï¼³ï½]\",\n            T: \"[TtÅ¢-Å¥ÈÈáµáµá¹ª-á¹±áºâ¡â¢â¯ââ£ããããï¬ï¬ï¼´ï½]\",\n            U: \"[UuÃ-ÃÃ¹-Ã¼Å¨-Å³Æ¯Æ°ÇÇÈ-Èáµáµáµ¤á¹²-á¹·á»¤-á»§ââ°ââ¤ã³ãºï¼µï½]\",\n            V: \"[Vváµáµ¥á¹¼-á¹¿â£-â§â³-â·â±ââ¥â±½ããµã´-ã¹ããï¼¶ï½]\",\n            W: \"[WwÅ´ÅµÊ·áµáº-áºáºâ²ââ¦ãº-ã¿ãï¼·ï½]\",\n            X: \"[XxË£áº-áºââ»â¨-â«â¸-â»â³ââ§ãï¼¸ï½]\",\n            Y: \"[YyÃÃ½Ã¿Å¶-Å¸È²È³Ê¸áºáºáºá»²-á»¹â´ââ¨ãï¼¹ï½]\",\n            Z: \"[ZzÅ¹-Å¾Ç±-Ç³á¶»áº-áºâ¤â¨âµââ©ã-ãï¼ºï½]\"\n        };\n        return function hightlight(o) {\n            var regex;\n            o = _.mixin({}, defaults, o);\n            if (!o.node || !o.pattern) {\n                return;\n            }\n            o.pattern = _.isArray(o.pattern) ? o.pattern : [ o.pattern ];\n            regex = getRegex(o.pattern, o.caseSensitive, o.wordsOnly, o.diacriticInsensitive);\n            traverse(o.node, hightlightTextNode);\n            function hightlightTextNode(textNode) {\n                var match, patternNode, wrapperNode;\n                if (match = regex.exec(textNode.data)) {\n                    wrapperNode = doc.createElement(o.tagName);\n                    o.className && (wrapperNode.className = o.className);\n                    patternNode = textNode.splitText(match.index);\n                    patternNode.splitText(match[0].length);\n                    wrapperNode.appendChild(patternNode.cloneNode(true));\n                    textNode.parentNode.replaceChild(wrapperNode, patternNode);\n                }\n                return !!match;\n            }\n            function traverse(el, hightlightTextNode) {\n                var childNode, TEXT_NODE_TYPE = 3;\n                for (var i = 0; i < el.childNodes.length; i++) {\n                    childNode = el.childNodes[i];\n                    if (childNode.nodeType === TEXT_NODE_TYPE) {\n                        i += hightlightTextNode(childNode) ? 1 : 0;\n                    } else {\n                        traverse(childNode, hightlightTextNode);\n                    }\n                }\n            }\n        };\n        function accent_replacer(chr) {\n            return accented[chr.toUpperCase()] || chr;\n        }\n        function getRegex(patterns, caseSensitive, wordsOnly, diacriticInsensitive) {\n            var escapedPatterns = [], regexStr;\n            for (var i = 0, len = patterns.length; i < len; i++) {\n                var escapedWord = _.escapeRegExChars(patterns[i]);\n                if (diacriticInsensitive) {\n                    escapedWord = escapedWord.replace(/\\S/g, accent_replacer);\n                }\n                escapedPatterns.push(escapedWord);\n            }\n            regexStr = wordsOnly ? \"\\\\b(\" + escapedPatterns.join(\"|\") + \")\\\\b\" : \"(\" + escapedPatterns.join(\"|\") + \")\";\n            return caseSensitive ? new RegExp(regexStr) : new RegExp(regexStr, \"i\");\n        }\n    }(window.document);\n    var Input = function() {\n        \"use strict\";\n        var specialKeyCodeMap;\n        specialKeyCodeMap = {\n            9: \"tab\",\n            27: \"esc\",\n            37: \"left\",\n            39: \"right\",\n            13: \"enter\",\n            38: \"up\",\n            40: \"down\"\n        };\n        function Input(o, www) {\n            o = o || {};\n            if (!o.input) {\n                $.error(\"input is missing\");\n            }\n            www.mixin(this);\n            this.$hint = $(o.hint);\n            this.$input = $(o.input);\n            this.$input.attr({\n                \"aria-activedescendant\": \"\",\n                \"aria-owns\": this.$input.attr(\"id\") + \"_listbox\",\n                role: \"combobox\",\n                \"aria-readonly\": \"true\",\n                \"aria-autocomplete\": \"list\"\n            });\n            $(www.menu).attr(\"id\", this.$input.attr(\"id\") + \"_listbox\");\n            this.query = this.$input.val();\n            this.queryWhenFocused = this.hasFocus() ? this.query : null;\n            this.$overflowHelper = buildOverflowHelper(this.$input);\n            this._checkLanguageDirection();\n            if (this.$hint.length === 0) {\n                this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = _.noop;\n            }\n            this.onSync(\"cursorchange\", this._updateDescendent);\n        }\n        Input.normalizeQuery = function(str) {\n            return _.toStr(str).replace(/^\\s*/g, \"\").replace(/\\s{2,}/g, \" \");\n        };\n        _.mixin(Input.prototype, EventEmitter, {\n            _onBlur: function onBlur() {\n                this.resetInputValue();\n                this.trigger(\"blurred\");\n            },\n            _onFocus: function onFocus() {\n                this.queryWhenFocused = this.query;\n                this.trigger(\"focused\");\n            },\n            _onKeydown: function onKeydown($e) {\n                var keyName = specialKeyCodeMap[$e.which || $e.keyCode];\n                this._managePreventDefault(keyName, $e);\n                if (keyName && this._shouldTrigger(keyName, $e)) {\n                    this.trigger(keyName + \"Keyed\", $e);\n                }\n            },\n            _onInput: function onInput() {\n                this._setQuery(this.getInputValue());\n                this.clearHintIfInvalid();\n                this._checkLanguageDirection();\n            },\n            _managePreventDefault: function managePreventDefault(keyName, $e) {\n                var preventDefault;\n                switch (keyName) {\n                  case \"up\":\n                  case \"down\":\n                    preventDefault = !withModifier($e);\n                    break;\n\n                  default:\n                    preventDefault = false;\n                }\n                preventDefault && $e.preventDefault();\n            },\n            _shouldTrigger: function shouldTrigger(keyName, $e) {\n                var trigger;\n                switch (keyName) {\n                  case \"tab\":\n                    trigger = !withModifier($e);\n                    break;\n\n                  default:\n                    trigger = true;\n                }\n                return trigger;\n            },\n            _checkLanguageDirection: function checkLanguageDirection() {\n                var dir = (this.$input.css(\"direction\") || \"ltr\").toLowerCase();\n                if (this.dir !== dir) {\n                    this.dir = dir;\n                    this.$hint.attr(\"dir\", dir);\n                    this.trigger(\"langDirChanged\", dir);\n                }\n            },\n            _setQuery: function setQuery(val, silent) {\n                var areEquivalent, hasDifferentWhitespace;\n                areEquivalent = areQueriesEquivalent(val, this.query);\n                hasDifferentWhitespace = areEquivalent ? this.query.length !== val.length : false;\n                this.query = val;\n                if (!silent && !areEquivalent) {\n                    this.trigger(\"queryChanged\", this.query);\n                } else if (!silent && hasDifferentWhitespace) {\n                    this.trigger(\"whitespaceChanged\", this.query);\n                }\n            },\n            _updateDescendent: function updateDescendent(event, id) {\n                this.$input.attr(\"aria-activedescendant\", id);\n            },\n            bind: function() {\n                var that = this, onBlur, onFocus, onKeydown, onInput;\n                onBlur = _.bind(this._onBlur, this);\n                onFocus = _.bind(this._onFocus, this);\n                onKeydown = _.bind(this._onKeydown, this);\n                onInput = _.bind(this._onInput, this);\n                this.$input.on(\"blur.tt\", onBlur).on(\"focus.tt\", onFocus).on(\"keydown.tt\", onKeydown);\n                if (!_.isMsie() || _.isMsie() > 9) {\n                    this.$input.on(\"input.tt\", onInput);\n                } else {\n                    this.$input.on(\"keydown.tt keypress.tt cut.tt paste.tt\", function($e) {\n                        if (specialKeyCodeMap[$e.which || $e.keyCode]) {\n                            return;\n                        }\n                        _.defer(_.bind(that._onInput, that, $e));\n                    });\n                }\n                return this;\n            },\n            focus: function focus() {\n                this.$input.focus();\n            },\n            blur: function blur() {\n                this.$input.blur();\n            },\n            getLangDir: function getLangDir() {\n                return this.dir;\n            },\n            getQuery: function getQuery() {\n                return this.query || \"\";\n            },\n            setQuery: function setQuery(val, silent) {\n                this.setInputValue(val);\n                this._setQuery(val, silent);\n            },\n            hasQueryChangedSinceLastFocus: function hasQueryChangedSinceLastFocus() {\n                return this.query !== this.queryWhenFocused;\n            },\n            getInputValue: function getInputValue() {\n                return this.$input.val();\n            },\n            setInputValue: function setInputValue(value) {\n                this.$input.val(value);\n                this.clearHintIfInvalid();\n                this._checkLanguageDirection();\n            },\n            resetInputValue: function resetInputValue() {\n                this.setInputValue(this.query);\n            },\n            getHint: function getHint() {\n                return this.$hint.val();\n            },\n            setHint: function setHint(value) {\n                this.$hint.val(value);\n            },\n            clearHint: function clearHint() {\n                this.setHint(\"\");\n            },\n            clearHintIfInvalid: function clearHintIfInvalid() {\n                var val, hint, valIsPrefixOfHint, isValid;\n                val = this.getInputValue();\n                hint = this.getHint();\n                valIsPrefixOfHint = val !== hint && hint.indexOf(val) === 0;\n                isValid = val !== \"\" && valIsPrefixOfHint && !this.hasOverflow();\n                !isValid && this.clearHint();\n            },\n            hasFocus: function hasFocus() {\n                return this.$input.is(\":focus\");\n            },\n            hasOverflow: function hasOverflow() {\n                var constraint = this.$input.width() - 2;\n                this.$overflowHelper.text(this.getInputValue());\n                return this.$overflowHelper.width() >= constraint;\n            },\n            isCursorAtEnd: function() {\n                var valueLength, selectionStart, range;\n                valueLength = this.$input.val().length;\n                selectionStart = this.$input[0].selectionStart;\n                if (_.isNumber(selectionStart)) {\n                    return selectionStart === valueLength;\n                } else if (document.selection) {\n                    range = document.selection.createRange();\n                    range.moveStart(\"character\", -valueLength);\n                    return valueLength === range.text.length;\n                }\n                return true;\n            },\n            destroy: function destroy() {\n                this.$hint.off(\".tt\");\n                this.$input.off(\".tt\");\n                this.$overflowHelper.remove();\n                this.$hint = this.$input = this.$overflowHelper = $(\"<div>\");\n            }\n        });\n        return Input;\n        function buildOverflowHelper($input) {\n            return $('<pre aria-hidden=\"true\"></pre>').css({\n                position: \"absolute\",\n                visibility: \"hidden\",\n                whiteSpace: \"pre\",\n                fontFamily: $input.css(\"font-family\"),\n                fontSize: $input.css(\"font-size\"),\n                fontStyle: $input.css(\"font-style\"),\n                fontVariant: $input.css(\"font-variant\"),\n                fontWeight: $input.css(\"font-weight\"),\n                wordSpacing: $input.css(\"word-spacing\"),\n                letterSpacing: $input.css(\"letter-spacing\"),\n                textIndent: $input.css(\"text-indent\"),\n                textRendering: $input.css(\"text-rendering\"),\n                textTransform: $input.css(\"text-transform\")\n            }).insertAfter($input);\n        }\n        function areQueriesEquivalent(a, b) {\n            return Input.normalizeQuery(a) === Input.normalizeQuery(b);\n        }\n        function withModifier($e) {\n            return $e.altKey || $e.ctrlKey || $e.metaKey || $e.shiftKey;\n        }\n    }();\n    var Dataset = function() {\n        \"use strict\";\n        var keys, nameGenerator;\n        keys = {\n            dataset: \"tt-selectable-dataset\",\n            val: \"tt-selectable-display\",\n            obj: \"tt-selectable-object\"\n        };\n        nameGenerator = _.getIdGenerator();\n        function Dataset(o, www) {\n            o = o || {};\n            o.templates = o.templates || {};\n            o.templates.notFound = o.templates.notFound || o.templates.empty;\n            if (!o.source) {\n                $.error(\"missing source\");\n            }\n            if (!o.node) {\n                $.error(\"missing node\");\n            }\n            if (o.name && !isValidName(o.name)) {\n                $.error(\"invalid dataset name: \" + o.name);\n            }\n            www.mixin(this);\n            this.highlight = !!o.highlight;\n            this.name = _.toStr(o.name || nameGenerator());\n            this.limit = o.limit || 5;\n            this.displayFn = getDisplayFn(o.display || o.displayKey);\n            this.templates = getTemplates(o.templates, this.displayFn);\n            this.source = o.source.__ttAdapter ? o.source.__ttAdapter() : o.source;\n            this.async = _.isUndefined(o.async) ? this.source.length > 2 : !!o.async;\n            this._resetLastSuggestion();\n            this.$el = $(o.node).attr(\"role\", \"presentation\").addClass(this.classes.dataset).addClass(this.classes.dataset + \"-\" + this.name);\n        }\n        Dataset.extractData = function extractData(el) {\n            var $el = $(el);\n            if ($el.data(keys.obj)) {\n                return {\n                    dataset: $el.data(keys.dataset) || \"\",\n                    val: $el.data(keys.val) || \"\",\n                    obj: $el.data(keys.obj) || null\n                };\n            }\n            return null;\n        };\n        _.mixin(Dataset.prototype, EventEmitter, {\n            _overwrite: function overwrite(query, suggestions) {\n                suggestions = suggestions || [];\n                if (suggestions.length) {\n                    this._renderSuggestions(query, suggestions);\n                } else if (this.async && this.templates.pending) {\n                    this._renderPending(query);\n                } else if (!this.async && this.templates.notFound) {\n                    this._renderNotFound(query);\n                } else {\n                    this._empty();\n                }\n                this.trigger(\"rendered\", suggestions, false, this.name);\n            },\n            _append: function append(query, suggestions) {\n                suggestions = suggestions || [];\n                if (suggestions.length && this.$lastSuggestion.length) {\n                    this._appendSuggestions(query, suggestions);\n                } else if (suggestions.length) {\n                    this._renderSuggestions(query, suggestions);\n                } else if (!this.$lastSuggestion.length && this.templates.notFound) {\n                    this._renderNotFound(query);\n                }\n                this.trigger(\"rendered\", suggestions, true, this.name);\n            },\n            _renderSuggestions: function renderSuggestions(query, suggestions) {\n                var $fragment;\n                $fragment = this._getSuggestionsFragment(query, suggestions);\n                this.$lastSuggestion = $fragment.children().last();\n                this.$el.html($fragment).prepend(this._getHeader(query, suggestions)).append(this._getFooter(query, suggestions));\n            },\n            _appendSuggestions: function appendSuggestions(query, suggestions) {\n                var $fragment, $lastSuggestion;\n                $fragment = this._getSuggestionsFragment(query, suggestions);\n                $lastSuggestion = $fragment.children().last();\n                this.$lastSuggestion.after($fragment);\n                this.$lastSuggestion = $lastSuggestion;\n            },\n            _renderPending: function renderPending(query) {\n                var template = this.templates.pending;\n                this._resetLastSuggestion();\n                template && this.$el.html(template({\n                    query: query,\n                    dataset: this.name\n                }));\n            },\n            _renderNotFound: function renderNotFound(query) {\n                var template = this.templates.notFound;\n                this._resetLastSuggestion();\n                template && this.$el.html(template({\n                    query: query,\n                    dataset: this.name\n                }));\n            },\n            _empty: function empty() {\n                this.$el.empty();\n                this._resetLastSuggestion();\n            },\n            _getSuggestionsFragment: function getSuggestionsFragment(query, suggestions) {\n                var that = this, fragment;\n                fragment = document.createDocumentFragment();\n                _.each(suggestions, function getSuggestionNode(suggestion) {\n                    var $el, context;\n                    context = that._injectQuery(query, suggestion);\n                    $el = $(that.templates.suggestion(context)).data(keys.dataset, that.name).data(keys.obj, suggestion).data(keys.val, that.displayFn(suggestion)).addClass(that.classes.suggestion + \" \" + that.classes.selectable);\n                    fragment.appendChild($el[0]);\n                });\n                this.highlight && highlight({\n                    className: this.classes.highlight,\n                    node: fragment,\n                    pattern: query\n                });\n                return $(fragment);\n            },\n            _getFooter: function getFooter(query, suggestions) {\n                return this.templates.footer ? this.templates.footer({\n                    query: query,\n                    suggestions: suggestions,\n                    dataset: this.name\n                }) : null;\n            },\n            _getHeader: function getHeader(query, suggestions) {\n                return this.templates.header ? this.templates.header({\n                    query: query,\n                    suggestions: suggestions,\n                    dataset: this.name\n                }) : null;\n            },\n            _resetLastSuggestion: function resetLastSuggestion() {\n                this.$lastSuggestion = $();\n            },\n            _injectQuery: function injectQuery(query, obj) {\n                return _.isObject(obj) ? _.mixin({\n                    _query: query\n                }, obj) : obj;\n            },\n            update: function update(query) {\n                var that = this, canceled = false, syncCalled = false, rendered = 0;\n                this.cancel();\n                this.cancel = function cancel() {\n                    canceled = true;\n                    that.cancel = $.noop;\n                    that.async && that.trigger(\"asyncCanceled\", query, that.name);\n                };\n                this.source(query, sync, async);\n                !syncCalled && sync([]);\n                function sync(suggestions) {\n                    if (syncCalled) {\n                        return;\n                    }\n                    syncCalled = true;\n                    suggestions = (suggestions || []).slice(0, that.limit);\n                    rendered = suggestions.length;\n                    that._overwrite(query, suggestions);\n                    if (rendered < that.limit && that.async) {\n                        that.trigger(\"asyncRequested\", query, that.name);\n                    }\n                }\n                function async(suggestions) {\n                    suggestions = suggestions || [];\n                    if (!canceled && rendered < that.limit) {\n                        that.cancel = $.noop;\n                        var idx = Math.abs(rendered - that.limit);\n                        rendered += idx;\n                        that._append(query, suggestions.slice(0, idx));\n                        that.async && that.trigger(\"asyncReceived\", query, that.name);\n                    }\n                }\n            },\n            cancel: $.noop,\n            clear: function clear() {\n                this._empty();\n                this.cancel();\n                this.trigger(\"cleared\");\n            },\n            isEmpty: function isEmpty() {\n                return this.$el.is(\":empty\");\n            },\n            destroy: function destroy() {\n                this.$el = $(\"<div>\");\n            }\n        });\n        return Dataset;\n        function getDisplayFn(display) {\n            display = display || _.stringify;\n            return _.isFunction(display) ? display : displayFn;\n            function displayFn(obj) {\n                return obj[display];\n            }\n        }\n        function getTemplates(templates, displayFn) {\n            return {\n                notFound: templates.notFound && _.templatify(templates.notFound),\n                pending: templates.pending && _.templatify(templates.pending),\n                header: templates.header && _.templatify(templates.header),\n                footer: templates.footer && _.templatify(templates.footer),\n                suggestion: templates.suggestion || suggestionTemplate\n            };\n            function suggestionTemplate(context) {\n                return $('<div role=\"option\">').attr(\"id\", _.guid()).text(displayFn(context));\n            }\n        }\n        function isValidName(str) {\n            return /^[_a-zA-Z0-9-]+$/.test(str);\n        }\n    }();\n    var Menu = function() {\n        \"use strict\";\n        function Menu(o, www) {\n            var that = this;\n            o = o || {};\n            if (!o.node) {\n                $.error(\"node is required\");\n            }\n            www.mixin(this);\n            this.$node = $(o.node);\n            this.query = null;\n            this.datasets = _.map(o.datasets, initializeDataset);\n            function initializeDataset(oDataset) {\n                var node = that.$node.find(oDataset.node).first();\n                oDataset.node = node.length ? node : $(\"<div>\").appendTo(that.$node);\n                return new Dataset(oDataset, www);\n            }\n        }\n        _.mixin(Menu.prototype, EventEmitter, {\n            _onSelectableClick: function onSelectableClick($e) {\n                this.trigger(\"selectableClicked\", $($e.currentTarget));\n            },\n            _onRendered: function onRendered(type, dataset, suggestions, async) {\n                this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());\n                this.trigger(\"datasetRendered\", dataset, suggestions, async);\n            },\n            _onCleared: function onCleared() {\n                this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());\n                this.trigger(\"datasetCleared\");\n            },\n            _propagate: function propagate() {\n                this.trigger.apply(this, arguments);\n            },\n            _allDatasetsEmpty: function allDatasetsEmpty() {\n                return _.every(this.datasets, _.bind(function isDatasetEmpty(dataset) {\n                    var isEmpty = dataset.isEmpty();\n                    this.$node.attr(\"aria-expanded\", !isEmpty);\n                    return isEmpty;\n                }, this));\n            },\n            _getSelectables: function getSelectables() {\n                return this.$node.find(this.selectors.selectable);\n            },\n            _removeCursor: function _removeCursor() {\n                var $selectable = this.getActiveSelectable();\n                $selectable && $selectable.removeClass(this.classes.cursor);\n            },\n            _ensureVisible: function ensureVisible($el) {\n                var elTop, elBottom, nodeScrollTop, nodeHeight;\n                elTop = $el.position().top;\n                elBottom = elTop + $el.outerHeight(true);\n                nodeScrollTop = this.$node.scrollTop();\n                nodeHeight = this.$node.height() + parseInt(this.$node.css(\"paddingTop\"), 10) + parseInt(this.$node.css(\"paddingBottom\"), 10);\n                if (elTop < 0) {\n                    this.$node.scrollTop(nodeScrollTop + elTop);\n                } else if (nodeHeight < elBottom) {\n                    this.$node.scrollTop(nodeScrollTop + (elBottom - nodeHeight));\n                }\n            },\n            bind: function() {\n                var that = this, onSelectableClick;\n                onSelectableClick = _.bind(this._onSelectableClick, this);\n                this.$node.on(\"click.tt\", this.selectors.selectable, onSelectableClick);\n                this.$node.on(\"mouseover\", this.selectors.selectable, function() {\n                    that.setCursor($(this));\n                });\n                this.$node.on(\"mouseleave\", function() {\n                    that._removeCursor();\n                });\n                _.each(this.datasets, function(dataset) {\n                    dataset.onSync(\"asyncRequested\", that._propagate, that).onSync(\"asyncCanceled\", that._propagate, that).onSync(\"asyncReceived\", that._propagate, that).onSync(\"rendered\", that._onRendered, that).onSync(\"cleared\", that._onCleared, that);\n                });\n                return this;\n            },\n            isOpen: function isOpen() {\n                return this.$node.hasClass(this.classes.open);\n            },\n            open: function open() {\n                this.$node.scrollTop(0);\n                this.$node.addClass(this.classes.open);\n            },\n            close: function close() {\n                this.$node.attr(\"aria-expanded\", false);\n                this.$node.removeClass(this.classes.open);\n                this._removeCursor();\n            },\n            setLanguageDirection: function setLanguageDirection(dir) {\n                this.$node.attr(\"dir\", dir);\n            },\n            selectableRelativeToCursor: function selectableRelativeToCursor(delta) {\n                var $selectables, $oldCursor, oldIndex, newIndex;\n                $oldCursor = this.getActiveSelectable();\n                $selectables = this._getSelectables();\n                oldIndex = $oldCursor ? $selectables.index($oldCursor) : -1;\n                newIndex = oldIndex + delta;\n                newIndex = (newIndex + 1) % ($selectables.length + 1) - 1;\n                newIndex = newIndex < -1 ? $selectables.length - 1 : newIndex;\n                return newIndex === -1 ? null : $selectables.eq(newIndex);\n            },\n            setCursor: function setCursor($selectable) {\n                this._removeCursor();\n                if ($selectable = $selectable && $selectable.first()) {\n                    $selectable.addClass(this.classes.cursor);\n                    this._ensureVisible($selectable);\n                }\n            },\n            getSelectableData: function getSelectableData($el) {\n                return $el && $el.length ? Dataset.extractData($el) : null;\n            },\n            getActiveSelectable: function getActiveSelectable() {\n                var $selectable = this._getSelectables().filter(this.selectors.cursor).first();\n                return $selectable.length ? $selectable : null;\n            },\n            getTopSelectable: function getTopSelectable() {\n                var $selectable = this._getSelectables().first();\n                return $selectable.length ? $selectable : null;\n            },\n            update: function update(query) {\n                var isValidUpdate = query !== this.query;\n                if (isValidUpdate) {\n                    this.query = query;\n                    _.each(this.datasets, updateDataset);\n                }\n                return isValidUpdate;\n                function updateDataset(dataset) {\n                    dataset.update(query);\n                }\n            },\n            empty: function empty() {\n                _.each(this.datasets, clearDataset);\n                this.query = null;\n                this.$node.addClass(this.classes.empty);\n                function clearDataset(dataset) {\n                    dataset.clear();\n                }\n            },\n            destroy: function destroy() {\n                this.$node.off(\".tt\");\n                this.$node = $(\"<div>\");\n                _.each(this.datasets, destroyDataset);\n                function destroyDataset(dataset) {\n                    dataset.destroy();\n                }\n            }\n        });\n        return Menu;\n    }();\n    var Status = function() {\n        \"use strict\";\n        function Status(options) {\n            this.$el = $(\"<span></span>\", {\n                role: \"status\",\n                \"aria-live\": \"polite\"\n            }).css({\n                position: \"absolute\",\n                padding: \"0\",\n                border: \"0\",\n                height: \"1px\",\n                width: \"1px\",\n                \"margin-bottom\": \"-1px\",\n                \"margin-right\": \"-1px\",\n                overflow: \"hidden\",\n                clip: \"rect(0 0 0 0)\",\n                \"white-space\": \"nowrap\"\n            });\n            options.$input.after(this.$el);\n            _.each(options.menu.datasets, _.bind(function(dataset) {\n                if (dataset.onSync) {\n                    dataset.onSync(\"rendered\", _.bind(this.update, this));\n                    dataset.onSync(\"cleared\", _.bind(this.cleared, this));\n                }\n            }, this));\n        }\n        _.mixin(Status.prototype, {\n            update: function update(event, suggestions) {\n                var length = suggestions.length;\n                var words;\n                if (length === 1) {\n                    words = {\n                        result: \"result\",\n                        is: \"is\"\n                    };\n                } else {\n                    words = {\n                        result: \"results\",\n                        is: \"are\"\n                    };\n                }\n                this.$el.text(length + \" \" + words.result + \" \" + words.is + \" available, use up and down arrow keys to navigate.\");\n            },\n            cleared: function() {\n                this.$el.text(\"\");\n            }\n        });\n        return Status;\n    }();\n    var DefaultMenu = function() {\n        \"use strict\";\n        var s = Menu.prototype;\n        function DefaultMenu() {\n            Menu.apply(this, [].slice.call(arguments, 0));\n        }\n        _.mixin(DefaultMenu.prototype, Menu.prototype, {\n            open: function open() {\n                !this._allDatasetsEmpty() && this._show();\n                return s.open.apply(this, [].slice.call(arguments, 0));\n            },\n            close: function close() {\n                this._hide();\n                return s.close.apply(this, [].slice.call(arguments, 0));\n            },\n            _onRendered: function onRendered() {\n                if (this._allDatasetsEmpty()) {\n                    this._hide();\n                } else {\n                    this.isOpen() && this._show();\n                }\n                return s._onRendered.apply(this, [].slice.call(arguments, 0));\n            },\n            _onCleared: function onCleared() {\n                if (this._allDatasetsEmpty()) {\n                    this._hide();\n                } else {\n                    this.isOpen() && this._show();\n                }\n                return s._onCleared.apply(this, [].slice.call(arguments, 0));\n            },\n            setLanguageDirection: function setLanguageDirection(dir) {\n                this.$node.css(dir === \"ltr\" ? this.css.ltr : this.css.rtl);\n                return s.setLanguageDirection.apply(this, [].slice.call(arguments, 0));\n            },\n            _hide: function hide() {\n                this.$node.hide();\n            },\n            _show: function show() {\n                this.$node.css(\"display\", \"block\");\n            }\n        });\n        return DefaultMenu;\n    }();\n    var Typeahead = function() {\n        \"use strict\";\n        function Typeahead(o, www) {\n            var onFocused, onBlurred, onEnterKeyed, onTabKeyed, onEscKeyed, onUpKeyed, onDownKeyed, onLeftKeyed, onRightKeyed, onQueryChanged, onWhitespaceChanged;\n            o = o || {};\n            if (!o.input) {\n                $.error(\"missing input\");\n            }\n            if (!o.menu) {\n                $.error(\"missing menu\");\n            }\n            if (!o.eventBus) {\n                $.error(\"missing event bus\");\n            }\n            www.mixin(this);\n            this.eventBus = o.eventBus;\n            this.minLength = _.isNumber(o.minLength) ? o.minLength : 1;\n            this.input = o.input;\n            this.menu = o.menu;\n            this.enabled = true;\n            this.active = false;\n            this.input.hasFocus() && this.activate();\n            this.dir = this.input.getLangDir();\n            this._hacks();\n            this.menu.bind().onSync(\"selectableClicked\", this._onSelectableClicked, this).onSync(\"asyncRequested\", this._onAsyncRequested, this).onSync(\"asyncCanceled\", this._onAsyncCanceled, this).onSync(\"asyncReceived\", this._onAsyncReceived, this).onSync(\"datasetRendered\", this._onDatasetRendered, this).onSync(\"datasetCleared\", this._onDatasetCleared, this);\n            onFocused = c(this, \"activate\", \"open\", \"_onFocused\");\n            onBlurred = c(this, \"deactivate\", \"_onBlurred\");\n            onEnterKeyed = c(this, \"isActive\", \"isOpen\", \"_onEnterKeyed\");\n            onTabKeyed = c(this, \"isActive\", \"isOpen\", \"_onTabKeyed\");\n            onEscKeyed = c(this, \"isActive\", \"_onEscKeyed\");\n            onUpKeyed = c(this, \"isActive\", \"open\", \"_onUpKeyed\");\n            onDownKeyed = c(this, \"isActive\", \"open\", \"_onDownKeyed\");\n            onLeftKeyed = c(this, \"isActive\", \"isOpen\", \"_onLeftKeyed\");\n            onRightKeyed = c(this, \"isActive\", \"isOpen\", \"_onRightKeyed\");\n            onQueryChanged = c(this, \"_openIfActive\", \"_onQueryChanged\");\n            onWhitespaceChanged = c(this, \"_openIfActive\", \"_onWhitespaceChanged\");\n            this.input.bind().onSync(\"focused\", onFocused, this).onSync(\"blurred\", onBlurred, this).onSync(\"enterKeyed\", onEnterKeyed, this).onSync(\"tabKeyed\", onTabKeyed, this).onSync(\"escKeyed\", onEscKeyed, this).onSync(\"upKeyed\", onUpKeyed, this).onSync(\"downKeyed\", onDownKeyed, this).onSync(\"leftKeyed\", onLeftKeyed, this).onSync(\"rightKeyed\", onRightKeyed, this).onSync(\"queryChanged\", onQueryChanged, this).onSync(\"whitespaceChanged\", onWhitespaceChanged, this).onSync(\"langDirChanged\", this._onLangDirChanged, this);\n        }\n        _.mixin(Typeahead.prototype, {\n            _hacks: function hacks() {\n                var $input, $menu;\n                $input = this.input.$input || $(\"<div>\");\n                $menu = this.menu.$node || $(\"<div>\");\n                $input.on(\"blur.tt\", function($e) {\n                    var active, isActive, hasActive;\n                    active = document.activeElement;\n                    isActive = $menu.is(active);\n                    hasActive = $menu.has(active).length > 0;\n                    if (_.isMsie() && (isActive || hasActive)) {\n                        $e.preventDefault();\n                        $e.stopImmediatePropagation();\n                        _.defer(function() {\n                            $input.focus();\n                        });\n                    }\n                });\n                $menu.on(\"mousedown.tt\", function($e) {\n                    $e.preventDefault();\n                });\n            },\n            _onSelectableClicked: function onSelectableClicked(type, $el) {\n                this.select($el);\n            },\n            _onDatasetCleared: function onDatasetCleared() {\n                this._updateHint();\n            },\n            _onDatasetRendered: function onDatasetRendered(type, suggestions, async, dataset) {\n                this._updateHint();\n                this.eventBus.trigger(\"render\", suggestions, async, dataset);\n            },\n            _onAsyncRequested: function onAsyncRequested(type, dataset, query) {\n                this.eventBus.trigger(\"asyncrequest\", query, dataset);\n            },\n            _onAsyncCanceled: function onAsyncCanceled(type, dataset, query) {\n                this.eventBus.trigger(\"asynccancel\", query, dataset);\n            },\n            _onAsyncReceived: function onAsyncReceived(type, dataset, query) {\n                this.eventBus.trigger(\"asyncreceive\", query, dataset);\n            },\n            _onFocused: function onFocused() {\n                this._minLengthMet() && this.menu.update(this.input.getQuery());\n            },\n            _onBlurred: function onBlurred() {\n                if (this.input.hasQueryChangedSinceLastFocus()) {\n                    this.eventBus.trigger(\"change\", this.input.getQuery());\n                }\n            },\n            _onEnterKeyed: function onEnterKeyed(type, $e) {\n                var $selectable;\n                if ($selectable = this.menu.getActiveSelectable()) {\n                    if (this.select($selectable)) {\n                        $e.preventDefault();\n                        $e.stopPropagation();\n                    }\n                }\n            },\n            _onTabKeyed: function onTabKeyed(type, $e) {\n                var $selectable;\n                if ($selectable = this.menu.getActiveSelectable()) {\n                    this.select($selectable) && $e.preventDefault();\n                } else if ($selectable = this.menu.getTopSelectable()) {\n                    this.autocomplete($selectable) && $e.preventDefault();\n                }\n            },\n            _onEscKeyed: function onEscKeyed() {\n                this.close();\n            },\n            _onUpKeyed: function onUpKeyed() {\n                this.moveCursor(-1);\n            },\n            _onDownKeyed: function onDownKeyed() {\n                this.moveCursor(+1);\n            },\n            _onLeftKeyed: function onLeftKeyed() {\n                if (this.dir === \"rtl\" && this.input.isCursorAtEnd()) {\n                    this.autocomplete(this.menu.getActiveSelectable() || this.menu.getTopSelectable());\n                }\n            },\n            _onRightKeyed: function onRightKeyed() {\n                if (this.dir === \"ltr\" && this.input.isCursorAtEnd()) {\n                    this.autocomplete(this.menu.getActiveSelectable() || this.menu.getTopSelectable());\n                }\n            },\n            _onQueryChanged: function onQueryChanged(e, query) {\n                this._minLengthMet(query) ? this.menu.update(query) : this.menu.empty();\n            },\n            _onWhitespaceChanged: function onWhitespaceChanged() {\n                this._updateHint();\n            },\n            _onLangDirChanged: function onLangDirChanged(e, dir) {\n                if (this.dir !== dir) {\n                    this.dir = dir;\n                    this.menu.setLanguageDirection(dir);\n                }\n            },\n            _openIfActive: function openIfActive() {\n                this.isActive() && this.open();\n            },\n            _minLengthMet: function minLengthMet(query) {\n                query = _.isString(query) ? query : this.input.getQuery() || \"\";\n                return query.length >= this.minLength;\n            },\n            _updateHint: function updateHint() {\n                var $selectable, data, val, query, escapedQuery, frontMatchRegEx, match;\n                $selectable = this.menu.getTopSelectable();\n                data = this.menu.getSelectableData($selectable);\n                val = this.input.getInputValue();\n                if (data && !_.isBlankString(val) && !this.input.hasOverflow()) {\n                    query = Input.normalizeQuery(val);\n                    escapedQuery = _.escapeRegExChars(query);\n                    frontMatchRegEx = new RegExp(\"^(?:\" + escapedQuery + \")(.+$)\", \"i\");\n                    match = frontMatchRegEx.exec(data.val);\n                    match && this.input.setHint(val + match[1]);\n                } else {\n                    this.input.clearHint();\n                }\n            },\n            isEnabled: function isEnabled() {\n                return this.enabled;\n            },\n            enable: function enable() {\n                this.enabled = true;\n            },\n            disable: function disable() {\n                this.enabled = false;\n            },\n            isActive: function isActive() {\n                return this.active;\n            },\n            activate: function activate() {\n                if (this.isActive()) {\n                    return true;\n                } else if (!this.isEnabled() || this.eventBus.before(\"active\")) {\n                    return false;\n                } else {\n                    this.active = true;\n                    this.eventBus.trigger(\"active\");\n                    return true;\n                }\n            },\n            deactivate: function deactivate() {\n                if (!this.isActive()) {\n                    return true;\n                } else if (this.eventBus.before(\"idle\")) {\n                    return false;\n                } else {\n                    this.active = false;\n                    this.close();\n                    this.eventBus.trigger(\"idle\");\n                    return true;\n                }\n            },\n            isOpen: function isOpen() {\n                return this.menu.isOpen();\n            },\n            open: function open() {\n                if (!this.isOpen() && !this.eventBus.before(\"open\")) {\n                    this.menu.open();\n                    this._updateHint();\n                    this.eventBus.trigger(\"open\");\n                }\n                return this.isOpen();\n            },\n            close: function close() {\n                if (this.isOpen() && !this.eventBus.before(\"close\")) {\n                    this.menu.close();\n                    this.input.clearHint();\n                    this.input.resetInputValue();\n                    this.eventBus.trigger(\"close\");\n                }\n                return !this.isOpen();\n            },\n            setVal: function setVal(val) {\n                this.input.setQuery(_.toStr(val));\n            },\n            getVal: function getVal() {\n                return this.input.getQuery();\n            },\n            select: function select($selectable) {\n                var data = this.menu.getSelectableData($selectable);\n                if (data && !this.eventBus.before(\"select\", data.obj, data.dataset)) {\n                    this.input.setQuery(data.val, true);\n                    this.eventBus.trigger(\"select\", data.obj, data.dataset);\n                    this.close();\n                    return true;\n                }\n                return false;\n            },\n            autocomplete: function autocomplete($selectable) {\n                var query, data, isValid;\n                query = this.input.getQuery();\n                data = this.menu.getSelectableData($selectable);\n                isValid = data && query !== data.val;\n                if (isValid && !this.eventBus.before(\"autocomplete\", data.obj, data.dataset)) {\n                    this.input.setQuery(data.val);\n                    this.eventBus.trigger(\"autocomplete\", data.obj, data.dataset);\n                    return true;\n                }\n                return false;\n            },\n            moveCursor: function moveCursor(delta) {\n                var query, $candidate, data, suggestion, datasetName, cancelMove, id;\n                query = this.input.getQuery();\n                $candidate = this.menu.selectableRelativeToCursor(delta);\n                data = this.menu.getSelectableData($candidate);\n                suggestion = data ? data.obj : null;\n                datasetName = data ? data.dataset : null;\n                id = $candidate ? $candidate.attr(\"id\") : null;\n                this.input.trigger(\"cursorchange\", id);\n                cancelMove = this._minLengthMet() && this.menu.update(query);\n                if (!cancelMove && !this.eventBus.before(\"cursorchange\", suggestion, datasetName)) {\n                    this.menu.setCursor($candidate);\n                    if (data) {\n                        this.input.setInputValue(data.val);\n                    } else {\n                        this.input.resetInputValue();\n                        this._updateHint();\n                    }\n                    this.eventBus.trigger(\"cursorchange\", suggestion, datasetName);\n                    return true;\n                }\n                return false;\n            },\n            destroy: function destroy() {\n                this.input.destroy();\n                this.menu.destroy();\n            }\n        });\n        return Typeahead;\n        function c(ctx) {\n            var methods = [].slice.call(arguments, 1);\n            return function() {\n                var args = [].slice.call(arguments);\n                _.each(methods, function(method) {\n                    return ctx[method].apply(ctx, args);\n                });\n            };\n        }\n    }();\n    (function() {\n        \"use strict\";\n        var old, keys, methods;\n        old = $.fn.typeahead;\n        keys = {\n            www: \"tt-www\",\n            attrs: \"tt-attrs\",\n            typeahead: \"tt-typeahead\"\n        };\n        methods = {\n            initialize: function initialize(o, datasets) {\n                var www;\n                datasets = _.isArray(datasets) ? datasets : [].slice.call(arguments, 1);\n                o = o || {};\n                www = WWW(o.classNames);\n                return this.each(attach);\n                function attach() {\n                    var $input, $wrapper, $hint, $menu, defaultHint, defaultMenu, eventBus, input, menu, status, typeahead, MenuConstructor;\n                    _.each(datasets, function(d) {\n                        d.highlight = !!o.highlight;\n                    });\n                    $input = $(this);\n                    $wrapper = $(www.html.wrapper);\n                    $hint = $elOrNull(o.hint);\n                    $menu = $elOrNull(o.menu);\n                    defaultHint = o.hint !== false && !$hint;\n                    defaultMenu = o.menu !== false && !$menu;\n                    defaultHint && ($hint = buildHintFromInput($input, www));\n                    defaultMenu && ($menu = $(www.html.menu).css(www.css.menu));\n                    $hint && $hint.val(\"\");\n                    $input = prepInput($input, www);\n                    if (defaultHint || defaultMenu) {\n                        $wrapper.css(www.css.wrapper);\n                        $input.css(defaultHint ? www.css.input : www.css.inputWithNoHint);\n                        $input.wrap($wrapper).parent().prepend(defaultHint ? $hint : null).append(defaultMenu ? $menu : null);\n                    }\n                    MenuConstructor = defaultMenu ? DefaultMenu : Menu;\n                    eventBus = new EventBus({\n                        el: $input\n                    });\n                    input = new Input({\n                        hint: $hint,\n                        input: $input\n                    }, www);\n                    menu = new MenuConstructor({\n                        node: $menu,\n                        datasets: datasets\n                    }, www);\n                    status = new Status({\n                        $input: $input,\n                        menu: menu\n                    });\n                    typeahead = new Typeahead({\n                        input: input,\n                        menu: menu,\n                        eventBus: eventBus,\n                        minLength: o.minLength\n                    }, www);\n                    $input.data(keys.www, www);\n                    $input.data(keys.typeahead, typeahead);\n                }\n            },\n            isEnabled: function isEnabled() {\n                var enabled;\n                ttEach(this.first(), function(t) {\n                    enabled = t.isEnabled();\n                });\n                return enabled;\n            },\n            enable: function enable() {\n                ttEach(this, function(t) {\n                    t.enable();\n                });\n                return this;\n            },\n            disable: function disable() {\n                ttEach(this, function(t) {\n                    t.disable();\n                });\n                return this;\n            },\n            isActive: function isActive() {\n                var active;\n                ttEach(this.first(), function(t) {\n                    active = t.isActive();\n                });\n                return active;\n            },\n            activate: function activate() {\n                ttEach(this, function(t) {\n                    t.activate();\n                });\n                return this;\n            },\n            deactivate: function deactivate() {\n                ttEach(this, function(t) {\n                    t.deactivate();\n                });\n                return this;\n            },\n            isOpen: function isOpen() {\n                var open;\n                ttEach(this.first(), function(t) {\n                    open = t.isOpen();\n                });\n                return open;\n            },\n            open: function open() {\n                ttEach(this, function(t) {\n                    t.open();\n                });\n                return this;\n            },\n            close: function close() {\n                ttEach(this, function(t) {\n                    t.close();\n                });\n                return this;\n            },\n            select: function select(el) {\n                var success = false, $el = $(el);\n                ttEach(this.first(), function(t) {\n                    success = t.select($el);\n                });\n                return success;\n            },\n            autocomplete: function autocomplete(el) {\n                var success = false, $el = $(el);\n                ttEach(this.first(), function(t) {\n                    success = t.autocomplete($el);\n                });\n                return success;\n            },\n            moveCursor: function moveCursoe(delta) {\n                var success = false;\n                ttEach(this.first(), function(t) {\n                    success = t.moveCursor(delta);\n                });\n                return success;\n            },\n            val: function val(newVal) {\n                var query;\n                if (!arguments.length) {\n                    ttEach(this.first(), function(t) {\n                        query = t.getVal();\n                    });\n                    return query;\n                } else {\n                    ttEach(this, function(t) {\n                        t.setVal(_.toStr(newVal));\n                    });\n                    return this;\n                }\n            },\n            destroy: function destroy() {\n                ttEach(this, function(typeahead, $input) {\n                    revert($input);\n                    typeahead.destroy();\n                });\n                return this;\n            }\n        };\n        $.fn.typeahead = function(method) {\n            if (methods[method]) {\n                return methods[method].apply(this, [].slice.call(arguments, 1));\n            } else {\n                return methods.initialize.apply(this, arguments);\n            }\n        };\n        $.fn.typeahead.noConflict = function noConflict() {\n            $.fn.typeahead = old;\n            return this;\n        };\n        function ttEach($els, fn) {\n            $els.each(function() {\n                var $input = $(this), typeahead;\n                (typeahead = $input.data(keys.typeahead)) && fn(typeahead, $input);\n            });\n        }\n        function buildHintFromInput($input, www) {\n            return $input.clone().addClass(www.classes.hint).removeData().css(www.css.hint).css(getBackgroundStyles($input)).prop(\"readonly\", true).removeAttr(\"id name placeholder required\").attr({\n                spellcheck: \"false\",\n                tabindex: -1\n            });\n        }\n        function prepInput($input, www) {\n            $input.data(keys.attrs, {\n                dir: $input.attr(\"dir\"),\n                autocomplete: $input.attr(\"autocomplete\"),\n                spellcheck: $input.attr(\"spellcheck\"),\n                style: $input.attr(\"style\")\n            });\n            $input.addClass(www.classes.input).attr({\n                spellcheck: false\n            });\n            try {\n                !$input.attr(\"dir\") && $input.attr(\"dir\", \"auto\");\n            } catch (e) {}\n            return $input;\n        }\n        function getBackgroundStyles($el) {\n            return {\n                backgroundAttachment: $el.css(\"background-attachment\"),\n                backgroundClip: $el.css(\"background-clip\"),\n                backgroundColor: $el.css(\"background-color\"),\n                backgroundImage: $el.css(\"background-image\"),\n                backgroundOrigin: $el.css(\"background-origin\"),\n                backgroundPosition: $el.css(\"background-position\"),\n                backgroundRepeat: $el.css(\"background-repeat\"),\n                backgroundSize: $el.css(\"background-size\")\n            };\n        }\n        function revert($input) {\n            var www, $wrapper;\n            www = $input.data(keys.www);\n            $wrapper = $input.parent().filter(www.selectors.wrapper);\n            _.each($input.data(keys.attrs), function(val, key) {\n                _.isUndefined(val) ? $input.removeAttr(key) : $input.attr(key, val);\n            });\n            $input.removeData(keys.typeahead).removeData(keys.www).removeData(keys.attr).removeClass(www.classes.input);\n            if ($wrapper.length) {\n                $input.detach().insertAfter($wrapper);\n                $wrapper.remove();\n            }\n        }\n        function $elOrNull(obj) {\n            var isValid, $el;\n            isValid = _.isJQuery(obj) || _.isElement(obj);\n            $el = isValid ? $(obj).first() : [];\n            return $el.length ? $el : null;\n        }\n    })();\n});\n/**\n * This module adds a copy button to all code examples in the docs.\n */\n\n!function() {\n\n// Look for code samples and set up a copy button on each\n$('[data-docs-code]').each(function(index, value) {\n  var copyBtnId = 'copy-btn-' + index.toString();\n  var $button = $('<button class=\"docs-code-copy\" id=\"' + copyBtnId + '\">Copy</button>');\n\n  var text = $(this).find('code').text()\n    .replace('&lt;', '<')\n    .replace('&gt;', '>');\n\n  $(this).prepend($button);\n\n  var clipboard = new Clipboard('#' + copyBtnId, {\n    text: function() {\n        return text;\n    }\n  });\n\n  // Change the text of the copy button when it's clicked on\n  clipboard.on('success', function(event) {\n    $button.text('Copied!');\n    window.setTimeout(function() {\n      $button.text('Copy');\n    }, 3000);\n  });\n\n  // Log errors on copy failure\n  clipboard.on('error', function(event) {\n      console.error('Action:', event.action);\n      console.error('Trigger:', event.trigger);\n  });\n});\n\n}();\n\n/**\n * This module activates on a Kitchen Sink page, and changes how code examples are rendered.\n * The code example is hidden, and can be revealed with a toggle.\n */\n\n!function() {\n\nvar $ks = $('#docs-kitchen-sink');\nif (!$ks.length) return;\n\n$ks.find('[data-ks-codepen]').each(function() {\n  var $codepen = $(this);\n  var $code = $codepen.next('[data-docs-code]');\n\n  $link = $('<a class=\"docs-code-toggle\">Toggle Code</a>');\n  $link.on('click.docs', function() {\n    $codepen.slideToggle(250);\n    $code.slideToggle(250);\n  });\n  $link.insertBefore(this);\n  $code.addClass('kitchen-sink').hide(0);\n  $codepen.addClass('kitchen-sink').hide(0);\n});\n\n}();\n\n/**\n * This module sets up the search bar.\n */\n\n!function() {\n\nvar source = {\n  // Only show 10 results at once\n  limit: 10,\n\n  // Function to fetch result list and then find a result;\n  source: function(query, sync, async) {\n    query = query.toLowerCase();\n\n    $.getJSON('./data/search.json', function(data, status) {\n      async(data.filter(function(elem, i, arr) {\n        var name = elem.name.toLowerCase();\n        var terms = [name, name.replace('-', '')].concat(elem.tags || []);\n        for (var i in terms) if (terms[i].indexOf(query) > -1) return true;\n        return false;\n      }));\n    });\n  },\n\n  // Name to use for the search result itself\n  display: function(item) {\n    return item.name;\n  },\n\n  templates: {\n    // HTML that renders if there are no results\n    notFound: function(query) {\n      return '<div class=\"tt-empty\">No results for \"' + query.query + '\".</div>';\n    },\n    // HTML that renders for each result in the list\n    suggestion: function(item) {\n      return '<div><span class=\"name\">' + item.name + '<span class=\"meta\">' + item.type + '</span></span> <span class=\"desc\">' + item.description + '</span></div>';\n    }\n  }\n}\n\n// Search\n$('[data-docs-search]')\n  .typeahead({ highlight: false }, source)\n  .on('typeahead:select', function(e, sel) {\n    window.location.href = sel.link;\n  });\n\n// Auto-highlight unless it's a phone\nif (!navigator.userAgent.match(/(iP(hone|ad|od)|Android)/)) {\n  $('[data-docs-search]').focus();\n}\n\n}();\n\n/**\n * This module generates a table of contents from the <h2>s on a page.\n */\n\n!function() {\n\nvar $h2s = $('.docs-component h2');\nvar $toc = $('[data-docs-toc]');\n\n$h2s.each(function() {\n  // Ignore <h2>s inside of a rendered code sample\n  if ($(this).parents('.docs-code-live').length) return;\n\n  var text = $(this).text();\n  var anchor = $(this).children('a').attr('href');\n\n  $toc.append('<li><a href=\"'+anchor+'\">'+text+'</a></li>');\n});\n\n// Initialize Magellan on the generated table of contents\nif ($toc.length) {\n  if (typeof Foundation !== 'undefined') {\n    new Foundation.Magellan($toc, {offset: 130});\n  }\n}\n\n}();\n\n//var $window = $(window);\n//var $container = $('.docs-component');\n//var $TOC = $('#docsToc');\n//var $TOCparent = $TOC.parent();\n//\n//if($TOC.is('*')) {\n//  var fixedTop = $container.offset().top;\n//  var innerHeight = 0;\n//  $container.children().each(function() {innerHeight += $(this).height()});\n//  var containerHeight = $container.height();\n//  var handler = function() {\n//    var tocHeight = $TOC.height();\n//    var parentOffset = $TOCparent.offset().top;\n//    var windowScroll = $window.scrollTop();\n//    var containerScroll = $container.scrollTop();\n//    var visibleNav = (containerHeight + fixedTop) - windowScroll;\n//\n//    if (visibleNav < tocHeight || containerScroll + tocHeight >= innerHeight) {\n//      $TOC.removeClass('is-fixed');\n//      $TOC.addClass('is-docked').css({top: 'auto'});\n//    } else if ((windowScroll > fixedTop && parentOffset < windowScroll)|| (parentOffset < fixedTop - windowScroll)) {\n//      var offset = Math.max(fixedTop - windowScroll, 0)\n//      $TOC.removeClass('is-docked');\n//      $TOC.addClass('is-fixed').css({top: offset});\n//    } else {\n//      $TOC.removeClass('is-fixed');\n//      $TOC.removeClass('is-docked');\n//    }\n//  };\n//  $(document).on('load scroll', handler);\n//  $container.on('scroll', handler);\n//}\n\n(function() {\n  var prev = 0;\n  var $window = $(window);\n  var nav = $('.docs-sticky-top-bar');\n\n  $window.on('scroll', function(){\n    var scrollTop = $window.scrollTop();\n    nav.toggleClass('mobile-hidden', scrollTop > prev && scrollTop > 100);\n    prev = scrollTop;\n  });\n\n  $('#inline-search').on('on.zf.toggler', function() {\n    $(this).find('input').focus();\n    $('.search-button').addClass('search-open');\n  });\n  $('#inline-search').on('off.zf.toggler', function() {\n    $(this).find('input').blur();\n    $('.search-button').removeClass('search-open');\n  });\n})();\n\n// From http://stackoverflow.com/questions/979975/how-to-get-the-value-from-the-get-parameters\n\nvar QueryString = function () {\n  // This function is anonymous, is executed immediately and \n  // the return value is assigned to QueryString!\n  var query_string = {};\n  var query = window.location.search.substring(1);\n  var vars = query.split(\"&\");\n  for (var i=0;i<vars.length;i++) {\n    var pair = vars[i].split(\"=\");\n        // If first entry with this name\n    if (typeof query_string[pair[0]] === \"undefined\") {\n      query_string[pair[0]] = decodeURIComponent(pair[1]);\n        // If second entry with this name\n    } else if (typeof query_string[pair[0]] === \"string\") {\n      var arr = [ query_string[pair[0]],decodeURIComponent(pair[1]) ];\n      query_string[pair[0]] = arr;\n        // If third or later entry with this name\n    } else {\n      query_string[pair[0]].push(decodeURIComponent(pair[1]));\n    }\n  }\n  return query_string;\n}();\n\n// 2. This code loads the IFrame Player API code asynchronously.\nif ($('#main-video').is('*')) {\n  var $videoOuter = $('#subpage-intro-video');\n  var $videoInner = $videoOuter.find('.docs-video-inner');\n  var $videoOverlay = $videoOuter.find('.video-overlay');\n  var videoId = $('#main-video').data().video;\n  var tag = document.createElement('script');\n\n  tag.src = \"https://www.youtube.com/iframe_api\";\n  var firstScriptTag = document.getElementsByTagName('script')[0];\n  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n  // 3. This function creates an <iframe> (and YouTube mainPlayer)\n  //    after the API code downloads.\n  var mainPlayer, embeddedPlayers = [];\n\n  function onYouTubeIframeAPIReady() {\n    mainPlayer = new YT.Player('main-video', {\n      height: '385',\n      width: '690',\n      videoId: videoId,\n      playerVars: {showinfo: '0'},\n      events: {\n        'onReady': onPlayerReady,\n        'onStateChange': onPlayerStateChange\n      }\n    });\n\n    $('[data-linkable-video]').each(function() {\n      var $vid= $(this);\n      var id = this.id;\n      var videoId = $vid.data().linkableVideo;\n      embeddedPlayers.push({id: id, video: videoId, player: new YT.Player(id, {\n        events: {\n          'onReady': onPlayerReady\n        }\n      })});\n    });\n  }\n\n  // 4. The API will call this function when the video mainPlayer is ready.\n  function onPlayerReady(event) {\n    if(QueryString.video == videoId) {\n      mainPlayer.playVideo();\n    } else if(QueryString.video) {\n      for(var i = 0; i < embeddedPlayers.length; i++) {\n        if(QueryString.video == embeddedPlayers[i].video) {\n          $(window).scrollTop($('#' + embeddedPlayers[i].id).offset().top - 200);\n\n          // Don't show the main vid if we're autoplaying a different one.\n          $videoInner.removeClass('autostick').removeClass('expanded');\n          $videoOverlay.removeClass('expanded');\n          embeddedPlayers[i].player.playVideo();\n        }\n      }\n    }\n  }\n\n  // 5. The API calls this function when the mainPlayer's state changes.\n  //    The function indicates that when playing a video (state=1),\n  //    the mainPlayer should play for six seconds and then stop.\n  function onPlayerStateChange(event) {\n    if (event.data == YT.PlayerState.PLAYING) {\n      $videoInner.addClass('playing').addClass('autostick');\n    } else {\n      $videoInner.removeClass('playing');\n    }\n  }\n\n  var $window = $(window);\n  \n  $(window).on(\"scroll\", function() {\n    var videoOffset = $videoOuter.offset().top;\n    var videoHeight = $videoOuter.height();\n    var myScrollPosition = $(this).scrollTop();\n \n    if (myScrollPosition > (videoOffset + videoHeight - 300)) {\n      $videoInner.addClass('is-stuck');\n      $videoOverlay.addClass('is-stuck');\n    } else {\n      $videoInner.removeClass('is-stuck');\n      $videoOverlay.removeClass('is-stuck');\n    }\n  });\n\n  $('[data-close-video]').on('click', function() {\n    mainPlayer.stopVideo();\n    $videoInner.removeClass('autostick').removeClass('expanded');\n    $videoOverlay.removeClass('expanded');\n  });\n\n  $('[data-expand-contract-video]').on('click', function() {\n    $videoInner.toggleClass('expanded');\n    $videoOverlay.toggleClass('expanded');\n  });\n\n  var getSeconds = function(link) {\n    var time = $(link).data().openVideo;\n    var sections = String(time).split(':');\n    var seconds;\n    if(sections.length > 1) { \n      seconds = (60 * Number(sections[0])) + Number(sections[1]);\n    } else {\n      seconds = Number(sections[0]);\n    }\n    return seconds;\n  }\n  var href = $('#docs-mobile-video-link').attr('href');\n  $('[data-open-video]').each(function() {\n    var seconds = getSeconds(this);\n    this.href = href + '&t=' + seconds;\n    this.target = '_blank';\n  });\n\n  $('[data-open-video]').on('click', function(e) {\n    if(Foundation.MediaQuery.is('small only')) {\n      return;\n    }\n    e.preventDefault();\n    var seconds = getSeconds(this)\n    mainPlayer.seekTo(seconds, true);\n    mainPlayer.playVideo();\n    $videoOverlay.addClass('expanded');\n    $videoInner.addClass('expanded').addClass('autostick');\n  });\n}\n\n\n$(function() {\n\n  // TODO: Add alternate between advanced and intro\n  var topic = $('h1.docs-page-title').text();\n  if(topic.length < 1) { topic = 'Foundation'; }\n  var header = 'Master ' + topic;\n  var body = 'Get up to speed FAST, learn straight from the experts who built Foundation.';\n  var link = 'http://zurb.com/university/foundation-intro?utm_source=Foundation%20Docs&utm_medium=Docs&utm_content=Struggling&utm_campaign=Docs%20To%20Intro';\n  var cta = 'Learn More';\n\n  var html = '<div class=\"ad-unit\"><h3 class=\"ad-unit-title\">' + header + '</h3>' +\n             '<p class=\"ad-unit-text\">' + body + '</p>' +\n             '<a class=\"button ad-unit-button\" href=\"' + link+ '\">' +\n             cta + '</a></div>';\n  $('#TOCAdUnit').html(html);\n\n});\n\n// Adds links to Building Blocks from the ZURB library to each component page\n\n!function() {\n  \n$.ajax({\n  url: 'http://zurb.com/library/api/building_blocks/type/buttons',\n  dataType: 'jsonp',\n  success: addBuildingBlocks\n});\n\nfunction addBuildingBlocks(data) {\n  var html = '';\n\n  $.each(data, function() {\n    html += '<div class=\"docs-bb\"><div class=\"docs-bb-thumb\"><a href=\"http://zurb.com/building-blocks/'+this.slug+'\"><img src=\"'+this.image_url+'\"/></a></div><div class=\"docs-bb-main\"><h3><a href=\"http://zurb.com/building-blocks/'+this.slug+'\">'+this.name+'</a></h3><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolor, amet incidunt sint esse nihil eum repellendus necessitatibus officiis iusto reprehenderit, alias laudantium veniam ad. Soluta repellat nemo quaerat quis laboriosam.</p></div></div>';\n  });\n\n  $('[data-building-blocks]').each(function() {\n    $(this).html(html);\n  });\n\n  if ($('[data-building-blocks] .docs-bb').length === 0) {\n    $('.docs-building-blocks').hide(0);\n  }\n}\n\n}()\n// Code for specific docs examples.\n\n!function() {\n\n$('[data-docs-example-ofc]').click(function() {\n  $('#offCanvasLeft').toggleClass('reveal-for-large');\n  $('.sticky').foundation('_calc', true);\n});\n\n$('[data-docs-example-series]').click(function() {\n  $('#series-example').addClass('is-animating');\n});\n\nvar $transitionDemo = $('.docs-transition-demo');\n$('.docs-transitions').change(function() {\n  var value = $(this).val();\n  var method = value.match('-in') ? 'animateIn' : 'animateOut';\n\n  Foundation.Motion[method]($transitionDemo, value, function() {\n    $transitionDemo.show();\n  });\n});\nvar stickyMag = $('#sticky-magellan');\nstickyMag.on('sticky.zf.stuckto:top', function(){\n  stickyMag.find('nav').addClass('stuck-mag');\n}).on('sticky.zf.unstuckfrom:top', function(e){\n  stickyMag.find('nav').removeClass('stuck-mag');\n});\n\n}();\n\n!function() {\nvar loaded = false;\n$('#docs-example-interchange').on('replaced.zf.interchange', function() {\n  if(Foundation.MediaQuery.atLeast('large')){\n    if(!loaded){\n      $.getScript(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBOVwxUM9akvFrSWmmb2iKc7Fe0vjRBY7c&sensor=false&callback=initializeMaps\")\n      .done(function(){\n        loaded = true;\n      });\n    }else{\n      window.initializeMaps();\n    }\n  }\n});\n\nwindow.initializeMaps = function() {\n  // Basic options for a simple Google Map\n  // For more options see: https://developers.google.com/maps/documentation/javascript/reference#MapOptions\n  var mapOptions = {\n    // How zoomed in you want the map to start at (always required)\n    zoom: 11,\n\n    // The latitude and longitude to center the map (always required)\n    center: new google.maps.LatLng(37.2845934,-121.951675), // ZURB HQ\n\n    // How you would like to style the map.\n    // This is where you would paste any style found on Snazzy Maps.\n    styles: [{'featureType':'water','stylers':[{'visibility':'on'},{'color':'#acbcc9'}]},{'featureType':'landscape','stylers':[{'color':'#f2e5d4'}]},{'featureType':'road.highway','elementType':'geometry','stylers':[{'color':'#c5c6c6'}]},{'featureType':'road.arterial','elementType':'geometry','stylers':[{'color':'#e4d7c6'}]},{'featureType':'road.local','elementType':'geometry','stylers':[{'color':'#fbfaf7'}]},{'featureType':'poi.park','elementType':'geometry','stylers':[{'color':'#c5dac6'}]},{'featureType':'administrative','stylers':[{'visibility':'on'},{'lightness':33}]},{'featureType':'road'},{'featureType':'poi.park','elementType':'labels','stylers':[{'visibility':'on'},{'lightness':20}]},{},{'featureType':'road','stylers':[{'lightness':20}]}]\n  };\n\n  // Get the HTML DOM element that will contain your map\n  // We are using a div with id=\"map\" seen below in the <body>\n  var mapElement = document.getElementById('map');\n\n  // Create the Google Map using out element and options defined above\n  var map = new google.maps.Map(mapElement, mapOptions);\n  var markerOptions = {\n    map: map,\n    position: {lat: 37.2845934, lng: -121.951675},\n    title: 'ZURB HQ'\n  };\n  var marker = new google.maps.Marker(markerOptions);\n};\n\n}();\n\n// Kissmetrics reporting\n\n!function() {\n\nvar _kmq = _kmq || [];\nvar _kmk = _kmk || \"d945f04ff5e68057c85f5323b46f185efb3826b3\";\nfunction _kms(u){\n  setTimeout(function(){\n    var d = document, f = d.getElementsByTagName('script')[0],\n    s = d.createElement('script');\n    s.type = 'text/javascript'; s.async = true; s.src = u;\n    f.parentNode.insertBefore(s, f);\n  }, 1);\n}\n_kms('//i.kissmetrics.com/i.js');\n_kms('//doug1izaerwt3.cloudfront.net/' + _kmk + '.1.js');\n\n}();\n\n$(document).foundation();\n\n// [TODO] Remove this when possible\n$(function() {\n  // Equalizer test\n  var counter = 0;\n  $('#test-eq').on('postEqualized.zf.Equalizer', function() {\n    counter++;\n    console.log(counter);\n  });\n  $('#pokemonRed').on('invalid.fndtn.abide', function(e, data) {\n    console.log(data);\n  });\n});\n\n$(function() {\n  $('[data-docs-version]').text('v' + Foundation.version);\n});\n\nvar ACCORDION_KEY = 'docs-accordion-expandall';\nvar expandAccordion = function($a) {\n  $a.parent('.accordion').find('.accordion-item, .accordion-content').addClass('is-active');\n  $a.text('Collapse');\n  $a.data('expandAll', false);\n  if(localStorage) { localStorage.setItem(ACCORDION_KEY, 'true'); }\n};\n\nvar contractAccordion = function($a) {\n  $a.parent('.accordion').find('.accordion-item, .accordion-content').removeClass('is-active');\n  $a.text('Expand');\n  $a.data('expandAll', true);\n  if(localStorage) { localStorage.setItem(ACCORDION_KEY, 'false'); }\n};\n\n$('[data-expand-all]').on('click', function() {\n  var $a = $(this);\n  if ($a.data().expandAll === true) {\n    expandAccordion($a);\n  } else {\n    contractAccordion($a);\n  }\n});\n\nif(localStorage.getItem(ACCORDION_KEY) === 'true') {\n  expandAccordion($('[data-expand-all]'));\n} else {\n  $('[data-expand-all]').text('Expand');\n}\n"]},"hash":"78a90b333f1d8719ef6e74b722dad37d07f79a66"}
