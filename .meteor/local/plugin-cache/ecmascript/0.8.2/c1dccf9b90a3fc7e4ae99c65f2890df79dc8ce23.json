{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"jquery","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"$"}]}],"exports":{"exported":["Nest"],"specifiers":[{"kind":"local","local":"Nest","exported":"Nest"}]}}},"options":{"filename":"packages/zurb:foundation-sites/js/foundation.util.nest.js","filenameRelative":"packages/zurb:foundation-sites/js/foundation.util.nest.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/js/foundation.util.nest.js.map","sourceFileName":"packages/zurb:foundation-sites/js/foundation.util.nest.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"foundation.util.nest"},"ignored":false,"code":"'use strict';\n\nmodule.export({\n  Nest: function () {\n    return Nest;\n  }\n});\nvar $ = void 0;\nmodule.watch(require(\"jquery\"), {\n  \"default\": function (v) {\n    $ = v;\n  }\n}, 0);\nvar Nest = {\n  Feather: function (menu) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'zf';\n    menu.attr('role', 'menubar');\n    var items = menu.find('li').attr({\n      'role': 'menuitem'\n    }),\n        subMenuClass = \"is-\" + type + \"-submenu\",\n        subItemClass = subMenuClass + \"-item\",\n        hasSubClass = \"is-\" + type + \"-submenu-parent\",\n        applyAria = type !== 'accordion'; // Accordions handle their own ARIA attriutes.\n\n    items.each(function () {\n      var $item = $(this),\n          $sub = $item.children('ul');\n\n      if ($sub.length) {\n        $item.addClass(hasSubClass);\n        $sub.addClass(\"submenu \" + subMenuClass).attr({\n          'data-submenu': ''\n        });\n\n        if (applyAria) {\n          $item.attr({\n            'aria-haspopup': true,\n            'aria-label': $item.children('a:first').text()\n          }); // Note:  Drilldowns behave differently in how they hide, and so need\n          // additional attributes.  We should look if this possibly over-generalized\n          // utility (Nest) is appropriate when we rework menus in 6.4\n\n          if (type === 'drilldown') {\n            $item.attr({\n              'aria-expanded': false\n            });\n          }\n        }\n\n        $sub.addClass(\"submenu \" + subMenuClass).attr({\n          'data-submenu': '',\n          'role': 'menu'\n        });\n\n        if (type === 'drilldown') {\n          $sub.attr({\n            'aria-hidden': true\n          });\n        }\n      }\n\n      if ($item.parent('[data-submenu]').length) {\n        $item.addClass(\"is-submenu-item \" + subItemClass);\n      }\n    });\n    return;\n  },\n  Burn: function (menu, type) {\n    var //items = menu.find('li'),\n    subMenuClass = \"is-\" + type + \"-submenu\",\n        subItemClass = subMenuClass + \"-item\",\n        hasSubClass = \"is-\" + type + \"-submenu-parent\";\n    menu.find('>li, .menu, .menu > li').removeClass(subMenuClass + \" \" + subItemClass + \" \" + hasSubClass + \" is-submenu-item submenu is-active\").removeAttr('data-submenu').css('display', '');\n  }\n};","map":{"version":3,"sources":["packages/zurb:foundation-sites/js/foundation.util.nest.js"],"names":["module","export","Nest","$","watch","require","v","Feather","menu","type","attr","items","find","subMenuClass","subItemClass","hasSubClass","applyAria","each","$item","$sub","children","length","addClass","text","parent","Burn","removeClass","removeAttr","css"],"mappings":"AAAA;;AAAAA,OAAOC,MAAP,CAAc;AAACC,QAAK;AAAA,WAAIA,IAAJ;AAAA;AAAN,CAAd;AAA+B,IAAIC,UAAJ;AAAMH,OAAOI,KAAP,CAAaC,QAAQ,QAAR,CAAb,EAA+B;AAAA,uBAASC,CAAT,EAAW;AAACH,QAAEG,CAAF;AAAI;AAAhB,CAA/B,EAAiD,CAAjD;AAIrC,IAAMJ,OAAO;AACXK,SADW,YACHC,IADG,EACgB;AAAA,QAAbC,IAAa,uEAAN,IAAM;AACzBD,SAAKE,IAAL,CAAU,MAAV,EAAkB,SAAlB;AAEA,QAAIC,QAAQH,KAAKI,IAAL,CAAU,IAAV,EAAgBF,IAAhB,CAAqB;AAAC,cAAQ;AAAT,KAArB,CAAZ;AAAA,QACIG,uBAAqBJ,IAArB,aADJ;AAAA,QAEIK,eAAkBD,YAAlB,UAFJ;AAAA,QAGIE,sBAAoBN,IAApB,oBAHJ;AAAA,QAIIO,YAAaP,SAAS,WAJ1B,CAHyB,CAOe;;AAExCE,UAAMM,IAAN,CAAW,YAAW;AACpB,UAAIC,QAAQf,EAAE,IAAF,CAAZ;AAAA,UACIgB,OAAOD,MAAME,QAAN,CAAe,IAAf,CADX;;AAGA,UAAID,KAAKE,MAAT,EAAiB;AACfH,cAAMI,QAAN,CAAeP,WAAf;AACAI,aAAKG,QAAL,cAAyBT,YAAzB,EAAyCH,IAAzC,CAA8C;AAAC,0BAAgB;AAAjB,SAA9C;;AACA,YAAGM,SAAH,EAAc;AACZE,gBAAMR,IAAN,CAAW;AACT,6BAAiB,IADR;AAET,0BAAcQ,MAAME,QAAN,CAAe,SAAf,EAA0BG,IAA1B;AAFL,WAAX,EADY,CAKZ;AACA;AACA;;AACA,cAAGd,SAAS,WAAZ,EAAyB;AACvBS,kBAAMR,IAAN,CAAW;AAAC,+BAAiB;AAAlB,aAAX;AACD;AACF;;AACDS,aACGG,QADH,cACuBT,YADvB,EAEGH,IAFH,CAEQ;AACJ,0BAAgB,EADZ;AAEJ,kBAAQ;AAFJ,SAFR;;AAMA,YAAGD,SAAS,WAAZ,EAAyB;AACvBU,eAAKT,IAAL,CAAU;AAAC,2BAAe;AAAhB,WAAV;AACD;AACF;;AAED,UAAIQ,MAAMM,MAAN,CAAa,gBAAb,EAA+BH,MAAnC,EAA2C;AACzCH,cAAMI,QAAN,sBAAkCR,YAAlC;AACD;AACF,KAjCD;AAmCA;AACD,GA9CU;AAgDXW,MAhDW,YAgDNjB,IAhDM,EAgDAC,IAhDA,EAgDM;AACf,QAAI;AACAI,2BAAqBJ,IAArB,aADJ;AAAA,QAEIK,eAAkBD,YAAlB,UAFJ;AAAA,QAGIE,sBAAoBN,IAApB,oBAHJ;AAKAD,SACGI,IADH,CACQ,wBADR,EAEGc,WAFH,CAEkBb,YAFlB,SAEkCC,YAFlC,SAEkDC,WAFlD,yCAGGY,UAHH,CAGc,cAHd,EAG8BC,GAH9B,CAGkC,SAHlC,EAG6C,EAH7C;AAKD;AA3DU,CAAb","file":"packages/zurb:foundation-sites/js/foundation.util.nest.js.map","sourcesContent":["'use strict';\n\nimport $ from 'jquery';\n\nconst Nest = {\n  Feather(menu, type = 'zf') {\n    menu.attr('role', 'menubar');\n\n    var items = menu.find('li').attr({'role': 'menuitem'}),\n        subMenuClass = `is-${type}-submenu`,\n        subItemClass = `${subMenuClass}-item`,\n        hasSubClass = `is-${type}-submenu-parent`,\n        applyAria = (type !== 'accordion'); // Accordions handle their own ARIA attriutes.\n\n    items.each(function() {\n      var $item = $(this),\n          $sub = $item.children('ul');\n\n      if ($sub.length) {\n        $item.addClass(hasSubClass);\n        $sub.addClass(`submenu ${subMenuClass}`).attr({'data-submenu': ''});\n        if(applyAria) {\n          $item.attr({\n            'aria-haspopup': true,\n            'aria-label': $item.children('a:first').text()\n          });\n          // Note:  Drilldowns behave differently in how they hide, and so need\n          // additional attributes.  We should look if this possibly over-generalized\n          // utility (Nest) is appropriate when we rework menus in 6.4\n          if(type === 'drilldown') {\n            $item.attr({'aria-expanded': false});\n          }\n        }\n        $sub\n          .addClass(`submenu ${subMenuClass}`)\n          .attr({\n            'data-submenu': '',\n            'role': 'menu'\n          });\n        if(type === 'drilldown') {\n          $sub.attr({'aria-hidden': true});\n        }\n      }\n\n      if ($item.parent('[data-submenu]').length) {\n        $item.addClass(`is-submenu-item ${subItemClass}`);\n      }\n    });\n\n    return;\n  },\n\n  Burn(menu, type) {\n    var //items = menu.find('li'),\n        subMenuClass = `is-${type}-submenu`,\n        subItemClass = `${subMenuClass}-item`,\n        hasSubClass = `is-${type}-submenu-parent`;\n\n    menu\n      .find('>li, .menu, .menu > li')\n      .removeClass(`${subMenuClass} ${subItemClass} ${hasSubClass} is-submenu-item submenu is-active`)\n      .removeAttr('data-submenu').css('display', '');\n\n  }\n}\n\nexport {Nest};\n"]},"hash":"c1dccf9b90a3fc7e4ae99c65f2890df79dc8ce23"}
