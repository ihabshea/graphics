{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"jquery","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"$"}]},{"source":"./foundation.util.mediaQuery","imported":["MediaQuery"],"specifiers":[{"kind":"named","imported":"MediaQuery","local":"MediaQuery"}]},{"source":"./foundation.util.core","imported":["GetYoDigits"],"specifiers":[{"kind":"named","imported":"GetYoDigits","local":"GetYoDigits"}]},{"source":"./foundation.plugin","imported":["Plugin"],"specifiers":[{"kind":"named","imported":"Plugin","local":"Plugin"}]},{"source":"./foundation.accordion","imported":["Accordion"],"specifiers":[{"kind":"named","imported":"Accordion","local":"Accordion"}]},{"source":"./foundation.tabs","imported":["Tabs"],"specifiers":[{"kind":"named","imported":"Tabs","local":"Tabs"}]}],"exports":{"exported":["ResponsiveAccordionTabs"],"specifiers":[{"kind":"local","local":"ResponsiveAccordionTabs","exported":"ResponsiveAccordionTabs"}]}}},"options":{"filename":"packages/zurb:foundation-sites/js/foundation.responsiveAccordionTabs.js","filenameRelative":"packages/zurb:foundation-sites/js/foundation.responsiveAccordionTabs.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/js/foundation.responsiveAccordionTabs.js.map","sourceFileName":"packages/zurb:foundation-sites/js/foundation.responsiveAccordionTabs.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"foundation.responsiveAccordionTabs"},"ignored":false,"code":"'use strict';\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar module1 = module;\nmodule1.export({\n  ResponsiveAccordionTabs: function () {\n    return ResponsiveAccordionTabs;\n  }\n});\nvar $ = void 0;\nmodule1.watch(require(\"jquery\"), {\n  \"default\": function (v) {\n    $ = v;\n  }\n}, 0);\nvar MediaQuery = void 0;\nmodule1.watch(require(\"./foundation.util.mediaQuery\"), {\n  MediaQuery: function (v) {\n    MediaQuery = v;\n  }\n}, 1);\nvar GetYoDigits = void 0;\nmodule1.watch(require(\"./foundation.util.core\"), {\n  GetYoDigits: function (v) {\n    GetYoDigits = v;\n  }\n}, 2);\nvar Plugin = void 0;\nmodule1.watch(require(\"./foundation.plugin\"), {\n  Plugin: function (v) {\n    Plugin = v;\n  }\n}, 3);\nvar Accordion = void 0;\nmodule1.watch(require(\"./foundation.accordion\"), {\n  Accordion: function (v) {\n    Accordion = v;\n  }\n}, 4);\nvar Tabs = void 0;\nmodule1.watch(require(\"./foundation.tabs\"), {\n  Tabs: function (v) {\n    Tabs = v;\n  }\n}, 5);\n// The plugin matches the plugin classes with these plugin instances.\nvar MenuPlugins = {\n  tabs: {\n    cssClass: 'tabs',\n    plugin: Tabs\n  },\n  accordion: {\n    cssClass: 'accordion',\n    plugin: Accordion\n  }\n}; /**\n    * ResponsiveAccordionTabs module.\n    * @module foundation.responsiveAccordionTabs\n    * @requires foundation.util.motion\n    * @requires foundation.accordion\n    * @requires foundation.tabs\n    */\n\nvar ResponsiveAccordionTabs = function (_Plugin) {\n  (0, _inherits3.default)(ResponsiveAccordionTabs, _Plugin);\n\n  function ResponsiveAccordionTabs() {\n    (0, _classCallCheck3.default)(this, ResponsiveAccordionTabs);\n    return (0, _possibleConstructorReturn3.default)(this, _Plugin.apply(this, arguments));\n  }\n\n  /**\n   * Creates a new instance of a responsive accordion tabs.\n   * @class\n   * @name ResponsiveAccordionTabs\n   * @fires ResponsiveAccordionTabs#init\n   * @param {jQuery} element - jQuery object to make into Responsive Accordion Tabs.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */ResponsiveAccordionTabs.prototype._setup = function () {\n    function _setup(element, options) {\n      this.$element = $(element);\n      this.options = $.extend({}, this.$element.data(), options);\n      this.rules = this.$element.data('responsive-accordion-tabs');\n      this.currentMq = null;\n      this.currentPlugin = null;\n      this.className = 'ResponsiveAccordionTabs'; // ie9 back compat\n\n      if (!this.$element.attr('id')) {\n        this.$element.attr('id', GetYoDigits(6, 'responsiveaccordiontabs'));\n      }\n\n      ;\n\n      this._init();\n\n      this._events();\n    }\n\n    return _setup;\n  }(); /**\n        * Initializes the Menu by parsing the classes from the 'data-responsive-accordion-tabs' attribute on the element.\n        * @function\n        * @private\n        */\n\n  ResponsiveAccordionTabs.prototype._init = function () {\n    function _init() {\n      MediaQuery._init(); // The first time an Interchange plugin is initialized, this.rules is converted from a string of \"classes\" to an object of rules\n\n\n      if (typeof this.rules === 'string') {\n        var rulesTree = {}; // Parse rules from \"classes\" pulled from data attribute\n\n        var rules = this.rules.split(' '); // Iterate through every rule found\n\n        for (var i = 0; i < rules.length; i++) {\n          var rule = rules[i].split('-');\n          var ruleSize = rule.length > 1 ? rule[0] : 'small';\n          var rulePlugin = rule.length > 1 ? rule[1] : rule[0];\n\n          if (MenuPlugins[rulePlugin] !== null) {\n            rulesTree[ruleSize] = MenuPlugins[rulePlugin];\n          }\n        }\n\n        this.rules = rulesTree;\n      }\n\n      this._getAllOptions();\n\n      if (!$.isEmptyObject(this.rules)) {\n        this._checkMediaQueries();\n      }\n    }\n\n    return _init;\n  }();\n\n  ResponsiveAccordionTabs.prototype._getAllOptions = function () {\n    function _getAllOptions() {\n      //get all defaults and options\n      var _this = this;\n\n      _this.allOptions = {};\n\n      for (var key in meteorBabelHelpers.sanitizeForInObject(MenuPlugins)) {\n        if (MenuPlugins.hasOwnProperty(key)) {\n          var obj = MenuPlugins[key];\n\n          try {\n            var dummyPlugin = $('<ul></ul>');\n            var tmpPlugin = new obj.plugin(dummyPlugin, _this.options);\n\n            for (var keyKey in meteorBabelHelpers.sanitizeForInObject(tmpPlugin.options)) {\n              if (tmpPlugin.options.hasOwnProperty(keyKey) && keyKey !== 'zfPlugin') {\n                var objObj = tmpPlugin.options[keyKey];\n                _this.allOptions[keyKey] = objObj;\n              }\n            }\n\n            tmpPlugin.destroy();\n          } catch (e) {}\n        }\n      }\n    }\n\n    return _getAllOptions;\n  }(); /**\n        * Initializes events for the Menu.\n        * @function\n        * @private\n        */\n\n  ResponsiveAccordionTabs.prototype._events = function () {\n    function _events() {\n      var _this = this;\n\n      $(window).on('changed.zf.mediaquery', function () {\n        _this._checkMediaQueries();\n      });\n    }\n\n    return _events;\n  }(); /**\n        * Checks the current screen width against available media queries. If the media query has changed, and the plugin needed has changed, the plugins will swap out.\n        * @function\n        * @private\n        */\n\n  ResponsiveAccordionTabs.prototype._checkMediaQueries = function () {\n    function _checkMediaQueries() {\n      var matchedMq,\n          _this = this; // Iterate through each rule and find the last matching rule\n\n\n      $.each(this.rules, function (key) {\n        if (MediaQuery.atLeast(key)) {\n          matchedMq = key;\n        }\n      }); // No match? No dice\n\n      if (!matchedMq) return; // Plugin already initialized? We good\n\n      if (this.currentPlugin instanceof this.rules[matchedMq].plugin) return; // Remove existing plugin-specific CSS classes\n\n      $.each(MenuPlugins, function (key, value) {\n        _this.$element.removeClass(value.cssClass);\n      }); // Add the CSS class for the new plugin\n\n      this.$element.addClass(this.rules[matchedMq].cssClass); // Create an instance of the new plugin\n\n      if (this.currentPlugin) {\n        //don't know why but on nested elements data zfPlugin get's lost\n        if (!this.currentPlugin.$element.data('zfPlugin') && this.storezfData) this.currentPlugin.$element.data('zfPlugin', this.storezfData);\n        this.currentPlugin.destroy();\n      }\n\n      this._handleMarkup(this.rules[matchedMq].cssClass);\n\n      this.currentPlugin = new this.rules[matchedMq].plugin(this.$element, {});\n      this.storezfData = this.currentPlugin.$element.data('zfPlugin');\n    }\n\n    return _checkMediaQueries;\n  }();\n\n  ResponsiveAccordionTabs.prototype._handleMarkup = function () {\n    function _handleMarkup(toSet) {\n      var _this = this,\n          fromString = 'accordion';\n\n      var $panels = $('[data-tabs-content=' + this.$element.attr('id') + ']');\n      if ($panels.length) fromString = 'tabs';\n\n      if (fromString === toSet) {\n        return;\n      }\n\n      ;\n      var tabsTitle = _this.allOptions.linkClass ? _this.allOptions.linkClass : 'tabs-title';\n      var tabsPanel = _this.allOptions.panelClass ? _this.allOptions.panelClass : 'tabs-panel';\n      this.$element.removeAttr('role');\n      var $liHeads = this.$element.children('.' + tabsTitle + ',[data-accordion-item]').removeClass(tabsTitle).removeClass('accordion-item').removeAttr('data-accordion-item');\n      var $liHeadsA = $liHeads.children('a').removeClass('accordion-title');\n\n      if (fromString === 'tabs') {\n        $panels = $panels.children('.' + tabsPanel).removeClass(tabsPanel).removeAttr('role').removeAttr('aria-hidden').removeAttr('aria-labelledby');\n        $panels.children('a').removeAttr('role').removeAttr('aria-controls').removeAttr('aria-selected');\n      } else {\n        $panels = $liHeads.children('[data-tab-content]').removeClass('accordion-content');\n      }\n\n      ;\n      $panels.css({\n        display: '',\n        visibility: ''\n      });\n      $liHeads.css({\n        display: '',\n        visibility: ''\n      });\n\n      if (toSet === 'accordion') {\n        $panels.each(function (key, value) {\n          $(value).appendTo($liHeads.get(key)).addClass('accordion-content').attr('data-tab-content', '').removeClass('is-active').css({\n            height: ''\n          });\n          $('[data-tabs-content=' + _this.$element.attr('id') + ']').after('<div id=\"tabs-placeholder-' + _this.$element.attr('id') + '\"></div>').detach();\n          $liHeads.addClass('accordion-item').attr('data-accordion-item', '');\n          $liHeadsA.addClass('accordion-title');\n        });\n      } else if (toSet === 'tabs') {\n        var $tabsContent = $('[data-tabs-content=' + _this.$element.attr('id') + ']');\n        var $placeholder = $('#tabs-placeholder-' + _this.$element.attr('id'));\n\n        if ($placeholder.length) {\n          $tabsContent = $('<div class=\"tabs-content\"></div>').insertAfter($placeholder).attr('data-tabs-content', _this.$element.attr('id'));\n          $placeholder.remove();\n        } else {\n          $tabsContent = $('<div class=\"tabs-content\"></div>').insertAfter(_this.$element).attr('data-tabs-content', _this.$element.attr('id'));\n        }\n\n        ;\n        $panels.each(function (key, value) {\n          var tempValue = $(value).appendTo($tabsContent).addClass(tabsPanel);\n          var hash = $liHeadsA.get(key).hash.slice(1);\n          var id = $(value).attr('id') || GetYoDigits(6, 'accordion');\n\n          if (hash !== id) {\n            if (hash !== '') {\n              $(value).attr('id', hash);\n            } else {\n              hash = id;\n              $(value).attr('id', hash);\n              $($liHeadsA.get(key)).attr('href', $($liHeadsA.get(key)).attr('href').replace('#', '') + '#' + hash);\n            }\n\n            ;\n          }\n\n          ;\n          var isActive = $($liHeads.get(key)).hasClass('is-active');\n\n          if (isActive) {\n            tempValue.addClass('is-active');\n          }\n\n          ;\n        });\n        $liHeads.addClass(tabsTitle);\n      }\n\n      ;\n    }\n\n    return _handleMarkup;\n  }(); /**\n        * Destroys the instance of the current plugin on this element, as well as the window resize handler that switches the plugins out.\n        * @function\n        */\n\n  ResponsiveAccordionTabs.prototype._destroy = function () {\n    function _destroy() {\n      if (this.currentPlugin) this.currentPlugin.destroy();\n      $(window).off('.zf.ResponsiveAccordionTabs');\n    }\n\n    return _destroy;\n  }();\n\n  return ResponsiveAccordionTabs;\n}(Plugin);\n\nResponsiveAccordionTabs.defaults = {};","map":{"version":3,"sources":["packages/zurb:foundation-sites/js/foundation.responsiveAccordionTabs.js"],"names":["module1","module","export","ResponsiveAccordionTabs","$","watch","require","v","MediaQuery","GetYoDigits","Plugin","Accordion","Tabs","MenuPlugins","tabs","cssClass","plugin","accordion","_setup","element","options","$element","extend","data","rules","currentMq","currentPlugin","className","attr","_init","_events","rulesTree","split","i","length","rule","ruleSize","rulePlugin","_getAllOptions","isEmptyObject","_checkMediaQueries","_this","allOptions","key","hasOwnProperty","obj","dummyPlugin","tmpPlugin","keyKey","objObj","destroy","e","window","on","matchedMq","each","atLeast","value","removeClass","addClass","storezfData","_handleMarkup","toSet","fromString","$panels","tabsTitle","linkClass","tabsPanel","panelClass","removeAttr","$liHeads","children","$liHeadsA","css","display","visibility","appendTo","get","height","after","detach","$tabsContent","$placeholder","insertAfter","remove","tempValue","hash","slice","id","replace","isActive","hasClass","_destroy","off","defaults"],"mappings":"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","file":"packages/zurb:foundation-sites/js/foundation.responsiveAccordionTabs.js.map","sourcesContent":["'use strict';\n\nimport $ from 'jquery';\nimport { MediaQuery } from './foundation.util.mediaQuery';\nimport { GetYoDigits } from './foundation.util.core';\nimport { Plugin }from './foundation.plugin';\n\nimport { Accordion } from './foundation.accordion';\nimport { Tabs } from './foundation.tabs';\n\n// The plugin matches the plugin classes with these plugin instances.\nvar MenuPlugins = {\n  tabs: {\n    cssClass: 'tabs',\n    plugin: Tabs\n  },\n  accordion: {\n    cssClass: 'accordion',\n    plugin: Accordion\n  }\n};\n\n\n/**\n * ResponsiveAccordionTabs module.\n * @module foundation.responsiveAccordionTabs\n * @requires foundation.util.motion\n * @requires foundation.accordion\n * @requires foundation.tabs\n */\n\nclass ResponsiveAccordionTabs extends Plugin{\n  /**\n   * Creates a new instance of a responsive accordion tabs.\n   * @class\n   * @name ResponsiveAccordionTabs\n   * @fires ResponsiveAccordionTabs#init\n   * @param {jQuery} element - jQuery object to make into Responsive Accordion Tabs.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n  _setup(element, options) {\n    this.$element = $(element);\n    this.options  = $.extend({}, this.$element.data(), options);\n    this.rules = this.$element.data('responsive-accordion-tabs');\n    this.currentMq = null;\n    this.currentPlugin = null;\n    this.className = 'ResponsiveAccordionTabs'; // ie9 back compat\n    if (!this.$element.attr('id')) {\n      this.$element.attr('id',GetYoDigits(6, 'responsiveaccordiontabs'));\n    };\n\n    this._init();\n    this._events();\n  }\n\n  /**\n   * Initializes the Menu by parsing the classes from the 'data-responsive-accordion-tabs' attribute on the element.\n   * @function\n   * @private\n   */\n  _init() {\n    MediaQuery._init();\n\n    // The first time an Interchange plugin is initialized, this.rules is converted from a string of \"classes\" to an object of rules\n    if (typeof this.rules === 'string') {\n      let rulesTree = {};\n\n      // Parse rules from \"classes\" pulled from data attribute\n      let rules = this.rules.split(' ');\n\n      // Iterate through every rule found\n      for (let i = 0; i < rules.length; i++) {\n        let rule = rules[i].split('-');\n        let ruleSize = rule.length > 1 ? rule[0] : 'small';\n        let rulePlugin = rule.length > 1 ? rule[1] : rule[0];\n\n        if (MenuPlugins[rulePlugin] !== null) {\n          rulesTree[ruleSize] = MenuPlugins[rulePlugin];\n        }\n      }\n\n      this.rules = rulesTree;\n    }\n\n    this._getAllOptions();\n\n    if (!$.isEmptyObject(this.rules)) {\n      this._checkMediaQueries();\n    }\n  }\n\n  _getAllOptions() {\n    //get all defaults and options\n    var _this = this;\n    _this.allOptions = {};\n    for (var key in MenuPlugins) {\n      if (MenuPlugins.hasOwnProperty(key)) {\n        var obj = MenuPlugins[key];\n        try {\n          var dummyPlugin = $('<ul></ul>');\n          var tmpPlugin = new obj.plugin(dummyPlugin,_this.options);\n          for (var keyKey in tmpPlugin.options) {\n            if (tmpPlugin.options.hasOwnProperty(keyKey) && keyKey !== 'zfPlugin') {\n              var objObj = tmpPlugin.options[keyKey];\n              _this.allOptions[keyKey] = objObj;\n            }\n          }\n          tmpPlugin.destroy();\n        }\n        catch(e) {\n        }\n      }\n    }\n  }\n\n  /**\n   * Initializes events for the Menu.\n   * @function\n   * @private\n   */\n  _events() {\n    var _this = this;\n\n    $(window).on('changed.zf.mediaquery', function() {\n      _this._checkMediaQueries();\n    });\n  }\n\n  /**\n   * Checks the current screen width against available media queries. If the media query has changed, and the plugin needed has changed, the plugins will swap out.\n   * @function\n   * @private\n   */\n  _checkMediaQueries() {\n    var matchedMq, _this = this;\n    // Iterate through each rule and find the last matching rule\n    $.each(this.rules, function(key) {\n      if (MediaQuery.atLeast(key)) {\n        matchedMq = key;\n      }\n    });\n\n    // No match? No dice\n    if (!matchedMq) return;\n\n    // Plugin already initialized? We good\n    if (this.currentPlugin instanceof this.rules[matchedMq].plugin) return;\n\n    // Remove existing plugin-specific CSS classes\n    $.each(MenuPlugins, function(key, value) {\n      _this.$element.removeClass(value.cssClass);\n    });\n\n    // Add the CSS class for the new plugin\n    this.$element.addClass(this.rules[matchedMq].cssClass);\n\n    // Create an instance of the new plugin\n    if (this.currentPlugin) {\n      //don't know why but on nested elements data zfPlugin get's lost\n      if (!this.currentPlugin.$element.data('zfPlugin') && this.storezfData) this.currentPlugin.$element.data('zfPlugin',this.storezfData);\n      this.currentPlugin.destroy();\n    }\n    this._handleMarkup(this.rules[matchedMq].cssClass);\n    this.currentPlugin = new this.rules[matchedMq].plugin(this.$element, {});\n    this.storezfData = this.currentPlugin.$element.data('zfPlugin');\n\n  }\n\n  _handleMarkup(toSet){\n    var _this = this, fromString = 'accordion';\n    var $panels = $('[data-tabs-content='+this.$element.attr('id')+']');\n    if ($panels.length) fromString = 'tabs';\n    if (fromString === toSet) {\n      return;\n    };\n\n    var tabsTitle = _this.allOptions.linkClass?_this.allOptions.linkClass:'tabs-title';\n    var tabsPanel = _this.allOptions.panelClass?_this.allOptions.panelClass:'tabs-panel';\n\n    this.$element.removeAttr('role');\n    var $liHeads = this.$element.children('.'+tabsTitle+',[data-accordion-item]').removeClass(tabsTitle).removeClass('accordion-item').removeAttr('data-accordion-item');\n    var $liHeadsA = $liHeads.children('a').removeClass('accordion-title');\n\n    if (fromString === 'tabs') {\n      $panels = $panels.children('.'+tabsPanel).removeClass(tabsPanel).removeAttr('role').removeAttr('aria-hidden').removeAttr('aria-labelledby');\n      $panels.children('a').removeAttr('role').removeAttr('aria-controls').removeAttr('aria-selected');\n    }else{\n      $panels = $liHeads.children('[data-tab-content]').removeClass('accordion-content');\n    };\n\n    $panels.css({display:'',visibility:''});\n    $liHeads.css({display:'',visibility:''});\n    if (toSet === 'accordion') {\n      $panels.each(function(key,value){\n        $(value).appendTo($liHeads.get(key)).addClass('accordion-content').attr('data-tab-content','').removeClass('is-active').css({height:''});\n        $('[data-tabs-content='+_this.$element.attr('id')+']').after('<div id=\"tabs-placeholder-'+_this.$element.attr('id')+'\"></div>').detach();\n        $liHeads.addClass('accordion-item').attr('data-accordion-item','');\n        $liHeadsA.addClass('accordion-title');\n      });\n    }else if (toSet === 'tabs'){\n      var $tabsContent = $('[data-tabs-content='+_this.$element.attr('id')+']');\n      var $placeholder = $('#tabs-placeholder-'+_this.$element.attr('id'));\n      if ($placeholder.length) {\n        $tabsContent = $('<div class=\"tabs-content\"></div>').insertAfter($placeholder).attr('data-tabs-content',_this.$element.attr('id'));\n        $placeholder.remove();\n      }else{\n        $tabsContent = $('<div class=\"tabs-content\"></div>').insertAfter(_this.$element).attr('data-tabs-content',_this.$element.attr('id'));\n      };\n      $panels.each(function(key,value){\n        var tempValue = $(value).appendTo($tabsContent).addClass(tabsPanel);\n        var hash = $liHeadsA.get(key).hash.slice(1);\n        var id = $(value).attr('id') || GetYoDigits(6, 'accordion');\n        if (hash !== id) {\n          if (hash !== '') {\n            $(value).attr('id',hash);\n          }else{\n            hash = id;\n            $(value).attr('id',hash);\n            $($liHeadsA.get(key)).attr('href',$($liHeadsA.get(key)).attr('href').replace('#','')+'#'+hash);\n          };\n        };\n        var isActive = $($liHeads.get(key)).hasClass('is-active');\n        if (isActive) {\n          tempValue.addClass('is-active');\n        };\n      });\n      $liHeads.addClass(tabsTitle);\n    };\n  }\n\n  /**\n   * Destroys the instance of the current plugin on this element, as well as the window resize handler that switches the plugins out.\n   * @function\n   */\n  _destroy() {\n    if (this.currentPlugin) this.currentPlugin.destroy();\n    $(window).off('.zf.ResponsiveAccordionTabs');\n  }\n}\n\nResponsiveAccordionTabs.defaults = {};\n\nexport {ResponsiveAccordionTabs};\n"]},"hash":"86e96d75ce5c43a41469a7c868e55d4f0767358e"}
