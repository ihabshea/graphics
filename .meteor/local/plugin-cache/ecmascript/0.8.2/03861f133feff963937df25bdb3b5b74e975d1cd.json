{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/zurb:foundation-sites/gulp/tasks/javascript.js","filenameRelative":"packages/zurb:foundation-sites/gulp/tasks/javascript.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zurb:foundation-sites/gulp/tasks/javascript.js.map","sourceFileName":"packages/zurb:foundation-sites/gulp/tasks/javascript.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"javascript"},"ignored":false,"code":"var gulp = require('gulp');\n\nvar concat = require('gulp-concat');\n\nvar babel = require('gulp-babel');\n\nvar onBabelError = require('./babel-error.js');\n\nvar rename = require('gulp-rename');\n\nvar webpackStream = require('webpack-stream');\n\nvar webpack2 = require('webpack');\n\nvar named = require('vinyl-named');\n\nvar CONFIG = require('../config.js'); // Compiles JavaScript into a single file\n\n\ngulp.task('javascript', ['javascript:foundation', 'javascript:deps', 'javascript:docs']); // NOTE: This sets up all imports from within Foundation as externals, for the purpose\n// of replicating the \"drop in dist file\" approach of prior versions.\n// THIS IS NOT RECOMMENDED FOR MOST USERS. Chances are you either want everything\n// (just throw in foundation.js or foundation.min.js) or you should be using a build\n// system.\n\nvar pluginsAsExternals = {\n  'jquery': 'jQuery',\n  './foundation.core': '{Foundation: window.Foundation}',\n  './foundation.util.core': '{rtl: window.Foundation.rtl, GetYoDigits: window.Foundation.GetYoDigits, transitionend: window.Foundation.transitionend}',\n  './foundation.util.imageLoader': '{onImagesLoaded: window.Foundation.onImagesLoaded}',\n  './foundation.util.keyboard': '{Keyboard: window.Foundation.Keyboard}',\n  './foundation.util.mediaQuery': '{MediaQuery: window.Foundation.MediaQuery}',\n  './foundation.util.motion': '{Motion: window.Foundation.Motion, Move: window.Foundation.Move}',\n  './foundation.util.nest': '{Nest: window.Foundation.Nest}',\n  './foundation.util.timer': '{Timer: window.Foundation.Timer}',\n  './foundation.util.touch': '{Touch: window.Foundation.Touch}',\n  './foundation.util.box': '{Box: window.Foundation.Box}',\n  './foundation.plugin': '{Plugin: window.Foundation.Plugin}',\n  './foundation.dropdownMenu': '{DropdownMenu: window.Foundation.DropdownMenu}',\n  './foundation.drilldown': '{Drilldown: window.Foundation.Drilldown}',\n  './foundation.accordionMenu': '{AccordionMenu: window.Foundation.AccordionMenu}',\n  './foundation.accordion': '{Accordion: window.Foundation.Accordion}',\n  './foundation.tabs': '{Tabs: window.Foundation.Tabs}',\n  './foundation.smoothScroll': '{SmoothScroll: window.Foundation.SmoothScroll}'\n};\nvar moduleConfig = {\n  rules: [{\n    test: /.js$/,\n    use: [{\n      loader: 'babel-loader'\n    }]\n  }] // Core has to be dealt with slightly differently due to bootstrapping externals\n  // and the dependency on foundation.util.core\n  //\n\n};\ngulp.task('javascript:plugin-core', function () {\n  return gulp.src('js/entries/plugins/foundation.core.js').pipe(named()).pipe(webpackStream({\n    externals: {\n      'jquery': 'jQuery'\n    },\n    module: moduleConfig\n  }, webpack2)).pipe(gulp.dest('_build/assets/js/plugins'));\n});\ngulp.task('javascript:plugins', ['javascript:plugin-core'], function () {\n  return gulp.src(['js/entries/plugins/*.js', '!js/entries/plugins/foundation.core.js']).pipe(named()).pipe(webpackStream({\n    externals: pluginsAsExternals,\n    module: moduleConfig\n  }, webpack2)).pipe(gulp.dest('_build/assets/js/plugins'));\n});\ngulp.task('javascript:foundation', ['javascript:plugins'], function () {\n  return gulp.src('js/entries/foundation.js').pipe(named()).pipe(webpackStream({\n    externals: {\n      jquery: 'jQuery'\n    },\n    module: moduleConfig\n  }, webpack2)).pipe(gulp.dest('_build/assets/js'));\n}); //gulp.task('javascript:foundation', function() {\n//  return gulp.src(CONFIG.JS_FILES)\n//    .pipe(babel()\n//      .on('error', onBabelError))\n//    .pipe(gulp.dest('_build/assets/js/plugins'))\n//    .pipe(concat('foundation.js'))\n//    .pipe(gulp.dest('_build/assets/js'));\n//});\n\ngulp.task('javascript:deps', function () {\n  return gulp.src(CONFIG.JS_DEPS).pipe(concat('vendor.js')).pipe(gulp.dest('_build/assets/js'));\n});\ngulp.task('javascript:docs', function () {\n  return gulp.src(CONFIG.JS_DOCS).pipe(concat('docs.js')).pipe(gulp.dest('_build/assets/js'));\n});","map":{"version":3,"sources":["packages/zurb:foundation-sites/gulp/tasks/javascript.js"],"names":["gulp","require","concat","babel","onBabelError","rename","webpackStream","webpack2","named","CONFIG","task","pluginsAsExternals","moduleConfig","rules","test","use","loader","src","pipe","externals","module","dest","jquery","JS_DEPS","JS_DOCS"],"mappings":"AAAA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;;AACA,IAAIC,SAASD,QAAQ,aAAR,CAAb;;AACA,IAAIE,QAAQF,QAAQ,YAAR,CAAZ;;AACA,IAAIG,eAAeH,QAAQ,kBAAR,CAAnB;;AACA,IAAII,SAASJ,QAAQ,aAAR,CAAb;;AACA,IAAIK,gBAAgBL,QAAQ,gBAAR,CAApB;;AACA,IAAIM,WAAWN,QAAQ,SAAR,CAAf;;AACA,IAAIO,QAAQP,QAAQ,aAAR,CAAZ;;AAEA,IAAIQ,SAASR,QAAQ,cAAR,CAAb,C,CAEA;;;AACAD,KAAKU,IAAL,CAAU,YAAV,EAAwB,CAAC,uBAAD,EAA0B,iBAA1B,EAA6C,iBAA7C,CAAxB,E,CAEA;AACA;AACA;AACA;AACA;;AACA,IAAIC,qBAAqB;AACvB,YAAU,QADa;AAEvB,uBAAqB,iCAFE;AAGvB,4BAA2B,0HAHJ;AAIvB,mCAAkC,oDAJX;AAKvB,gCAA+B,wCALR;AAMvB,kCAAiC,4CANV;AAOvB,8BAA6B,kEAPN;AAQvB,4BAA2B,gCARJ;AASvB,6BAA4B,kCATL;AAUvB,6BAA4B,kCAVL;AAWvB,2BAA0B,8BAXH;AAYvB,yBAAwB,oCAZD;AAavB,+BAA8B,gDAbP;AAcvB,4BAA2B,0CAdJ;AAevB,gCAA+B,kDAfR;AAgBvB,4BAA2B,0CAhBJ;AAiBvB,uBAAsB,gCAjBC;AAkBvB,+BAA8B;AAlBP,CAAzB;AAqBA,IAAIC,eAAe;AACjBC,SAAO,CACL;AACEC,UAAM,MADR;AAEEC,SAAK,CACH;AACEC,cAAQ;AADV,KADG;AAFP,GADK,CADU,CAanB;AACA;AACA;;AAfmB,CAAnB;AAgBAhB,KAAKU,IAAL,CAAU,wBAAV,EAAoC,YAAW;AAC7C,SAAOV,KAAKiB,GAAL,CAAS,uCAAT,EACJC,IADI,CACCV,OADD,EAEJU,IAFI,CAECZ,cAAc;AAACa,eAAW;AAAC,gBAAU;AAAX,KAAZ;AAAkCC,YAAQR;AAA1C,GAAd,EAAuEL,QAAvE,CAFD,EAGJW,IAHI,CAGClB,KAAKqB,IAAL,CAAU,0BAAV,CAHD,CAAP;AAID,CALD;AAMArB,KAAKU,IAAL,CAAU,oBAAV,EAAgC,CAAC,wBAAD,CAAhC,EAA4D,YAAW;AACrE,SAAOV,KAAKiB,GAAL,CAAS,CAAC,yBAAD,EAA4B,wCAA5B,CAAT,EACJC,IADI,CACCV,OADD,EAEJU,IAFI,CAECZ,cAAc;AAACa,eAAWR,kBAAZ;AAAgCS,YAAQR;AAAxC,GAAd,EAAqEL,QAArE,CAFD,EAGJW,IAHI,CAGClB,KAAKqB,IAAL,CAAU,0BAAV,CAHD,CAAP;AAID,CALD;AAOArB,KAAKU,IAAL,CAAU,uBAAV,EAAmC,CAAC,oBAAD,CAAnC,EAA2D,YAAW;AACpE,SAAOV,KAAKiB,GAAL,CAAS,0BAAT,EACJC,IADI,CACCV,OADD,EAEJU,IAFI,CAECZ,cAAc;AAACa,eAAW;AAACG,cAAQ;AAAT,KAAZ;AAAgCF,YAAQR;AAAxC,GAAd,EAAqEL,QAArE,CAFD,EAGJW,IAHI,CAGClB,KAAKqB,IAAL,CAAU,kBAAV,CAHD,CAAP;AAID,CALD,E,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEArB,KAAKU,IAAL,CAAU,iBAAV,EAA6B,YAAW;AACtC,SAAOV,KAAKiB,GAAL,CAASR,OAAOc,OAAhB,EACJL,IADI,CACChB,OAAO,WAAP,CADD,EAEJgB,IAFI,CAEClB,KAAKqB,IAAL,CAAU,kBAAV,CAFD,CAAP;AAGD,CAJD;AAMArB,KAAKU,IAAL,CAAU,iBAAV,EAA6B,YAAW;AACtC,SAAOV,KAAKiB,GAAL,CAASR,OAAOe,OAAhB,EACJN,IADI,CACChB,OAAO,SAAP,CADD,EAEJgB,IAFI,CAEClB,KAAKqB,IAAL,CAAU,kBAAV,CAFD,CAAP;AAGD,CAJD","file":"packages/zurb:foundation-sites/gulp/tasks/javascript.js.map","sourcesContent":["var gulp = require('gulp');\nvar concat = require('gulp-concat');\nvar babel = require('gulp-babel');\nvar onBabelError = require('./babel-error.js');\nvar rename = require('gulp-rename');\nvar webpackStream = require('webpack-stream');\nvar webpack2 = require('webpack');\nvar named = require('vinyl-named');\n\nvar CONFIG = require('../config.js');\n\n// Compiles JavaScript into a single file\ngulp.task('javascript', ['javascript:foundation', 'javascript:deps', 'javascript:docs']);\n\n// NOTE: This sets up all imports from within Foundation as externals, for the purpose\n// of replicating the \"drop in dist file\" approach of prior versions.\n// THIS IS NOT RECOMMENDED FOR MOST USERS. Chances are you either want everything\n// (just throw in foundation.js or foundation.min.js) or you should be using a build\n// system.\nvar pluginsAsExternals = {\n  'jquery': 'jQuery',\n  './foundation.core': '{Foundation: window.Foundation}',\n  './foundation.util.core' : '{rtl: window.Foundation.rtl, GetYoDigits: window.Foundation.GetYoDigits, transitionend: window.Foundation.transitionend}',\n  './foundation.util.imageLoader' : '{onImagesLoaded: window.Foundation.onImagesLoaded}',\n  './foundation.util.keyboard' : '{Keyboard: window.Foundation.Keyboard}',\n  './foundation.util.mediaQuery' : '{MediaQuery: window.Foundation.MediaQuery}',\n  './foundation.util.motion' : '{Motion: window.Foundation.Motion, Move: window.Foundation.Move}',\n  './foundation.util.nest' : '{Nest: window.Foundation.Nest}',\n  './foundation.util.timer' : '{Timer: window.Foundation.Timer}',\n  './foundation.util.touch' : '{Touch: window.Foundation.Touch}',\n  './foundation.util.box' : '{Box: window.Foundation.Box}',\n  './foundation.plugin' : '{Plugin: window.Foundation.Plugin}',\n  './foundation.dropdownMenu' : '{DropdownMenu: window.Foundation.DropdownMenu}',\n  './foundation.drilldown' : '{Drilldown: window.Foundation.Drilldown}',\n  './foundation.accordionMenu' : '{AccordionMenu: window.Foundation.AccordionMenu}',\n  './foundation.accordion' : '{Accordion: window.Foundation.Accordion}',\n  './foundation.tabs' : '{Tabs: window.Foundation.Tabs}',\n  './foundation.smoothScroll' : '{SmoothScroll: window.Foundation.SmoothScroll}',\n};\n\nvar moduleConfig = {\n  rules: [\n    {\n      test: /.js$/,\n      use: [\n        {\n          loader: 'babel-loader'\n        }\n      ]\n    }\n  ]\n}\n\n// Core has to be dealt with slightly differently due to bootstrapping externals\n// and the dependency on foundation.util.core\n//\ngulp.task('javascript:plugin-core', function() {\n  return gulp.src('js/entries/plugins/foundation.core.js')\n    .pipe(named())\n    .pipe(webpackStream({externals: {'jquery': 'jQuery'}, module: moduleConfig}, webpack2))\n    .pipe(gulp.dest('_build/assets/js/plugins'));\n});\ngulp.task('javascript:plugins', ['javascript:plugin-core'], function() {\n  return gulp.src(['js/entries/plugins/*.js', '!js/entries/plugins/foundation.core.js'])\n    .pipe(named())\n    .pipe(webpackStream({externals: pluginsAsExternals, module: moduleConfig}, webpack2))\n    .pipe(gulp.dest('_build/assets/js/plugins'));\n});\n\ngulp.task('javascript:foundation', ['javascript:plugins'], function() {\n  return gulp.src('js/entries/foundation.js')\n    .pipe(named())\n    .pipe(webpackStream({externals: {jquery: 'jQuery'}, module: moduleConfig}, webpack2))\n    .pipe(gulp.dest('_build/assets/js'));\n});\n//gulp.task('javascript:foundation', function() {\n//  return gulp.src(CONFIG.JS_FILES)\n//    .pipe(babel()\n//      .on('error', onBabelError))\n//    .pipe(gulp.dest('_build/assets/js/plugins'))\n//    .pipe(concat('foundation.js'))\n//    .pipe(gulp.dest('_build/assets/js'));\n//});\n\ngulp.task('javascript:deps', function() {\n  return gulp.src(CONFIG.JS_DEPS)\n    .pipe(concat('vendor.js'))\n    .pipe(gulp.dest('_build/assets/js'));\n});\n\ngulp.task('javascript:docs', function() {\n  return gulp.src(CONFIG.JS_DOCS)\n    .pipe(concat('docs.js'))\n    .pipe(gulp.dest('_build/assets/js'));\n});\n"]},"hash":"03861f133feff963937df25bdb3b5b74e975d1cd"}
